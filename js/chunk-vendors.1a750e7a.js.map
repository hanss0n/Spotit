{"version":3,"sources":["webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Label.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/PopupCSS.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Popup.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Iterator.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Color.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Keyboard.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Disposer.js","webpack:///./node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Cache.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/fills/RadialGradient.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/DataItem.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Dictionary.js","webpack:///./node_modules/core-js/internals/an-instance.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/interaction/InteractionObjectEvents.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack:///./node_modules/core-js/internals/engine-is-ios.js","webpack:///./node_modules/axios/lib/helpers/bind.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/Base.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Utils.js","webpack:///./node_modules/core-js/internals/iterate.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Validatable.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/axios/lib/defaults.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/Group.js","webpack:///./node_modules/core-js/internals/set-species.js","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/interaction/InteractionObject.js","webpack:///./node_modules/vue/dist/vue.runtime.esm.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Percent.js","webpack:///./node_modules/core-js/internals/task.js","webpack:///./node_modules/core-js/internals/engine-v8-version.js","webpack:///./node_modules/axios/lib/core/createError.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Line.js","webpack:///./node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/plugins/bullets/PointedCircle.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/plugins/bullets/PinBullet.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/plugins/bullets/FlagBullet.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/plugins/bullets/Star.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/plugins/bullets/ShapeBullet.js","webpack:///./node_modules/core-js/internals/engine-user-agent.js","webpack:///./node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/filters/Filter.js","webpack:///./node_modules/core-js/internals/a-possible-prototype.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Triangle.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/node-libs-browser/mock/process.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/plugins/forceDirected/ForceDirectedLink.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Grip.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/charts/Chart.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/charts/Legend.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/charts/series/Series.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/charts/types/SerialChart.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/plugins/forceDirected/ForceDirectedNode.js","webpack:///./node_modules/d3-force/src/center.js","webpack:///./node_modules/d3-quadtree/src/add.js","webpack:///./node_modules/d3-quadtree/src/cover.js","webpack:///./node_modules/d3-quadtree/src/data.js","webpack:///./node_modules/d3-quadtree/src/extent.js","webpack:///./node_modules/d3-quadtree/src/quad.js","webpack:///./node_modules/d3-quadtree/src/find.js","webpack:///./node_modules/d3-quadtree/src/remove.js","webpack:///./node_modules/d3-quadtree/src/root.js","webpack:///./node_modules/d3-quadtree/src/size.js","webpack:///./node_modules/d3-quadtree/src/visit.js","webpack:///./node_modules/d3-quadtree/src/visitAfter.js","webpack:///./node_modules/d3-quadtree/src/x.js","webpack:///./node_modules/d3-quadtree/src/y.js","webpack:///./node_modules/d3-quadtree/src/quadtree.js","webpack:///./node_modules/d3-force/src/constant.js","webpack:///./node_modules/d3-force/src/jiggle.js","webpack:///./node_modules/d3-force/src/collide.js","webpack:///./node_modules/d3-force/src/link.js","webpack:///./node_modules/d3-dispatch/src/dispatch.js","webpack:///./node_modules/d3-timer/src/timer.js","webpack:///./node_modules/d3-force/src/simulation.js","webpack:///./node_modules/d3-force/src/manyBody.js","webpack:///./node_modules/d3-force/src/x.js","webpack:///./node_modules/d3-force/src/y.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/plugins/forceDirected/ForceDirectedSeries.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/plugins/forceDirected/ForceDirectedTree.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/host-report-errors.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Net.js","webpack:///./node_modules/axios/lib/core/settle.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/ResizeButton.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Responsive.js","webpack:///./node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/export/ExportCSS.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/export/ExportMenu.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/interaction/Inertia.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/PointedShape.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/DOM.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/Options.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/interaction/Mouse.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/formatters/NumberFormatter.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/Sprite.js","webpack:///./node_modules/core-js/internals/object-assign.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/charts/elements/Bullet.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/formatters/DurationFormatter.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/data/JSONParser.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/String.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Array.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/AsyncPending.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Ellipse.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Image.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Polyline.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Polyarc.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Morpher.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Polygon.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Polyspline.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Slice.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Preloader.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/CloseButton.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/SwitchButton.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Slider.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/TextLink.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Trapezoid.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/WavedCircle.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/WavedLine.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/ZoomOutButton.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/PlayButton.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/fills/ColorModifier.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/fills/GradientModifier.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/fills/LinearGradientModifier.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/3d/Cone.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/filters/LightenFilter.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/3d/Rectangle3D.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/3d/Slice3D.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/fills/RadialGradientModifier.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/fills/LinePattern.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/fills/CirclePattern.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/fills/RectPattern.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/filters/ColorizeFilter.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/filters/DesaturateFilter.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/filters/BlurFilter.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/filters/FocusFilter.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/PatternSet.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Plugin.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/AmChartsLogo.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Instance.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/System.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Tooltip.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/Path.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/axios/lib/cancel/Cancel.js","webpack:///./node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/data/DataSource.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/internals/define-iterator.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/export/Export.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/WavedRectangle.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Browser.js","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/axios/lib/core/buildFullPath.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Time.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/Registry.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/Smoothing.js","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/SortedList.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/formatters/DateFormatter.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///./node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/fills/Pattern.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Type.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/formatters/TextFormatter.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/PointedRectangle.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/data/DataLoader.js","webpack:///./node_modules/core-js/internals/create-iterator-constructor.js","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Button.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Object.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Modal.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Adapter.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/modules/es.promise.finally.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/data/DataParser.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/SpriteState.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/filters/DropShadowFilter.js","webpack:///./node_modules/core-js/internals/iterators-core.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/data/CSVParser.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/core-js/internals/microtask.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Math.js","webpack:///./node_modules/axios/index.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/Container.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/InterfaceColorSet.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/Component.js","webpack:///./node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/axios/lib/utils.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Strings.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Log.js","webpack:///./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/AMElement.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Animation.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/Paper.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/modules/es.object.assign.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/fills/LinearGradient.js","webpack:///./node_modules/core-js/internals/promise-resolve.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/axios/lib/axios.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/core-js/internals/set-to-string-tag.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/RoundedRectangle.js","webpack:///./node_modules/@amcharts/amcharts4/lang/en.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Language.js","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/EventDispatcher.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Rectangle.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Colors.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/interaction/Interaction.js","webpack:///./node_modules/core-js/modules/es.array.iterator.js","webpack:///./node_modules/core-js/internals/redefine-all.js","webpack:///./node_modules/core-js/internals/perform.js","webpack:///./node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/defs/SVGDefaults.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/ResizeSensor.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/rendering/SVGContainer.js","webpack:///./node_modules/core-js/modules/es.promise.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Scrollbar.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Ease.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/ColorSet.js","webpack:///./node_modules/core-js/internals/new-promise-capability.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/elements/Circle.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/SpriteEvents.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/List.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/interaction/InteractionKeyboardObject.js","webpack:///./node_modules/core-js/internals/classof.js","webpack:///./node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Number.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Order.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/native-promise-constructor.js"],"names":["wellKnownSymbol","TO_STRING_TAG","test","module","exports","String","Label","_super","_this","call","this","isOversized","className","fill","getFor","wrap","truncate","fullWords","ellipsis","textAlign","textValign","layout","baseLineRatio","_positionPrecision","events","on","inited","handleMaxSize","once","handleValidate","applyTheme","prototype","afterDraw","validatePosition","setPaper","paper","changed","hardInvalidate","currentText","text","bbox","width","height","availableWidth","availableHeight","invalidate","alignSVGText","arrange","updateCurrentText","output","html","supportsForeignObject","toString","populateString","dataItem","_adapterO","apply","_currentFormat","_prevStatus","getLineBBox","lineInfo","element","node","parentNode","getBBox","draw","oldW","oldH","topParent","maxWidth","maxHeight","pixelPaddingLeft","pixelPaddingRight","pixelPaddingTop","pixelPaddingBottom","status","rtl","_measuredWidth","_measuredHeight","lines","split","display","group","getAttr","removeAttr","textPathElement","removeChildren","resetBBox","currentHeight","currentFormat","i","length","line","chunks","chunk","ignoreFormatting","currentLineHeight","firstChunk","skipTextChunks","getLineInfo","textContent","getSVGLineElement","add","x","complex","type","style","translateStyleShortcuts","tspan","getSvgElement","Math","ceil","lineText","avgCharWidth","excessChars","addEllipsis","node_1","childNodes","e","node_2","floor","elementText","maxChars","removeChild","node_3","lastNode","lastChild","splitLines","cleanUp","shift","restOfLine","join","replace","c","splice","attr","paddingBottom","addLineInfo","tempElement","offset","removeElement","lineInfo_1","maybeHideOversized","measureFailed","pixelWidth","pixelHeight","dispatch","hideUnused","fo","foreignObject","lineElement","getHTMLLineElement","appendChild","clientWidth","clientHeight","_bbox","y","overflow","setStyles","updateCenter","updateBackground","pathElement","appendDef","hideOversized","children","setAttribute","removeAttribute","getAttribute","addGroup","div","document","createElement","innerHTML","wordWrap","whiteSpace","direction","color","selectable","draggable","resizable","swipeable","addStyle","removeStyle","index","initLineCache","getCache","Object","defineProperty","get","getPropertyValue","set","value","setPropertyValue","enumerable","configurable","dispose","uid","_disposers","push","attrNS","measureElement","undefined","setCache","setDataItem","_sourceDataItemEvents","deepInvalidate","title","applyAccessibility","registeredClasses","relevant","heightXS","state","target","stateId","parent","isBaseSprite","states","create","properties","disabled","rules","Dictionary","prefix","cs","InterfaceColorSet","fg","bg","alpha","abg","counter","insertKeyIfEmpty","disposer","hex","rgba","removeKey","increment","Popup","adapter","Adapter","_elements","_IOs","_content","_title","_classPrefix","_defaultStyles","_showCurtain","_draggable","_align","_dynamicResize","_verticalAlign","_shift","_tempShift","_readerTitle","_closable","_cssLoaded","_fitTo","isTemplate","_sized","open","container","wrapper","curtain","showCurtain","positionElement","dispatchImmediately","close","parentElement","releasePointers","forceResize","setTimeout","opacity","left","top","margin","getBoundingClientRect","dynamicResize","images","getElementsByTagName","image","complete","addEventListener","align","right","marginLeft","toStyle","round","verticalAlign","bottom","marginTop","setupDragging","header","has","ev","unprepElement","off","content","createContentElement","getClassNames","wrapperClass","classPrefix","headerClass","titleClass","contentClass","insideClass","curtainClass","closeClass","classNames","getInteraction","disablePointers","visibility","defaultStyles","loadDefaultCSS","createCurtainElement","applyEvents","applyReaderSettings","_left","_right","_top","_bottom","key","el","closable","disposers","body","isKey","event","sprite","_spriteInteractionsEnabled","interactionsEnabled","elements","readerTitle","copyFrom","source","classPrefixRaw","Base","fromArray","array","toArray","iter","eachContinue","fn","each","sort","map","concat","args","_i","arguments","go","push2","flatten","indexed","contains","matches","ListIterator","list","createNewItems","_create","reset","_listCopy","iterator","clear","getFirst","returnItem","getLast","find","item","removeItem","aFunction","that","a","b","Color","_value","_lightColor","r","g","_darkColor","lighten","percent","rgb","brighten","saturate","saturation","darkColor","lightColor","Error","cacheId","cached","isColor","castColor","toColor","Keyboard","getEventKey","code","keyCode","which","eventKey","indexOf","shiftKey","ctrlKey","altKey","metaKey","keyboard","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toIndexedObject","toPrimitive","IE8_DOM_DEFINE","nativeGetOwnPropertyDescriptor","getOwnPropertyDescriptor","f","O","P","error","Disposer","_disposed","_dispose","isDisposed","MultiDisposer","MutableValueDisposer","_disposer","CounterDisposer","_counter","utils","buildURL","InterceptorManager","dispatchRequest","mergeConfig","Axios","instanceConfig","defaults","interceptors","request","response","config","url","method","toLowerCase","chain","promise","Promise","resolve","forEach","interceptor","unshift","fulfilled","rejected","then","getUri","params","paramsSerializer","merge","data","Cache","_storage","ttl","owner","ownerStorage","Date","getTime","setKey","hasKey","getKey","cacheItem","touched","expired","cache","fails","callback","arr","RadialGradient","_stops","id","getUniqueId","gradientElement","cx","cy","fx","fy","removeChildNodes","stop","gradientStop","addColor","_paper","_cx","_cy","_fx","_fy","stops","DataItem","_disabled","hasProperties","values","categories","dates","locations","workingLocations","sprites","_index","_visible","_hidden","_ignoreMinMax","hasChildren","isHiding","_valueAnimations","_locationAnimations","component","_animations","hidden","setVisibility","__disabled","noChangeValues","visible","defaultState","hiddenState","_eventDispatcher","isEnabled","event_1","show","duration","delay","fields","animation_1","_hideDisposer","removeDispose","field","setWorkingValue","animation","isFinished","hide","toValue","animation_2","anim","getDuration","interpolationDuration","getValue","name","calculated","dataFields","getWorkingValue","realName","workingValue","getActualWorkingValue","setValue","currentValue","newDuration","event_2","property","handleDataItemValueChange","setCalculatedValue","event_3","handleDataItemCalculatedValueChange","animate","childObject","from","to","dummyData","interpolationEasing","handleInterpolationProgress","valueAnimation","event_4","handleDataItemWorkingValueChange","setLocation","currentLocation","event_5","setWorkingLocation","workingLocation","locationAnimation","event_6","handleDataItemWorkingLocationChange","setDate","date","dateFormatter","parse","currentDate","getDate","setProperty","event_7","handleDataItemPropertyChange","setCategory","dataContext","event_8","animationOptions","easing","start","event_9","hasValue","len","depth","_dataContext","addSprite","classof","regexpExec","R","S","exec","result","TypeError","DictionaryDisposer","dict","oldValue","v","_dictionary","insertKey","newValue","updateKey","ifEmpty","Symbol","_a","_b","_c","label","sent","sortedIterator","DictionaryTemplate","t","template","_template","clone","it","Constructor","InteractionObjectEventDispatcher","_domEvents","_addDOMEvent","listener","context","callback_1","removeEventListener","_dispatchKeyboardEvent","_on","shouldClone","info","clickable","trackable","wheelable","hoverable","focusable","getBuiltIn","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","next","done","Array","SKIP_CLOSING","ITERATION_SUPPORT","object","userAgent","thisArg","V8_VERSION","SPECIES","METHOD_NAME","constructor","foo","Boolean","BaseObject","debug","_uid","_id","_map","_delayedMap","addDelayedMap","delayedMap","processDelayedMap","target_1","themes","getCurrentThemes","theme","_themes","clearCache","clonedFrom","clones","removeValue","addDisposer","cloneId","newObject","_clones","_className","clearTimeout","setInterval","processConfig","raiseCriticalError","configKey","item_1","configValue","hasProperty","asIs","createClassInstance","processAdapters","processEvents","window","parent_1","asFunction","processListTemplate","processOrderedTemplate","templateValue","entryKey","entryValue","listItem","processDictionaryTemplate","processList","maybeColorOrPercent","processDictionary","isReserved","configOrder","processingErrors","errors","_processingErrors","match","entry","priority","getConfigEntryType","hasIndex","getIndex","setIndex","pop","insert","itemCount","createEntryInstance","res","prop","BaseObjectEvents","eventType","used","copyProperties","stripHash","getBaseURI","baseURI","loc","location","href","copy","isNotEmpty","relativeToValue","full","getPixelRatio","ratio","devicePixelRatio","stringify","JSON","escapeForRgex","splitTextByCharCount","currentIndex","tmpText","words","word","wordLength","reverseString","parts","RegExp","truncateWithEllipsis","trim","str","rtrim","ltrim","reverse","padString","char","getFormat","format","hints","cleanFormat","stripTags","plainText","numberToString","Infinity","negative","abs","parsed","digits","decimals","exponent","zeros","slice","anyToDate","num","Number","anyToNumber","getYearDay","utc","getFullYear","diff","getTimezoneOffset","oneDay","getWeek","day","week","getDay","getMonthWeek","firstWeek","getMonth","currentWeek","getDayFromWeek","year","weekday","setUTCFullYear","get12Hours","hours","base","getTimeZone","long","savings","wotz","toLocaleString","wtz","timeZoneName","substr","fitNumber","min","max","fitNumberRelative","gap","svgPointToSprite","point","sprite_1","angle","rotation","relativeX","pixelX","ex","relativeY","pixelY","ey","dx","dy","scale","spritePointToSvg","spritePointToSprite","toSprite","spriteRectToSvg","rect","p1","p2","documentPointToSvg","svgContainer","cssScale","svgPointToDocument","documentPointToSprite","htmlContainer","svgPoint","spritePointToDocument","getComputedStyle","paddingX","parseFloat","paddingLeft","paddingRight","borderX","borderLeftWidth","borderRightWidth","paddingY","paddingTop","borderY","borderTopWidth","borderBottomWidth","urlRegexp","parseUrl","protocol","separator","authority","domain","port","path","query","hash","serializeUrl","isRelativeUrl","joinUrl","parsedLeft","parsedRight","leftPath","rightPath","isIE","MSInputMethodContext","documentMode","anObject","isArrayIteratorMethod","toLength","bind","getIteratorMethod","callWithSafeIterationClosing","Result","stopped","iterate","iterable","AS_ENTRIES","IS_ITERATOR","iterFn","step","boundFunction","Validatable","_validateDisposer","validate","toInteger","integer","global","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","options","FORCED","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","internalObjectKeys","enumBugKeys","hiddenKeys","getOwnPropertyNames","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","headers","isUndefined","getDefaultAdapter","XMLHttpRequest","process","transformRequest","isFormData","isArrayBuffer","isBuffer","isStream","isFile","isBlob","isArrayBufferView","buffer","isURLSearchParams","isObject","transformResponse","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","common","Group","elementName","addToBack","first","insertBefore","err","hasChild","childNode","firstChild","definePropertyModule","CONSTRUCTOR_NAME","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","InteractionObject","eventDisposers","replacedStyles","_clickable","_contextMenuDisabled","_hoverable","_trackable","_swipeable","_resizable","_wheelable","_inert","_isHover","isRealHover","_isHoverByTouch","_isDown","_isFocused","_isTouchProtected","_inertiaOptions","inertias","_hitOptions","_hoverOptions","_swipeOptions","_keyboardOptions","_mouseOptions","_cursorOptions","_element","isHover","overObjects","moveValue","isHoverByTouch","_overPointers","isDown","downObjects","_downPointers","isFocused","focusedObject","prepElement","processClickable","processContextMenu","processHoverable","processTrackable","processDraggable","processSwipeable","processResizable","processWheelable","_focusable","tabindex","_tabindex","processFocusable","_originalPosition","_originalScale","_originalAngle","inertiaOptions","hitOptions","hoverOptions","swipeOptions","keyboardOptions","cursorOptions","contextMenuDisabled","applyCursorOverStyle","setEventDisposer","interaction","trackedObjects","transformedObjects","unlockWheel","emptyObject","freeze","isUndef","isDef","isTrue","isFalse","isPrimitive","obj","_toString","isPlainObject","isRegExp","isValidArrayIndex","val","n","isFinite","isPromise","catch","isArray","toNumber","isNaN","makeMap","expectsLowerCase","isReservedAttribute","remove","hasOwnProperty","hasOwn","hit","camelizeRE","camelize","_","toUpperCase","capitalize","charAt","hyphenateRE","hyphenate","polyfillBind","ctx","boundFn","l","_length","nativeBind","Function","ret","extend","_from","toObject","noop","no","identity","looseEqual","isObjectA","isObjectB","isArrayA","isArrayB","every","keysA","keys","keysB","looseIndexOf","SSR_ATTR","ASSET_TYPES","LIFECYCLE_HOOKS","optionMergeStrategies","silent","productionTip","devtools","performance","errorHandler","warnHandler","ignoredElements","keyCodes","isReservedTag","isReservedAttr","isUnknownElement","getTagNamespace","parsePlatformTagName","mustUseProp","async","_lifecycleHooks","unicodeRegExp","charCodeAt","def","writable","bailRE","parsePath","segments","_isServer","hasProto","inBrowser","inWeex","WXEnvironment","platform","weexPlatform","UA","navigator","isIE9","isEdge","isIOS","isFF","nativeWatch","watch","supportsPassive","opts","isServerRendering","env","VUE_ENV","__VUE_DEVTOOLS_GLOBAL_HOOK__","isNative","Ctor","_Set","hasSymbol","Reflect","ownKeys","Set","warn","Dep","subs","addSub","sub","removeSub","depend","addDep","notify","update","targetStack","pushTarget","popTarget","VNode","tag","elm","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","raw","isStatic","isRootInsert","isComment","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","prototypeAccessors","child","defineProperties","createEmptyVNode","createTextVNode","cloneVNode","vnode","cloned","arrayProto","arrayMethods","methodsToPatch","original","inserted","ob","__ob__","observeArray","dep","arrayKeys","shouldObserve","toggleObserving","Observer","vmCount","protoAugment","copyAugment","walk","src","__proto__","observe","asRootData","isExtensible","_isVue","defineReactive$$1","customSetter","shallow","getter","setter","childOb","dependArray","newVal","del","items","strats","mergeData","toVal","fromVal","mergeDataOrFn","parentVal","childVal","vm","instanceData","defaultData","mergeHook","dedupeHooks","hooks","mergeAssets","key$1","props","methods","inject","computed","provide","defaultStrat","normalizeProps","normalizeInject","normalized","normalizeDirectives","dirs","directives","def$$1","mergeOptions","_base","extends","mixins","mergeField","strat","resolveAsset","warnMissing","assets","camelizedId","PascalCaseId","validateProp","propOptions","propsData","absent","booleanIndex","getTypeIndex","stringIndex","getPropDefaultValue","prevShouldObserve","default","_props","getType","isSameType","expectedTypes","handleError","cur","$parent","errorCaptured","capture","globalHandleError","invokeWithErrorHandling","handler","_handled","logError","console","timerFunc","isUsingMicroTask","callbacks","pending","flushCallbacks","copies","p","MutationObserver","setImmediate","observer","textNode","createTextNode","characterData","nextTick","cb","_resolve","seenObjects","traverse","_traverse","seen","isA","isFrozen","depId","normalizeEvent","passive","once$$1","createFnInvoker","fns","invoker","arguments$1","updateListeners","oldOn","remove$$1","createOnceHandler","old","mergeVNodeHook","hookKey","oldHook","wrappedHook","merged","extractPropsFromVNodeData","attrs","checkProp","preserve","simpleNormalizeChildren","normalizeChildren","normalizeArrayChildren","isTextNode","nestedIndex","lastIndex","last","_isVList","initProvide","_provided","initInjections","resolveInject","provideKey","provideDefault","resolveSlots","slots","slot","name$1","isWhitespace","normalizeScopedSlots","normalSlots","prevSlots","hasNormalSlots","isStable","$stable","$key","_normalized","$hasNormal","normalizeScopedSlot","key$2","proxyNormalSlot","proxy","renderList","renderSlot","fallback","bindObject","nodes","scopedSlotFn","$scopedSlots","$slots","$createElement","resolveFilter","isKeyNotMatch","expect","actual","checkKeyCodes","eventKeyCode","builtInKeyCode","eventKeyName","builtInKeyName","mappedKeyCode","bindObjectProps","asProp","isSync","loop","domProps","camelizedKey","hyphenatedKey","$event","renderStatic","isInFor","_staticTrees","tree","_renderProxy","markStatic","markOnce","markStaticNode","bindObjectListeners","ours","resolveScopedSlots","hasDynamicKeys","contentHashKey","bindDynamicKeys","baseObj","prependModifier","symbol","installRenderHelpers","_o","_n","_s","_l","_t","_q","_m","_f","_k","_v","_e","_u","_g","_d","_p","FunctionalRenderContext","contextVm","this$1","_original","isCompiled","needNormalization","listeners","injections","scopedSlots","d","createFunctionalComponent","mergeProps","renderContext","cloneAndMarkFunctionalResult","vnodes","componentVNodeHooks","init","hydrating","_isDestroyed","keepAlive","mountedNode","prepatch","createComponentInstanceForVnode","activeInstance","$mount","oldVnode","updateChildComponent","_isMounted","callHook","queueActivatedComponent","activateChildComponent","destroy","deactivateChildComponent","$destroy","hooksToMerge","createComponent","baseCtor","cid","resolveAsyncComponent","createAsyncPlaceholder","resolveConstructorOptions","model","transformModel","nativeOn","abstract","installComponentHooks","_isComponent","_parentVnode","inlineTemplate","toMerge","_merged","mergeHook$1","f1","f2","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","is","pre","applyNS","registerDeepBindings","force","class","initRender","_vnode","parentVnode","_renderChildren","parentData","_parentListeners","currentRenderingInstance","renderMixin","Vue","$nextTick","_render","ref","ensureCtor","comp","__esModule","toStringTag","factory","errorComp","resolved","owners","loading","loadingComp","sync","timerLoading","timerTimeout","$on","forceRender","renderCompleted","$forceUpdate","reject","reason","getFirstComponentChild","initEvents","_events","_hasHookEvent","updateComponentListeners","remove$1","$off","_target","onceHandler","oldListeners","eventsMixin","hookRE","$once","i$1","cbs","$emit","setActiveInstance","prevActiveInstance","initLifecycle","$children","$refs","_watcher","_inactive","_directInactive","_isBeingDestroyed","lifecycleMixin","_update","prevEl","$el","prevVnode","restoreActiveInstance","__patch__","__vue__","teardown","_watchers","_data","mountComponent","updateComponent","Watcher","before","renderChildren","newScopedSlots","oldScopedSlots","hasDynamicScopedSlot","needsForceUpdate","$attrs","$listeners","propKeys","_propKeys","isInInactiveTree","direct","handlers","j","queue","activatedChildren","waiting","flushing","resetSchedulerState","currentFlushTimestamp","getNow","now","createEvent","timeStamp","flushSchedulerQueue","watcher","run","activatedQueue","updatedQueue","callActivatedHooks","callUpdatedHooks","emit","queueWatcher","uid$2","expOrFn","isRenderWatcher","deep","user","lazy","active","dirty","deps","newDeps","depIds","newDepIds","expression","cleanupDeps","tmp","evaluate","sharedPropertyDefinition","sourceKey","initState","initProps","initMethods","initData","initComputed","initWatch","propsOptions","isRoot","getData","computedWatcherOptions","watchers","_computedWatchers","isSSR","userDef","defineComputed","shouldCache","createComputedGetter","createGetterInvoker","createWatcher","$watch","stateMixin","dataDef","propsDef","$set","$delete","immediate","uid$3","initMixin","_init","initInternalComponent","_self","vnodeComponentOptions","_componentTag","super","superOptions","cachedSuperOptions","modifiedOptions","resolveModifiedOptions","extendOptions","components","modified","latest","sealed","sealedOptions","initUse","use","plugin","installedPlugins","_installedPlugins","install","initMixin$1","mixin","initExtend","Super","SuperId","cachedCtors","_Ctor","Sub","initProps$1","initComputed$1","Comp","initAssetRegisters","definition","getComponentName","pattern","pruneCache","keepAliveInstance","filter","cachedNode","pruneCacheEntry","current","cached$$1","patternTypes","KeepAlive","include","exclude","created","destroyed","mounted","ref$1","parseInt","builtInComponents","initGlobalAPI","configDef","util","defineReactive","delete","observable","version","acceptValue","isEnumeratedAttr","isValidContentEditableValue","convertEnumeratedValue","isFalsyAttrValue","isBooleanAttr","xlinkNS","isXlink","getXlinkProp","genClassForVnode","mergeClassData","renderClass","staticClass","dynamicClass","stringifyClass","stringifyArray","stringifyObject","stringified","namespaceMap","svg","math","isHTMLTag","isSVG","unknownElementCache","HTMLUnknownElement","HTMLElement","isTextInputType","selected","querySelector","createElement$1","tagName","multiple","createElementNS","namespace","createComment","newNode","referenceNode","nextSibling","setTextContent","setStyleScope","nodeOps","registerRef","isRemoval","refs","refInFor","emptyNode","sameVnode","sameInputType","typeA","typeB","createKeyToOldIdx","beginIdx","endIdx","createPatchFunction","backend","modules","emptyNodeAt","createRmCb","childElm","removeNode","createElm","insertedVnodeQueue","parentElm","refElm","nested","ownerArray","setScope","createChildren","invokeCreateHooks","isReactivated","initComponent","reactivateComponent","pendingInsert","isPatchable","innerNode","transition","activate","ref$$1","ancestor","addVnodes","startIdx","invokeDestroyHook","removeVnodes","ch","removeAndInvokeRemoveHook","rm","updateChildren","oldCh","newCh","removeOnly","oldKeyToIdx","idxInOld","vnodeToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","canMove","patchVnode","findIdxInOld","end","hydrate","postpatch","invokeInsertHook","initial","isRenderedModule","inVPre","hasChildNodes","childrenMatch","fullInvoke","isInitialPatch","isRealElement","nodeType","hasAttribute","oldElm","_leaveCb","patchable","i$2","updateDirectives","oldDir","dir","isCreate","isDestroy","oldDirs","normalizeDirectives$1","newDirs","dirsWithInsert","dirsWithPostpatch","oldArg","arg","callHook$1","componentUpdated","callInsert","emptyModifiers","modifiers","getRawDirName","rawName","baseModules","updateAttrs","inheritAttrs","oldAttrs","setAttr","removeAttributeNS","baseSetAttr","setAttributeNS","__ieph","blocker","stopImmediatePropagation","updateClass","oldData","cls","transitionClass","_transitionClasses","_prevClass","target$1","klass","RANGE_TOKEN","CHECKBOX_RADIO_TOKEN","normalizeEvents","change","createOnceHandler$1","remove$2","useMicrotaskFix","add$1","attachedTimestamp","_wrapper","currentTarget","ownerDocument","updateDOMListeners","updateDOMProps","oldProps","strCur","shouldUpdateValue","checkVal","composing","isNotInFocusAndDirty","isDirtyWithModifiers","notInFocus","activeElement","_vModifiers","number","parseStyleText","cssText","listDelimiter","propertyDelimiter","normalizeStyleData","normalizeStyleBinding","staticStyle","bindingStyle","getStyle","checkChild","styleData","emptyStyle","cssVarRE","importantRE","setProp","normalizedName","normalize","vendorNames","capName","updateStyle","oldStaticStyle","oldStyleBinding","normalizedStyle","oldStyle","newStyle","whitespaceRE","addClass","classList","removeClass","tar","resolveTransition","css","autoCssTransition","enterClass","enterToClass","enterActiveClass","leaveClass","leaveToClass","leaveActiveClass","hasTransition","TRANSITION","ANIMATION","transitionProp","transitionEndEvent","animationProp","animationEndEvent","ontransitionend","onwebkittransitionend","onanimationend","onwebkitanimationend","raf","requestAnimationFrame","nextFrame","addTransitionClass","transitionClasses","removeTransitionClass","whenTransitionEnds","expectedType","getTransitionInfo","propCount","ended","onEnd","transformRE","styles","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","durations","toMs","s","enter","toggleDisplay","cancelled","_enterCb","appearClass","appearToClass","appearActiveClass","beforeEnter","afterEnter","enterCancelled","beforeAppear","appear","afterAppear","appearCancelled","transitionNode","isAppear","startClass","activeClass","toClass","beforeEnterHook","enterHook","afterEnterHook","enterCancelledHook","explicitEnterDuration","expectsCSS","userWantsControl","getHookArgumentsLength","pendingNode","_pending","isValidDuration","leave","beforeLeave","afterLeave","leaveCancelled","delayLeave","explicitLeaveDuration","performLeave","invokerFns","_enter","platformModules","patch","vmodel","trigger","directive","binding","_vOptions","setSelected","onCompositionStart","onCompositionEnd","prevOptions","curOptions","some","o","needReset","hasNoMatchingOption","actuallySetSelected","isMultiple","option","selectedIndex","initEvent","dispatchEvent","locateNode","transition$$1","originalDisplay","__vOriginalDisplay","unbind","platformDirectives","transitionProps","mode","getRealChild","compOptions","extractTransitionData","placeholder","rawChild","hasParentTransition","isSameChild","oldChild","isNotTextNode","isVShowDirective","Transition","_leaving","oldRawChild","delayedLeave","moveClass","TransitionGroup","beforeMount","kept","prevChildren","rawChildren","transitionData","removed","c$1","pos","updated","hasMove","callPendingCbs","recordPosition","applyTranslation","_reflow","offsetHeight","moved","transform","WebkitTransform","transitionDuration","_moveCb","propertyName","_hasMove","cloneNode","newPos","oldPos","platformComponents","Percent","isPercent","defer","channel","IS_IOS","clearImmediate","MessageChannel","Dispatch","ONREADYSTATECHANGE","runner","post","postMessage","host","port2","port1","onmessage","importScripts","versions","v8","enhanceError","message","Line","x1","y1","x2","y2","pixelPerfect","delta","stroke","positionToPoint","position","point1","point2","__CANCEL__","encode","encodeURIComponent","serializedParams","isDate","toISOString","hashmarkIndex","PointedCircle","radius","pointerAngle","pw","pointerBaseWidth","pl","pointerLength","pointerX","pointerY","da","atan","a1","a2","getTooltipY","getTooltipX","PointedShape","PinBullet","interfaceColors","circle","createChild","Circle","isMeasured","background","fillOpacity","px","py","pa","radsq","q","sqrt","x3","y3","circleRadius","preserveAspectRatio","_image","horizontalCenter","verticalCenter","mask","_label","createBackground","Bullet","FlagBullet","waveHeight","waveLength","setWavedSides","strokeOpacity","pole","padding","poleHeight","bgHeight","_background","maxLeft","measuredWidth","measuredHeight","maxRight","maxBottom","maxTop","WavedRectangle","Star","pointCount","arc","innerRadius","cornerRadius","innerCornerRadius","startAngle","pixelInnerRadius","halfAngle","p0","setPercentProperty","Sprite","ShapeBullet","size","shapeElement","shape","createSquare","createCircle","createTriangle","processShape","Rectangle","Triangle","Iterators","objectKeys","Properties","isAxiosError","toJSON","description","fileName","lineNumber","columnNumber","stack","isStandardBrowserEnv","originURL","msie","urlParsingNode","resolveURL","search","hostname","pathname","requestURL","isString","Filter","_scale","_nonScaling","filterPrimitives","filterUnits","appendPrimitives","filterElement","filterPrimitive","updateScale","setSprite","_sprite","filters","w","arch","execPath","pid","browser","argv","cwd","chdir","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","ForceDirectedLink","nonScalingStroke","distance","strength","isHidden","_source","Grip","icon","strokeWidth","valign","autoHideDelay","_autoHideTimeout","Button","ChartDataItem","Chart","_legend","titles","List","chartAndLegendContainer","Container","chartContainer","showOnInit","processTitle","updateReaderTitleReferences","role","applyInternalDefaults","language","translate","fixLayout","legend","toBack","toFront","feedLegend","uidAttr","titleIds_1","setSVGAttribute","removeSVGAttribute","setLegend","_dragGrip","grip_1","tooltipContainer","touch","Component","Responsive","widthXS","widthXXS","heightXXS","LegendDataItem","childrenCreated","label_1","labels","itemContainer","_valueLabel","valueLabel_1","valueLabels","_itemContainer","component_1","itemContainer_1","itemContainers","togglable","toggleDataItem","focusedItem","readerControls","readerLabelledBy","visibilitychanged","readerChecked","disableType","isActive","enableType","dataItems","_marker","marker_1","markers","LegendSettings","createMarker","Legend","applyOnClones","cursorOverStyle","Mouse","pointer","marker","setStateOnChildren","propertyFields","disabledColor","activeState","rectangle","RoundedRectangle","valueLabel","handleScrollbar","createDataItem","validateDataElement","legendDataItem","tempMaxWidth","legendSettings","createLegendMarker","useDefaultMarker","updateLegendValue","invalid","itemValueText","valueText","setState","maxLabelWidth","pixelMarginLeft","pixelMarginRight","maxValueLabelWidth","maxMarkerWidth","maxAdjustedLabelWidth","trueMaxWidth","scrollbar","scrollable","contentHeight","thumb","updateMasks","contentAlign","maxColumns","Scrollbar","orientation","endGrip","startGrip","_mouseWheelDisposer","handleWheel","ds","maskRectangle","colorOrig","readerAlert","locale","isXS","SeriesDataItem","_bullets","bullets","Series","_showBullets","_tmin","_tmax","_smin","_smax","dataItemsByAxis","skipFocusThreshold","_itemReaderTextChanged","calculatePercent","usePercentHack","autoDispose","simplifiedProcessing","axisRanges","processAxisRange","minBulletDistance","mainContainer","bulletsContainer","_shouldBeReady","virtualParent","tooltip","Tooltip","transitionEasing","autoSetClassName","setClassName","_chart","positionBullet","bullet","processBullet","itemsFocusable","removeBullet","eachBullet","validateDataItems","processValues","getFirstValue","startIndex","getAbsoluteFirstValue","rangeChangeUpdate","working","count_1","sum_1","absoluteSum_1","low_1","high_1","open_1","close_1","previous_1","first_1","absoluteFirst_1","startIndex_1","endIndex","dataItem_1","_loop_1","dataItem_2","prevValue","_loop_2","dataItem_3","ksum","zeroItem_1","dataItem_4","axisRange","updateTooltipBounds","setBounds","shouldCreateBullet","bulletTemplate","disabledField","currentDataItem","readerText_1","itemReaderText","xField","yField","isDynamic","itemWidth","itemHeight","dataRangeInvalid","invalidateProcessedData","invalidateDataItems","createMask","rangesContainer","contents","isRange","getAxisField","axis","showTooltipAtPosition","xPosition","yPosition","chart","invalidateRawData","readerText","_itemReaderText","tooltipText","tooltipHTML","_legendDataItem","notRange","itemLabelText","labelText","modal","suppressErrors","verbose","log","applyFilters","_heatRules","heatRule","dataField_1","dataField","seriesDataItem_1","property_1","minValue","maxValue","foundSprite","anySprite","anyChild","foundSprite_1","ruleTarget","propertyField","low","high","fieldValues","logarithmic","LOG10E","heatRules","rule","listitem","maybeIndex","SerialChartDataItem","SerialChart","colors","ColorSet","_usesData","seriesContainer","zIndex","patterns","_series","createSeries","handleSeriesAdded","handleSeriesRemoved","series","dataUsers","dataUser","di","_dataUsers","handleSeriesAdded2","hiddenInLegend","addData","dataInvalid","reinit","legendData_1","ForceDirectedNode","expandAll","paddingRadius","linksWith","nodeDragStarted","updateSimulation","outerCircle","bgColor","hoverState","outerActiveState","activeHoverState","updateLabelSize","pixelRadius","dsRadius","setActive","dataItemsInvalid","childrenInited","initNode","updateNodeList","parentLink","dispatchVisibility","restartSimulation","linkWith","link","links","nodeIndex","childIndex","forceLinks","childLinks","unlinkWith","_x","_y","cover","xm","ym","xp","yp","_root","leaf","x0","_x0","y0","_y0","_x1","_y1","addAll","xz","yz","z","visit","quads","d2","retainer","previous","removeAll","defaultX","defaultY","quadtree","Quadtree","NaN","leaf_copy","treeProto","extent","root","visitAfter","random","vx","vy","radii","iterations","xi","yi","ri","ri2","k","prepare","quad","rj","jiggle","initialize","constant","nodeById","nodeId","strengths","distances","count","bias","defaultStrength","m","Map","initializeStrength","initializeDistance","parseTypenames","typenames","types","typename","T","taskHead","taskTail","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","setFrame","clearNow","Timer","_call","_time","_next","timer","time","restart","timerFlush","wake","nap","poke","t0","t2","t1","sleep","clearInterval","initialRadius","initialAngle","PI","simulation","alphaMin","alphaDecay","pow","alphaTarget","velocityDecay","forces","stepper","tick","initializeNodes","cos","sin","initializeForce","closest","distanceMin2","distanceMax2","theta2","accumulate","weight","distanceMin","distanceMax","theta","ForceDirectedSeriesDataItem","_node","level","collapsed","fixed","handleFixed","ForceDirectedSeries","d3forceSimulation","maxRadius","minRadius","manyBodyStrength","centerStrength","updateRadiuses","updateLinksAndNodes","innerWidth","innerHeight","getMaxValue","cmax","_dataDisposers","_maxValue","processLinkWith","dragFixedNodes","_linkForce","_collisionForce","linkDatum","getDistance","getStrength","nodeDragEnded","updateRadius","minSide","maxLevels","index_1","diColor","dataItemToConnect","getDataItemById","linkWithStrength","_nodes","createNode","_links","createLink","ForceDirectedTreeDataItem","ForceDirectedTree","getExporting","exporting","propertyIsEnumerable","UNSCOPABLES","ArrayPrototype","load","success","responseType","xhr","onload","blob_1","readBlob","blob","getResponseHeader","responseText","onerror","withCredentials","requestHeaders","setRequestHeader","send","reader","FileReader","readAsText","createError","ResizeButton","defaultConstructor","C","getOwnPropertySymbols","_rules","_appliedRules","_appliedTargets","_useDefault","_enabled","_responsiveDisposers","_noStates","checkRules","_component","disposeResponsiveHandlers","isReady","enabled","applyRules","defaultRules","useDefault","isApplied","ruleId","allRules","rulesChanged","newTarget","defaultStateApplied","isApplied_1","getState","getDefaultState","setTargetState","tmpId","ResponsiveBreakpoints","XXS","XS","widthS","widthM","M","widthL","L","widthXL","XL","widthXXL","XXL","heightS","heightM","heightL","heightXL","heightXXL","isXXS","isS","isM","isL","isXL","isXXL","maybeXXS","maybeXS","maybeS","maybeM","maybeL","maybeXL","maybeXXL","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","deepMerge","axiosKeys","otherKeys","newPrefix","colorSet","alternative","ExportMenu","closeDelay","closeOnClick","_language","_menuTag","_itemTag","_labelTag","_iconTag","_ignoreNextClose","_items","getMenuItemClass","createMenuElement","_container","drawBranch","menuElement","moveSelection","branch","unsupported","ascendants","createItemElement","createIconElement","createSvgElement","createLabelElement","readerLabel","getReaderLabel","interactions","typeClickable","submenu_1","getSubMenu","selectBranch","setFocus","delayUnselectBranch","local_level","menu","submenu","hideBranch","backgroundColor","menuTag","itemTag","labelTag","iconTag","parser","DOMParser","parseFromString","documentElement","hasSubMenu","Language","pointerEvents","_currentSelection","setBlur","getElementsByClassName","closeTimeout","ascendant","unselectBranch","simple","newSelection","getPrevSibling","getNextSibling","getParentItem","getSiblings","siblings","prev","focus","blur","showBranch","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex","includes","Inertia","startPoint","animations","handleMove","imev","processDragStop","argument","rootStylesheet","SVGNS","XMLNS","XLINK","dom","getElement","getElementById","currentClassName","setStyle","currentStyle","defaultView","input","cursor","getShadowRoot","getRoot","eventTarget","composedPath","fixPixelPerfect","left_1","top_1","getStylesheet","nonce","head","sheet","appendStylesheet","selector","cssRules","insertRule","StyleRule","_rule","deleteRule","selectorText","_setVendorPrefixName","styleId","StyleClass","ready","readyState","listener_1","findFont","font","findFontSize","parent_2","isElementInViewport","viewportTarget","targets","viewportRect","transformData","isCancel","throwIfCancellationRequested","cancelToken","throwIfRequested","commercialLicense","classNamePrefix","minPolylineStep","onlyShowOnViewport","licenses","suppressWarnings","animationsEnabled","fixRegExpWellKnownSymbolLogic","requireObjectCoercible","advanceStringIndex","regExpExec","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","REPLACE","nativeReplace","maybeCallNative","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","regexp","rx","functionalReplace","fullUnicode","unicode","results","matchStr","accumulatedResult","nextSourcePosition","matched","captures","namedCaptures","groups","replacerArgs","replacement","getSubstitution","tailPos","symbols","MouseCursorStyle","grab","grabbing","horizontalResize","verticalResize","notAllowed","IS_PURE","store","copyright","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","NumberFormatter","_negativeBase","_numberFormat","_outputFormat","_smallNumberThreshold","precision","formatted","intlLocales","Intl","NumberFormat","parseFormat","details","positive","zero","mod","applyFormat","translateEmpty","part","partFormat","mods","modSpacing","thousands","suffix","a_1","applyPrefix","bytePrefixes","a_2","smallNumberThreshold","smallNumberPrefixes","bigNumberPrefixes","ol","toPrecision","exp","toExponential","ints","ip","intsr","decs","prefixes","newvalue","applied","invalidateSprite","_intlLocales","_bigNumberPrefixes","_smallNumberPrefixes","_bytePrefixes","outputFormat","escape","unescape","bitmap","visualProperties","_bindings","_isTemplate","_isPath","_inited","_ready","_isHidden","isShowing","isStandaloneInstance","_isActive","_mask","_exporting","_exportable","positionInvalid","_measuredWidthSelf","_measuredHeightSelf","maxLeftSelf","maxRightSelf","maxTopSelf","maxBottomSelf","_isDragged","_isResized","_internalDisabled","_updateDisabled","_internalDefaultsApplied","rollOutDelay","appeared","dragWhileResize","preventShow","cloneTooltip","_prevMeasuredWidth","_prevMeasuredHeight","_isMeasured","_parent","addToInvalidSprites","requestFrame","beforeDraw","removeFromInvalidSprites","invalidatePosition","addToInvalidPositions","sizeChanged","measure","prevGroupTransform","transformString","moveTo","nonScaling","globalScale","showTooltipOn","updateTooltipPosition","removeFromInvalidPositions","_maskRectangle","_clipElement","e_1","e_1_1","return","applyMask","dispatchReady","hideTooltip","showTooltip","handleGlobalScale","updateFilterScale","removeFromInvalids","plugins","configField","exportable","_tooltip","_showSystemTooltip","showSystemTooltip","fillModifier","strokeModifier","_svgContainer","_interactionDisposer","_urlDisposer","_numberFormatter","_focusFilter","_filters","_alwaysShowDisposers","_topParent","oldParent","baseId","_tooltipContainer","_dataItem","handleAlwaysShowTooltip","handleAlwaysShow","oldDisposers","oldDisposer","_virtualParent","appendDefs","fill_1","modify","stroke_1","_clipPath","oldPaper","_htmlContainer","parent_3","_titleElement","_descriptionElement","onAll","setSVGAttributes","shapeRendering","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","attribute","userClassName","updateClipPath","createClipPath","width_1","height_1","removeClipPath","setElement","SVGPathElement","definedBBox","svgBBox","prevElementTransform","elementX","elementY","elementWidth","elementHeigth","positionPrecision","matrix","createSVGMatrix","createSVGPoint","p3","p4","pt1","matrixTransform","pt2","pt3","pt4","sortChildren","insertAfter","getRelativeX","getRelativeY","getPixelX","pixel","relative","getPixelY","isDragged","hitTest","ax1","ay1","ax2","ay2","bx1","by1","bx2","by2","_states","processState","length_1","getSvgPoint","transitTo","applyCurrentState","downPointers","propValues","allValues","finalValue","newFilters_1","stateFilter","newFilter","currentFilter","pushAll","isInTransition","isInteractive","handleOver","handleOut","handleDown","handleUp","handleFocus","handleBlur","setDisabled","numberFormatter","_dateFormatter","_durationFormatter","durationFormatter","string","tags","getTagValue","reg","reg2","matches2","getTagValueFromObject","populateStringFrom","formatApplied","numberValue","dateValue","durationValue","formatParts","formatterType","dataContext_1","dataContext_2","dataContext2_1","fieldValue","anyThis","propValue","applyAll","setColorProperty","length_2","bindToProperty","modifier","readerDescription","readerHidden","checked","controls","live","readerLive","readerOrientation","valueNow","readerValueNow","readerValueText","labelledByIds","describedByIds","labelledBy","describedBy","readerDescribedBy","titleElement","titleId","descriptionId","descriptionElement","mouseOptions","_interaction","inert","hasFocused","focusedElement","focusFilter","hoverOnFocus","applyCursorStyle","handleDragStart","handleDragMove","handleDragStop","isTouchProtected","originalPosition","dragStart","dragStop","_outTimeout","SVGContainer","targetSprite","keepTargetHover","handleOutReal","originalAngle","originalScale","handleToggle","urlHandler","_baseId","setBaseId","baseSprite","urlTarget","handleResize","svgPoint1","svgPoint2","svgMidPoint","parentPoint1","startPoint1","parentPoint2","startPoint2","spritePoint1","spritePoint2","spriteMidPoint","parentPoint","overStyle","defaultStyle","downStyle","_export","nonExportableSprites","modalPrefix","openModal","closeModal","popups","openPopup","closeAllPopups","minX","maxX","minY","maxY","invalidateLayout","parentWidth","setMaxWidth","prevWidth","prevHeight","relativeWidth","previousWidth","previousHeight","parentHeight","pixelMarginTop","pixelMarginBottom","setMaxHeight","relativeHeight","percentWidth","_pixelWidth","percentHeight","_relativeHeight","_pixelHeight","minWidth","minHeight","_relativeWidth","marginRight","marginBottom","setPath","setFill","realFill","setStroke","realStroke","_rtl","showReal","_hideAnimation","_showHideDisposer","hideReal","currentSprite","hiddenState_1","getVisibility","tooltipDataItem","_tooltipDataItem","_tooltipColorSource","tooltipPosition","lastPointer","colorSource_1","tooltipColorSource_1","tooltipColorSource","getStrokeFromObject","getFillFromObject","animationDuration","autoTextColor","globalPoint","pointTooltipTo","instantly","showInViewport","pointTo","getCursorStyle","cursorDowntyle","setShowOnInit","_showOnInitDisposer","hideInitially","_plugins","_systemUpdate","skippedSprites","_systemCheckIfValidate","_systemValidatePositions","_systemValidateLayouts","IndexedObject","nativeAssign","assign","A","B","alphabet","chr","argumentsLength","tooltipX","tooltipY","copyToLegendMarker","CONVERT_TO_STRING","second","codeAt","originalArray","DurationFormatter","_baseUnit","_unitValues","_unitAliases","baseUnit","durationFormat","absolute","tstamp","toTimeStamp","unit","toTimeUnit","maxUnit","getValueUnit","durationFormats","currentUnit","ms","getMilliseconds","_durationFormat","_durationFormats","NATIVE_WEAK_MAP","objectHas","sharedKey","WeakMap","enforce","getterFor","TYPE","wmget","wmhas","wmset","metadata","STATE","JSONParser","contentType","isJSON","empty","emptyAs","numbers","parsableNumbers","parsableDates","row","maybeToEmpty","maybeToNumber","maybeToDate","order","repeat","amount","chars","choice","any","eachReverse","shiftLeft","found","move","toIndex","removeIndex","insertIndex","ind","getSortedIndex","ordering","pivot","findIndex","keepIf","keep","inspectSource","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","unsafe","pendingFrame","nextQueue","readQueue","writeQueue","idleQueue","fps","frameLoop","pendFrame","readFrame","writeFrame","whenIdle","triggerIdle","Ellipse","radiusY","Image","widthRatio","heightRatio","Polyline","_distance","makePath","points","_realSegments","deltaAngle","totalDistance","currentDistance","distanceAB","positionA","positionB","pointA","pointB","positionAB","midPoint","Polyarc","controlPointDistance","controlPointPosition","realPoints","cpDistance","cpx","cpy","controlPoint1","cpx2","cpy2","controlPoint2","stepCount","prevPoint","i_1","Morpher","morphable","_bboxes","morphDuration","morphEasing","morphToSingle","scaleRatio","morphToPolygon","toPoints","currentPoints","sortPoints","_morphFromPointsReal","_morphToPointsReal","normalizePoints","Animation","pointsA","pointsB","surfaceA","holeA","bboxA","middleX","middleY","addPoints","splitAt","newDistance","partA","partB","bbox1","bbox2","bboxes","surface","morphToCircle","commonBBox","hole","fromPoints","realRadius","realAngle","pointOnCircle","hlen","mustHaveCount","addToSegmentCount","newPoints","point0","extraPoint","lastPoint","morphToRectangle","realWidth","realHeight","i_2","i_3","_morphProgress","currentArea","surfaceFrom","holeFrom","surfaceTo","holeTo","currentSurface","i_4","slen","currentPoint","currentHole","i_5","morphBack","Polygon","_currentPoints","valueStr","segment","areaHole","areaArr","holeArr","pointsArr","area","areaAndHole","coords","pointsArr_1","_morpher","Polyspline","tensionX","tensionY","allPoints","closed_1","controlPointA","controlPointB","getClosestPointIndex","f0","point_1","Slice","shiftRadius","updateGradient","gradient","innerRect","outerRect","ix","iy","middleAngle","Preloader","sliceContainer","backgroundSlice","progressSlice","contentValign","validateLayout","_started","CloseButton","bgc","downColor","bhs","bds","SwitchButton","leftLabel","llas","button","p100","hs","as","switchButton","rightLabel","rlas","_leftLabel","_rightLabel","_switchButton","Slider","_start","_isBusy","__start","TextLink","downState","Trapezoid","topSide","bottomSide","leftSide","rightSide","ts","bs","ls","rs","mt","mr","mb","ml","horizontalNeck","hn","verticalNeck","vn","WavedCircle","tension","getPoints","smooth","circleLength","halfWaveHeight","halfWaveLength","angle1","angle2","WavedLine","ZoomOutButton","PlayButton","playIcon","stopIcon","ColorModifier","GradientModifier","lightnesses","brightnesses","opacities","offsets","_lightnesses","_brightnesses","_opacities","_offsets","lightness","brightness","LinearGradientModifier","LinearGradient","Cone","topRadius","bodyFillModifier","radiusBase","LightenFilter","feColorMatrix","Rectangle3D","sideBack","sideBottom","sideLeft","sideRight","sideTop","sideFront","ah","bh","dh","colorStr","filter2","filter3","filter4","filter5","Slice3D","edge","sideA","sideB","edgeFill","endAngle","innerRadiusY","a0","b0","c0","d0","edgePath","mangle","pp","RadialGradientModifier","LinePattern","_line","addElement","Pattern","CirclePattern","_circle","RectPattern","rectHeight","rectWidth","_rect","ColorizeFilter","intensity","applyFilter","ii","DesaturateFilter","BlurFilter","feGaussianBlur","FocusFilter","feFlood","feMorphology","feComposite","feBlend","PatternSet","_list","_currentStep","_startIndex","_currentPass","baseColor","getLinePattern","getRectPattern","getCirclePattern","thickness","strokeDashArray","outline","currentStep","generatePatterns","Plugin","AmChartsLogo","aColor","aGradient","aStroke","desaturateFilter","desaturateFilterHover","htmlElement","classType","tmpContainer","svgDiv_1","Paper","container_1","append","moveHtmlContainer","invalidSprites","invalidDatas","invalidPositions","invalidLayouts","baseSprites","baseSpritesByUid","loopTimer_1","loop_1","tooltipContainer_1","preloader_1","preloader","hasLicense","logo_1","logo","addToQueue","viewPortHandler","vpDisposer","queueHandler","removeFromQueue","nextSprite","invalidateLabels","invalidateData","classError","System","_isPaused","dummyCounter","_frameRequested","updateStepDuration","reportTime","msg","skippedComponents","invalidData","dataProvider","validateData","dataValidationProgress","invalidRawDatas","validateRawData","invalidDataItems","invalidDataRange","validateDataRange","skipRangeEvent","validateLayouts","validatePositions","hasSkipped","checkIfValidate2","all0_1","softInvalidate","layoutInvalid","VERSION","system","_boundingRect","_pointTo","fitPointerToBounds","_verticalOrientation","fixDoc","dropShadow","drawBackground","pointerOrientation","animationEasing","handleVisibility","textX","textY","boundingRect","textW","textH","documentWidth","offsetWidth","textWidth","textHeight","bgWidth","bgX","bgY","boundX1","boundX2","boundY1","boundY2","delayedPointTo","_pointToDisposer","_animation","oldRect","_boundingContainer","updateBounds","boundingContainer","polyline","lineTo","minStep","cubicCurveTo","closePath","arcTo","pax","pay","ax","ay","temp","crSin","cornerRadiusY","innerCornerRadiusY","crAngle","asin","crAngleY","crInnerAngle","crInnerAngleY","mPoint","b1","d1","arcToPoint","sweepFlag","largeArcFlag","xAxisRotation","sweepFlagValue","largeArcFlagValue","Cancel","write","expires","secure","cookie","isNumber","toGMTString","read","decodeURIComponent","DataSource","_requestOptions","_incremental","_incrementalParams","_keepCount","_updateCurrentData","showPreloader","getParserByType","processData","getParserByData","dateFields","numberFields","lastLoad","disableCache","timestampUrl","_url","incremental","addUrlParams","incrementalParams","_parser","_reloadFrequency","_reloadDisposer","_reloadTimeout","reloadFrequency","activeXDocument","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","contentWindow","F","NullProtoObject","ActiveXObject","$","createIteratorConstructor","getPrototypeOf","setPrototypeOf","setToStringTag","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","ENTRIES","returnThis","Iterable","NAME","IteratorConstructor","DEFAULT","IS_SET","CurrentIteratorPrototype","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","proto","pdfmakePromise","_pdfmake","pdfmake","vfs_fonts","all","pdfMake","vfs","fontFamilySrcRegexp","supportsBlobUri","msSaveOrOpenBlob","blobToDataUri","readAsDataURL","getCssRules","trys","loadStylesheet","doc","e_2","eachStylesheet","topUrl","promises","CSSRule","IMPORT_RULE","eachStylesheets","doc_1","contentDocument","styleSheets","Export","_formatOptions","_extraSprites","_validateSprites","dataFieldsOrder","_dynamicDataFields","_removedObjects","_hiddenObjects","_objectsAlreadyHidden","_filePrefix","useWebFonts","useRetina","useSimplifiedExport","timeoutDelay","_exportRunning","_prevHasData","quality","fontSize","imageFormat","addURL","addColumnNames","indent","useLocale","printMethod","formatOptions","_menu","typeSupported","export","_disablePointers","_releasePointers","supported","getFormatOptions","_hasData","print","_getFunction","getImage","getSVG","getPDF","getExcel","getCSV","getJSON","getHTML","getPrint","func","handleCustom","hideTimeout","_timeoutTimeout","showTimeout","hideNonExportableSprites","restoreNonExportableSprites","hidePreloader","download","filePrefix","callbackTarget","getFontFamilies","DOMURL","blobs","getDOMURL","FONT_FACE_RULE","cssText_1","urls","after","fullUrl","url_1","e_3","createObjectURL","includeExtras","prehidden","canvas","uri","e_4","awaitValidSprites","simplifiedImageExport","getCanvas","addExtras","toDataURL","getContentType","disposeCanvas","getImageAdvanced","advanced","middleLeft_1","middleTop_1","middleWidth_1","middleHeight_1","extraRight_1","extraBottom_1","extras","newCanvas","ctx_1","right_1","bottom_1","extraSprites","extraSprite","extra","extraCanvas","extraWidth","extraHeight","getCanvasAdvanced","crop","getDisposableCanvas","getContext","findBackgroundColor","fillStyle","fillRect","drawImage","pixelRatio","img","getAdjustedScale","fonts","imagesToDataURI","prepForeignObjects","normalizeSVG","serializeElement","defs","Blob","loadNewImage","revokeObjectURL","restoreRemovedObjects","canvg","useCORS","ignoreDimensions","scaleWidth","scaleHeight","fromString","widthScale","heightScale","adjWidth","adjHeight","querySelectorAll","getAttributeNS","svgToDataURI","imageToDataURI","objects","temporarilyRemoveObject","keepTainted","charset","btoa","crossOrigin","currentHref","onabort","self","URL","webkitURL","encodeURI","dimParams","styleParams","fos","XMLSerializer","serializeToString","addFont","paths","normal","bytes","bold","italics","bolditalics","defaultMargins","extraMargin","pageSize","pageOrientation","pageMargins","alignment","fit","getPageSizeFit","getPDFData","table","extraFonts","createPdf","getDataUrl","dataFieldsOrder_1","dataRow","dataValue","convertToSpecialFormat","getPDFDataRow","ai","bi","headerRows","convertEmptyValue","margins","newMargins","sizes","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","C10","RA0","RA1","RA2","RA3","RA4","SRA0","SRA1","SRA2","SRA3","SRA4","EXECUTIVE","FOLIO","LEGAL","LETTER","TABLOID","fitSize","XLSX","wbOptions","sheetName","wb","dataFieldsOrder_2","xlsx","bookType","bookSST","normalizeExcelSheetName","SheetNames","Sheets","getExcelRow","aoa_to_sheet","workbook","csv","br","dataFieldsOrder_3","getCSVRow","forceQuotes","dataFieldsOrder_4","tableClass","getHTMLRow","headerRow","rowClass","useTag","cellClass","sourceData","json","newValue_1","keepOriginal","isDateField","isDurationField","isNumberField","numberFormat","useTimestamps","dateFormat","link_1","decoded","blob_2","url_2","charCode","url_3","idoc","msBlobDownloadSupport","msSaveBlob","atob","Uint8Array","blobDownloadSupport","click","linkDownloadSupport","legacyIE","showModal","execCommand","downloadSupport","printViaCSS","printViaIframe","scroll","originalTitle","scrollTop","clipPath","MSStream","currentColor","validateSprites","_dataFields","generateDataFields","handleDataUpdated","hasData","_dateFormat","_dateFields","_numberFields","_durationFields","durationFields","_backgroundColor","progress","hideModal","_modal","_canvg","_xlsx","setFormatOptions","waveLengthH","waveHeightH","waveLengthV","waveHeightV","td","rd","bd","ld","wavedTop","wavedRight","wavedBottom","wavedLeft","isSafari","vendor","isInternetExplorer","endPos","isAbsoluteURL","combineURLs","baseURL","requestedURL","propertyKey","Registry","loadedThemes","_uidCount","_placeholders","noBase","getPlaceholder","addToInvalidComponents","removeFromInvalidComponents","addToInvalidLayouts","removeFromInvalidLayouts","registry","Tension","_tensionX","_tensionY","closed","wavedLine","adjustWaveLength","atan2","waveLengthX","waveLengthY","halfWaveCount","sign","Basis","_closed","x4","y4","pushCurve","pushPoint","functionToString","OrderedList","_values","setAll","_insert","newArray","out","findClosestIndex","closestValue","closestDifference","closestIndex","difference","SortedList","_ordering","OrderedListTemplate","make","SortedListTemplate","DateFormatter","_inputDateFormat","_utc","_firstDayOfWeek","months","monthsShort","weekdays","weekdaysShort","DateTimeFormat","timezoneOffset","setMinutes","getMinutes","fullYear","month","minutes","seconds","milliseconds","timestamp","getUTCFullYear","getUTCMonth","getUTCDay","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","getHours","getSeconds","translateFunc","firstDayOfWeek","tz","tzh","tzm","toUTCString","inputDateFormat","parsedIndexes","resValues","indexAdjust","year3","year2","year1","getStringList","monthLong","monthShort","yearDay","weekdayLong","weekdayShort","am","hour12Base1","hourBase0","hour12Base0","hourBase1","minute","millisecond","millisecondDigits","zone","iso","regex","resolveMonth","resolveShortMonth","hour","isAm","originalOffset","UTC","isDefault","translateAll","_timezoneOffset","CancelToken","executor","resolvePromise","token","cancel","patternUnits","backgroundFill","backgroundOpacity","patternElement","rotationX","rotationY","postfix","castString","toBoolean","converted","toText","toNumberOrPercent","getValueDefault","defaultValue","regexpFlags","stickyHelpers","nativeExec","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","re","sticky","flags","charsAdded","strCopy","multiline","feature","detection","POLYFILL","NATIVE","formatter","TextFormatter","texts","wrapHtml","wrapSvg","styleSvgToHtml","getHtmlElement","quotedBlocks","noFormatting","chunks2","i2","chunk2","isImage","getTextFormatter","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","E","extendStatics","__extends","__","__awaiter","_arguments","generator","adopt","__generator","ops","verb","op","__values","__read","ar","__spread","returnMethod","PointedRectangle","cr","bwh","maxcr","crtl","crtr","crbr","crbl","xtl","ytl","xtr","ytr","xbr","ybr","xbl","ybl","lineT","lineR","lineB","lineL","stemX","stemY","arcTR","arcBR","arcBL","arcTL","nativeDefineProperty","Attributes","DataLoader","sources","requestOptions","isCSV","dataLoader","RE","iconPosition","_icon","currentIcon","keysOrdered","eachOrdered","ord","object1","object2","copyAllProperties","Modal","GlobalAdapter","_callbackId","_callbacks","scope","globalAdapter","enableKey","disableKey","_hasListenersByType","_shouldDispatch","NativePromise","speciesConstructor","promiseResolve","NON_GENERIC","real","onFinally","isFunction","DataParser","SpriteState","fieldName","spriteValue","ignoreCase","dotAll","DropShadowFilter","feOffset","operator","feMerge","PrototypeOfArrayIteratorPrototype","arrayIterator","separators","CSVParser","delimiter","skipRows","skipEmpty","useColumnNames","getDelimiterFromData","sep","columns","lineColums","col","CSVToArray","cols","dataPoint","objPattern","arrData","arrMatches","strMatchedDelimiter","strMatchedValue","FunctionPrototype","FunctionPrototypeToString","nameRE","settle","buildFullPath","parseHeaders","isURLSameOrigin","requestData","auth","username","password","Authorization","fullPath","onreadystatechange","responseURL","responseHeaders","getAllResponseHeaders","responseData","statusText","ontimeout","timeoutErrorMessage","cookies","xsrfValue","onDownloadProgress","onUploadProgress","upload","abort","flush","toggle","macrotask","WebKitMutationObserver","IS_NODE","queueMicrotaskDescriptor","queueMicrotask","task","shared","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","HALFPI","RADIANS","DEGREES","toNumberRange","fitToRange","rounded","getCubicCurveDistance","getPointOnCubicCurve","getScale","initialDistance","getMidPoint","getAngle","diffX","diffY","normalizeAngle","getCommonRectangle","rectangles","mt1","mt2","mt3","getCubicControlPointA","adjustTension","getCubicControlPointB","getArcRect","MAX_VALUE","bpoints","getArcPoint","fromAngle","toAngle","pt","isInRectangle","_childrenByLayout","_childrenDisposers","setStateOnSprites","_absoluteWidth","_absoluteHeight","_tapToActivate","tapTimeout","handleChildAdded","handleChildRemoved","processChild","handleChildTransform","sortAndAdd","addChildren","_children","fixed_1","relative_1","calculateRelativeSize","totalRelativeWidth","totalRelativeHeight","zindexed","sortArray","idx","group_1","isCorrect","disposeChildren","processBackground","_availableWidth","_availableHeight","allValid","childMeasuredWidth","childMeasuredHeight","maxCellWidth","minCellWidth","columnCount","contentLeft","contentRight","contentTop","contentBottom","nextX","nextY","column","columnWidth","rowHeight","childrenCopy","reverseOrder","fixedWidthGrid","getColumnWidth","childMarginLeft","childMarginRight","childMarginTop","childMarginBottom","childWidth","childHeight","childLeft","childRight","childTop","childBottom","nextColumnWidth","noneBBox","measuredContentWidth","measuredContentHeight","dx_1","dy_1","mwa","mha","ddx","ddy","oldBBox","contentWidth","prevLeft","prevTop","prevBotttom","prevRight","fitsToBounds","deviation","clonedChild","_preloader","stateName","allReady_1","setTapToActivate","handleTapToActivate","initTapTimeout","isLocalElement","handleTapToActivateDeactivation","_tapToActivateTimeout","tapToActivate","newContainer","svgDiv","initSensor","PREFERRED_STRING","valueOf","_purposes","primaryButton","primaryButtonHover","primaryButtonDown","primaryButtonActive","primaryButtonText","primaryButtonStroke","secondaryButton","secondaryButtonHover","secondaryButtonDown","secondaryButtonActive","secondaryButtonText","secondaryButtonStroke","grid","alternativeBackground","alternativeText","disabledBackground","purpose","setFor","_dataSources","_parseDataFrom","_currentDataSetId","_end","rangeChangeDuration","rangeChangeEasing","parsingStepDuration","rawDataInvalid","sequencedInterpolation","sequencedInterpolationDelay","_addAllDataItems","minZoomCount","maxZoomCount","_dataItems","handleDataItemAdded","handleDataItemRemoved","handleDataUserAdded","maxZoomDeclination","processDataItem","hasSomeValues_1","mainDataSet","rawDataItem","childDataItem","anyDataItem","updateDataItem","validateDataElements","removeCount","skipRaw","removeData","invalidateDataUsers","invalidateDataRange","_prevStartIndex","_prevEndIndex","appendDataItems","sliceData","_workingStartIndex","_workingEndIndex","disposeData","_endIndex","_dataSets","getDataItem","startTime","this_1","dataUserDataItem","elapsed","state_1","setData","getDataSource","setDataSourceEvents","dataSourceDateFields","dataSourceNumberFields","loadData","populateDataSourceFields","targetList","keepCount","updateCurrentData","_responsive","zoom","range","declination","maxZoomFactor","_finalStart","_finalEnd","minZoomFactor","rangeChangeAnimation","zoomToIndexes","indexToPosition","dataSets","setDataSet","dataSet","_updateDataItemIndexes","bindDataField","resetProcessedRange","_exportData","_showOnInitDisposer2","ignoreDuplicateOf","FormData","ArrayBuffer","isView","pipe","URLSearchParams","product","assignValue","STRING","NUMBER","DATE","DURATION","PLACEHOLDER","PLACEHOLDER2","SHARED","messages","names","AMElement","_isDisposed","_rotationY","_rotationX","_rotation","_transformString","transfromString","rotateString","svgbbox","attributes","attributeName","attributeValue","getAttrNS","setClass","getProgressNumber","getProgressPercent","getProgressColor","getHybridProperty","AnimationDisposer","_loop","_pause","_delayTimeout","_isFinished","pause","id_1","stopSameAnimations","_startTime","staticOptions","options_1","updateMethod","convertedFrom","applyStaticOptions","resume","setProgress","skipEvent","timeProgress","delayed","killed_1","newOptions","oldOptions","addToUnscopables","groupName","implementation","hasFeature","ghostPaper","getGhostPaper","ghostDiv","ghostSvgContainer","EXISTS","gradientUnits","newPromiseCapability","promiseCapability","createInstance","defaultConfig","instance","axios","spread","variable","nativePropertyIsEnumerable","NASHORN_BUG","1","V","aPossiblePrototype","CORRECT_SETTER","TAG","REPLACE_SUPPORTS_NAMED_GROUPS","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomRight","cornerRadiusBottomLeft","tl","tr","bl","_locale","en","_defaultLocale","defaultLocale","getLocale","prompt","rest","translation","translations","getTranslations","translateAny","setTranslationAny","localeTarget","check","globalThis","EventDispatcher","_listeners","_killed","_iterating","hasListeners","hasListenersByType","killed","enable","disable","_removeListener","_removeExistingListener","_eachListener","TargetedEventDispatcher","namedColors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","hexToRgb","rgbaToRgb","shorthandRegex","hexToRgbWithAlpha","rgbToHex","pad2","rgbToRGBA","interpolate","rgb1","rgb2","getLightnessStep","hsl","rgbToHsl","hslToRgb","hue2rgb","isLight","normalizeArray","allowAboveRoot","up","basename","matchedSlash","xs","resolvedPath","resolvedAbsolute","isAbsolute","trailingSlash","fromParts","toParts","samePartsLength","outputParts","dirname","hasRoot","ext","extname","startDot","startPart","preDotState","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","Interaction","_globalEventsAdded","_pointerEvents","_usePointerEventsOnly","_useTouchEventsOnly","_addHoverEvents","_passiveSupported","_delayedEvents","pointers","pointerdown","pointerup","pointermove","pointercancel","pointerover","pointerout","matchMedia","fullFF","wheel","onmousewheel","passiveSupported","addGlobalEvents","handleGlobalPointerDown","handleGlobalPointerMove","handleGlobalPointerUp","relatedTarget","buttons","handleDocumentLeave","handleGlobalTouchStart","handleGlobalTouchMove","handleGlobalTouchEnd","handleGlobalKeyDown","handleGlobalKeyUp","io","processTouchable","preventDefault","handlePointerOut","handlePointerOver","processMovable","isGlobalElement","handleMouseWheel","lockWheel","handleFocusBlur","handleTouchDown","handlePointerDown","isPaused","getHitOption","disposerKey","ko","directionY","directionX","getPointer","getPointerPoint","addBreadCrumb","handleGlobalMove","processDelayed","preventTouchAction","defaultPrevented","handleGlobalUp","changedTouches","resetPointer","deltaX","deltaY","deltaMode","getMouseOption","WheelEvent","wheelDeltaX","wheelDeltaY","maybePreventDefault","handleHit","lastHit","lastHitPointer","soft","overPointers","handleTrack","hasDelayedOut","behavior","getHoverOption","keepUntil","delayedEvent","stopInertia","applyCursorDownStyle","processDragStart","processResizeStart","sorted","compareDocumentPosition","Node","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_CONTAINS","backwards","restoreCursorDownStyle","swiped","handleSwipe","handleInertia","processResizeStop","cancelable","lastEvent","swiping","handleTransform","skipCheck","handleMoveInertia","handleResizeInertia","inertia","getTrailPoint","getInertiaOption","factor","lastUpEvent","pointer2","pointer1","singlePoint","nextPointer","pointer1Moved","dragStartEvents","handleTransformMove","pointer2Moved","handleTransformResize","pointerMoved","dragTarget","getDragPointer","lastDownEvent","getPointerId","identifier","pointerId","clientX","clientY","isPointerTouch","Touch","PointerEvent","pointerType","MouseEvent","track","swipeCanceled","lockDocument","unlockDocument","restoreAllStyles","lockElement","unlockElement","wheelLockEvent","elementFromPoint","local","setTemporaryStyle","restoreStyle","getSwipeOption","getKeyboardOption","setGlobalStyle","restoreGlobalStyle","tolerance","minTime","getShift","pointerExists","exists","logTouch","TouchEvent","areTransformed","except","defineIterator","ARRAY_ITERATOR","setInternalState","iterated","kind","Arguments","relativeURL","SVGDefaults","Native","_targets","_observer","ResizeObserver","addTarget","box","removeTarget","unobserve","Raf","lastTime_1","currentTime","newSize","_timer","cancelAnimationFrame","makeSensor","ResizeSensor","_sensor","svgContainers","ghost","autoResize","_printing","resizeSensor","checkTransform","_popups","popupTemplate","popup","_readerAlertElement","readerAlertElement","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","redefineAll","setSpecies","anInstance","checkCorrectnessOfIteration","microtask","hostReportErrors","newPromiseCapabilityModule","perform","PROMISE","getInternalPromiseState","PromiseConstructor","$fetch","newGenericPromiseCapability","DISPATCH_EVENT","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","GLOBAL_CORE_JS_PROMISE","PromiseRejectionEvent","FakePromise","INCORRECT_ITERATION","isThenable","isReject","notified","reactions","ok","exited","reaction","fail","rejection","onHandleUnhandled","onUnhandled","IS_UNHANDLED","isUnhandled","unwrap","internalReject","internalResolve","onFulfilled","onRejected","fetch","capability","$promiseResolve","remaining","alreadyCalled","race","getOwnPropertyDescriptorModule","_previousStart","_previousEnd","_prevStart","_prevEnd","_skipRangeEvents","updateWhileMoving","updateThumb","dispatchRangeChange","hideGrips","updateSize","updateExtremes","handleBgHit","makeBusy","spritePoint","thumbX","_thumbAnimation","thumbY","makeUnbusy","_thumb","_unbusyTimeout","stopAnimations","_zoomAnimation","makeUnbusyReal","_usingGrip","innerWidth_1","innerHeight_1","getPosition","__end","skipRangeEvents","fixRange","updateByOrientation","_startGrip","processGrip","_endGrip","handleGripDrag","cursorDownStyle","handleThumbPosition","handleDoubleClick","newStart","newEnd","zoomAnimation","innerWidth_2","innerHeight_2","_hideGrips","_overDisposer","_outDisposer","linear","quadIn","quadOut","quadInOut","polyIn","polyOut","polyInOut","polyIn3","polyOut3","polyInOut3","expIn","expOut","expInOut","sinIn","sinOut","sinInOut","cubicIn","cubicOut","cubicInOut","circleIn","circleOut","circleInOut","b2","b3","b4","b5","b6","b7","b8","b9","bounceIn","bounceOut","bounceInOut","tau","amplitude","period","elasticIn","elasticOut","elasticInOut","stepOptions","passOptions","minColors","minLightness","maxLightness","shuffle","reuse","generate","getReusableColor","tmpstep","curColor","hueStep","hue","hues","applyStepOptions","pass","PromiseCapability","$$resolve","$$reject","SpriteEventDispatcher","_interactionEvents","_dispatchSpriteEvent","_dispatchSpritePointEvent","_addInteractionObjectEvent","IndexedIterable","_array","ListDisposer","ListGrouper","_getKey","_remove","_keys","_groups","_sort","disposeOnRemove","disposer_1","checkBounds","_sortQuicksort","_sortPartition","swap","value_a","value_b","oldArray","ListTemplate","InteractionKeyboardObject","keyboardEvent","_startedOn","speed","accelleration","accellerationDelay","accelleratedMs","accellerationFactor","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tryGet","callee","eject","or"],"mappings":"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","file":"js/chunk-vendors.1a750e7a.js","sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","/**\r\n * Text class deals with all text placed on chart.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../Container\";\r\nimport { registry } from \"../Registry\";\r\nimport { getTextFormatter } from \"../formatters/TextFormatter\";\r\nimport { MultiDisposer } from \"../utils/Disposer\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $dom from \"../utils/DOM\";\r\nimport { defaultRules, ResponsiveBreakpoints } from \"../utils/Responsive\";\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Text is used to display highly configurable, data-enabled textual elements.\r\n *\r\n * ## Data Binding\r\n *\r\n * A Text element can dynamically parse and populate its contents with values\r\n * from a [[DataItem]].\r\n *\r\n * To activate such binding, set element's `dataItem` property.\r\n *\r\n * When activated, text contents will be parsed for special tags, e.g.:\r\n *\r\n * ```TypeScript\r\n * label.dataItem = myDataItem;\r\n * label.text = \"The title is: {title}\";\r\n * ```\r\n * ```JavaScript\r\n * label.dataItem = myDataItem;\r\n * label.text = \"The title is: {title}\";\r\n * ```\r\n *\r\n * The above will automatically replace \"{title}\" in the string with the\r\n * actual data value from `myDataItem`.\r\n *\r\n * Note, that most often dataItem is set by the Component.\r\n *\r\n *\r\n * @see {@link ILabelEvents} for a list of available events\r\n * @see {@link ILabelAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-strings/} for info on string formatting and data binding\r\n * @todo Vertical align\r\n * @important\r\n */\r\nvar Label = /** @class */ (function (_super) {\r\n    __extends(Label, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Label() {\r\n        var _this = \r\n        // Execute super's constructor\r\n        _super.call(this) || this;\r\n        /**\r\n         * Indicates if the whole text does not fit into max dimenstions set for it.\r\n         */\r\n        _this.isOversized = false;\r\n        // Set this class name\r\n        _this.className = \"Label\";\r\n        _this.fill = new InterfaceColorSet().getFor(\"text\");\r\n        // not good to set this, as then these will appear on each label and values set on container won't be applied.\r\n        //this.textDecoration = \"none\";\r\n        //this.fontWeight = \"normal\";\r\n        // Set defaults\r\n        _this.wrap = false;\r\n        _this.truncate = false;\r\n        _this.fullWords = true;\r\n        _this.ellipsis = \"\";\r\n        _this.textAlign = \"start\";\r\n        _this.textValign = \"top\";\r\n        _this.layout = \"absolute\";\r\n        _this.baseLineRatio = -0.27;\r\n        //this.pixelPerfect = true;\r\n        _this._positionPrecision = 1;\r\n        // Add events to watch for maxWidth/maxHeight changes so that we can\r\n        // invalidate this\r\n        _this.events.on(\"maxsizechanged\", function () {\r\n            if (_this.inited) {\r\n                _this.handleMaxSize();\r\n            }\r\n        }, _this, false);\r\n        // this solves strange bug when text just added to svg is 0x0\r\n        _this.events.once(\"validated\", _this.handleValidate, _this, false);\r\n        // Aply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * A placeholder method that is called **after** element finishes drawing\r\n     * itself.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Label.prototype.afterDraw = function () {\r\n        // since we removed validatePosition from sprite, we still need it here to handle rotated text\r\n        _super.prototype.afterDraw.call(this);\r\n        this.validatePosition();\r\n    };\r\n    /**\r\n     * Sets [[Paper]] instance to use to draw elements.\r\n     * @ignore\r\n     * @param paper Paper\r\n     * @return true if paper was changed, false, if it's the same\r\n     */\r\n    Label.prototype.setPaper = function (paper) {\r\n        var changed = _super.prototype.setPaper.call(this, paper);\r\n        if (changed) {\r\n            this.hardInvalidate();\r\n        }\r\n        return changed;\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Label.prototype.handleValidate = function () {\r\n        if ((this.currentText || this.text) && (this.bbox.width == 0 || this.bbox.height == 0)) {\r\n            registry.events.once(\"exitframe\", this.hardInvalidate, this);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Label.prototype.handleMaxSize = function () {\r\n        if ((this.bbox.width > this.availableWidth)\r\n            || ((this.bbox.width < this.availableWidth) && (this.isOversized || this.truncate))\r\n            || (this.bbox.height > this.availableHeight)\r\n            || ((this.bbox.height < this.availableHeight) && this.isOversized)) {\r\n            this.invalidate();\r\n        }\r\n        else {\r\n            this.alignSVGText();\r\n        }\r\n    };\r\n    /**\r\n     * [arrange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     */\r\n    Label.prototype.arrange = function () {\r\n    };\r\n    /**\r\n     * Updates current text according to data item and supported features.\r\n     * Returns `true` if current text has changed.\r\n     *\r\n     * @return Text changed?\r\n     */\r\n    Label.prototype.updateCurrentText = function () {\r\n        // Determine output format\r\n        var output, text;\r\n        if ($utils.isNotEmpty(this.html) && this.paper.supportsForeignObject()) {\r\n            // We favor HTML text if it's set and browser supports `foreignObject`\r\n            output = \"html\";\r\n            text = this.html;\r\n        }\r\n        else {\r\n            output = \"svg\";\r\n            text = this.text;\r\n        }\r\n        // Need to toString source?\r\n        if ($type.isObject(text)) {\r\n            text = text.toString();\r\n        }\r\n        // Need to format text all the time\r\n        if ($type.hasValue(text) && text !== \"\") {\r\n            text = this.populateString(text, this.dataItem);\r\n        }\r\n        if (output == \"html\") {\r\n            if (this._adapterO) {\r\n                text = this._adapterO.apply(\"htmlOutput\", text);\r\n            }\r\n        }\r\n        else {\r\n            if (this._adapterO) {\r\n                text = this._adapterO.apply(\"textOutput\", text);\r\n            }\r\n        }\r\n        // Update the text\r\n        var changed = text != this.currentText || output != this._currentFormat;\r\n        this.currentText = text;\r\n        this._currentFormat = output;\r\n        return changed;\r\n    };\r\n    /**\r\n     * Hard invalidate means the text will be redrawn even if it hasn't changed.\r\n     * This is used when we change `fontSize`, `fontFamily`, or for some other\r\n     * reasons.\r\n     */\r\n    Label.prototype.hardInvalidate = function () {\r\n        this._prevStatus = \"\";\r\n        this.invalidate();\r\n    };\r\n    /**\r\n     * Gets line bbox, uses caching to save cpu\r\n     * @ignore\r\n     */\r\n    Label.prototype.getLineBBox = function (lineInfo) {\r\n        //let cacheKey = lineInfo.text + lineInfo.style;\r\n        //let lineBBox = this.getCache(cacheKey);\r\n        //if (!lineBBox) {\r\n        //lineBBox = lineInfo.element.getBBox();\r\n        //if (lineBBox.width != 0 && lineBBox.height != 0) {\r\n        //\tthis.setCache(cacheKey, lineBBox, 5000);\r\n        //}\r\n        //}\r\n        var element = lineInfo && lineInfo.element;\r\n        var node = element && element.node;\r\n        // Check for the parent Node to avoid FF from throwing errors\r\n        if (node && node.parentNode) {\r\n            lineInfo.bbox = element.getBBox();\r\n        }\r\n    };\r\n    /**\r\n     * Draws the textual label.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Label.prototype.draw = function () {\r\n        // Draw super\r\n        _super.prototype.draw.call(this);\r\n        var oldW = this.bbox.width;\r\n        var oldH = this.bbox.height;\r\n        var topParent = this.topParent;\r\n        if (topParent) {\r\n            if (!topParent.maxWidth || !topParent.maxHeight) {\r\n                topParent.events.once(\"maxsizechanged\", this.hardInvalidate, this, false);\r\n                return;\r\n            }\r\n        }\r\n        // Calculate max width and height\r\n        var maxWidth = $math.max(this.availableWidth - this.pixelPaddingLeft - this.pixelPaddingRight, 0);\r\n        var maxHeight = $math.max(this.availableHeight - this.pixelPaddingTop - this.pixelPaddingBottom, 0);\r\n        // save\r\n        var status = maxHeight + \",\" + maxWidth + this.wrap + this.truncate + this.fullWords + this.rtl + this.ellipsis;\r\n        // Update text\r\n        if (!this.updateCurrentText() && this.inited && this._prevStatus == status) {\r\n            return;\r\n        }\r\n        this._measuredWidth = 0;\r\n        this._measuredHeight = 0;\r\n        // Reset\r\n        this.isOversized = false;\r\n        // Determine output format\r\n        var output = this._currentFormat;\r\n        var text = this.currentText;\r\n        // Empty string\r\n        if (!$type.hasValue(text) || text == \"\") {\r\n            this.element.attr({ display: \"none\" });\r\n            return;\r\n        }\r\n        // Chop up text into lines\r\n        // We're still processing SVG and HTML in the same way for now\r\n        var lines = text.split(\"\\n\");\r\n        // Do we need to go through the trouble of measuring lines\r\n        //let measure: boolean = true;// (lines.length > 1) || this.wrap;\r\n        this._prevStatus = status;\r\n        this.textAlign = this.textAlign;\r\n        // need this to measure\r\n        var display = this.group.getAttr(\"display\");\r\n        if (display == \"none\") {\r\n            this.group.removeAttr(\"display\");\r\n        }\r\n        if (this.textPathElement) {\r\n            this.textPathElement.removeChildren();\r\n        }\r\n        // SVG or HTML?\r\n        if (output === \"svg\") {\r\n            /**\r\n             * SVG\r\n             */\r\n            this.element.removeAttr(\"display\");\r\n            // Clear the element\r\n            var group = this.element;\r\n            this.resetBBox();\r\n            // Init state variables\r\n            var currentHeight = 0;\r\n            var currentFormat = \"\";\r\n            // Process each line\r\n            for (var i = 0; i < lines.length; i++) {\r\n                // Get line\r\n                var line = lines[i];\r\n                // Check if line is empty\r\n                if (line == \"\") {\r\n                    // It is, let's just update currentHeight and go to the next one\r\n                    // If it's the first line, we'll have to use arbirary line height,\r\n                    // since there's nothing to measure. For subsequent lines we can take\r\n                    // previous line's height\r\n                    var tempElement = this.getSVGLineElement(\"\", 0);\r\n                    tempElement.add(this.getSvgElement(\".\", getTextFormatter().translateStyleShortcuts(currentFormat)));\r\n                    group.add(tempElement);\r\n                    var offset = Math.ceil(tempElement.getBBox().height);\r\n                    if (offset > 0) {\r\n                        currentHeight += offset;\r\n                    }\r\n                    group.removeElement(tempElement);\r\n                    // Clear cache if necessary\r\n                    var lineInfo_1 = this.getLineInfo(i);\r\n                    if (lineInfo_1) {\r\n                        lineInfo_1.text = \"\";\r\n                        lineInfo_1.element.textContent = \"\";\r\n                    }\r\n                    continue;\r\n                }\r\n                // Chunk up the line and process each chunk\r\n                var chunks = getTextFormatter().chunk(line, null, this.ignoreFormatting);\r\n                var currentLineHeight = 0;\r\n                var firstChunk = true;\r\n                var skipTextChunks = false;\r\n                // Create line element or grab it from cache\r\n                var lineInfo = this.getLineInfo(i);\r\n                if (lineInfo) {\r\n                    // Empty line\r\n                    lineInfo.text = \"\";\r\n                    lineInfo.element.textContent = \"\";\r\n                }\r\n                else {\r\n                    // Init new line info\r\n                    lineInfo = {\r\n                        \"text\": \"\",\r\n                        \"element\": this.getSVGLineElement(\"\", 0),\r\n                        \"complex\": false\r\n                    };\r\n                    // Create the line element\r\n                    //lineInfo.element = this.getSVGLineElement(\"\", 0);\r\n                    //lineElement = this.getSVGLineElement(\"\", 0);\r\n                    group.add(lineInfo.element);\r\n                }\r\n                lineInfo.element.removeAttr(\"display\");\r\n                lineInfo.element.removeChildren(); // memory leak without this\r\n                if (this.textPathElement) {\r\n                    lineInfo.element.add(this.textPathElement);\r\n                }\r\n                /*// @todo not needed anymore\r\n                if (this.rtl) {\r\n                    chunks.reverse();\r\n                }*/\r\n                // Process each chunk\r\n                for (var x = 0; x < chunks.length; x++) {\r\n                    // If there's more than one chunk, means the line is \"complex\"\r\n                    if (x) {\r\n                        lineInfo.complex = true;\r\n                    }\r\n                    // Get chunk\r\n                    var chunk = chunks[x];\r\n                    // Is this chunk format or text?\r\n                    if (chunk.type === \"format\") {\r\n                        // Log current format, so that we can apply it to multiple lines if\r\n                        // necessary\r\n                        currentFormat = chunk.text;\r\n                    }\r\n                    else {\r\n                        // It's text block\r\n                        // Need to skip?\r\n                        // We do this when truncating. We can't just simply go ahead and\r\n                        // abandon chunk processing as they might have formatting\r\n                        // instructions in them that are relevant for subsequent lines\r\n                        if (skipTextChunks) {\r\n                            continue;\r\n                        }\r\n                        // Add chunk to the current element\r\n                        //lineInfo.element.content += $utils.trim(getTextFormatter().format(currentFormat + chunk.text, output));\r\n                        lineInfo.text = chunk.text;\r\n                        lineInfo.style = getTextFormatter().translateStyleShortcuts(currentFormat);\r\n                        var tspan = this.getSvgElement(lineInfo.text, lineInfo.style);\r\n                        if (this.textPathElement) {\r\n                            this.textPathElement.add(tspan);\r\n                        }\r\n                        else {\r\n                            lineInfo.element.add(tspan);\r\n                        }\r\n                        this.getLineBBox(lineInfo);\r\n                        lineInfo.bbox.width = Math.ceil(lineInfo.bbox.width);\r\n                        // Updated current line height\r\n                        if (currentLineHeight < lineInfo.bbox.height) {\r\n                            currentLineHeight = lineInfo.bbox.height;\r\n                        }\r\n                        // Wrapping?\r\n                        if ((this.wrap || this.truncate) && (lineInfo.bbox.width > maxWidth)) {\r\n                            // Set oversized\r\n                            this.isOversized = true;\r\n                            // Take temporary measurements\r\n                            var lineText = lineInfo.element.textContent;\r\n                            var avgCharWidth = (lineInfo.bbox.width / lineText.length); // * .9;\r\n                            // Calculate average number of symbols / width\r\n                            var excessChars = $math.min(Math.ceil((lineInfo.bbox.width - maxWidth) / avgCharWidth), lineText.length);\r\n                            // Are we truncating or auto-wrapping text?\r\n                            if (this.truncate) {\r\n                                /**\r\n                                 * Processing line truncation\r\n                                 * With the addition of each text chunk we measure if current\r\n                                 * line does not exceed maxWidth. If it does, we will stop\r\n                                 * addition of further chunks as well as try to truncate\r\n                                 * current or any number of previous chunks with an added\r\n                                 * ellipsis\r\n                                 */\r\n                                // Indicator whether we need to add ellipsis to the current\r\n                                // element, even if it fits. This is needed to indicate\r\n                                // whether we have already removed some subsequent chunks in\r\n                                // which case we need to add ellipsis.\r\n                                var addEllipsis = false;\r\n                                // Process each child in the temporary line, until the whole\r\n                                // line fits, preferably with an ellipsis\r\n                                // TODO use iterator instead\r\n                                var node_1 = lineInfo.element.node;\r\n                                if (node_1 && node_1.childNodes) {\r\n                                    for (var e = lineInfo.element.node.childNodes.length - 1; e >= 0; e--) {\r\n                                        // Get current element\r\n                                        var node_2 = lineInfo.element.node.childNodes[e];\r\n                                        // Add ellipsis only if previous chunk was removed in full\r\n                                        // and this chunk already fits\r\n                                        //if (addEllipsis && (bbox.width <= maxWidth)) {\r\n                                        if (addEllipsis && (lineInfo.bbox.width <= maxWidth)) {\r\n                                            // Add ellipsis\r\n                                            node_2.textContent += \" \" + this.ellipsis;\r\n                                            // Measure again (we need to make sure ellipsis fits)\r\n                                            lineInfo.bbox = lineInfo.element.getBBox();\r\n                                            lineInfo.bbox.width = Math.floor(lineInfo.bbox.width);\r\n                                            // If it fits, we're done here\r\n                                            // If it doesn't we continue rolling\r\n                                            if (lineInfo.bbox.width <= maxWidth) {\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                        addEllipsis = false;\r\n                                        // Get element text\r\n                                        var elementText = node_2.textContent;\r\n                                        // Calculate average number of symbols / width\r\n                                        lineText = lineInfo.element.textContent;\r\n                                        excessChars = $math.min(Math.ceil((lineInfo.bbox.width - maxWidth) / avgCharWidth), lineText.length);\r\n                                        // Do this until we fit\r\n                                        while ((lineInfo.bbox.width > maxWidth) && (excessChars <= lineText.length) && (excessChars > 0)) {\r\n                                            // Calculate max available chars\r\n                                            var maxChars = $math.max(lineText.length - excessChars - this.ellipsis.length, 1);\r\n                                            // Is there anything left?\r\n                                            if (maxChars <= 1) {\r\n                                                // Nope, let's jump to the previous item\r\n                                                // Set excess characters to zero so that this loop does\r\n                                                // not repeat when it over\r\n                                                excessChars = 0;\r\n                                                // Add ellipsis to previous item\r\n                                                // Subsequent iterations will check if the ellipsis fits\r\n                                                if (e > 0) {\r\n                                                    // Indicating to add ellipsis to previous item\r\n                                                    addEllipsis = true;\r\n                                                    // Removing this node\r\n                                                    lineInfo.element.node.removeChild(node_2);\r\n                                                }\r\n                                            }\r\n                                            // Truncate the text\r\n                                            elementText = $utils.truncateWithEllipsis(elementText, maxChars, this.ellipsis, this.fullWords, this.rtl);\r\n                                            if ((elementText.length > maxChars) && this.fullWords) {\r\n                                                // Still too long?\r\n                                                // Let's try truncating breaking words anyway\r\n                                                elementText = $utils.truncateWithEllipsis(elementText, maxChars, this.ellipsis, false, this.rtl);\r\n                                            }\r\n                                            // Set truncated text\r\n                                            node_2.textContent = elementText;\r\n                                            // Measure again\r\n                                            lineInfo.bbox = lineInfo.element.getBBox();\r\n                                            lineInfo.bbox.width = Math.floor(lineInfo.bbox.width);\r\n                                            // Increase excess characters count, just in case it still\r\n                                            // doesn't fit and we have to go at it again\r\n                                            excessChars = Math.ceil(excessChars * 1.1);\r\n                                        }\r\n                                        // Do not process further chunks\r\n                                        skipTextChunks = true;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                /**\r\n                                 * Processign auto-wrap\r\n                                 * In this case we're going to be adding text chunks until\r\n                                 * they don't fit into current line. Once that happens we will\r\n                                 * inject the rest of the chunks to the next line\r\n                                 */\r\n                                // Get last node added and measure it\r\n                                var node_3 = lineInfo.element.node;\r\n                                if (node_3) {\r\n                                    var lastNode = lineInfo.element.node.lastChild;\r\n                                    // Init split lines\r\n                                    var splitLines = void 0;\r\n                                    while ((lineInfo.bbox.width > maxWidth) && (excessChars <= lineText.length) && (excessChars > 0)) {\r\n                                        // Calculate max available chars\r\n                                        var maxChars = $math.max(chunk.text.length - excessChars, 1);\r\n                                        // Don't split the words mid-word if it's not the first chunk\r\n                                        // in the line\r\n                                        if (firstChunk) {\r\n                                            // Split mid-word if necessary\r\n                                            splitLines = $utils.splitTextByCharCount(chunk.text, maxChars, true, this.rtl);\r\n                                        }\r\n                                        else {\r\n                                            // Don't split mid-word\r\n                                            splitLines = $utils.splitTextByCharCount(chunk.text, maxChars, true, this.rtl);\r\n                                            // Check if the first word is too long\r\n                                            if ((splitLines[0].length > maxChars) || maxChars === 1) {\r\n                                                // Yes - move the whole chunk to the next line\r\n                                                // Remove the element we just added\r\n                                                lineInfo.element.node.removeChild(lastNode);\r\n                                                // Break out of the while on next cycle\r\n                                                excessChars = 0;\r\n                                            }\r\n                                        }\r\n                                        // Use the first line to update last item\r\n                                        if (excessChars > 0) {\r\n                                            lastNode.textContent = getTextFormatter().cleanUp($utils.trim(splitLines.shift()));\r\n                                        }\r\n                                        // Measure again, just in case\r\n                                        lineInfo.bbox = lineInfo.element.getBBox();\r\n                                        lineInfo.bbox.width = Math.floor(lineInfo.bbox.width);\r\n                                        // Increase excess characters count, just in case it still\r\n                                        // doesn't fit and we have to go at it again\r\n                                        excessChars = Math.ceil(excessChars * 1.1);\r\n                                    }\r\n                                    // Construct the rest of the line\r\n                                    if (splitLines.length > 0) {\r\n                                        var restOfLine = \"\";\r\n                                        // Add leftovers from splitting the current chunk\r\n                                        if ($type.hasValue(splitLines)) {\r\n                                            if (this.rtl) {\r\n                                                restOfLine += splitLines.join(\"\") + currentFormat;\r\n                                            }\r\n                                            else {\r\n                                                restOfLine += currentFormat + splitLines.join(\"\").replace(/([\\[\\]]{1})/g, \"$1$1\");\r\n                                            }\r\n                                        }\r\n                                        // Add the rest of the chunks\r\n                                        for (var c = x + 1; c < chunks.length; c++) {\r\n                                            if (chunks[c].type == \"value\") {\r\n                                                // We're escaping single square brackets that were\r\n                                                // cleaned up by chunk() back to double square brackets\r\n                                                // so that they are not being treated as format on\r\n                                                // next pass.\r\n                                                restOfLine += chunks[c].text.replace(/([\\[\\]]{1})/g, \"$1$1\");\r\n                                            }\r\n                                            else {\r\n                                                restOfLine += chunks[c].text;\r\n                                            }\r\n                                        }\r\n                                        // Inject the rest of the lines as chunks for subsequent\r\n                                        lines.splice(i + 1, 0, restOfLine);\r\n                                    }\r\n                                    // Skip processing the rest of the chunks\r\n                                    skipTextChunks = true;\r\n                                }\r\n                            }\r\n                        }\r\n                        // Let's update the text's bbox with the line's one\r\n                        if (this.bbox.width < lineInfo.bbox.width) {\r\n                            this.bbox.width = lineInfo.bbox.width;\r\n                        }\r\n                        // commented to avoid bug (seen on sankey link) where text is incorrectly aligned\r\n                        //if (this.bbox.x > lineInfo.bbox.x) {\r\n                        //this.bbox.x = lineInfo.bbox.x;\r\n                        //}\r\n                        this.bbox.height = currentHeight + currentLineHeight;\r\n                        // Position current line\r\n                        if (!this.textPathElement) {\r\n                            lineInfo.element.attr({\r\n                                \"x\": \"0\",\r\n                                \"y\": currentHeight + currentLineHeight,\r\n                                \"dy\": $math.round((this.baseLineRatio * currentLineHeight), 3).toString()\r\n                            });\r\n                        }\r\n                        else {\r\n                            lineInfo.element.attr({\r\n                                \"dy\": -this.paddingBottom.toString()\r\n                            });\r\n                        }\r\n                        firstChunk = false;\r\n                    }\r\n                }\r\n                // Trim the last item\r\n                var node = lineInfo.element.node;\r\n                if (node) {\r\n                    var lastNode = node.lastChild;\r\n                    if (lastNode) {\r\n                        lastNode.textContent = this.rtl ?\r\n                            $utils.ltrim(lastNode.textContent) :\r\n                            $utils.rtrim(lastNode.textContent);\r\n                    }\r\n                }\r\n                // Increment collective height\r\n                currentHeight += currentLineHeight;\r\n                // Save line cache\r\n                this.addLineInfo(lineInfo, i);\r\n            }\r\n            // Check if maybe we need to hide the whole label if it doesn't fit\r\n            this.maybeHideOversized();\r\n            this.measureFailed = false;\r\n            if (this.bbox.width == 0 || this.bbox.height == 0) {\r\n                this.measureFailed = true;\r\n            }\r\n            // Updated measured dims\r\n            this._measuredWidth = $math.round($math.max(this.bbox.width, this.pixelWidth - this.pixelPaddingLeft - this.pixelPaddingRight));\r\n            this._measuredHeight = $math.round($math.max(this.bbox.height, this.pixelHeight - this.pixelPaddingTop - this.pixelPaddingBottom));\r\n            // Align the lines\r\n            this.alignSVGText();\r\n            this.bbox.width = this._measuredWidth;\r\n            this.bbox.height = this._measuredHeight;\r\n            if (oldH != this._measuredHeight || oldW != this._measuredWidth) {\r\n                this.dispatch(\"transformed\");\r\n            }\r\n            this.hideUnused(lines.length);\r\n        }\r\n        else {\r\n            /**\r\n             * HTML\r\n             */\r\n            this.element.removeAttr(\"display\");\r\n            this.resetBBox();\r\n            // Clear the element\r\n            var group = this.element;\r\n            group.removeChildren();\r\n            // Create a ForeignObject to use as HTML container\r\n            var fo = this.paper.foreignObject();\r\n            group.add(fo);\r\n            // Set widths on foreignObject so that autosizing measurements work\r\n            // This will bet reset to actual content width/height\r\n            if (this.maxWidth) {\r\n                fo.attr({\r\n                    width: this.maxWidth\r\n                });\r\n            }\r\n            if (this.maxHeight) {\r\n                fo.attr({\r\n                    height: this.maxHeight\r\n                });\r\n            }\r\n            // Create line element\r\n            //let lineElement: HTMLElement = this.getHTMLLineElement(getTextFormatter().format(this.html, output));\r\n            var lineElement = this.getHTMLLineElement(text);\r\n            fo.node.appendChild(lineElement);\r\n            // Temporarily set to inline-block so we can measure real width and height\r\n            lineElement.style.display = \"inline-block\";\r\n            var clientWidth = lineElement.clientWidth;\r\n            var clientHeight = lineElement.clientHeight;\r\n            lineElement.style.display = \"block\";\r\n            this._bbox = {\r\n                x: 0,\r\n                y: 0,\r\n                width: clientWidth,\r\n                height: clientHeight\r\n            };\r\n            // Set exact dimensions of foreignObject so it is sized exactly as\r\n            // the content within\r\n            fo.attr({\r\n                width: clientWidth,\r\n                height: clientHeight\r\n            });\r\n            // Check if maybe we need to hide the whole label if it doesn't fit\r\n            this.maybeHideOversized();\r\n            // Set measurements and update bbox\r\n            this._measuredWidth = $math.max(this.bbox.width, this.pixelWidth - this.pixelPaddingLeft - this.pixelPaddingRight);\r\n            this._measuredHeight = $math.max(this.bbox.height, this.pixelHeight - this.pixelPaddingTop - this.pixelPaddingBottom);\r\n            this.bbox.width = this._measuredWidth;\r\n            this.bbox.height = this._measuredHeight;\r\n            // Don't let labels bleed out of the alotted area\r\n            if (this.truncate) {\r\n                lineElement.style.overflow = \"hidden\";\r\n            }\r\n            if ((clientWidth > maxWidth) || (clientHeight > maxHeight)) {\r\n                this.isOversized = true;\r\n            }\r\n        }\r\n        // Set applicable styles\r\n        this.setStyles();\r\n        this.updateCenter();\r\n        this.updateBackground();\r\n        if (display == \"none\") {\r\n            this.group.attr({ display: \"none\" });\r\n        }\r\n        if (this.pathElement) {\r\n            this.paper.appendDef(this.pathElement);\r\n        }\r\n    };\r\n    /**\r\n     * Hides element if it does not fit into available space\r\n     */\r\n    Label.prototype.maybeHideOversized = function () {\r\n        if (this.hideOversized) {\r\n            if ((this.availableWidth < this.bbox.width) || (this.availableHeight < this.bbox.height)) {\r\n                this.element.attr({ display: \"none\" });\r\n                this.isOversized = true;\r\n            }\r\n            else {\r\n                this.element.removeAttr(\"display\");\r\n                this.isOversized = false;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Aligns the lines horizontally ant vertically, based on properties.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Label.prototype.alignSVGText = function () {\r\n        // Get Group\r\n        var group = this.element;\r\n        var children = group.node.children || group.node.childNodes;\r\n        // Is there anything to align?\r\n        if (!children || (children && children.length == 0)) {\r\n            return;\r\n        }\r\n        var width = this._measuredWidth;\r\n        var height = this._measuredHeight;\r\n        // TODO maybe these aren't needed ?\r\n        $utils.used(this.pixelPaddingLeft);\r\n        $utils.used(this.pixelPaddingRight);\r\n        $utils.used(this.pixelPaddingTop);\r\n        $utils.used(this.pixelPaddingBottom);\r\n        // Process each line\r\n        //$iter.each(group.children.backwards().iterator(), (element) => {\r\n        for (var i = children.length - 1; i >= 0; i--) {\r\n            // Align horizontally\r\n            // Since we are using `text-anchor` for horizontal alignment, all we need\r\n            // to do here is move the `x` position\r\n            var node = children[i];\r\n            node.setAttribute(\"text-anchor\", this.textAlign);\r\n            if (this.textPathElement) {\r\n                node.removeAttribute(\"x\");\r\n                node.removeAttribute(\"y\");\r\n            }\r\n            else {\r\n                switch (this.textAlign) {\r\n                    case \"middle\":\r\n                        node.setAttribute(\"x\", (width / 2).toString() + \"px\");\r\n                        break;\r\n                    case \"end\":\r\n                        if (this.rtl) {\r\n                        }\r\n                        else {\r\n                            node.setAttribute(\"x\", width.toString());\r\n                        }\r\n                        break;\r\n                    default:\r\n                        if (this.rtl) {\r\n                            node.setAttribute(\"x\", width.toString());\r\n                        }\r\n                        else {\r\n                            node.removeAttribute(\"text-anchor\");\r\n                        }\r\n                        break;\r\n                }\r\n                var y = $type.toNumber(node.getAttribute(\"y\"));\r\n                switch (this.textValign) {\r\n                    case \"middle\":\r\n                        node.setAttribute(\"y\", ((y || 0) + (height - this.bbox.height) / 2).toString());\r\n                        break;\r\n                    case \"bottom\":\r\n                        node.setAttribute(\"y\", ((y || 0) + height - this.bbox.height).toString());\r\n                        break;\r\n                    default:\r\n                        node.setAttribute(\"y\", (y || 0).toString());\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Produces an SVG line element with formatted text.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text    Text to wrap into line\r\n     * @param y       Current line vertical position\r\n     * @return A DOM element\r\n     * @todo Implement HTML support\r\n     */\r\n    Label.prototype.getSVGLineElement = function (text, y) {\r\n        // Create a <text> node and set text\r\n        var element = this.paper.addGroup(\"text\");\r\n        element.textContent = text;\r\n        // Set parameters\r\n        element.attr({\r\n            \"x\": \"0\"\r\n            //\"alignment-baseline\": \"hanging\",\r\n            //\"baseline-shift\": \"-20%\",\r\n            //\"text-anchor\": \"center\"\r\n        });\r\n        // Set `y` position\r\n        if ($type.hasValue(y)) {\r\n            element.attr({\r\n                \"y\": y.toString()\r\n            });\r\n        }\r\n        // Don't let labels blled out of the alotted area\r\n        if (this.truncate || this.wrap) {\r\n            element.attr({ \"overflow\": \"hidden\" });\r\n        }\r\n        // Add RTL?\r\n        if (this.rtl) {\r\n            element.attr({\r\n                \"direction\": \"rtl\",\r\n            });\r\n        }\r\n        return element;\r\n    };\r\n    /**\r\n     * Resets cached BBox.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Label.prototype.resetBBox = function () {\r\n        this._bbox = { x: 0, y: 0, width: 0, height: 0 };\r\n    };\r\n    /**\r\n     * Creates and returns an HTML line element (`<div>`).\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Text to add\r\n     * @return `<div>` element reference\r\n     */\r\n    Label.prototype.getHTMLLineElement = function (text) {\r\n        // Create the <div> element\r\n        var div = document.createElement(\"div\");\r\n        div.innerHTML = text;\r\n        // Set text alignment\r\n        switch (this.textAlign) {\r\n            case \"middle\":\r\n                div.style.textAlign = \"center\";\r\n                break;\r\n            case \"end\":\r\n                div.style.textAlign = \"right\";\r\n                break;\r\n        }\r\n        // Disable or enable wrapping\r\n        if (this.wrap) {\r\n            div.style.wordWrap = \"break-word\";\r\n        }\r\n        else {\r\n            div.style.whiteSpace = \"nowrap\";\r\n        }\r\n        // Don't let labels bleed out of the alotted area\r\n        // Moved to `draw()` because setting \"hidden\" kills all measuring\r\n        /*if (this.truncate) {\r\n            div.style.overflow = \"hidden\";\r\n        }*/\r\n        // Set RTL-related styles\r\n        if (this.rtl) {\r\n            div.style.direction = \"rtl\";\r\n            //div.style.unicodeBidi = \"bidi-override\";\r\n        }\r\n        // Translate some of the SVG styles into CSS\r\n        if ($type.hasValue(this.fill)) {\r\n            div.style.color = this.fill.toString();\r\n        }\r\n        return div;\r\n    };\r\n    /**\r\n     * Applies specific styles to text to make it not selectable, unless it is\r\n     * explicitly set as `selectable`.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Set styles via AMElement\r\n     */\r\n    Label.prototype.setStyles = function () {\r\n        var group = this.element;\r\n        if (!this.selectable || this.draggable || this.resizable || this.swipeable) {\r\n            group.addStyle({\r\n                \"webkitUserSelect\": \"none\",\r\n                \"msUserSelect\": \"none\"\r\n            });\r\n        }\r\n        else if (this.selectable) {\r\n            group.removeStyle(\"webkitUserSelect\");\r\n            group.removeStyle(\"msUserSelect\");\r\n        }\r\n    };\r\n    /**\r\n     * Hides unused lines\r\n     */\r\n    Label.prototype.hideUnused = function (index) {\r\n        this.initLineCache();\r\n        var lines = this.getCache(\"lineInfo\");\r\n        if (lines.length >= index) {\r\n            for (var i = index; i < lines.length; i++) {\r\n                var line = lines[i];\r\n                if (line && line.element) {\r\n                    line.element.attr({ \"display\": \"none\" });\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Label.prototype, \"text\", {\r\n        /**\r\n         * @return SVG text\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"text\");\r\n        },\r\n        /**\r\n         * An SVG text.\r\n         *\r\n         * Please note that setting `html` will override this setting if browser\r\n         * supports `foreignObject` in SGV, such as most modern browsers excluding\r\n         * IEs.\r\n         *\r\n         * @param value  SVG Text\r\n         */\r\n        set: function (value) {\r\n            //this.setPropertyValue(\"html\", undefined);\r\n            this.setPropertyValue(\"text\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"path\", {\r\n        /**\r\n         * @return Path\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"path\");\r\n        },\r\n        /**\r\n         * An SVG path string to position text along. If set, the text will follow\r\n         * the curvature of the path.\r\n         *\r\n         * Location along the path can be set using `locationOnPath`.\r\n         *\r\n         * IMPORTANT: Only SVG text can be put on path. If you are using HTML text\r\n         * this setting will be ignored.\r\n         *\r\n         * @since 4.1.2\r\n         * @param  value  Path\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"path\", value, true)) {\r\n                if (this.pathElement) {\r\n                    this.pathElement.dispose();\r\n                }\r\n                if (this.textPathElement) {\r\n                    this.textPathElement.dispose();\r\n                }\r\n                this.pathElement = this.paper.add(\"path\");\r\n                this.pathElement.attr({ \"d\": value });\r\n                this.pathElement.attr({ \"id\": \"text-path-\" + this.uid });\r\n                this._disposers.push(this.pathElement);\r\n                this.textPathElement = this.paper.addGroup(\"textPath\");\r\n                this.textPathElement.attrNS($dom.XLINK, \"xlink:href\", \"#text-path-\" + this.uid);\r\n                // TODO remove after https://bugzilla.mozilla.org/show_bug.cgi?id=455986 is fixed\r\n                this.textPathElement.attr({ \"path\": value });\r\n                this._disposers.push(this.textPathElement);\r\n                this.hardInvalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"locationOnPath\", {\r\n        /**\r\n         * @return Relatvie location on path\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"locationOnPath\");\r\n        },\r\n        /**\r\n         * Relative label location on `path`. Value range is from 0 (beginning)\r\n         * to 1 (end).\r\n         *\r\n         * Works only if you set `path` setting to an SVG path.\r\n         *\r\n         * @since 4.1.2\r\n         * @default 0\r\n         * @param  value  Relatvie location on path\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"locationOnPath\", value);\r\n            if (this.textPathElement) {\r\n                this.textPathElement.attr({ \"startOffset\": (value * 100) + \"%\" });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"baseLineRatio\", {\r\n        /**\r\n         * @return Base line ratio\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"baseLineRatio\");\r\n        },\r\n        /**\r\n         * A ratio to calculate text baseline. Ralative distance from the bottom of\r\n         * the label.\r\n         *\r\n         * @since 4.4.2\r\n         * @default -0.27\r\n         * @param  value  Base line ratio\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"baseLineRatio\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"wrap\", {\r\n        /**\r\n         * @return Auto-wrap enabled or not\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"wrap\");\r\n        },\r\n        /**\r\n         * Enables or disables autowrapping of text.\r\n         *\r\n         * @param value  Auto-wrapping enabled\r\n         */\r\n        set: function (value) {\r\n            this.resetBBox();\r\n            this.setPropertyValue(\"wrap\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"truncate\", {\r\n        /**\r\n         * @return Truncate text?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"truncate\");\r\n        },\r\n        /**\r\n         * Indicates if text lines need to be truncated if they do not fit, using\r\n         * configurable `ellipsis` string.\r\n         *\r\n         * `truncate` overrides `wrap` if both are set to `true`.\r\n         *\r\n         * NOTE: For HTML text, this setting **won't** trigger a parser and actual\r\n         * line truncation with ellipsis. It will just hide everything that goes\r\n         * outside the label.\r\n         *\r\n         * @param value  trincate text?\r\n         */\r\n        set: function (value) {\r\n            this.resetBBox();\r\n            this.setPropertyValue(\"truncate\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"fullWords\", {\r\n        /**\r\n         * @return Truncate on full words?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"fullWords\");\r\n        },\r\n        /**\r\n         * If `truncate` is enabled, should Label try to break only on full words\r\n         * (`true`), or whenever needed, including middle of the word. (`false`)\r\n         *\r\n         * @default true\r\n         * @param value  Truncate on full words?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"fullWords\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"ellipsis\", {\r\n        /**\r\n         * @return Ellipsis string\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"ellipsis\");\r\n        },\r\n        /**\r\n         * Ellipsis character to use if `truncate` is enabled.\r\n         *\r\n         * @param value Ellipsis string\r\n         * @default \"...\"\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"ellipsis\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"selectable\", {\r\n        /**\r\n         * @return Text selectable?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"selectable\");\r\n        },\r\n        /**\r\n         * Forces the text to be selectable. This setting will be ignored if the\r\n         * object has some kind of interaction attached to it, such as it is\r\n         * `draggable`, `swipeable`, `resizable`.\r\n         *\r\n         * @param value  Text selectable?\r\n         * @default false\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"selectable\", value, true);\r\n            this.setStyles();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"textAlign\", {\r\n        /**\r\n         * @return Alignment\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"textAlign\");\r\n        },\r\n        /**\r\n         * Horizontal text alignment.\r\n         *\r\n         * Available choices:\r\n         * * \"start\"\r\n         * * \"middle\"\r\n         * * \"end\"\r\n         *\r\n         * @param value  Alignment\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"textAlign\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"textValign\", {\r\n        /**\r\n         * @ignore Exclude from docs (not used)\r\n         * @return Alignment\r\n         * @deprecated\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"textValign\");\r\n        },\r\n        /**\r\n         * Vertical text alignment.\r\n         *\r\n         * @ignore Exclude from docs (not used)\r\n         * @param value  Alignment\r\n         * @deprecated\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"textValign\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"html\", {\r\n        /**\r\n         * @return HTML content\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"html\");\r\n        },\r\n        /**\r\n         * Raw HTML to be used as text.\r\n         *\r\n         * NOTE: HTML text is subject to browser support. It relies on browsers\r\n         * supporting SVG `foreignObject` nodes. Some browsers (read IEs) do not\r\n         * support it. On those browsers, the text will fall back to basic SVG text,\r\n         * striping out all HTML markup and styling that goes with it.\r\n         *\r\n         * For more information about `foreignObject` and its browser compatibility\r\n         * refer to [this page](https://developer.mozilla.org/en/docs/Web/SVG/Element/foreignObject#Browser_compatibility).\r\n         *\r\n         * @param value HTML text\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"html\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"hideOversized\", {\r\n        /**\r\n         * @return Hide if text does not fit?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"hideOversized\");\r\n        },\r\n        /**\r\n         * Indicates whether the whole text should be hidden if it does not fit into\r\n         * its allotted space.\r\n         *\r\n         * @param value  Hide if text does not fit?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"hideOversized\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"ignoreFormatting\", {\r\n        /**\r\n         * @return Ignore formatting?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"ignoreFormatting\");\r\n        },\r\n        /**\r\n         * If set to `true` square-bracket formatting blocks will be treated as\r\n         * regular text.\r\n         *\r\n         * @default false\r\n         * @param value  Ignore formatting?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"ignoreFormatting\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Override `mesaureElement` so it does not get measure again, because\r\n     * internal `_bbox` is being updated by measuring routines in Text itself.\r\n     */\r\n    Label.prototype.measureElement = function () { };\r\n    /**\r\n     * Returns information about a line element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param index  Line index\r\n     * @return Line info object\r\n     */\r\n    Label.prototype.getLineInfo = function (index) {\r\n        this.initLineCache();\r\n        var lines = this.getCache(\"lineInfo\");\r\n        return lines.length > index ? lines[index] : undefined;\r\n    };\r\n    /**\r\n     * Adds a line to line info cache.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param line     Line info object\r\n     * @param index    Insert at specified index\r\n     */\r\n    Label.prototype.addLineInfo = function (line, index) {\r\n        this.initLineCache();\r\n        this.getCache(\"lineInfo\")[index] = line;\r\n    };\r\n    /**\r\n     * Checks if line cache is initialized and initializes it.\r\n     */\r\n    Label.prototype.initLineCache = function () {\r\n        if (!$type.hasValue(this.getCache(\"lineInfo\"))) {\r\n            this.setCache(\"lineInfo\", [], 0);\r\n        }\r\n    };\r\n    /**\r\n     * Sets a [[DataItem]] to use for populating dynamic sections of the text.\r\n     *\r\n     * Check the description for [[Text]] class, for data binding.\r\n     *\r\n     * @param dataItem Data item\r\n     */\r\n    Label.prototype.setDataItem = function (dataItem) {\r\n        if (this._sourceDataItemEvents) {\r\n            this._sourceDataItemEvents.dispose();\r\n        }\r\n        if (dataItem) {\r\n            this._sourceDataItemEvents = new MultiDisposer([\r\n                dataItem.events.on(\"valuechanged\", this.invalidate, this, false),\r\n                dataItem.events.on(\"workingvaluechanged\", this.invalidate, this, false),\r\n                dataItem.events.on(\"calculatedvaluechanged\", this.invalidate, this, false),\r\n                dataItem.events.on(\"propertychanged\", this.invalidate, this, false)\r\n            ]);\r\n        }\r\n        _super.prototype.setDataItem.call(this, dataItem);\r\n    };\r\n    Object.defineProperty(Label.prototype, \"availableWidth\", {\r\n        /**\r\n         * Returns available horizontal space.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Available width (px)\r\n         */\r\n        get: function () {\r\n            return $type.hasValue(this.maxWidth) ? this.maxWidth : this.pixelWidth;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"availableHeight\", {\r\n        /**\r\n         * Returns available vertical space.\r\n         *\r\n         * @return Available height (px)\r\n         */\r\n        get: function () {\r\n            return $type.hasValue(this.maxHeight) ? this.maxHeight : this.pixelHeight;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // temp, replacing textFormatter method\r\n    Label.prototype.getSvgElement = function (text, style) {\r\n        var element = this.paper.add(\"tspan\");\r\n        element.textContent = text;\r\n        if (style) {\r\n            element.node.setAttribute(\"style\", style);\r\n        }\r\n        return element;\r\n    };\r\n    /**\r\n     * Invalidates the whole element, including layout AND all its child\r\n     * elements.\r\n     */\r\n    Label.prototype.deepInvalidate = function () {\r\n        _super.prototype.deepInvalidate.call(this);\r\n        this.hardInvalidate();\r\n    };\r\n    Object.defineProperty(Label.prototype, \"readerTitle\", {\r\n        /**\r\n         * @return Title\r\n         */\r\n        get: function () {\r\n            var title = this.getPropertyValue(\"readerTitle\");\r\n            if (!title) {\r\n                title = this.populateString($utils.plainText($utils.isNotEmpty(this.html)\r\n                    ? this.html\r\n                    : this.text));\r\n            }\r\n            return title;\r\n        },\r\n        /**\r\n         * Screen reader title of the element.\r\n         *\r\n         * @param value Title\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"readerTitle\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Label;\r\n}(Container));\r\nexport { Label };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Label\"] = Label;\r\n/**\r\n * Add default responsive rules\r\n */\r\n/**\r\n * Hide labels added directly to chart, like titles if chart is short.\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.heightXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof Label && target.parent && target.parent.isBaseSprite) {\r\n            var state = target.states.create(stateId);\r\n            state.properties.disabled = true;\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n//# sourceMappingURL=Label.js.map","import { StyleRule } from \"../utils/DOM\";\r\nimport { Dictionary } from \"../utils/Dictionary\";\r\nimport { MultiDisposer, CounterDisposer } from \"../utils/Disposer\";\r\nimport { InterfaceColorSet } from \"../utils/InterfaceColorSet\";\r\nvar rules = new Dictionary();\r\n/**\r\n * Default CSS for Popup.\r\n *\r\n * @ignore Exclude from docs\r\n * @param prefix  Prefix for CSS classes\r\n * @return Disposer for the CSS definition\r\n */\r\nexport default function (element, prefix) {\r\n    if (!prefix) {\r\n        prefix = \"ampopup\";\r\n    }\r\n    var cs = new InterfaceColorSet();\r\n    var fg = cs.getFor(\"text\");\r\n    var bg = cs.getFor(\"background\");\r\n    bg.alpha = 0.8;\r\n    var abg = cs.getFor(\"alternativeBackground\");\r\n    abg.alpha = 0.05;\r\n    var counter = rules.insertKeyIfEmpty(prefix, function () {\r\n        var disposer = new MultiDisposer([\r\n            new StyleRule(element, \".\" + prefix, {\r\n                //\"width\": \"100%\",\r\n                //\"height\": \"100%\",\r\n                \"overflow\": \"visible\",\r\n                \"position\": \"absolute\",\r\n                \"top\": \"0\",\r\n                \"left\": \"0\",\r\n                \"z-index\": \"2000\"\r\n            }),\r\n            new StyleRule(element, \".\" + prefix + \"-curtain\", {\r\n                \"width\": \"100%\",\r\n                \"height\": \"100%\",\r\n                \"position\": \"absolute\",\r\n                \"top\": \"0\",\r\n                \"left\": \"0\",\r\n                \"z-index\": \"2001\",\r\n                \"background-color\": bg.hex,\r\n                \"opacity\": \"0.5\"\r\n            }),\r\n            new StyleRule(element, \".\" + prefix + \"-header\", {\r\n                \"display\": \"block\",\r\n                \"width\": \"100%\",\r\n                \"min-height\": \"1.8em\",\r\n                \"background\": abg.rgba\r\n            }),\r\n            new StyleRule(element, \".\" + prefix + \"-title\", {\r\n                \"font-weight\": \"bold\",\r\n                \"font-size\": \"110%\",\r\n                \"padding\": \"0.5em 1.2em 0.5em 1em\"\r\n            }),\r\n            new StyleRule(element, \".\" + prefix + \"-content\", {\r\n                /*\"width\": \"100%\",\r\n                \"height\": \"100%\",*/\r\n                // \"padding\": \"2em 1em 1em 1em\",\r\n                \"background\": bg.hex,\r\n                \"background-color\": bg.rgba,\r\n                \"color\": fg.hex,\r\n                \"display\": \"inline-block\",\r\n                \"position\": \"absolute\",\r\n                \"top\": \"0\",\r\n                \"left\": \"0\",\r\n                \"max-width\": \"90%\",\r\n                \"max-height\": \"90%\",\r\n                \"overflow\": \"auto\",\r\n                \"z-index\": \"2002\"\r\n            }),\r\n            new StyleRule(element, \".\" + prefix + \"-inside\", {\r\n                \"padding\": \"1em\"\r\n            }),\r\n            new StyleRule(element, \".\" + prefix + \"-close\", {\r\n                \"display\": \"block\",\r\n                \"position\": \"absolute\",\r\n                \"top\": \"0.3em\",\r\n                \"right\": \"0.3em\",\r\n                \"background-color\": \"rgb(100, 100, 100)\",\r\n                \"background\": \"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center\",\r\n                \"background-size\": \"80%\",\r\n                \"width\": \"1.2em\",\r\n                \"height\": \"1.2em\",\r\n                \"cursor\": \"pointer\"\r\n            }),\r\n        ]);\r\n        return new CounterDisposer(function () {\r\n            rules.removeKey(prefix);\r\n            disposer.dispose();\r\n        });\r\n    });\r\n    return counter.increment();\r\n}\r\n//# sourceMappingURL=PopupCSS.js.map","/**\r\n * Popup class is used to display information over chart area.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport popupCSS from \"./PopupCSS\";\r\nimport { Adapter } from \"../utils/Adapter\";\r\nimport { BaseObjectEvents } from \"../Base\";\r\nimport { getInteraction } from \"../interaction/Interaction\";\r\nimport { keyboard } from \"../utils/Keyboard\";\r\nimport { MultiDisposer } from \"../utils/Disposer\";\r\nimport { getShadowRoot } from \"../utils/DOM\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $object from \"../utils/Object\";\r\n/**\r\n * Shows an HTML popup which covers window or a chart area.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/popups-and-modals/} For examples and docs on Popups and Modals.\r\n * @todo Positioning over whole window\r\n */\r\nvar Popup = /** @class */ (function (_super) {\r\n    __extends(Popup, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Popup() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Adapter.\r\n         */\r\n        _this.adapter = new Adapter(_this);\r\n        /**\r\n         * Holds references to various HTML elements, Popup consists of.\r\n         */\r\n        _this._elements = {};\r\n        /**\r\n         * Holdes Interaction objects for various Popup's elements.\r\n         */\r\n        _this._IOs = {};\r\n        /**\r\n         * Contents of popup window.\r\n         */\r\n        _this._content = \"\";\r\n        /**\r\n         * Title of the popup window.\r\n         */\r\n        _this._title = \"\";\r\n        /**\r\n         * Prefix to apply to class names for popup elements.\r\n         */\r\n        _this._classPrefix = \"ampopup\";\r\n        /**\r\n         * If set to `true` [[Popup]] will use default styles.\r\n         */\r\n        _this._defaultStyles = true;\r\n        /**\r\n         * If set to `true` [[Popup]] will dim out all chart content behind it by\r\n         * showing a semi-transparent fill. (curtain)\r\n         */\r\n        _this._showCurtain = false;\r\n        /**\r\n         * Indicates whether popup can be dragged.\r\n         */\r\n        _this._draggable = true;\r\n        /**\r\n         * Horizontal position of the content window.\r\n         */\r\n        _this._align = \"center\";\r\n        /**\r\n         * Resize popup as images are being loaded.\r\n         */\r\n        _this._dynamicResize = true;\r\n        /**\r\n         * Vertical position of the content window.\r\n         */\r\n        _this._verticalAlign = \"middle\";\r\n        /**\r\n         * Shift in position of the element. (used for dragging)\r\n         */\r\n        _this._shift = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        /**\r\n         * Temporary shift in position of the element. (used for dragging)\r\n         */\r\n        _this._tempShift = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        /**\r\n         * A title for screen readers. It is very highly recommended to set that title\r\n         * so that people using screen reader tools can get an immediate summary of\r\n         * the information in the popup.\r\n         */\r\n        _this._readerTitle = \"\";\r\n        /**\r\n         * Is popup closable?\r\n         */\r\n        _this._closable = true;\r\n        /**\r\n         * Was CSS already loaded?\r\n         */\r\n        _this._cssLoaded = false;\r\n        /**\r\n         * If set to other than \"none\" will try to re-adjust the position of the\r\n         * popop to fit within chart container or browser window.\r\n         *\r\n         * @ignore Feature not yet implemented\r\n         * @todo Implement\r\n         */\r\n        _this._fitTo = \"window\";\r\n        /**\r\n         * Identifies if this object is a \"template\" and should not be treated as\r\n         * real object that is drawn or actually used in the chart.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.isTemplate = false;\r\n        /**\r\n         * Indicates if the element was already sized and should not be measured for\r\n         * size again, saving some precious resources.\r\n         */\r\n        _this._sized = false;\r\n        _this.className = \"Popup\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * Shows popup window.\r\n     */\r\n    Popup.prototype.open = function () {\r\n        if (this.container) {\r\n            if (this._elements.wrapper) {\r\n                this.container.appendChild(this._elements.wrapper);\r\n            }\r\n            if (this._elements.curtain) {\r\n                this.container.appendChild(this._elements.curtain);\r\n                this.showCurtain = this.showCurtain;\r\n            }\r\n            this.positionElement();\r\n            this.dispatchImmediately(\"opened\");\r\n        }\r\n    };\r\n    /**\r\n     * Hides popup window.\r\n     */\r\n    Popup.prototype.close = function () {\r\n        if (this._elements.wrapper) {\r\n            if (this._elements.wrapper.parentElement) {\r\n                this._elements.wrapper.parentElement.removeChild(this._elements.wrapper);\r\n            }\r\n        }\r\n        if (this._elements.curtain) {\r\n            if (this._elements.curtain.parentElement) {\r\n                this._elements.curtain.parentElement.removeChild(this._elements.curtain);\r\n            }\r\n        }\r\n        this.dispatchImmediately(\"closed\");\r\n        this.releasePointers();\r\n    };\r\n    /**\r\n     * Destroy (dispose) popup.\r\n     */\r\n    Popup.prototype.dispose = function () {\r\n        this.close();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    /**\r\n     * Positions content element in the center of popup based on its actual size.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Popup.prototype.positionElement = function (forceResize) {\r\n        var _this = this;\r\n        if (forceResize === void 0) { forceResize = true; }\r\n        if (!this._elements.wrapper) {\r\n            return;\r\n        }\r\n        setTimeout(function () {\r\n            if (!_this._elements.wrapper) {\r\n                return;\r\n            }\r\n            if (forceResize || !_this._sized) {\r\n                _this._elements.wrapper.style.opacity = \"0.01\";\r\n                _this._elements.wrapper.style.left = \"0\";\r\n                _this._elements.wrapper.style.top = \"0\";\r\n                _this._elements.wrapper.style.margin = \"0 0 0 0\";\r\n                _this._elements.wrapper.style.width = \"\";\r\n                _this._elements.wrapper.style.height = \"\";\r\n                var bbox = _this._elements.wrapper.getBoundingClientRect();\r\n                _this._elements.wrapper.style.width = bbox.width + \"px\";\r\n                _this._elements.wrapper.style.height = bbox.height + \"px\";\r\n                _this._sized = true;\r\n            }\r\n            // Check for any images that are not yet loaded\r\n            if (_this.dynamicResize) {\r\n                var images = _this._elements.wrapper.getElementsByTagName(\"img\");\r\n                for (var i = 0; i < images.length; i++) {\r\n                    var image = images[i];\r\n                    if (!image.complete) {\r\n                        // Resize popup once again when image is loaded\r\n                        image.addEventListener(\"load\", function () {\r\n                            _this.positionElement(true);\r\n                        });\r\n                        // Do this for one image only as it will be checked again next time\r\n                        // anyway\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            setTimeout(function () {\r\n                if (!_this._elements.wrapper) {\r\n                    return;\r\n                }\r\n                var bbox;\r\n                if ((forceResize || !_this._sized) && _this._bbox) {\r\n                    bbox = _this._bbox;\r\n                }\r\n                else {\r\n                    bbox = _this._elements.wrapper.getBoundingClientRect();\r\n                    _this._elements.wrapper.style.opacity = \"\";\r\n                }\r\n                // Set horizontal positioning\r\n                switch (_this.align) {\r\n                    case \"left\":\r\n                        _this._elements.wrapper.style.left = \"0\";\r\n                        _this._elements.wrapper.style.right = \"auto\";\r\n                        _this._elements.wrapper.style.marginLeft = _this.toStyle(_this._shift.x + _this._tempShift.x);\r\n                        break;\r\n                    case \"center\":\r\n                        _this._elements.wrapper.style.left = \"50%\";\r\n                        _this._elements.wrapper.style.right = \"auto\";\r\n                        _this._elements.wrapper.style.marginLeft = _this.toStyle(Math.round(-bbox.width / 2) + (_this._shift.x + _this._tempShift.x));\r\n                        break;\r\n                    case \"right\":\r\n                        _this._elements.wrapper.style.left = \"auto\";\r\n                        _this._elements.wrapper.style.right = \"0\";\r\n                        _this._elements.wrapper.style.marginLeft = _this.toStyle(_this._shift.x + _this._tempShift.x);\r\n                        break;\r\n                    default:\r\n                        _this._elements.wrapper.style.left = _this.toStyle(_this.left) || \"auto\";\r\n                        _this._elements.wrapper.style.right = _this.toStyle(_this.right) || \"auto\";\r\n                        _this._elements.wrapper.style.marginLeft = _this.toStyle(_this._shift.x + _this._tempShift.x);\r\n                        break;\r\n                }\r\n                // Set vertical positioning\r\n                switch (_this.verticalAlign) {\r\n                    case \"top\":\r\n                        _this._elements.wrapper.style.top = \"0\";\r\n                        _this._elements.wrapper.style.bottom = \"auto\";\r\n                        _this._elements.wrapper.style.marginTop = _this.toStyle(_this._shift.y + _this._tempShift.y);\r\n                        break;\r\n                    case \"middle\":\r\n                        _this._elements.wrapper.style.top = \"50%\";\r\n                        _this._elements.wrapper.style.bottom = \"auto\";\r\n                        _this._elements.wrapper.style.marginTop = _this.toStyle(Math.round(-bbox.height / 2) + (_this._shift.y + _this._tempShift.y));\r\n                        break;\r\n                    case \"bottom\":\r\n                        _this._elements.wrapper.style.top = \"auto\";\r\n                        _this._elements.wrapper.style.bottom = \"0\";\r\n                        _this._elements.wrapper.style.marginTop = _this.toStyle(_this._shift.y + _this._tempShift.y);\r\n                        break;\r\n                    default:\r\n                        _this._elements.wrapper.style.top = _this.toStyle(_this.top) || \"auto\";\r\n                        _this._elements.wrapper.style.bottom = _this.toStyle(_this.bottom) || \"auto\";\r\n                        _this._elements.wrapper.style.marginTop = _this.toStyle(_this._shift.y + _this._tempShift.y);\r\n                        break;\r\n                }\r\n            }, 1);\r\n        }, 1);\r\n    };\r\n    Popup.prototype.setupDragging = function () {\r\n        var _this = this;\r\n        if (this.draggable) {\r\n            if (!this._IOs.header.events.has(\"drag\")) {\r\n                this._IOs.header.events.on(\"drag\", function (ev) {\r\n                    _this._tempShift.x = ev.shift.x;\r\n                    _this._tempShift.y = ev.shift.y;\r\n                    _this.positionElement(false);\r\n                });\r\n            }\r\n            if (!this._IOs.header.events.has(\"dragstop\")) {\r\n                this._IOs.header.events.on(\"dragstop\", function (ev) {\r\n                    _this._shift.x += _this._tempShift.x;\r\n                    _this._shift.y += _this._tempShift.y;\r\n                    _this._tempShift.x = 0;\r\n                    _this._tempShift.y = 0;\r\n                    _this.positionElement(false);\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if (this._IOs.header) {\r\n                getInteraction().unprepElement(this._IOs.header);\r\n                if (this._IOs.header.events.has(\"drag\")) {\r\n                    this._IOs.header.events.off(\"drag\");\r\n                }\r\n                if (this._IOs.header.events.has(\"dragstop\")) {\r\n                    this._IOs.header.events.off(\"dragstop\");\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Popup.prototype.toStyle = function (value) {\r\n        if (!$type.hasValue(value)) {\r\n            return null;\r\n        }\r\n        else if ($type.isNumber(value)) {\r\n            return \"\" + value + \"px\";\r\n        }\r\n        else {\r\n            return value.toString();\r\n        }\r\n    };\r\n    Object.defineProperty(Popup.prototype, \"classPrefix\", {\r\n        /**\r\n         * A prefix that is applied to class names of various popup elements.\r\n         *\r\n         * @return Class name prefix\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"classPrefix\", this._classPrefix);\r\n        },\r\n        /**\r\n         * @param value Class name prefix\r\n         */\r\n        set: function (value) {\r\n            this._classPrefix = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"classPrefixRaw\", {\r\n        /**\r\n         * Returns raw prefix (without adapters applied).\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Class name prefix\r\n         */\r\n        get: function () {\r\n            return this._classPrefix;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"content\", {\r\n        /**\r\n         * @return Popup content\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"content\", this._content);\r\n        },\r\n        /**\r\n         * Popup content.\r\n         *\r\n         * Popup content can be any valid HTML, including CSS.\r\n         *\r\n         * @param value Popup content\r\n         */\r\n        set: function (value) {\r\n            if (this._content != value) {\r\n                this._content = value;\r\n                if (!this._elements.content) {\r\n                    this.createContentElement();\r\n                }\r\n                this._elements.content.innerHTML = value;\r\n                this.positionElement();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Popup.prototype.getClassNames = function () {\r\n        return this.adapter.apply(\"classNames\", {\r\n            wrapperClass: this.classPrefix + \"\",\r\n            headerClass: this.classPrefix + \"-header\",\r\n            titleClass: this.classPrefix + \"-title\",\r\n            contentClass: this.classPrefix + \"-content\",\r\n            insideClass: this.classPrefix + \"-inside\",\r\n            curtainClass: this.classPrefix + \"-curtain\",\r\n            closeClass: this.classPrefix + \"-close\"\r\n        });\r\n    };\r\n    /**\r\n     * Creates content element.\r\n     */\r\n    Popup.prototype.createContentElement = function () {\r\n        // Check if it's created already\r\n        if (this._elements.wrapper) {\r\n            return;\r\n        }\r\n        // Get class names for popup elements\r\n        var classNames = this.getClassNames();\r\n        // Create content element\r\n        var wrapper = document.createElement(\"div\");\r\n        wrapper.className = classNames.contentClass;\r\n        wrapper.style.opacity = \"0.01\";\r\n        // Create close button\r\n        var close = document.createElement(\"a\");\r\n        close.className = classNames.closeClass;\r\n        // header title\r\n        var header = document.createElement(\"div\");\r\n        header.className = classNames.headerClass;\r\n        // Content title\r\n        var title = document.createElement(\"div\");\r\n        title.innerHTML = this.title;\r\n        title.className = classNames.titleClass;\r\n        if (!this.title) {\r\n            title.style.display = \"none\";\r\n        }\r\n        // Content div\r\n        var content = document.createElement(\"div\");\r\n        content.className = classNames.insideClass;\r\n        content.innerHTML = this.content;\r\n        // Set up events for content\r\n        this._IOs.wrapper = getInteraction().getInteraction(wrapper);\r\n        this._IOs.header = getInteraction().getInteraction(header);\r\n        this._disposers.push(this._IOs.wrapper);\r\n        // Set hover/out events\r\n        this._IOs.wrapper.events.on(\"over\", this.disablePointers, this);\r\n        this._IOs.wrapper.events.on(\"out\", this.releasePointers, this);\r\n        // Create an InteractionObject for close\r\n        this._IOs.close = getInteraction().getInteraction(close);\r\n        this._disposers.push(this._IOs.close);\r\n        // Hide close for now\r\n        close.style.visibility = \"hidden\";\r\n        // Add accessible stuff\r\n        wrapper.setAttribute(\"role\", \"dialog\");\r\n        // Add to wrapper\r\n        header.appendChild(close);\r\n        header.appendChild(title);\r\n        wrapper.appendChild(header);\r\n        wrapper.appendChild(content);\r\n        this.container.appendChild(wrapper);\r\n        // Save for later access\r\n        this._elements.wrapper = wrapper;\r\n        this._elements.header = header;\r\n        this._elements.content = content;\r\n        this._elements.title = title;\r\n        this._elements.close = close;\r\n        // Load CSS\r\n        if (this.defaultStyles) {\r\n            this.loadDefaultCSS();\r\n        }\r\n        // Create curtain as well\r\n        this.createCurtainElement();\r\n        // Apply events\r\n        this.applyEvents();\r\n        this.applyReaderSettings();\r\n        // Draggable?\r\n        this.setupDragging();\r\n    };\r\n    Object.defineProperty(Popup.prototype, \"title\", {\r\n        /**\r\n         * @return Popup title\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"title\", this._title);\r\n        },\r\n        /**\r\n         * Popup title.\r\n         *\r\n         * Popup title can be any valid HTML, including CSS.\r\n         *\r\n         * @param value  Popup title\r\n         */\r\n        set: function (value) {\r\n            if (this._title != value) {\r\n                this._title = value;\r\n                if (!this._elements.content) {\r\n                    this.createContentElement();\r\n                }\r\n                this._elements.title.innerHTML = value;\r\n                this.positionElement();\r\n                this.applyReaderSettings();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"readerTitle\", {\r\n        /**\r\n         * @return Popup content\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"readerTitle\", this._readerTitle != \"\" ? this._readerTitle : this.title);\r\n        },\r\n        /**\r\n         * A title for screen readers. It is very highly recommended to set that title\r\n         * so that people using screen reader tools can get an immediate summary of\r\n         * the information in the popup.\r\n         *\r\n         * @param value  Reader title\r\n         */\r\n        set: function (value) {\r\n            if (this._readerTitle != value) {\r\n                this._readerTitle = value;\r\n                this.applyReaderSettings();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"closable\", {\r\n        /**\r\n         * @return Closable?\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"closable\", this._closable);\r\n        },\r\n        /**\r\n         * Is popup closable?\r\n         *\r\n         * If it is, it can be closed in a number of ways, e.g. by hitting ESC key,\r\n         * clicking curtain, or clicking the close button.\r\n         *\r\n         * If it is not closable, the only way to close it is via `close()` call.\r\n         *\r\n         * @param value Closable?\r\n         */\r\n        set: function (value) {\r\n            if (value !== this._closable) {\r\n                this._closable = value;\r\n                this.applyEvents();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"fitTo\", {\r\n        /**\r\n         * @ignore\r\n         * @todo Implement\r\n         * @return Fit option\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"fitTo\", this._fitTo);\r\n        },\r\n        /**\r\n         * If set to other than \"none\" will try to re-adjust the position of the\r\n         * popop to fit within chart container or browser window.\r\n         *\r\n         * @ignore\r\n         * @todo Implement\r\n         * @default \"window\"\r\n         * @param value  Fit option\r\n         */\r\n        set: function (value) {\r\n            if (value != this._fitTo) {\r\n                this._fitTo = value;\r\n                this.positionElement();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"defaultStyles\", {\r\n        /**\r\n         * @return Use default CSS?\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"defaultStyles\", this._defaultStyles);\r\n        },\r\n        /**\r\n         * Should popup use default CSS?\r\n         *\r\n         * If default CSS is disabled, an external CSS should handle the look of the\r\n         * popup, since it will look quite out of place otherwise.\r\n         *\r\n         * @default true\r\n         * @param Use default CSS?\r\n         */\r\n        set: function (value) {\r\n            if (this._defaultStyles != value) {\r\n                this._defaultStyles = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"showCurtain\", {\r\n        /**\r\n         * @return Show curtain?\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"showCurtain\", this._showCurtain);\r\n        },\r\n        /**\r\n         * Should popup use dim out all content behind it?\r\n         *\r\n         * @default false\r\n         * @param Show curtain?\r\n         */\r\n        set: function (value) {\r\n            if (this._showCurtain != value) {\r\n                this._showCurtain = value;\r\n                if (this._elements.curtain) {\r\n                    this._elements.curtain.style.display = value ? \"block\" : \"none\";\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates curtain element.\r\n     */\r\n    Popup.prototype.createCurtainElement = function () {\r\n        // Get class names for popup elements\r\n        var classNames = this.getClassNames();\r\n        // Create the curtain\r\n        var curtain = document.createElement(\"div\");\r\n        curtain.className = classNames.curtainClass;\r\n        // Append curtain to wrapper\r\n        this.container.appendChild(curtain);\r\n        // Create an InteractionObject for curtain because we might need to\r\n        // set interactions on it\r\n        this._IOs.curtain = getInteraction().getInteraction(curtain);\r\n        // Add Curtain IO to disposers\r\n        this._disposers.push(this._IOs.curtain);\r\n        // Set events to disable underlying interactivity\r\n        this._IOs.curtain.events.on(\"over\", this.disablePointers, this);\r\n        this._IOs.curtain.events.on(\"out\", this.releasePointers, this);\r\n        // Hide it?\r\n        curtain.style.display = this.showCurtain ? \"block\" : \"none\";\r\n        // Save for later\r\n        this._elements.curtain = curtain;\r\n    };\r\n    Object.defineProperty(Popup.prototype, \"draggable\", {\r\n        /**\r\n         * @return Show curtain?\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"draggable\", this._draggable);\r\n        },\r\n        /**\r\n         * Can the popup be dragged with a pointer?\r\n         *\r\n         * @default false\r\n         * @param Show curtain?\r\n         */\r\n        set: function (value) {\r\n            if (this._draggable != value) {\r\n                this._draggable = value;\r\n                this.setupDragging();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"dynamicResize\", {\r\n        /**\r\n         * @return Resize dynamically?\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"dynamicResize\", this._dynamicResize);\r\n        },\r\n        /**\r\n         * Resize popup as images are being loaded.\r\n         *\r\n         * @default true\r\n         * @since 4.9.17\r\n         * @param Resize dynamically?\r\n         */\r\n        set: function (value) {\r\n            if (this._dynamicResize != value) {\r\n                this._dynamicResize = value;\r\n                this.positionElement(true);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"align\", {\r\n        /**\r\n         * @return Horizontal position\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"align\", this._align);\r\n        },\r\n        /**\r\n         * Horizontal positioning of the content window.\r\n         *\r\n         * Available options: \"left\", \"center\" (default), \"right\", and \"none\".\r\n         *\r\n         * @default \"center\"\r\n         * @param Horizontal position\r\n         */\r\n        set: function (value) {\r\n            if (this._align != value) {\r\n                this._align = value;\r\n                this.positionElement();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"verticalAlign\", {\r\n        /**\r\n         * @return Vertical position\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"verticalAlign\", this._verticalAlign);\r\n        },\r\n        /**\r\n         * Vertical positioning of the content window.\r\n         *\r\n         * Available options: \"top\", \"middle\" (default), \"bottom\", and \"none\".\r\n         *\r\n         * @default \"middle\"\r\n         * @param Vertical position\r\n         */\r\n        set: function (value) {\r\n            if (this._verticalAlign != value) {\r\n                this._verticalAlign = value;\r\n                this.positionElement();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"left\", {\r\n        /**\r\n         * @return Left\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"left\", this._left);\r\n        },\r\n        /**\r\n         * \"left\" coordinate of a non-aligned (`align = \"none\"`) popup.\r\n         *\r\n         * Can be either absolute pixel value, or relative (`Percent`).\r\n         *\r\n         * Setting this property will automatically set `align` to \"none\".\r\n         *\r\n         * NOTE: The position is relative to the chart container.\r\n         *\r\n         * @param Left\r\n         */\r\n        set: function (value) {\r\n            if (this.left != value) {\r\n                this._left = value;\r\n                this._align = \"none\";\r\n                this.positionElement();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"right\", {\r\n        /**\r\n         * @return Right\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"right\", this._right);\r\n        },\r\n        /**\r\n         * \"right\" coordinate of a non-aligned (`align = \"none\"`) popup.\r\n         *\r\n         * Can be either absolute pixel value, or relative (`Percent`).\r\n         *\r\n         * Setting this property will automatically set `align` to \"none\".\r\n         *\r\n         * NOTE: The position is relative to the chart container.\r\n         *\r\n         * @param Right\r\n         */\r\n        set: function (value) {\r\n            if (this.right != value) {\r\n                this._right = value;\r\n                this._align = \"none\";\r\n                this.positionElement();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"top\", {\r\n        /**\r\n         * @return Top\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"top\", this._top);\r\n        },\r\n        /**\r\n         * \"top\" coordinate of a non-aligned (`verticalAlign = \"none\"`) popup.\r\n         *\r\n         * Can be either absolute pixel value, or relative (`Percent`).\r\n         *\r\n         * Setting this property will automatically set `verticalAlign` to \"none\".\r\n         *\r\n         * NOTE: The position is relative to the chart container.\r\n         *\r\n         * @param Top\r\n         */\r\n        set: function (value) {\r\n            if (this.top != value) {\r\n                this._top = value;\r\n                this._verticalAlign = \"none\";\r\n                this.positionElement();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"bottom\", {\r\n        /**\r\n         * @return Bottom\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"bottom\", this._bottom);\r\n        },\r\n        /**\r\n         * \"bottom\" coordinate of a non-aligned (`verticalAlign = \"none\"`) popup.\r\n         *\r\n         * Can be either absolute pixel value, or relative (`Percent`).\r\n         *\r\n         * Setting this property will automatically set `verticalAlign` to \"none\".\r\n         *\r\n         * NOTE: The position is relative to the chart container.\r\n         *\r\n         * @param Bottom\r\n         */\r\n        set: function (value) {\r\n            if (this.bottom != value) {\r\n                this._bottom = value;\r\n                this._verticalAlign = \"none\";\r\n                this.positionElement();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Popup.prototype, \"elements\", {\r\n        /**\r\n         * Returns an object with references to various elements of the Popup.\r\n         *\r\n         * * `wrapper`\r\n         * * `title`\r\n         * * `content`\r\n         * * `close`\r\n         * * `curtain`\r\n         */\r\n        get: function () {\r\n            return this._elements;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Loads popup CSS.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Popup.prototype.loadDefaultCSS = function () {\r\n        if (!this._cssLoaded) {\r\n            this._disposers.push(popupCSS(getShadowRoot(this.container), this.classPrefix));\r\n            $object.each(this._elements, function (key, el) {\r\n                el.style.display = \"\";\r\n            });\r\n            this._cssLoaded = true;\r\n        }\r\n    };\r\n    /**\r\n     * If popup is closable, this method adds various events to popup elements.\r\n     */\r\n    Popup.prototype.applyEvents = function () {\r\n        var _this = this;\r\n        if (this._IOs.close) {\r\n            if (this.closable) {\r\n                this._IOs.close.element.style.visibility = \"visible\";\r\n                var disposers = [\r\n                    getInteraction().body.events.on(\"keyup\", function (ev) {\r\n                        if (keyboard.isKey(ev.event, \"esc\") && _this.closable) {\r\n                            _this.close();\r\n                        }\r\n                    }),\r\n                    this._IOs.close.events.on(\"hit\", function (ev) {\r\n                        _this.close();\r\n                    })\r\n                ];\r\n                disposers.push(this._IOs.curtain.events.on(\"hit\", function (ev) {\r\n                    if (_this.showCurtain && _this.closable) {\r\n                        _this.close();\r\n                    }\r\n                }));\r\n                this._disposers.push(new MultiDisposer(disposers));\r\n            }\r\n            else {\r\n                this._IOs.close.element.style.visibility = \"hidden\";\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Disables interactivity on parent chart.\r\n     */\r\n    Popup.prototype.disablePointers = function () {\r\n        if (this.sprite) {\r\n            this._spriteInteractionsEnabled = this.sprite.interactionsEnabled;\r\n            this.sprite.interactionsEnabled = false;\r\n        }\r\n    };\r\n    /**\r\n     * Releases temporarily disabled pointers on parent chart.\r\n     */\r\n    Popup.prototype.releasePointers = function () {\r\n        if ($type.hasValue(this._spriteInteractionsEnabled)) {\r\n            this.sprite.interactionsEnabled = this._spriteInteractionsEnabled;\r\n            this._spriteInteractionsEnabled = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Sets screen reader related settings.\r\n     */\r\n    Popup.prototype.applyReaderSettings = function () {\r\n        this.elements.wrapper.setAttribute(\"aria-label\", this.readerTitle);\r\n    };\r\n    /**\r\n     * Copies all properties and related data from different element.\r\n     *\r\n     * @param object Source element\r\n     */\r\n    Popup.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.container = source.container;\r\n        this.sprite = source.sprite;\r\n        this.classPrefix = source.classPrefixRaw;\r\n        this.content = source.content;\r\n        this.title = source.title;\r\n        this.readerTitle = source.readerTitle;\r\n        this.defaultStyles = source.defaultStyles;\r\n        this.showCurtain = source.showCurtain;\r\n        this.align = source.align;\r\n        this.verticalAlign = source.verticalAlign;\r\n        this.left = source.left;\r\n        this.right = source.right;\r\n        this.top = source.top;\r\n        this.bottom = source.bottom;\r\n        this.adapter.copyFrom(source.adapter);\r\n    };\r\n    return Popup;\r\n}(BaseObjectEvents));\r\nexport { Popup };\r\n//# sourceMappingURL=Popup.js.map","import * as $array from \"./Array\";\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function fromArray(array) {\r\n    return function (push) {\r\n        var length = array.length;\r\n        for (var i = 0; i < length; ++i) {\r\n            if (!push(array[i])) {\r\n                break;\r\n            }\r\n        }\r\n    };\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function length(iter) {\r\n    var sum = 0;\r\n    iter(function (_) {\r\n        ++sum;\r\n        return true;\r\n    });\r\n    return sum;\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function toArray(iter) {\r\n    var output = [];\r\n    iter(function (value) {\r\n        output.push(value);\r\n        return true;\r\n    });\r\n    return output;\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function eachContinue(iter, fn) {\r\n    iter(fn);\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function each(iter, fn) {\r\n    iter(function (value) {\r\n        fn(value);\r\n        return true;\r\n    });\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function sort(iter, fn) {\r\n    return fromArray(toArray(iter).sort(fn));\r\n}\r\n/**\r\n * [A description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function map(iter, fn) {\r\n    return function (push) { return iter(function (value) { return push(fn(value)); }); };\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function filter(iter, fn) {\r\n    return function (push) { return iter(function (value) {\r\n        if (fn(value)) {\r\n            return push(value);\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }); };\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function concat() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    return function (push) {\r\n        var go = true;\r\n        var push2 = function (value) { return (go = push(value)); };\r\n        var length = args.length;\r\n        for (var i = 0; i < length; ++i) {\r\n            args[i](push2);\r\n            if (!go) {\r\n                break;\r\n            }\r\n        }\r\n    };\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function flatten(iter) {\r\n    return function (push) {\r\n        var go = true;\r\n        var push2 = function (value) { return (go = push(value)); };\r\n        iter(function (value) {\r\n            value(push2);\r\n            return go;\r\n        });\r\n    };\r\n}\r\n/**\r\n * [number description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function indexed(iter) {\r\n    return function (push) {\r\n        var index = 0;\r\n        iter(function (value) { return push([index++, value]); });\r\n    };\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function findIndex(iter, matches) {\r\n    var found = false;\r\n    var i = 0;\r\n    iter(function (value) {\r\n        if (matches(value)) {\r\n            found = true;\r\n            return false;\r\n        }\r\n        else {\r\n            ++i;\r\n            return true;\r\n        }\r\n    });\r\n    return (found ? i : -1);\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function find(iter, matches) {\r\n    var output;\r\n    iter(function (value) {\r\n        if (matches(value)) {\r\n            output = value;\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    });\r\n    return output;\r\n}\r\n/**\r\n * [A description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function findMap(iter, matches) {\r\n    var output;\r\n    iter(function (value) {\r\n        var v = matches(value);\r\n        if (v !== null) {\r\n            output = v;\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    });\r\n    return output;\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function contains(iter, matches) {\r\n    var output = false;\r\n    iter(function (value) {\r\n        if (matches(value)) {\r\n            output = true;\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    });\r\n    return output;\r\n}\r\n/**\r\n * [A description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function foldl(iter, init, fn) {\r\n    iter(function (value) {\r\n        init = fn(init, value);\r\n        return true;\r\n    });\r\n    return init;\r\n}\r\n/**\r\n * [min2 description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param left [description]\r\n * @param right [description]\r\n * @return [description]\r\n */\r\nfunction min2(left, right) {\r\n    if (left == null || right < left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * [min description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Verify that this works correctly\r\n * @todo Description\r\n * @param a [description]\r\n * @return [description]\r\n */\r\nexport function min(a) {\r\n    return foldl(a, null, min2);\r\n}\r\n/**\r\n * [max2 description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param left [description]\r\n * @param right [description]\r\n * @return [description]\r\n */\r\nfunction max2(left, right) {\r\n    if (left == null || right > left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * [max description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Verify that this works correctly\r\n * @todo Description\r\n * @param a [description]\r\n * @return [description]\r\n */\r\nexport function max(a) {\r\n    return foldl(a, null, max2);\r\n}\r\n/**\r\n * [join description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param iter [description]\r\n * @param separator [description]\r\n * @return [description]\r\n */\r\nexport function join(iter, separator) {\r\n    if (separator === void 0) { separator = \"\"; }\r\n    var first = true;\r\n    var init = \"\";\r\n    iter(function (value) {\r\n        if (first) {\r\n            first = false;\r\n        }\r\n        else {\r\n            init += separator;\r\n        }\r\n        init += value;\r\n        return true;\r\n    });\r\n    return init;\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar ListIterator = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param list [description]\r\n     * @param create [description]\r\n     */\r\n    function ListIterator(list, create) {\r\n        // flag specifies if iterator should create new list item if it is reqested for a nextItem but there is no more left in the list\r\n        this.createNewItems = false;\r\n        this.list = list;\r\n        this._create = create;\r\n        this.reset();\r\n    }\r\n    ListIterator.prototype.reset = function () {\r\n        this._listCopy = toArray(this.list.iterator());\r\n    };\r\n    ListIterator.prototype.clear = function () {\r\n        this._listCopy.length = 0;\r\n    };\r\n    ListIterator.prototype.getFirst = function () {\r\n        return this.returnItem(0);\r\n    };\r\n    ListIterator.prototype.getLast = function () {\r\n        return this.returnItem(this._listCopy.length - 1);\r\n    };\r\n    ListIterator.prototype.find = function (fn) {\r\n        var index = $array.findIndex(this._listCopy, fn);\r\n        if (index !== -1) {\r\n            var item = this._listCopy[index];\r\n            // TODO use removeIndex instead ?\r\n            $array.remove(this._listCopy, item);\r\n            return item;\r\n        }\r\n        else {\r\n            return this.getLast();\r\n        }\r\n    };\r\n    ListIterator.prototype.removeItem = function (item) {\r\n        return $array.remove(this._listCopy, item);\r\n    };\r\n    ListIterator.prototype.returnItem = function (index) {\r\n        if (index >= 0 && index < this._listCopy.length) {\r\n            var item = this._listCopy[index];\r\n            // TODO use removeIndex instead ?\r\n            $array.remove(this._listCopy, item);\r\n            return item;\r\n        }\r\n        else if (this.createNewItems) {\r\n            return this._create();\r\n        }\r\n    };\r\n    ListIterator.prototype.iterator = function () {\r\n        return fromArray(this._listCopy);\r\n    };\r\n    return ListIterator;\r\n}());\r\nexport { ListIterator };\r\n//# sourceMappingURL=Iterator.js.map","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","/**\r\n * This module contains Color object definition\r\n */\r\nimport { registry } from \"../Registry\";\r\nimport * as $colors from \"./Colors\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Represents a color.\r\n *\r\n * `Color` accepts value only in [[iRGB]] object format. To create `Color`\r\n * object by parsing it from any supported string-based formats, use helper\r\n * [[color]] function:\r\n *\r\n * ```TypeScript\r\n * am4core.color(\"#ff0000\");\r\n * am4core.color(\"#f00\");\r\n * am4core.color(\"rgb(255, 0, 0)\");\r\n * am4core.color(\"rgba(255, 0, 0, 0.5)\");\r\n * am4core.color({ r: 255, g: 0, b: 0 });\r\n * am4core.color(\"red\");\r\n * ```\r\n * ```JavaScript\r\n * am4core.color(\"#ff0000\");\r\n * am4core.color(\"#f00\");\r\n * am4core.color(\"rgb(255, 0, 0)\");\r\n * am4core.color(\"rgba(255, 0, 0, 0.5)\");\r\n * am4core.color({ r: 255, g: 0, b: 0 });\r\n * am4core.color(\"red\");\r\n * ```\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/colors/} for color-related info\r\n */\r\nvar Color = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param color Source color\r\n     */\r\n    function Color(color) {\r\n        this._value = color;\r\n    }\r\n    Object.defineProperty(Color.prototype, \"rgb\", {\r\n        /**\r\n         * Returns [[iRGB]] representation of the color.\r\n         *\r\n         * @return RGB object\r\n         */\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"hex\", {\r\n        /**\r\n         * Returns color hex value string, e.g. \"#FF0000\".\r\n         *\r\n         * @return Hex color code\r\n         */\r\n        get: function () {\r\n            return this._value ? $colors.rgbToHex(this._value) : \"none\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"rgba\", {\r\n        /**\r\n         * Returns an `rgba()` representation of the color, e.g.:\r\n         * `rgba(255, 0, 0, 0.5)`.\r\n         *\r\n         * @return rgba color string\r\n         */\r\n        get: function () {\r\n            return this._value ? $colors.rgbToRGBA(this._value) : \"none\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"alpha\", {\r\n        /**\r\n         * Returns current transparency.\r\n         *\r\n         * @return Alpha (0-1)\r\n         */\r\n        get: function () {\r\n            if (this._value != null && this._value.a != null) {\r\n                return this._value.a;\r\n            }\r\n            else {\r\n                return 1;\r\n            }\r\n        },\r\n        /**\r\n         * Set alpha (transparency) of the color.\r\n         *\r\n         * @param value Alpha (0-1)\r\n         */\r\n        set: function (value) {\r\n            if (this._value) {\r\n                this._value.a = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"lightColor\", {\r\n        /**\r\n         * Returns current light color setting.\r\n         *\r\n         * @return Color\r\n         */\r\n        get: function () {\r\n            if (!this._lightColor) {\r\n                this._lightColor = new Color({ r: 255, g: 255, b: 255 });\r\n            }\r\n            return this._lightColor;\r\n        },\r\n        /**\r\n         * Sets \"light\" color. Used when determining contrasting color.\r\n         *\r\n         * @param color Color\r\n         */\r\n        set: function (color) {\r\n            this._lightColor = color;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"darkColor\", {\r\n        /**\r\n         * Returns current dark color setting.\r\n         *\r\n         * @return Color\r\n         */\r\n        get: function () {\r\n            if (!this._darkColor) {\r\n                this._darkColor = new Color({ r: 0, g: 0, b: 0 });\r\n            }\r\n            return this._darkColor;\r\n        },\r\n        /**\r\n         * Sets \"dark\" color. Used when determining contrasting color.\r\n         *\r\n         * @param color Color\r\n         */\r\n        set: function (color) {\r\n            this._darkColor = color;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Overrides `toString` method so that [[Color]] object can be used as\r\n     * string.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return String represantion of color (usable in CSS)\r\n     */\r\n    Color.prototype.toString = function () {\r\n        return this.alpha < 1 ? this.rgba : this.hex;\r\n    };\r\n    /**\r\n     * Returns a new [[Color]] which is percent lighter (positive value),\r\n     * or darker (negative value).\r\n     *\r\n     * Parameter is in the scale of -1 to 1.\r\n     *\r\n     * @param percent  Increase/decrease lightness by X\r\n     * @return New Color\r\n     */\r\n    Color.prototype.lighten = function (percent) {\r\n        return new Color($colors.lighten(this.rgb, percent));\r\n    };\r\n    /**\r\n     * Returns a new [[Color]] which is percent brighter (positive value),\r\n     * or darker (negative value).\r\n     *\r\n     * Parameter is in the scale of -1 to 1.\r\n     *\r\n     * @param percent  Increase/decrease brightness by X\r\n     * @return New Color\r\n     */\r\n    Color.prototype.brighten = function (percent) {\r\n        return new Color($colors.brighten(this.rgb, percent));\r\n    };\r\n    /**\r\n     * Returns a new [[Color]] based on current color with specific saturation\r\n     * applied.\r\n     *\r\n     * `saturation` can be in the range of 0 (fully desaturated) to 1 (fully\r\n     * saturated).\r\n     *\r\n     * @param saturation  Saturation (0-1)\r\n     * @return New (saturated) color\r\n     */\r\n    Color.prototype.saturate = function (saturation) {\r\n        return new Color($colors.saturate(this.rgb, saturation));\r\n    };\r\n    Object.defineProperty(Color.prototype, \"alternative\", {\r\n        /**\r\n         * Returns a either light or dark color that contrasts specifically with\r\n         * this color.\r\n         *\r\n         * Uses properties `darkColor` (default black) and `lightColor` (default\r\n         * white).\r\n         *\r\n         * Useful when determining which color label should be on a colored\r\n         * background, so that it stands out.\r\n         *\r\n         * @return Contrasting color\r\n         */\r\n        get: function () {\r\n            if (this.rgb != null) {\r\n                return $colors.isLight(this.rgb) ? this.darkColor : this.lightColor;\r\n            }\r\n            else {\r\n                throw new Error(\"Color does not exist\");\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Color;\r\n}());\r\nexport { Color };\r\n/**\r\n * Resolves an input variable to a normal [[iRGB]] color and creates [[Color]]\r\n * object for it.\r\n *\r\n * @param value  Input value\r\n * @param alpha  Alpha (0-1)\r\n * @return Color object\r\n */\r\nexport function color(value, alpha) {\r\n    if (!$type.hasValue(value)) {\r\n        return new Color(undefined);\r\n    }\r\n    if (typeof value == \"string\") {\r\n        var cacheId = \"_color_\" + value + \"_\" + (alpha || \"1\");\r\n        var cached = registry.getCache(cacheId);\r\n        if (cached) {\r\n            return new Color({\r\n                r: cached.r,\r\n                g: cached.g,\r\n                b: cached.b,\r\n                a: cached.a\r\n            });\r\n        }\r\n        var rgb = $colors.rgb(value, alpha);\r\n        registry.setCache(cacheId, rgb);\r\n        return new Color(rgb);\r\n    }\r\n    // Check if it's already a Color object\r\n    if (value instanceof Color) {\r\n        if ($type.hasValue(alpha)) {\r\n            value.alpha = alpha;\r\n        }\r\n        return value;\r\n    }\r\n    // Not a string or Color instance, it's the iRGB object then\r\n    return new Color(value);\r\n}\r\n/**\r\n * Checks if supplied argument is instance of [[Color]].\r\n *\r\n * @param value  Input value\r\n * @return Is Color?\r\n */\r\nexport function isColor(value) {\r\n    return value instanceof Color;\r\n}\r\n/**\r\n * Converts any value to [[Color]].\r\n *\r\n * @param value  Input value\r\n * @return Color\r\n */\r\nexport function castColor(value) {\r\n    return color(value);\r\n}\r\n/**\r\n * Converts any value into a [[Color]].\r\n *\r\n * @param value  Source value\r\n * @return Color object\r\n */\r\nexport function toColor(value) {\r\n    if ($type.hasValue(value) && !isColor(value)) {\r\n        return castColor(value);\r\n    }\r\n    return value;\r\n}\r\n//# sourceMappingURL=Color.js.map","/**\r\n * A collection of keyboard-related utilities accessible via `keyboard`\r\n * instance.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $type from \"./Type\";\r\n/**\r\n * A class that represents collection of keyboard-related utilities.\r\n *\r\n * Do not instantiate this class directly, but rather use `keyboard` variable.\r\n */\r\nvar Keyboard = /** @class */ (function () {\r\n    function Keyboard() {\r\n    }\r\n    /**\r\n     * Returns a named key based on information contained in the event or\r\n     * \"other\".\r\n     *\r\n     * @param ev  A keyboard event\r\n     * @return Keyboard named key\r\n     */\r\n    Keyboard.prototype.getEventKey = function (ev) {\r\n        // Get the key code\r\n        var code = ev.keyCode || ev.which, key;\r\n        // Map to internal key\r\n        switch (code) {\r\n            case 38:\r\n                key = \"up\";\r\n                break;\r\n            case 40:\r\n                key = \"down\";\r\n                break;\r\n            case 37:\r\n                key = \"left\";\r\n                break;\r\n            case 39:\r\n                key = \"right\";\r\n                break;\r\n            case 13:\r\n                key = \"enter\";\r\n                break;\r\n            case 27:\r\n                key = \"esc\";\r\n                break;\r\n            case 36:\r\n                key = \"home\";\r\n                break;\r\n            case 35:\r\n                key = \"end\";\r\n                break;\r\n            case 9:\r\n                key = \"tab\";\r\n                break;\r\n            case 17:\r\n                key = \"ctrl\";\r\n                break;\r\n            case 18:\r\n                key = \"alt\";\r\n                break;\r\n            case 16:\r\n                key = \"shift\";\r\n                break;\r\n            case 32:\r\n                key = \"space\";\r\n                break;\r\n            case 36:\r\n                key = \"home\";\r\n                break;\r\n            case 35:\r\n                key = \"end\";\r\n                break;\r\n            case 33:\r\n                key = \"pgup\";\r\n                break;\r\n            case 34:\r\n                key = \"pgdn\";\r\n                break;\r\n            case 45:\r\n                key = \"ins\";\r\n                break;\r\n            case 46:\r\n                key = \"del\";\r\n                break;\r\n            case 107:\r\n                key = \"plus\";\r\n                break;\r\n            case 109:\r\n                key = \"minus\";\r\n                break;\r\n            default:\r\n                key = \"other\";\r\n                break;\r\n        }\r\n        return key;\r\n    };\r\n    /**\r\n     * Checks if event key is one or more of the selected named keys.\r\n     *\r\n     * @param ev   Keyboard event\r\n     * @param key  Named key or array of keys\r\n     * @return Is event key one of the list?\r\n     */\r\n    Keyboard.prototype.isKey = function (ev, key) {\r\n        var eventKey = this.getEventKey(ev);\r\n        if ($type.isString(key)) {\r\n            key = [key];\r\n        }\r\n        return key.indexOf(eventKey) !== -1;\r\n    };\r\n    /**\r\n     * Returns `true` if shift key was presset at the moment of the event.\r\n     *\r\n     * @param ev  Event object\r\n     * @return Was shift pressed?\r\n     */\r\n    Keyboard.prototype.shiftKey = function (ev) {\r\n        return ev.shiftKey;\r\n    };\r\n    /**\r\n     * Returns `true` if ctrl key was presset at the moment of the event.\r\n     *\r\n     * @param ev  Event object\r\n     * @return Was ctrl pressed?\r\n     */\r\n    Keyboard.prototype.ctrlKey = function (ev) {\r\n        return ev.ctrlKey;\r\n    };\r\n    /**\r\n     * Returns `true` if alt key was presset at the moment of the event\r\n     * @param ev  Event object\r\n     * @return Was alt pressed?\r\n     */\r\n    Keyboard.prototype.altKey = function (ev) {\r\n        return ev.altKey;\r\n    };\r\n    /**\r\n     * Returns `true` if meta key was presset at the moment of the event\r\n     * @param ev  Event object\r\n     * @return Was meta pressed?\r\n     */\r\n    Keyboard.prototype.metaKey = function (ev) {\r\n        return ev.metaKey;\r\n    };\r\n    return Keyboard;\r\n}());\r\nexport { Keyboard };\r\n/**\r\n * A single [[Keyboard]] instance to be reused across all elements so that\r\n * they don't need to instantiate their own.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var keyboard = new Keyboard();\r\n//# sourceMappingURL=Keyboard.js.map","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * A base class for disposable objects.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar Disposer = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param dispose  Function that disposes object\r\n     */\r\n    function Disposer(dispose) {\r\n        this._disposed = false;\r\n        this._dispose = dispose;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    Disposer.prototype.isDisposed = function () {\r\n        return this._disposed;\r\n    };\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    Disposer.prototype.dispose = function () {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    };\r\n    return Disposer;\r\n}());\r\nexport { Disposer };\r\n/**\r\n * A collection of related disposers that can be disposed in one go.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar MultiDisposer = /** @class */ (function (_super) {\r\n    __extends(MultiDisposer, _super);\r\n    function MultiDisposer(disposers) {\r\n        return _super.call(this, function () {\r\n            $array.each(disposers, function (x) {\r\n                x.dispose();\r\n            });\r\n        }) || this;\r\n    }\r\n    return MultiDisposer;\r\n}(Disposer));\r\nexport { MultiDisposer };\r\n/**\r\n * A special kind of Disposer that has attached value set.\r\n *\r\n * If a new value is set using `set()` method, the old disposer value is\r\n * disposed.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar MutableValueDisposer = /** @class */ (function (_super) {\r\n    __extends(MutableValueDisposer, _super);\r\n    /**\r\n     * Constructor.\r\n     */\r\n    function MutableValueDisposer() {\r\n        var _this = _super.call(this, function () {\r\n            if ($type.hasValue(_this._disposer)) {\r\n                _this._disposer.dispose();\r\n                _this._disposer = undefined;\r\n            }\r\n        }) || this;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Returns current value.\r\n     *\r\n     * @return Value\r\n     */\r\n    MutableValueDisposer.prototype.get = function () {\r\n        return this._value;\r\n    };\r\n    /**\r\n     * Sets value and disposes previous disposer if it was set.\r\n     *\r\n     * @param value     New value\r\n     * @param disposer  Disposer\r\n     */\r\n    MutableValueDisposer.prototype.set = function (value, disposer) {\r\n        if ($type.hasValue(this._disposer)) {\r\n            this._disposer.dispose();\r\n        }\r\n        this._disposer = disposer;\r\n        this._value = value;\r\n    };\r\n    /**\r\n     * Resets the disposer value.\r\n     */\r\n    MutableValueDisposer.prototype.reset = function () {\r\n        this.set(undefined, undefined);\r\n    };\r\n    return MutableValueDisposer;\r\n}(Disposer));\r\nexport { MutableValueDisposer };\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar CounterDisposer = /** @class */ (function (_super) {\r\n    __extends(CounterDisposer, _super);\r\n    function CounterDisposer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * [_counter description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._counter = 0;\r\n        return _this;\r\n    }\r\n    /**\r\n     * [increment description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    CounterDisposer.prototype.increment = function () {\r\n        var _this = this;\r\n        // TODO throw an error if it is disposed\r\n        ++this._counter;\r\n        // TODO make this more efficient\r\n        return new Disposer(function () {\r\n            --_this._counter;\r\n            if (_this._counter === 0) {\r\n                _this.dispose();\r\n            }\r\n        });\r\n    };\r\n    return CounterDisposer;\r\n}(Disposer));\r\nexport { CounterDisposer };\r\n//# sourceMappingURL=Disposer.js.map","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Dictionary } from \"./Dictionary\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents object cache.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Better storage\r\n * @todo TTL logging\r\n * @todo Garbage collector\r\n */\r\nvar Cache = /** @class */ (function () {\r\n    function Cache() {\r\n        /**\r\n         * Storage for cache items.\r\n         */\r\n        this._storage = new Dictionary();\r\n        /**\r\n         * Default TTL in milliseconds.\r\n         */\r\n        this.ttl = 1000;\r\n    }\r\n    /**\r\n     * Caches or updates cached value, resets TTL.\r\n     *\r\n     * If `ttl` is set to zero, item will never expire.\r\n     *\r\n     * @param owner  An id of the object that owns this cache\r\n     * @param key    Index key\r\n     * @param value  Value\r\n     * @param ttl    TTL of the cache to live in milliseconds\r\n     */\r\n    Cache.prototype.set = function (owner, key, value, ttl) {\r\n        // Create if storage does not exist for this owner\r\n        var ownerStorage = this._storage.insertKeyIfEmpty(owner, function () { return new Dictionary(); });\r\n        // Create cache item\r\n        var item = {\r\n            \"touched\": new Date().getTime(),\r\n            \"ttl\": $type.isNumber(ttl) ? ttl : this.ttl,\r\n            \"value\": value\r\n        };\r\n        // Set\r\n        ownerStorage.setKey(key, item);\r\n    };\r\n    /**\r\n     * Rerturns cached item, respecting TTL.\r\n     *\r\n     * @param owner  An id of the object that owns this cache\r\n     * @param key    Index key\r\n     * @param value  Value to return if cache not available\r\n     * @return Value, or `undefined` if not set\r\n     */\r\n    Cache.prototype.get = function (owner, key, value) {\r\n        if (value === void 0) { value = undefined; }\r\n        // \t\t || ypeof this._storage[owner][key] === \"undefined\" || this._storage[owner][key].expired === true) {\r\n        if (this._storage.hasKey(owner)) {\r\n            var ownerStorage = this._storage.getKey(owner);\r\n            if (ownerStorage.hasKey(key)) {\r\n                var cacheItem = ownerStorage.getKey(key);\r\n                if (cacheItem.ttl && ((cacheItem.touched + cacheItem.ttl) < new Date().getTime())) {\r\n                    cacheItem.expired = true;\r\n                }\r\n                if (cacheItem.expired) {\r\n                    ownerStorage.removeKey(key);\r\n                    return value;\r\n                }\r\n                return cacheItem.value;\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    };\r\n    /**\r\n     * Clears cache for specific owner or everything.\r\n     *\r\n     * @param owner Owner to clear cache for\r\n     */\r\n    Cache.prototype.clear = function (owner) {\r\n        if (owner) {\r\n            this._storage.removeKey(owner);\r\n        }\r\n        else {\r\n            this._storage.clear();\r\n        }\r\n    };\r\n    return Cache;\r\n}());\r\nexport { Cache };\r\n/**\r\n * ============================================================================\r\n * GLOBAL INSTANCE\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A global instance of cache. Use this instance to cache any values.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var cache = new Cache();\r\n//# sourceMappingURL=Cache.js.map","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","/**\r\n * Contains code and logic for generating radial gradients.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../../Base\";\r\nimport { List } from \"../../utils/List\";\r\nimport { getGhostPaper } from \"../Paper\";\r\nimport { registry } from \"../../Registry\";\r\nimport * as $iter from \"../../utils/Iterator\";\r\nimport * as $type from \"../../utils/Type\";\r\nimport { Percent } from \"../../utils/Percent\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Radial gradient class.\r\n */\r\nvar RadialGradient = /** @class */ (function (_super) {\r\n    __extends(RadialGradient, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function RadialGradient() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * List of colors switch definitions in a gradient.\r\n         */\r\n        _this._stops = new List();\r\n        _this.element = _this.paper.addGroup(\"radialGradient\");\r\n        _this.id = \"gradient-\" + registry.getUniqueId();\r\n        _this.element.attr({ \"id\": _this.id });\r\n        _this._disposers.push(_this.element);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws gradient.\r\n     */\r\n    RadialGradient.prototype.draw = function () {\r\n        var _this = this;\r\n        var gradientElement = this.element;\r\n        if ($type.isNumber(this.cx)) {\r\n            var value = this.cx;\r\n            if (value instanceof Percent) {\r\n                value = value.percent + \"%\";\r\n            }\r\n            gradientElement.attr({ \"cx\": value });\r\n        }\r\n        if ($type.isNumber(this.cy)) {\r\n            var value = this.cy;\r\n            if (value instanceof Percent) {\r\n                value = value.percent + \"%\";\r\n            }\r\n            gradientElement.attr({ \"cy\": value });\r\n        }\r\n        if (this.fx) {\r\n            var value = this.fx;\r\n            if (value instanceof Percent) {\r\n                value = value.percent + \"%\";\r\n            }\r\n            gradientElement.attr({ \"fx\": value });\r\n        }\r\n        if (this.fy) {\r\n            var value = this.fy;\r\n            if (value instanceof Percent) {\r\n                value = value.percent + \"%\";\r\n            }\r\n            gradientElement.attr({ \"fy\": value });\r\n        }\r\n        gradientElement.removeChildNodes();\r\n        $iter.each($iter.indexed(this._stops.iterator()), function (a) {\r\n            var i = a[0];\r\n            var stop = a[1];\r\n            var offset = stop.offset;\r\n            if (!$type.isNumber(offset)) {\r\n                offset = i / (_this._stops.length - 1);\r\n            }\r\n            var gradientStop = _this.paper.add(\"stop\");\r\n            if ($type.hasValue(stop.color)) {\r\n                gradientStop.attr({ \"stop-color\": stop.color.toString() });\r\n            }\r\n            if ($type.isNumber(stop.opacity)) {\r\n                gradientStop.attr({ \"stop-opacity\": stop.opacity });\r\n            }\r\n            if ($type.isNumber(offset)) {\r\n                gradientStop.attr({ \"offset\": offset });\r\n            }\r\n            gradientElement.add(gradientStop);\r\n        });\r\n    };\r\n    /**\r\n     * Adds a color step to the gradient.\r\n     *\r\n     * @param color    Color (hex code or named color)\r\n     * @param opacity  Opacity (value from 0 to 1; 0 completely transaprent, 1 fully opaque)\r\n     * @param offset   Position of color in the gradient (value 0 to 1; 0 meaning start of the gradient and 1 end)\r\n     */\r\n    RadialGradient.prototype.addColor = function (color, opacity, offset) {\r\n        this._stops.push({ color: color, opacity: opacity, offset: offset });\r\n        this.draw();\r\n    };\r\n    Object.defineProperty(RadialGradient.prototype, \"paper\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Paper\r\n         */\r\n        get: function () {\r\n            if (this._paper) {\r\n                return this._paper;\r\n            }\r\n            return getGhostPaper();\r\n        },\r\n        /**\r\n         * A [[Paper]] instace to use for the gradient.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param paper  Paper\r\n         */\r\n        set: function (paper) {\r\n            if (this._paper != paper) {\r\n                this._paper = paper;\r\n                this.draw();\r\n                paper.appendDef(this.element);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadialGradient.prototype, \"cx\", {\r\n        get: function () {\r\n            return this._cx;\r\n        },\r\n        /**\r\n         * Center x coordinate of the gradient, can be set as number or Percent\r\n         *\r\n         * @param point  Center point\r\n         */\r\n        set: function (value) {\r\n            this._cx = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadialGradient.prototype, \"cy\", {\r\n        get: function () {\r\n            return this._cy;\r\n        },\r\n        /**\r\n         * Center y coordinate of the gradient, can be set as number or Percent\r\n         *\r\n         * @param point  Center point\r\n         */\r\n        set: function (value) {\r\n            this._cy = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadialGradient.prototype, \"fx\", {\r\n        get: function () {\r\n            return this._fx;\r\n        },\r\n        /**\r\n         * y coordinate of the focal point of a gradient, can be set in pixels or as Percent\r\n         *\r\n         * @param point  Center point\r\n         */\r\n        set: function (value) {\r\n            this._fx = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadialGradient.prototype, \"fy\", {\r\n        get: function () {\r\n            return this._fy;\r\n        },\r\n        /**\r\n         * y coordinate of the focal point of a gradient, can be set in pixels or as Percent\r\n         *\r\n         * @param point  Center point\r\n         */\r\n        set: function (value) {\r\n            this._fy = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    RadialGradient.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.stops.copyFrom(source.stops);\r\n        this.cx = source.cx;\r\n        this.cy = source.cy;\r\n        this.fx = source.fx;\r\n        this.fy = source.fy;\r\n    };\r\n    Object.defineProperty(RadialGradient.prototype, \"stops\", {\r\n        /**\r\n         * A list of color stops in the gradient.\r\n         *\r\n         * @return Stops\r\n         */\r\n        get: function () {\r\n            return this._stops;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Clears the gradient.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    RadialGradient.prototype.clear = function () {\r\n        this._stops.clear();\r\n    };\r\n    return RadialGradient;\r\n}(BaseObject));\r\nexport { RadialGradient };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RadialGradient\"] = RadialGradient;\r\n//# sourceMappingURL=RadialGradient.js.map","/**\r\n * Defines functionality for \"Data Item\"\r\n *\r\n * A Data Item can be any object that can hold data. For example [[LineSeries]]\r\n * holds a number of values, that comprise a line graph. Each of those values\r\n * (data points) is a {DataItem}.\r\n *\r\n * Furthermore the [[LineSeries]] itself can be represented as a entry in the\r\n * legend. Since legend needs access to Line Series' value, a DataItem is\r\n * created for the series.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObjectEvents } from \"./Base\";\r\nimport { Adapter } from \"./utils/Adapter\";\r\nimport { Animation, AnimationDisposer } from \"./utils/Animation\";\r\nimport * as $utils from \"./utils/Utils\";\r\nimport * as $array from \"./utils/Array\";\r\n//import * as $object from \"./utils/Object\";\r\nimport * as $type from \"./utils/Type\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * DataItem represents single element in data, for example a data point in a\r\n * Serial Chart Series, e.g. a column.\r\n *\r\n * DataItem defines relationship between structured data, required for specific\r\n * chart type or task, and raw source data.\r\n *\r\n * It also implements required calculations, updates related visual elements,\r\n * etc.\r\n *\r\n * @todo Description\r\n * @important\r\n */\r\nvar DataItem = /** @class */ (function (_super) {\r\n    __extends(DataItem, _super);\r\n    /**\r\n     * Constructor\r\n     * @todo Adding events to disposers produces errors in some cases, which means that chart is using disposed Data Items which is not right\r\n     */\r\n    function DataItem() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * This Data Item is currently disabled.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._disabled = false;\r\n        /**\r\n         * Indicates whether Data Item has any properties set.\r\n         *\r\n         * If it does not have any, the code can use this property to check whether\r\n         * they need to apply costly operation of re-applying properties, whenever\r\n         * Data Item-related element is redrawn, e.g. series.\r\n         */\r\n        _this.hasProperties = false;\r\n        /**\r\n         * An object containing calculated values.\r\n         */\r\n        _this.values = {};\r\n        /**\r\n         * An object container current working values.\r\n         */\r\n        //public readonly workingValues: { [index: string]: { [index: string]: number } } = {};\r\n        /**\r\n         * An object containing categories.\r\n         */\r\n        _this.categories = {};\r\n        /**\r\n         * An object containing dates.\r\n         */\r\n        _this.dates = {};\r\n        /**\r\n         * An object containing locations for the Data Item.\r\n         *\r\n         * A location is a position within date or category, or, in some other cases,\r\n         * where there is no single point but rather some period.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/series/#Data_item_locations} for info how data item locations work\r\n         */\r\n        _this.locations = {};\r\n        /**\r\n         * Current working locations.\r\n         */\r\n        _this.workingLocations = {};\r\n        /**\r\n         * An object containing Data Item specific appearance properties in key-value\r\n         * pairs.\r\n         *\r\n         * Sometimes a single Data Item needs to apply different properties than the\r\n         * rest of the data [[Series]] it is part of. E.g. a single column,\r\n         * represented by a Data Item needs to be filled with a different color than\r\n         * the reset of the [[ColumnSeries]] it belongs to.\r\n         *\r\n         * That's where Data Item's `properties` come into play.\r\n         *\r\n         * Please note that you should set Data Item-specific properties using\r\n         * `setProperty()` method, rather than access `properties` object directly.\r\n         */\r\n        _this.properties = {};\r\n        /**\r\n         * A list of [[Sprite]] elements that are associated with this Data Item.\r\n         *\r\n         * E.g. an [[Axis]] Data Item has several separate elements associated with\r\n         * it, like [[AxisTick]], [[AxisLabel]], and [[Grid]].\r\n         *\r\n         * Data Item keeps track of all of them, so it can toggle all related visual\r\n         * elements when it itself is toggled.\r\n         */\r\n        _this.sprites = [];\r\n        /**\r\n         * Identifies if this object is a \"template\" and should not be treated as\r\n         * real object that is drawn or actually used in the chart.\r\n         */\r\n        _this.isTemplate = false;\r\n        /**\r\n         * The current index within the dataItems\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._index = null;\r\n        /**\r\n         * Is Data Item currently visible?\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._visible = true;\r\n        /**\r\n         * Is Data Item currently hidden?\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._hidden = false;\r\n        /**\r\n         * Should this Data Item be used when calculating data ranges and scales?\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._ignoreMinMax = false;\r\n        /**\r\n         * Some of the Data Item's data fields may contain an array of children. This\r\n         * property contains an object indicating which fields hold an array, so that\r\n         * they can be processed properly.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.hasChildren = {};\r\n        /**\r\n         * Indicates whether Data Item is currently animiting from visible to hidden\r\n         * state.\r\n         */\r\n        _this.isHiding = false;\r\n        /**\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._valueAnimations = {};\r\n        /**\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._locationAnimations = {};\r\n        _this.className = \"DataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DataItem.prototype, \"adapter\", {\r\n        /**\r\n         * Holds Adapter.\r\n         */\r\n        get: function () {\r\n            if (!this._adapterO) {\r\n                this._adapterO = new Adapter(this);\r\n            }\r\n            return this._adapterO;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"index\", {\r\n        /**\r\n         * Data Item's position index in Component's data.\r\n         *\r\n         * @return Index\r\n         */\r\n        get: function () {\r\n            if (this.component) {\r\n                if (this._index != null) {\r\n                    return this._index;\r\n                }\r\n                else {\r\n                    return -1;\r\n                }\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"animations\", {\r\n        /**\r\n         * A list of [[Animations]] objects currently mutating Data Item's values.\r\n         *\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            if (!this._animations) {\r\n                this._animations = [];\r\n                this._disposers.push(new AnimationDisposer(this._animations));\r\n            }\r\n            return this._animations;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"visible\", {\r\n        /**\r\n         * Returns `true` if this Data Item is currently visible.\r\n         *\r\n         * @return Visible?\r\n         */\r\n        get: function () {\r\n            if (this._hidden) {\r\n                return false;\r\n            }\r\n            return this._visible;\r\n        },\r\n        /**\r\n         * Sets visibility of the Data Item.\r\n         *\r\n         * @param value Visible?\r\n         */\r\n        set: function (value) {\r\n            if (value) {\r\n                this.hidden = false;\r\n            }\r\n            if (this._visible != value) {\r\n                this.setVisibility(value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"hidden\", {\r\n        /**\r\n         * Returns `true` if this Data Item is currently hidden.\r\n         *\r\n         * @return Hidden?\r\n         */\r\n        get: function () {\r\n            return this._hidden;\r\n        },\r\n        /**\r\n         * Sets hidden flag for data item. Mostly used to initially hide data item.\r\n         *\r\n         * @param value Hidden?\r\n         */\r\n        set: function (value) {\r\n            if (this._hidden != value) {\r\n                this._hidden = value;\r\n                if (value) {\r\n                    this.setVisibility(false);\r\n                }\r\n                else {\r\n                    this.setVisibility(true, true);\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"__disabled\", {\r\n        /**\r\n         * Is this Data Item currently disabled?\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param {boolean}\r\n         */\r\n        get: function () {\r\n            return this._disabled;\r\n        },\r\n        /**\r\n         * Disables all Sprites associated with this Data Item.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param {boolean}\r\n         */\r\n        set: function (value) {\r\n            //\tif (this._disabled != value) { // not good\r\n            this._disabled = value;\r\n            $array.each(this.sprites, function (sprite) {\r\n                sprite.__disabled = value;\r\n            });\r\n            //\t}\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets visibility of the Data Item.\r\n     *\r\n     * @param value Data Item\r\n     */\r\n    DataItem.prototype.setVisibility = function (value, noChangeValues) {\r\n        $array.each(this.sprites, function (sprite) {\r\n            if (value) {\r\n                sprite.visible = sprite.defaultState.properties.visible;\r\n            }\r\n            else {\r\n                if (sprite.hiddenState) {\r\n                    sprite.visible = sprite.hiddenState.properties.visible;\r\n                }\r\n                else {\r\n                    sprite.visible = false;\r\n                }\r\n            }\r\n        });\r\n        this._visible = value;\r\n        if (this._eventDispatcher && !this.__disabled) {\r\n            if (this.events.isEnabled(\"visibilitychanged\")) {\r\n                var event_1 = {\r\n                    type: \"visibilitychanged\",\r\n                    target: this,\r\n                    visible: value\r\n                };\r\n                this.events.dispatchImmediately(\"visibilitychanged\", event_1);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Shows the Data Item and related visual elements.\r\n     *\r\n     * @param duration  Animation duration (ms)\r\n     * @param delay     Delay animation (ms)\r\n     * @param fields    A list of fields to set values of\r\n     */\r\n    DataItem.prototype.show = function (duration, delay, fields) {\r\n        var _this = this;\r\n        if (!this.hidden) {\r\n            this.setVisibility(true, true);\r\n            this.isHiding = false;\r\n            if (this._hideDisposer) {\r\n                this.removeDispose(this._hideDisposer);\r\n            }\r\n            var animation_1;\r\n            if (fields) {\r\n                $array.each(fields, function (field) {\r\n                    animation_1 = _this.setWorkingValue(field, _this.values[field].value, duration, delay);\r\n                });\r\n            }\r\n            $array.each(this.sprites, function (sprite) {\r\n                var animation = sprite.show(duration);\r\n                if (animation != null && !animation.isFinished()) {\r\n                    _this._disposers.push(animation);\r\n                    if (delay != null && delay > 0) {\r\n                        animation.delay(delay);\r\n                    }\r\n                }\r\n            });\r\n            return animation_1;\r\n        }\r\n    };\r\n    /**\r\n     * Destroys this object and all related data.\r\n     */\r\n    DataItem.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        $array.each(this.sprites, function (sprite) {\r\n            sprite.dispose();\r\n        });\r\n        this.sprites = [];\r\n    };\r\n    /**\r\n     * Hides the Data Item and related visual elements.\r\n     *\r\n     * @param duration  Animation duration (ms)\r\n     * @param delay     Delay animation (ms)\r\n     * @param toValue   A value to set to `fields` when hiding\r\n     * @param fields    A list of data fields to set value to `toValue`\r\n     */\r\n    DataItem.prototype.hide = function (duration, delay, toValue, fields) {\r\n        var _this = this;\r\n        this.isHiding = true;\r\n        $array.each(this.sprites, function (sprite) {\r\n            var animation = sprite.hide(duration);\r\n            if (animation != null && !animation.isFinished()) {\r\n                _this._disposers.push(animation);\r\n                if (delay != null && delay > 0) {\r\n                    animation.delay(delay);\r\n                }\r\n            }\r\n        });\r\n        if ($type.isNumber(toValue) && fields) {\r\n            var animation_2;\r\n            $array.each(fields, function (field) {\r\n                var anim = _this.setWorkingValue(field, toValue, duration, delay);\r\n                if (anim) {\r\n                    animation_2 = anim;\r\n                }\r\n            });\r\n            if (animation_2 && !animation_2.isFinished()) {\r\n                this._hideDisposer = animation_2.events.on(\"animationended\", function () {\r\n                    _this.setVisibility(false, true);\r\n                    _this.isHiding = false;\r\n                });\r\n                this._disposers.push(this._hideDisposer);\r\n                return animation_2;\r\n            }\r\n            else {\r\n                this.isHiding = false;\r\n                this.setVisibility(false, true);\r\n            }\r\n        }\r\n        else {\r\n            this.isHiding = false;\r\n            this.setVisibility(false);\r\n        }\r\n    };\r\n    /**\r\n     * Returns a duration (ms) the Data Item should take to animate from one\r\n     * value to another.\r\n     *\r\n     * If the duration is not specified via parameter, this method will try to\r\n     * request a default duration from the related `Component`.\r\n     *\r\n     * @param duration  Default duration (ms)\r\n     * @return Duration (ms)\r\n     */\r\n    DataItem.prototype.getDuration = function (duration) {\r\n        if (!$type.isNumber(duration)) {\r\n            var component = this.component;\r\n            if (component) {\r\n                duration = component.interpolationDuration;\r\n            }\r\n        }\r\n        if (duration != null) {\r\n            if (!this._adapterO) {\r\n                return duration;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"duration\", duration);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns a numeric value for specific data field.\r\n     *\r\n     * If `calculated` is not set, it will return a raw value, as it is in\r\n     * source data.\r\n     *\r\n     * If `calculated` is set, it will return a pre-calculated specific value.\r\n     *\r\n     * @param name        Data field name\r\n     * @param calculated  A calculated value name\r\n     * @return Value\r\n     */\r\n    DataItem.prototype.getValue = function (name, calculated) {\r\n        if (name && this.component) {\r\n            if (!calculated) {\r\n                calculated = this.component.dataFields[name + \"Show\"];\r\n                if (!calculated) {\r\n                    calculated = \"value\";\r\n                }\r\n            }\r\n            var value = this.values[name][calculated];\r\n            if (this._adapterO && this._adapterO.isEnabled(\"value\")) {\r\n                return this._adapterO.apply(\"value\", {\r\n                    value: value,\r\n                    field: name\r\n                }).value;\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns a current working value for a specific data field.\r\n     *\r\n     * The actual value may differ from the one returned by `getValue()`. The\r\n     * latter returns static values from the data source.\r\n     *\r\n     * `getWorkingValue()` returns current value, which is usually different if\r\n     * Data Item is animating from one state to another.\r\n     *\r\n     * @param name        Data field name\r\n     * @return Value\r\n     */\r\n    DataItem.prototype.getWorkingValue = function (name) {\r\n        if (name && this.component) {\r\n            var realName = this.component.dataFields[name + \"Show\"];\r\n            if (!realName) {\r\n                realName = \"workingValue\";\r\n            }\r\n            if (this._adapterO) {\r\n                return this._adapterO.apply(\"workingValue\", {\r\n                    workingValue: this.values[name][realName],\r\n                    field: name\r\n                }).workingValue;\r\n            }\r\n            else {\r\n                return this.values[name][realName];\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     * @return Value\r\n     */\r\n    DataItem.prototype.getActualWorkingValue = function (name) {\r\n        return this.values[name].workingValue;\r\n    };\r\n    /**\r\n     * Sets a numeric value for specific data field.\r\n     *\r\n     * @param name        Data field name\r\n     * @param value       Value\r\n     * @param calculated  Calculated data field name\r\n     * @param duration    Duration (ms) to animate to new value to\r\n     * @param delay       Delay animation (ms)\r\n     */\r\n    DataItem.prototype.setValue = function (name, value, duration, delay) {\r\n        var currentValue = this.values[name].value;\r\n        var newDuration = this.getDuration(duration);\r\n        value = $type.toNumber(value);\r\n        if (currentValue !== value) {\r\n            this.values[name].value = value;\r\n            if (this._eventDispatcher && !this.__disabled) {\r\n                if (this.events.isEnabled(\"valuechanged\")) {\r\n                    var event_2 = {\r\n                        type: \"valuechanged\",\r\n                        target: this,\r\n                        property: name\r\n                    };\r\n                    this.events.dispatchImmediately(\"valuechanged\", event_2);\r\n                }\r\n            }\r\n            if (this.component) {\r\n                this.component.handleDataItemValueChange(this, name);\r\n            }\r\n        }\r\n        this.setWorkingValue(name, value, newDuration, delay);\r\n    };\r\n    DataItem.prototype.setCalculatedValue = function (name, value, calculated) {\r\n        var currentValue = this.values[name][calculated];\r\n        if (currentValue !== value && $type.isNumber(value)) {\r\n            this.values[name][calculated] = value;\r\n            if (this._eventDispatcher && !this.__disabled) {\r\n                if (this.events.isEnabled(\"calculatedvaluechanged\")) {\r\n                    var event_3 = {\r\n                        type: \"calculatedvaluechanged\",\r\n                        target: this,\r\n                        property: name\r\n                    };\r\n                    this.events.dispatchImmediately(\"calculatedvaluechanged\", event_3);\r\n                }\r\n            }\r\n            if (this.component) {\r\n                this.component.handleDataItemCalculatedValueChange(this, name);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Set current working numeric value for a specific data field.\r\n     *\r\n     * @param name        Data field name\r\n     * @param value       Value\r\n     * @param calculated  Calculated data field name\r\n     * @param duration    Duration (ms) to animate to new value to\r\n     * @param delay       Delay animation (ms)\r\n     * @return An [[Animation]] object used for transition to new values\r\n     */\r\n    DataItem.prototype.setWorkingValue = function (name, value, duration, delay) {\r\n        if ($type.isNumber(this.values[name].value)) {\r\n            var newDuration = this.getDuration(duration);\r\n            var workingValue = this.values[name].workingValue;\r\n            if (newDuration != null && newDuration > 0 && $type.isNumber(workingValue) && this.component) { // sometimes NaN is passed, so only change this to != null if all cases of NaN are handled, otherwise animation won't stop\r\n                if (workingValue != value) {\r\n                    var animation = this.animate({ childObject: this.values[name], property: \"workingValue\", from: workingValue, to: value, dummyData: name }, newDuration, this.component.interpolationEasing);\r\n                    if (delay != null) {\r\n                        animation.delay(delay);\r\n                    }\r\n                    animation.events.on(\"animationstarted\", this.handleInterpolationProgress, this);\r\n                    animation.events.on(\"animationprogress\", this.handleInterpolationProgress, this);\r\n                    animation.events.on(\"animationended\", this.handleInterpolationProgress, this);\r\n                    this._valueAnimations[name] = animation;\r\n                    return animation;\r\n                }\r\n                else {\r\n                    var valueAnimation = this._valueAnimations[name];\r\n                    if (valueAnimation) {\r\n                        valueAnimation.stop();\r\n                    }\r\n                    this.values[name].workingValue = value;\r\n                }\r\n            }\r\n            else {\r\n                var valueAnimation = this._valueAnimations[name];\r\n                if (valueAnimation) {\r\n                    valueAnimation.stop();\r\n                }\r\n                this.values[name].workingValue = value;\r\n                if (this._eventDispatcher && !this.__disabled) {\r\n                    if (this.events.isEnabled(\"workingvaluechanged\")) {\r\n                        var event_4 = {\r\n                            type: \"workingvaluechanged\",\r\n                            target: this,\r\n                            property: name\r\n                        };\r\n                        this.events.dispatchImmediately(\"workingvaluechanged\", event_4);\r\n                    }\r\n                }\r\n                if (this.component) {\r\n                    this.component.handleDataItemWorkingValueChange(this, name);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets a relative location for a data field.\r\n     *\r\n     * A location is always relative on a 0 to 1 scale, with 0 being beginning,\r\n     * 0.5 middle and 1 end.\r\n     *\r\n     * @todo Rewiew description\r\n     * @param name      Data field name\r\n     * @param value     Location (0-1)\r\n     * @param duration  Duration (ms) to animate to new value to\r\n     * @param delay     Delay animation (ms)\r\n     */\r\n    DataItem.prototype.setLocation = function (name, value, duration, delay) {\r\n        var currentLocation = this.locations[name];\r\n        if (currentLocation !== value) {\r\n            this.locations[name] = value;\r\n            if (this._eventDispatcher && !this.__disabled) {\r\n                if (this.events.isEnabled(\"locationchanged\")) {\r\n                    var event_5 = {\r\n                        type: \"locationchanged\",\r\n                        target: this,\r\n                        property: name\r\n                    };\r\n                    this.events.dispatchImmediately(\"locationchanged\", event_5);\r\n                }\r\n            }\r\n            if (this.component) {\r\n                this.component.handleDataItemValueChange(this, name); // correct\r\n            }\r\n            this.setWorkingLocation(name, value, duration, delay);\r\n        }\r\n    };\r\n    /**\r\n     * Sets a current working location for a data field.\r\n     *\r\n     * @todo Rewiew description\r\n     * @param name      Data field name\r\n     * @param value     Location (0-1)\r\n     * @param duration  Duration (ms) to animate to new value to\r\n     * @param delay     Delay animation (ms)\r\n     */\r\n    DataItem.prototype.setWorkingLocation = function (name, value, duration, delay) {\r\n        var newDuration = this.getDuration(duration);\r\n        var workingLocation = this.workingLocations[name];\r\n        if (newDuration != null && newDuration > 0 && $type.isNumber(workingLocation) && this.component) { // sometimes NaN is passed, so only change this to != null if all cases of NaN are handled, otherwise animation won't stop\r\n            if (workingLocation != value) {\r\n                var animation = this.animate({ childObject: this.workingLocations, property: name, from: workingLocation, to: value, dummyData: name }, newDuration, this.component.interpolationEasing);\r\n                if (delay != null) {\r\n                    animation.delay(delay);\r\n                }\r\n                animation.events.on(\"animationstarted\", this.handleInterpolationProgress, this);\r\n                animation.events.on(\"animationprogress\", this.handleInterpolationProgress, this);\r\n                animation.events.on(\"animationended\", this.handleInterpolationProgress, this);\r\n                this._locationAnimations[name] = animation;\r\n                return animation;\r\n            }\r\n            else {\r\n                var locationAnimation = this._locationAnimations[name];\r\n                if (locationAnimation) {\r\n                    locationAnimation.stop();\r\n                }\r\n                this.workingLocations[name] = value;\r\n            }\r\n        }\r\n        else {\r\n            var locationAnimation = this._locationAnimations[name];\r\n            if (locationAnimation) {\r\n                locationAnimation.stop();\r\n            }\r\n            this.workingLocations[name] = value;\r\n            if (this._eventDispatcher && !this.__disabled) {\r\n                if (this.events.isEnabled(\"workinglocationchanged\")) {\r\n                    var event_6 = {\r\n                        type: \"workinglocationchanged\",\r\n                        target: this,\r\n                        property: name\r\n                    };\r\n                    this.events.dispatchImmediately(\"workinglocationchanged\", event_6);\r\n                }\r\n            }\r\n            if (this.component) {\r\n                this.component.handleDataItemWorkingLocationChange(this, name);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets Date value to a data field.\r\n     *\r\n     * @param name      Data field name\r\n     * @param date      Date object\r\n     * @param duration  Duration (ms) to animate to new value to\r\n     */\r\n    DataItem.prototype.setDate = function (name, date, duration) {\r\n        if (!$type.isDate(date) && this.component) {\r\n            date = this.component.dateFormatter.parse(date);\r\n        }\r\n        var currentDate = this.dates[name];\r\n        if (currentDate !== date) {\r\n            this.dates[name] = date;\r\n            this.setValue(name, date.getTime(), duration);\r\n        }\r\n    };\r\n    /**\r\n     * Returns a Date value of the data field.\r\n     *\r\n     * @param name  Data field name\r\n     * @return Date object\r\n     */\r\n    DataItem.prototype.getDate = function (name) {\r\n        if (this._adapterO) {\r\n            return this._adapterO.apply(\"date\", {\r\n                date: this.dates[name],\r\n                field: name\r\n            }).date;\r\n        }\r\n        else {\r\n            return this.dates[name];\r\n        }\r\n    };\r\n    /**\r\n     * Sets a Data Item-specific visual properties to apply to related elements.\r\n     *\r\n     * @param name   Property name\r\n     * @param value  Property value\r\n     */\r\n    DataItem.prototype.setProperty = function (name, value) {\r\n        if (this.properties[name] !== value) {\r\n            this.hasProperties = true;\r\n            this.properties[name] = value;\r\n            if (this._eventDispatcher && !this.__disabled) {\r\n                if (this.events.isEnabled(\"propertychanged\")) {\r\n                    var event_7 = {\r\n                        type: \"propertychanged\",\r\n                        target: this,\r\n                        property: name,\r\n                        value: value\r\n                    };\r\n                    this.events.dispatchImmediately(\"propertychanged\", event_7);\r\n                }\r\n            }\r\n            if (this.component) {\r\n                this.component.handleDataItemPropertyChange(this, name);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets a related category for this Data Item.\r\n     *\r\n     * @todo Review description\r\n     * @param name   Data field name\r\n     * @param value  Category\r\n     */\r\n    DataItem.prototype.setCategory = function (name, value) {\r\n        if (!$type.isString(value)) {\r\n            value = $type.castString(value);\r\n        }\r\n        if (this.categories[name] !== value) {\r\n            this.categories[name] = value;\r\n        }\r\n    };\r\n    /**\r\n     * Clones the Data Item, including all related data.\r\n     *\r\n     * @return New Data Item clone\r\n     */\r\n    //public clone(cloneId?: string): this {\r\n    //\tlet dataItem: this = super.clone(cloneId);\r\n    //\tdataItem.copyFrom(this);\r\n    //\treturn dataItem;\r\n    //}\r\n    /**\r\n     * Copies all properties and related data from different data item.\r\n     *\r\n     * @param object Source data item\r\n     */\r\n    DataItem.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (source.dataContext) {\r\n            this.dataContext = $utils.copy(source.dataContext, {});\r\n        }\r\n        $utils.copyProperties(source.locations, this.locations);\r\n        /*\r\n        $utils.copyProperties(source.properties, this.properties);\r\n        $utils.copyProperties(source.categories, this.categories);\r\n        $utils.copyProperties(source.values, this.values);\r\n        $utils.copyProperties(source.dates, this.dates);\r\n\r\n        $object.each(source.values, (name, value) => {\r\n            this.values[name] = $object.copy(value);\r\n        });*/\r\n        if (source._adapterO) {\r\n            this.adapter.copyFrom(source._adapterO);\r\n        }\r\n        //this.events.copyFrom(source.events); // because copied in Base\r\n        this.component = source.component;\r\n    };\r\n    Object.defineProperty(DataItem.prototype, \"opacity\", {\r\n        /**\r\n         * Sets opacity for all Data Item's related elements (Sprites).\r\n         *\r\n         * @param value Opacity (0-1)\r\n         */\r\n        set: function (value) {\r\n            $array.each(this.sprites, function (sprite) {\r\n                sprite.opacity = value;\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"ignoreMinMax\", {\r\n        /**\r\n         * Exclude from min/max calculations?\r\n         * @return Exclude from min/max calculations?\r\n         */\r\n        get: function () {\r\n            return this._ignoreMinMax;\r\n        },\r\n        /**\r\n         * Sets whether this data point should not be included in the scale and\r\n         * minimum/maximum calculations.\r\n         *\r\n         * E.g. some we may want to exclude a particular data point from influencing\r\n         * [[ValueAxis]] scale.\r\n         *\r\n         * @param value  Exclude from min/max calculations?\r\n         */\r\n        set: function (value) {\r\n            this._ignoreMinMax = value;\r\n            if (this._eventDispatcher && !this.__disabled) {\r\n                if (this.events.isEnabled(\"propertychanged\")) {\r\n                    var event_8 = {\r\n                        type: \"propertychanged\",\r\n                        target: this,\r\n                        property: \"ignoreMinMax\",\r\n                        value: value\r\n                    };\r\n                    this.events.dispatchImmediately(\"propertychanged\", event_8);\r\n                }\r\n            }\r\n            if (this.component) {\r\n                this.component.handleDataItemPropertyChange(this, \"ignoreMinMax\");\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates and starts an [[Animation]] to interpolate (morph) Data Item's\r\n     * properties and/or values.\r\n     *\r\n     * @see {@link Animation}\r\n     * @param animationOptions  Animation options\r\n     * @param duration          Animation duration (ms)\r\n     * @param easing            Easing function\r\n     * @return Animation\r\n     */\r\n    DataItem.prototype.animate = function (animationOptions, duration, easing) {\r\n        return new Animation(this, animationOptions, duration, easing).start();\r\n    };\r\n    /**\r\n     * Handles intermediate steps when Data Item is interpolating (morphing) from\r\n     * one value to another.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event Event object\r\n     */\r\n    DataItem.prototype.handleInterpolationProgress = function (event) {\r\n        var animation = event.target;\r\n        // it's always only one options, no need cycle\r\n        var animationOptions = animation.animationOptions[0];\r\n        if (animationOptions) {\r\n            if (this._eventDispatcher && !this.__disabled) {\r\n                if (this.events.isEnabled(\"workingvaluechanged\")) {\r\n                    var event_9 = {\r\n                        type: \"workingvaluechanged\",\r\n                        target: this,\r\n                        property: animationOptions.dummyData\r\n                    };\r\n                    this.events.dispatchImmediately(\"workingvaluechanged\", event_9);\r\n                }\r\n            }\r\n            if (this.component) {\r\n                this.component.handleDataItemWorkingValueChange(this, animationOptions.dummyData);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Checks whether Data Item has values set for all of the data fields,\r\n     * supplied via argument.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param fields  Field list to check\r\n     * @return Has values for all fields?\r\n     */\r\n    DataItem.prototype.hasValue = function (fields) {\r\n        // todo: what about categories?\r\n        for (var i = 0, len = fields.length; i < len; i++) {\r\n            var values = this.values[fields[i]];\r\n            if (!values || !$type.hasValue(values.value)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Object.defineProperty(DataItem.prototype, \"depth\", {\r\n        /**\r\n         * Depth of the Data Item.\r\n         *\r\n         * In nested data structures, like TreeMap, this indicates the level this\r\n         * data point is at, in relation to the parent Data Item.\r\n         *\r\n         * @return Depth\r\n         */\r\n        get: function () {\r\n            if (!this.parent) {\r\n                return 0;\r\n            }\r\n            else {\r\n                return this.parent.depth + 1;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"dataContext\", {\r\n        /**\r\n         * Sets to a reference to an original object from Component's data.\r\n         *\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this._dataContext;\r\n        },\r\n        /**\r\n         * A reference to an original object in Component's data, that this Data Item\r\n         * is derived from.\r\n         *\r\n         * @param value Original data object\r\n         */\r\n        set: function (value) {\r\n            this._dataContext = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * adds a sprite to dataItem.sprites array\r\n     * @ignore\r\n     */\r\n    DataItem.prototype.addSprite = function (sprite) {\r\n        if (sprite.dataItem && sprite.dataItem != this) {\r\n            $array.remove(sprite.dataItem.sprites, sprite);\r\n        }\r\n        if (!this.visible) {\r\n            sprite.hide(0);\r\n        }\r\n        if (this.isHiding) {\r\n            sprite.hide();\r\n        }\r\n        this.sprites.push(sprite);\r\n        sprite.dataItem = this;\r\n    };\r\n    return DataItem;\r\n}(BaseObjectEvents));\r\nexport { DataItem };\r\n//# sourceMappingURL=DataItem.js.map","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","import { __extends, __generator, __read } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Disposer } from \"./Disposer\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $object from \"./Object\";\r\nimport * as $iter from \"./Iterator\";\r\nimport * as $string from \"./String\";\r\n/**\r\n * A disposable dictionary, which when disposed itself will call `dispose()`\r\n * method on all its items.\r\n */\r\nvar DictionaryDisposer = /** @class */ (function (_super) {\r\n    __extends(DictionaryDisposer, _super);\r\n    function DictionaryDisposer(dict) {\r\n        var _this = this;\r\n        var disposer = dict.events.on(\"removed\", function (x) {\r\n            x.oldValue.dispose();\r\n        }, undefined, false);\r\n        _this = _super.call(this, function () {\r\n            disposer.dispose();\r\n            // TODO clear the dictionary ?\r\n            $iter.each(dict.iterator(), function (a) {\r\n                var v = a[1];\r\n                v.dispose();\r\n            });\r\n        }) || this;\r\n        return _this;\r\n    }\r\n    return DictionaryDisposer;\r\n}(Disposer));\r\nexport { DictionaryDisposer };\r\n/**\r\n * A Dictionary is collection where values of some type can be mapped to\r\n * string keys.\r\n *\r\n * You might call it an \"associative list\" or \"associative array\".\r\n */\r\nvar Dictionary = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Dictionary() {\r\n        /**\r\n         * Event dispatcher.\r\n         */\r\n        this.events = new EventDispatcher();\r\n        this._dictionary = {};\r\n    }\r\n    /**\r\n     * Returns `true` if key exists in Dictionary.\r\n     *\r\n     * @param key  The key to search for\r\n     * @return `true` if key exists, `false` if it doesn't\r\n     */\r\n    Dictionary.prototype.hasKey = function (key) {\r\n        return $object.hasKey(this._dictionary, key);\r\n    };\r\n    /**\r\n     * Returns the value for a specific key.\r\n     *\r\n     * @param key  The key to search for\r\n     * @return Value for the key, or `undefined` if it doesn't exist\r\n     */\r\n    Dictionary.prototype.getKey = function (key) {\r\n        return this._dictionary[key];\r\n    };\r\n    /**\r\n     * Inserts value at specific key.\r\n     *\r\n     * Will thrown an exception if the key already exists in the dictionary.\r\n     *\r\n     * @param key    Key\r\n     * @param value  Value\r\n     */\r\n    Dictionary.prototype.insertKey = function (key, value) {\r\n        if ($object.hasKey(this._dictionary, key)) {\r\n            throw new Error(\"Key \" + key + \" already exists in dictionary\");\r\n        }\r\n        else {\r\n            this._dictionary[key] = value;\r\n            if (this.events.isEnabled(\"insertKey\")) {\r\n                this.events.dispatchImmediately(\"insertKey\", {\r\n                    type: \"insertKey\",\r\n                    target: this,\r\n                    key: key,\r\n                    newValue: value\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Adds or updates key/value into dictionary.\r\n     *\r\n     * If the key already exists, the old value will be overwritten.\r\n     *\r\n     * If the new value is exactly the same as the old value (using ===), it won't do anything.\r\n     *\r\n     * @param key    Key\r\n     * @param value  Value\r\n     */\r\n    Dictionary.prototype.setKey = function (key, value) {\r\n        if ($object.hasKey(this._dictionary, key)) {\r\n            var oldValue = this._dictionary[key];\r\n            if (oldValue !== value) {\r\n                this._dictionary[key] = value;\r\n                if (this.events.isEnabled(\"setKey\")) {\r\n                    this.events.dispatchImmediately(\"setKey\", {\r\n                        type: \"setKey\",\r\n                        target: this,\r\n                        key: key,\r\n                        oldValue: oldValue,\r\n                        newValue: value\r\n                    });\r\n                }\r\n                if (this.events.isEnabled(\"removed\")) {\r\n                    this.events.dispatchImmediately(\"removed\", {\r\n                        type: \"removed\",\r\n                        target: this,\r\n                        oldValue: oldValue\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._dictionary[key] = value;\r\n            if (this.events.isEnabled(\"insertKey\")) {\r\n                this.events.dispatchImmediately(\"insertKey\", {\r\n                    type: \"insertKey\",\r\n                    target: this,\r\n                    key: key,\r\n                    newValue: value\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Updates the value at specific `key` using custom function.\r\n     *\r\n     * Passes in current value into the function, and uses its output as a new\r\n     * value.\r\n     *\r\n     * If the new value is exactly the same as the old value (using ===), it won't do anything.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param key  Key\r\n     * @param fn   Function to transform the value\r\n     */\r\n    Dictionary.prototype.updateKey = function (key, fn) {\r\n        if ($object.hasKey(this._dictionary, key)) {\r\n            var oldValue = this._dictionary[key];\r\n            var newValue = fn(oldValue);\r\n            if (oldValue !== newValue) {\r\n                this._dictionary[key] = newValue;\r\n                if (this.events.isEnabled(\"setKey\")) {\r\n                    this.events.dispatchImmediately(\"setKey\", {\r\n                        type: \"setKey\",\r\n                        target: this,\r\n                        key: key,\r\n                        oldValue: oldValue,\r\n                        newValue: newValue\r\n                    });\r\n                }\r\n                if (this.events.isEnabled(\"removed\")) {\r\n                    this.events.dispatchImmediately(\"removed\", {\r\n                        type: \"removed\",\r\n                        target: this,\r\n                        oldValue: oldValue\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(\"Key \" + key + \" doesn't exist in dictionary\");\r\n        }\r\n    };\r\n    /**\r\n     * Removes value at specific `key` from dictionary.\r\n     *\r\n     * @param key  Key to remove\r\n     */\r\n    Dictionary.prototype.removeKey = function (key) {\r\n        if ($object.hasKey(this._dictionary, key)) {\r\n            var oldValue = this._dictionary[key];\r\n            delete this._dictionary[key];\r\n            if (this.events.isEnabled(\"removeKey\")) {\r\n                this.events.dispatchImmediately(\"removeKey\", {\r\n                    type: \"removeKey\",\r\n                    target: this,\r\n                    key: key,\r\n                    oldValue: oldValue\r\n                });\r\n            }\r\n            if (this.events.isEnabled(\"removed\")) {\r\n                this.events.dispatchImmediately(\"removed\", {\r\n                    type: \"removed\",\r\n                    target: this,\r\n                    oldValue: oldValue\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * [insertKeyIfEmpty description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo description\r\n     * @param key      [description]\r\n     * @param ifEmpty  [description]\r\n     * @return [description]\r\n     */\r\n    Dictionary.prototype.insertKeyIfEmpty = function (key, ifEmpty) {\r\n        if (!this.hasKey(key)) {\r\n            this.insertKey(key, ifEmpty());\r\n        }\r\n        return this.getKey(key);\r\n    };\r\n    /**\r\n     * Removes all items from the dictionary.\r\n     */\r\n    Dictionary.prototype.clear = function () {\r\n        var _this = this;\r\n        // TODO dispatch this after clear\r\n        if (this.events.isEnabled(\"removed\")) {\r\n            $object.each(this._dictionary, function (key, value) {\r\n                _this.events.dispatchImmediately(\"removed\", {\r\n                    type: \"removed\",\r\n                    target: _this,\r\n                    oldValue: value\r\n                });\r\n            });\r\n        }\r\n        this._dictionary = {};\r\n        if (this.events.isEnabled(\"cleared\")) {\r\n            this.events.dispatchImmediately(\"cleared\", {\r\n                type: \"cleared\",\r\n                target: this\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Copies items from another Dictionary.\r\n     *\r\n     * @param source  A Dictionary to copy items from\r\n     */\r\n    Dictionary.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        $iter.each(source.iterator(), function (a) {\r\n            // TODO fix this type cast\r\n            _this.setKey(a[0], a[1]);\r\n        });\r\n    };\r\n    /**\r\n     * Returns an interator that can be used to iterate through all items in\r\n     * the dictionary.\r\n     *\r\n     * @return Iterator\r\n     */\r\n    Dictionary.prototype.iterator = function () {\r\n        // @todo fix this type after the Iterator bug is fixed\r\n        // https://github.com/Microsoft/TypeScript/issues/16730\r\n        return $object.entries(this._dictionary);\r\n    };\r\n    /**\r\n     * Returns an ES6 iterator for the keys/values of the dictionary.\r\n     */\r\n    Dictionary.prototype[Symbol.iterator] = function () {\r\n        var _a, _b, _i, key;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    _a = [];\r\n                    for (_b in this._dictionary)\r\n                        _a.push(_b);\r\n                    _i = 0;\r\n                    _c.label = 1;\r\n                case 1:\r\n                    if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                    key = _a[_i];\r\n                    if (!$object.hasKey(this._dictionary, key)) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, [key, this._dictionary[key]]];\r\n                case 2:\r\n                    _c.sent();\r\n                    _c.label = 3;\r\n                case 3:\r\n                    _i++;\r\n                    return [3 /*break*/, 1];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Calls `f` for each key/value in the dictionary.\r\n     */\r\n    Dictionary.prototype.each = function (f) {\r\n        $iter.each(this.iterator(), function (_a) {\r\n            var _b = __read(_a, 2), key = _b[0], value = _b[1];\r\n            return f(key, value);\r\n        });\r\n    };\r\n    /**\r\n     * Returns an iterator that can be used to iterate through all items in\r\n     * the dictionary, ordered by key.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Iterator\r\n     */\r\n    Dictionary.prototype.sortedIterator = function () {\r\n        return $iter.sort(this.iterator(), function (x, y) { return $string.order(x[0], y[0]); });\r\n    };\r\n    return Dictionary;\r\n}());\r\nexport { Dictionary };\r\n/**\r\n * A version of a [[Dictionary]] that has a \"template\".\r\n *\r\n * A template is an instance of an object, that can be used to create new\r\n * elements in the list without actually needing to create instances for those.\r\n *\r\n * When new element is created in the list, e.g. by calling its `create()`\r\n * method, an exact copy of the element is created (including properties and\r\n * other attributes), inserted into the list and returned.\r\n */\r\nvar DictionaryTemplate = /** @class */ (function (_super) {\r\n    __extends(DictionaryTemplate, _super);\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param t Template object\r\n     */\r\n    function DictionaryTemplate(t) {\r\n        var _this = _super.call(this) || this;\r\n        _this.template = t;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DictionaryTemplate.prototype, \"template\", {\r\n        /**\r\n         * @return Template object\r\n         */\r\n        get: function () {\r\n            return this._template;\r\n        },\r\n        /**\r\n         * A \"template\" object to copy all properties from when creating new list\r\n         * items.\r\n         *\r\n         * @param v  Template object\r\n         */\r\n        set: function (v) {\r\n            v.isTemplate = true;\r\n            this._template = v;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all elements from other dictionary.\r\n     *\r\n     * @param source  Source dictionary\r\n     */\r\n    DictionaryTemplate.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        $iter.each(source.iterator(), function (a) {\r\n            // TODO fix this type cast\r\n            // TODO why does this need to clone ?\r\n            _this.setKey(a[0], a[1].clone());\r\n        });\r\n    };\r\n    /**\r\n     * Instantiates a new object of the specified type, adds it to specified\r\n     * `key` in the dictionary, and returns it.\r\n     *\r\n     * @param make  Item type to use. Will use the default type for the dictionary if not specified.\r\n     * @return      Newly created item\r\n     */\r\n    DictionaryTemplate.prototype.create = function (key) {\r\n        var _this = this;\r\n        return this.insertKeyIfEmpty(key, function () { return _this.template.clone(); });\r\n    };\r\n    return DictionaryTemplate;\r\n}(Dictionary));\r\nexport { DictionaryTemplate };\r\n//# sourceMappingURL=Dictionary.js.map","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","import { __extends } from \"tslib\";\r\nimport { TargetedEventDispatcher } from \"../utils/EventDispatcher\";\r\nimport { MultiDisposer, CounterDisposer } from \"../utils/Disposer\";\r\n/**\r\n * Represents an Event Dispatcher for [[InteractionObject]].\r\n *\r\n * Besides regular [[EventDispatcher]] functionality it adds new events with\r\n * direct application to DOM nodes. Primarily used to handle keyboard events,\r\n * but can turn into something else moving forward.\r\n */\r\nvar InteractionObjectEventDispatcher = /** @class */ (function (_super) {\r\n    __extends(InteractionObjectEventDispatcher, _super);\r\n    function InteractionObjectEventDispatcher() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * Holds a list of Disposers for DOM events added.\r\n         */\r\n        _this._domEvents = {};\r\n        return _this;\r\n    }\r\n    /**\r\n     * Adds a DOM event and returns Disposer.\r\n     *\r\n     * @return Disposer\r\n     */\r\n    InteractionObjectEventDispatcher.prototype._addDOMEvent = function (type, key, listener, context) {\r\n        var _this = this;\r\n        if (!this._domEvents[type]) {\r\n            var callback_1 = function (e) {\r\n                listener.call(context, key, e);\r\n            };\r\n            this.target.element.addEventListener(type, callback_1, false);\r\n            this._domEvents[type] = new CounterDisposer(function () {\r\n                delete _this._domEvents[type];\r\n                _this.target.element.removeEventListener(type, callback_1, false);\r\n            });\r\n        }\r\n        return this._domEvents[type].increment();\r\n    };\r\n    InteractionObjectEventDispatcher.prototype._dispatchKeyboardEvent = function (key, ev) {\r\n        // TODO use this.dispatchImmediately ?\r\n        if (this.target.events.isEnabled(key)) {\r\n            this.target.events.dispatchImmediately(key, {\r\n                type: key,\r\n                target: this.target,\r\n                event: ev\r\n            });\r\n        }\r\n    };\r\n    InteractionObjectEventDispatcher.prototype._on = function (once, type, callback, context, shouldClone, dispatch) {\r\n        var info = _super.prototype._on.call(this, once, type, callback, context, shouldClone, dispatch);\r\n        var disposers = [info.disposer];\r\n        switch (type) {\r\n            case \"hit\":\r\n            case \"doublehit\":\r\n            case \"rightclick\":\r\n            case \"down\":\r\n            case \"up\":\r\n                this.target.clickable = true;\r\n                break;\r\n            case \"drag\":\r\n            case \"dragstart\":\r\n            case \"dragstop\":\r\n                this.target.draggable = true;\r\n                break;\r\n            case \"track\":\r\n                this.target.trackable = true;\r\n                break;\r\n            case \"resize\":\r\n                this.target.resizable = true;\r\n                break;\r\n            case \"swipe\":\r\n            case \"swipeleft\":\r\n            case \"swiperight\":\r\n                this.target.swipeable = true;\r\n                break;\r\n            case \"wheel\":\r\n            case \"wheelup\":\r\n            case \"wheeldown\":\r\n            case \"wheelleft\":\r\n            case \"wheelright\":\r\n                this.target.wheelable = true;\r\n                break;\r\n            case \"over\":\r\n            case \"out\":\r\n                this.target.hoverable = true;\r\n                break;\r\n            case \"focus\":\r\n            case \"blur\":\r\n            case \"focusin\":\r\n            case \"focusout\":\r\n                this.target.focusable = true;\r\n                break;\r\n            case \"keydown\":\r\n                disposers.push(this._addDOMEvent(type, type, this._dispatchKeyboardEvent, this));\r\n                break;\r\n            case \"keyup\":\r\n                disposers.push(this._addDOMEvent(type, type, this._dispatchKeyboardEvent, this));\r\n                break;\r\n            case \"keypress\":\r\n                disposers.push(this._addDOMEvent(type, type, this._dispatchKeyboardEvent, this));\r\n                break;\r\n            case \"input\":\r\n                disposers.push(this._addDOMEvent(type, type, this._dispatchKeyboardEvent, this));\r\n                break;\r\n        }\r\n        info.disposer = new MultiDisposer(disposers);\r\n        return info;\r\n    };\r\n    return InteractionObjectEventDispatcher;\r\n}(TargetedEventDispatcher));\r\nexport { InteractionObjectEventDispatcher };\r\n//# sourceMappingURL=InteractionObjectEvents.js.map","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","/**\r\n * Base functionality\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport { List, ListTemplate } from \"./utils/List\";\r\nimport { OrderedListTemplate, SortedListTemplate } from \"./utils/SortedList\";\r\nimport { Dictionary, DictionaryTemplate } from \"./utils/Dictionary\";\r\nimport { Disposer } from \"./utils/Disposer\";\r\nimport { EventDispatcher } from \"./utils/EventDispatcher\";\r\nimport { Adapter } from \"./utils/Adapter\";\r\nimport { Color, color } from \"./utils/Color\";\r\nimport { Percent, percent } from \"./utils/Percent\";\r\nimport { registry } from \"./Registry\";\r\nimport { cache } from \"./utils/Cache\";\r\nimport * as $array from \"./utils/Array\";\r\nimport * as $object from \"./utils/Object\";\r\nimport * as $type from \"./utils/Type\";\r\n//import * as $debug from \"./utils/Debug\";\r\n/**\r\n * Provides base functionality for all derivative objects, like generating ids,\r\n * handling cache, etc.\r\n */\r\nvar BaseObject = /** @class */ (function () {\r\n    //protected _classes: { [index: string]: any } = {};\r\n    /**\r\n     * Constructor\r\n     * * Sets class name\r\n     */\r\n    function BaseObject() {\r\n        /**\r\n         * Indicates if this object has already been deleted. Any\r\n         * destruction/disposal code should take this into account when deciding\r\n         * wheter to run potentially costly disposal operations if they already have\r\n         * been run.\r\n         */\r\n        this._disposed = false;\r\n        /**\r\n         * List of IDisposer which will be disposed when the BaseObject is disposed.\r\n         */\r\n        this._disposers = [];\r\n        this.className = \"BaseObject\";\r\n        //this.debug();\r\n    }\r\n    BaseObject.prototype.debug = function () {\r\n        //$debug.debug(this);\r\n    };\r\n    Object.defineProperty(BaseObject.prototype, \"uid\", {\r\n        /**\r\n         * Returns object's internal unique ID.\r\n         *\r\n         * @return Unique ID\r\n         */\r\n        get: function () {\r\n            if (!this._uid) {\r\n                this._uid = registry.getUniqueId();\r\n                registry.map.setKey(this._uid, this);\r\n            }\r\n            return this._uid;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseObject.prototype, \"id\", {\r\n        /**\r\n         * @return Id\r\n         */\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        /**\r\n         * Sets the user-defined id of the element.\r\n         *\r\n         * @param value Id\r\n         */\r\n        set: function (value) {\r\n            //registry.map.setKey(value, this); // registry.map only stores by uid\r\n            this._id = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseObject.prototype, \"map\", {\r\n        /**\r\n         * Returns a universal collection for mapping ids with objects.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Map collection\r\n         */\r\n        get: function () {\r\n            if (!this._map) {\r\n                this._map = new Dictionary();\r\n            }\r\n            return this._map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseObject.prototype, \"delayedMap\", {\r\n        /**\r\n         * Returns mapping for objects referenced by id in JSON config that are not yet\r\n         * available at processing time.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Map collection\r\n         */\r\n        get: function () {\r\n            if (!this._delayedMap) {\r\n                this._delayedMap = new Dictionary();\r\n            }\r\n            return this._delayedMap;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Logs an id and property of the target element that is not yet available\r\n     * for later assignment.\r\n     *\r\n     * @ignore\r\n     * @param  property  Property to set\r\n     * @param  id        ID of the target element\r\n     */\r\n    BaseObject.prototype.addDelayedMap = function (property, id) {\r\n        var map = this.delayedMap;\r\n        if (!map.hasKey(id)) {\r\n            map.setKey(id, []);\r\n        }\r\n        var list = map.getKey(id);\r\n        list.push({\r\n            property: property,\r\n            target: this\r\n        });\r\n    };\r\n    /**\r\n     * Processes delayed JSON config items.\r\n     *\r\n     * @ignore\r\n     */\r\n    BaseObject.prototype.processDelayedMap = function () {\r\n        var _this = this;\r\n        this.delayedMap.each(function (id, list) {\r\n            if (_this.map.hasKey(id)) {\r\n                var target_1 = _this.map.getKey(id);\r\n                $array.each(list, function (item) {\r\n                    item.target[item.property] = target_1;\r\n                });\r\n                _this.delayedMap.removeKey(id);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Applies properties from all assigned themes.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    BaseObject.prototype.applyTheme = function () {\r\n        var _this = this;\r\n        // TODO is this needed ?\r\n        if (registry) {\r\n            var themes = this.getCurrentThemes();\r\n            // TODO is this needed ?\r\n            if (themes) {\r\n                $array.each(themes, function (theme, index) {\r\n                    theme(_this);\r\n                });\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(BaseObject.prototype, \"themes\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return An array of themes\r\n         */\r\n        get: function () {\r\n            return this._themes;\r\n        },\r\n        /**\r\n         * A list of themes to be used for this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value An array of themes\r\n         */\r\n        set: function (value) {\r\n            this._themes = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns a list of themes that should be applied to this element. It could\r\n     * either be a list of themes set explicitly on this element, or system-wide.\r\n     *\r\n     * @return List of themes\r\n     */\r\n    BaseObject.prototype.getCurrentThemes = function () {\r\n        return this.themes || registry.themes;\r\n    };\r\n    /**\r\n     * Returns if this object has been already been disposed.\r\n     *\r\n     * @return Is disposed?\r\n     */\r\n    BaseObject.prototype.isDisposed = function () {\r\n        return this._disposed;\r\n    };\r\n    /**\r\n     * Destroys this object and all related data.\r\n     */\r\n    BaseObject.prototype.dispose = function () {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            var a = this._disposers;\r\n            this._disposers = null;\r\n            while (a.length !== 0) {\r\n                var disposer = a.shift();\r\n                disposer.dispose();\r\n            }\r\n            // Clear cache\r\n            this.clearCache();\r\n            // remove from clones list\r\n            if (this.clonedFrom) {\r\n                this.clonedFrom.clones.removeValue(this);\r\n            }\r\n            var uid = this._uid;\r\n            if (uid != null) {\r\n                registry.map.removeKey(uid);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Adds an IDisposer, which will be disposed when this object is disposed.\r\n     *\r\n     * @param target Object to dispose\r\n     * @ignore Exclude from docs\r\n     */\r\n    BaseObject.prototype.addDisposer = function (target) {\r\n        this._disposers.push(target);\r\n    };\r\n    /**\r\n     * Disposes disposable object and removes it from `_disposers`.\r\n     *\r\n     * @param target Object to dispose\r\n     * @ignore Exclude from docs\r\n     */\r\n    BaseObject.prototype.removeDispose = function (target) {\r\n        //if(target){\r\n        if (!this._disposed) {\r\n            var index = $array.indexOf(this._disposers, target);\r\n            if (index > -1) {\r\n                this._disposers.splice(index, 1);\r\n            }\r\n        }\r\n        target.dispose();\r\n        //}\r\n    };\r\n    /**\r\n     * Makes a copy of this object and returns the clone. Try to avoid cloning complex objects like chart, create new instances if you need them.\r\n     *\r\n     * @param cloneId  An id to use for clone (if not set a unique id will be generated)\r\n     * @returns Clone\r\n     */\r\n    BaseObject.prototype.clone = function (cloneId) {\r\n        if (!cloneId) {\r\n            cloneId = \"clone-\" + registry.getUniqueId();\r\n        }\r\n        var newObject = new this.constructor();\r\n        newObject.cloneId = cloneId;\r\n        newObject.copyFrom(this);\r\n        // add to clones list\r\n        // this.clones.push(newObject); // moved this to copyFrom\r\n        return newObject;\r\n    };\r\n    Object.defineProperty(BaseObject.prototype, \"clones\", {\r\n        /**\r\n         * Returns a collection of object's clones.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Clones\r\n         */\r\n        get: function () {\r\n            if (!this._clones) {\r\n                this._clones = new List();\r\n            }\r\n            return this._clones;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all properties and related data from different element.\r\n     *\r\n     * @param object Source element\r\n     */\r\n    BaseObject.prototype.copyFrom = function (object) {\r\n        object.clones.push(this); // do not moveValue, as it is expensive! even if there will be several items in clones list, it's not that bad.\r\n        this.clonedFrom = object;\r\n    };\r\n    Object.defineProperty(BaseObject.prototype, \"className\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Class name\r\n         */\r\n        get: function () {\r\n            return this._className;\r\n        },\r\n        /**\r\n         * Element's class name. (a class that was used to instantiate the element)\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value  Class name\r\n         */\r\n        set: function (value) {\r\n            this._className = value;\r\n            /*if (registry) {\r\n                registry.registeredClasses[value] = typeof this;\r\n            }*/\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Caches value in object's cache.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param key    Key\r\n     * @param value  Value\r\n     * @param ttl    TTL in seconds\r\n     */\r\n    BaseObject.prototype.setCache = function (key, value, ttl) {\r\n        cache.set(this.uid, key, value, ttl);\r\n    };\r\n    /**\r\n     * Retrieves cached value.\r\n     *\r\n     * If optional second padarameter is specified, it will return that value\r\n     * if cache is not available or is expired.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param key    Key\r\n     * @param value  Value to return if cache is not available\r\n     * @return Value\r\n     */\r\n    BaseObject.prototype.getCache = function (key, value) {\r\n        if (value === void 0) { value = undefined; }\r\n        return cache.get(this.uid, key, value);\r\n    };\r\n    /**\r\n     * Clears object's local cache.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    BaseObject.prototype.clearCache = function () {\r\n        cache.clear(this.uid);\r\n    };\r\n    /**\r\n     * Creates [[Disposer]] for `setTimeout` function call. This ensures that all\r\n     * timeouts created by the object will be cleared when object itself is\r\n     * disposed.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param fn     Callback function\r\n     * @param delay  Timeout (ms)\r\n     * @return Disposer for timeout\r\n     */\r\n    BaseObject.prototype.setTimeout = function (fn, delay) {\r\n        var _this = this;\r\n        var id = setTimeout(function () {\r\n            _this.removeDispose(disposer);\r\n            fn();\r\n        }, delay);\r\n        var disposer = new Disposer(function () {\r\n            clearTimeout(id);\r\n        });\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    };\r\n    /**\r\n     * Creates [[Disposer]] for `setInterval` function call. This ensures that all\r\n     * timeouts created by the object will be cleared when object itself is\r\n     * disposed.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param fn     Callback function\r\n     * @param delay  Timeout (ms)\r\n     * @return Disposer for timeout\r\n     */\r\n    BaseObject.prototype.setInterval = function (fn, delay) {\r\n        var _this = this;\r\n        var id = setInterval(function () {\r\n            _this.removeDispose(disposer);\r\n            fn();\r\n        }, delay);\r\n        var disposer = new Disposer(function () {\r\n            clearTimeout(id);\r\n        });\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    };\r\n    Object.defineProperty(BaseObject.prototype, \"config\", {\r\n        /**\r\n         * ==========================================================================\r\n         * JSON-BASED CONFIG PROCESSING\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Use this property to set JSON-based config. When set, triggers processing\r\n         * routine, which will go through all properties, and try to apply values,\r\n         * create instances, etc.\r\n         *\r\n         * Use this with caution, as it is a time-consuming process. It's used for\r\n         * initialchart setup only, not routine operations.\r\n         *\r\n         * @param json JSON config\r\n         */\r\n        set: function (config) {\r\n            try {\r\n                this.processConfig(config);\r\n            }\r\n            catch (e) {\r\n                /*if (this instanceof Sprite) {\r\n                    this.raiseCriticalError(e);\r\n                }*/\r\n                this.raiseCriticalError(e);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Processes the JSON config.\r\n     *\r\n     * @param json  JSON config\r\n     * @ignore Exclude from docs\r\n     */\r\n    BaseObject.prototype.processConfig = function (config) {\r\n        var _this = this;\r\n        if (!config) {\r\n            return;\r\n        }\r\n        // Get target\r\n        var target = this;\r\n        // Iterate through all of the items\r\n        $object.eachOrdered(config, function (configKey, value) {\r\n            var configValue = value;\r\n            // Is this a callback?\r\n            if (configKey == \"callback\" && typeof value == \"function\") {\r\n                value.call(target);\r\n            }\r\n            // Check if there's a property in target\r\n            if (_this.hasProperty(configKey)) {\r\n                var item_1;\r\n                // Do we have instructions to create an object?\r\n                // We create a new object if \"type\" key is set, but only if the\r\n                // target object is of different type.\r\n                if ($type.isObject(configValue)\r\n                    && $type.hasValue(configValue[\"type\"])\r\n                    && (!$type.isObject(target[configKey])\r\n                        || !$type.hasValue(target[configKey].className)\r\n                        || configValue[\"forceCreate\"]\r\n                        || target[configKey].className != configValue[\"type\"])\r\n                    && !_this.asIs(configKey)) {\r\n                    item_1 = _this.createClassInstance(configValue[\"type\"]);\r\n                    // Create new instance\r\n                    if (item_1) {\r\n                        target[configKey] = item_1;\r\n                    }\r\n                    else {\r\n                        item_1 = target[configKey];\r\n                    }\r\n                }\r\n                else {\r\n                    // Get item from the object\r\n                    item_1 = target[configKey];\r\n                }\r\n                /**\r\n                 * It is...\r\n                 * --------------------------------------------------------------------\r\n                 */\r\n                if (item_1 instanceof Adapter) {\r\n                    // ... an Adapter, try to add handlers to it\r\n                    // ------------------------------------------------------------------\r\n                    _this.processAdapters(item_1, configValue);\r\n                }\r\n                else if (item_1 instanceof EventDispatcher) {\r\n                    // ... an EventDispatcher, try to add handlers to it\r\n                    // ------------------------------------------------------------------\r\n                    _this.processEvents(item_1, configValue);\r\n                }\r\n                else if (configKey == \"locale\" && $type.isString(configValue)) {\r\n                    // ... a locale specified as string, e.g. \"fr_FR\"\r\n                    // ------------------------------------------------------------------\r\n                    if (window[\"am4lang_\" + configValue]) {\r\n                        target[configKey] = window[\"am4lang_\" + configValue];\r\n                    }\r\n                }\r\n                else if (configKey == \"parent\" && $type.isString(configValue)) {\r\n                    // ... a parent referred via its it\r\n                    // ------------------------------------------------------------------\r\n                    var parent_1 = _this.map.getKey(configValue);\r\n                    if (parent_1) {\r\n                        target[configKey] = parent_1;\r\n                    }\r\n                    else {\r\n                        _this.addDelayedMap(\"parent\", configValue);\r\n                    }\r\n                }\r\n                else if (_this.asIs(configKey)) {\r\n                    // ... a special field, just set it to new value\r\n                    // ------------------------------------------------------------------\r\n                    // (no need to add each indvidual item)\r\n                    target[configKey] = configValue;\r\n                }\r\n                else if (_this.asFunction(configKey) && $type.isString(configValue)) {\r\n                    // ... a field indicating function name to look for in registry\r\n                    // ------------------------------------------------------------------\r\n                    if ($type.hasValue(registry.registeredClasses[configValue])) {\r\n                        target[configKey] = registry.registeredClasses[configValue];\r\n                    }\r\n                    else {\r\n                        throw Error(\"Invalid easing function: \" + configValue);\r\n                    }\r\n                }\r\n                else if (configValue instanceof BaseObject) {\r\n                    // ... a BaseObject object, we just going to use it as it is\r\n                    // ------------------------------------------------------------------\r\n                    target[configKey] = configValue;\r\n                }\r\n                else if (item_1 instanceof BaseObject) {\r\n                    // ... another child BaseObject\r\n                    // ------------------------------------------------------------------\r\n                    // Let's just pass in config part in and let itself deal with it\r\n                    item_1.config = configValue;\r\n                }\r\n                else if (item_1 instanceof ListTemplate || item_1 instanceof OrderedListTemplate || item_1 instanceof SortedListTemplate) {\r\n                    // ... a list with template\r\n                    // ------------------------------------------------------------------\r\n                    // Let's see what we can do with it\r\n                    if ($type.isArray(configValue)) {\r\n                        // It's an array.\r\n                        // Create a list item for entry, or try to apply properties to an\r\n                        // existing entry if possible and it is present.\r\n                        if (item_1 instanceof ListTemplate) {\r\n                            _this.processListTemplate(configValue, item_1);\r\n                        }\r\n                        else {\r\n                            _this.processOrderedTemplate(configValue, item_1);\r\n                        }\r\n                    }\r\n                    else if ($type.isObject(configValue)) {\r\n                        // It's a single oject.\r\n                        // Treat it as a template.\r\n                        if (configValue instanceof BaseObject) {\r\n                            // Item is already a BaseObject, no need to process it further\r\n                            item_1.template = configValue;\r\n                        }\r\n                        else {\r\n                            // Now let's find out if the whole object if a template, or we\r\n                            // need to get it from `template` key\r\n                            var templateValue = void 0;\r\n                            if ($type.hasValue(configValue.template)) {\r\n                                templateValue = configValue.template;\r\n                            }\r\n                            else {\r\n                                templateValue = configValue;\r\n                            }\r\n                            if (item_1.template instanceof BaseObject) {\r\n                                // Template is a BaseObject so we will just let its config\r\n                                // deal with the configuration\r\n                                item_1.template.config = templateValue;\r\n                            }\r\n                            else {\r\n                                $object.each(templateValue, function (entryKey, entryValue) {\r\n                                    var listItem = item_1.template[entryKey];\r\n                                    if (listItem instanceof Adapter) {\r\n                                        _this.processAdapters(listItem, entryValue);\r\n                                    }\r\n                                    else if (listItem instanceof EventDispatcher) {\r\n                                        _this.processEvents(listItem, entryValue);\r\n                                    }\r\n                                    else if (listItem instanceof DictionaryTemplate) {\r\n                                        _this.processDictionaryTemplate(listItem, entryValue);\r\n                                    }\r\n                                    else if (item_1.template[entryKey] instanceof BaseObject) {\r\n                                        // Template is a BaseObject. Let it deal with its own config.\r\n                                        item_1.template[entryKey].config = entryValue;\r\n                                    }\r\n                                    else if ($type.isObject(entryValue) && $type.hasValue(entryValue[\"type\"])) {\r\n                                        listItem = _this.createClassInstance(entryValue[\"type\"]);\r\n                                        if (listItem) {\r\n                                            if (listItem instanceof BaseObject) {\r\n                                                listItem.config = entryValue;\r\n                                            }\r\n                                            item_1.template[entryKey] = listItem;\r\n                                        }\r\n                                        else {\r\n                                            item_1.template[entryKey] = entryValue;\r\n                                        }\r\n                                    }\r\n                                    else if (listItem instanceof List) {\r\n                                        // It's List, process it\r\n                                        _this.processList(entryValue, listItem);\r\n                                    }\r\n                                    else {\r\n                                        // Aything else. Just assing and be done with it.\r\n                                        item_1.template[entryKey] = _this.maybeColorOrPercent(entryValue);\r\n                                    }\r\n                                });\r\n                            }\r\n                            // Check maybe there are `values` to insert\r\n                            if ($type.hasValue(configValue.values)) {\r\n                                if (item_1 instanceof ListTemplate) {\r\n                                    _this.processListTemplate(configValue.values, item_1);\r\n                                }\r\n                                else {\r\n                                    _this.processOrderedTemplate(configValue.values, item_1);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Something else?\r\n                        // Not sure what to do with it on a list - ignore\r\n                    }\r\n                }\r\n                else if (item_1 instanceof List) {\r\n                    // ... a list\r\n                    // ------------------------------------------------------------------\r\n                    if (configKey == \"children\") {\r\n                        _this.processList(configValue, item_1, _this);\r\n                    }\r\n                    else {\r\n                        _this.processList(configValue, item_1);\r\n                    }\r\n                }\r\n                else if (item_1 instanceof DictionaryTemplate) {\r\n                    // ... a dictionary with template\r\n                    // ------------------------------------------------------------------\r\n                    _this.processDictionaryTemplate(item_1, configValue);\r\n                }\r\n                else if (item_1 instanceof Dictionary) {\r\n                    // ... a dictionary\r\n                    // ------------------------------------------------------------------\r\n                    _this.processDictionary(item_1, configValue);\r\n                }\r\n                else if (item_1 instanceof Color || item_1 instanceof Percent) {\r\n                    // ... it's a Color or Percent\r\n                    // ------------------------------------------------------------------\r\n                    target[configKey] = _this.maybeColorOrPercent(configValue);\r\n                }\r\n                else if ($type.isObject(item_1) && $type.isObject(configValue)) {\r\n                    // ... a regular object\r\n                    // ------------------------------------------------------------------\r\n                    $object.copyAllProperties(configValue, item_1);\r\n                }\r\n                else {\r\n                    // ... something else - probably a simple property or object\r\n                    // ------------------------------------------------------------------\r\n                    // Maybe convert to `Percent` or `Color`?\r\n                    configValue = _this.maybeColorOrPercent(configValue);\r\n                    // Assign\r\n                    target[configKey] = configValue;\r\n                }\r\n            }\r\n            else if (!_this.isReserved(configKey)) {\r\n                // Doesn't have property set. But we're going to assume JSON config\r\n                // creator knows what he/she is doing and set it anyway.\r\n                target[configKey] = configValue;\r\n            }\r\n        }, this.configOrder);\r\n        // Any errors?\r\n        if (this.processingErrors.length) {\r\n            var errors = this.processingErrors.join(\"\\n\");\r\n            this._processingErrors = [];\r\n            throw Error(errors);\r\n        }\r\n    };\r\n    /**\r\n     * Tries to detect if value is color or percent and converts to proper object\r\n     * if necessary.\r\n     *\r\n     * Returns the same source value if no color/percent detected\r\n     *\r\n     * @param value  Source value\r\n     * @return Converted value\r\n     */\r\n    BaseObject.prototype.maybeColorOrPercent = function (value) {\r\n        if ($type.isString(value)) {\r\n            if (value.match(/^[\\-]?[0-9.]+\\%$/)) {\r\n                return percent($type.toNumber(value));\r\n            }\r\n            else if (value.match(/^\\#[0-9abcdef]{3,}$/i)) {\r\n                return color(value);\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    BaseObject.prototype.processAdapters = function (item, config) {\r\n        var _this = this;\r\n        if ($type.isArray(config)) {\r\n            $array.each(config, function (entry, index) {\r\n                item.add(entry.key, entry.callback, entry.priority || 0, _this);\r\n            });\r\n        }\r\n        else if ($type.isObject(config)) {\r\n            $object.each(config, function (key, entry) {\r\n                if (!item.has(key, entry)) {\r\n                    item.add(key, entry);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    BaseObject.prototype.processEvents = function (item, config) {\r\n        var _this = this;\r\n        if ($type.isObject(config)) {\r\n            $object.each(config, function (key, entry) {\r\n                if (!item.has(key, entry)) {\r\n                    item.on(key, entry);\r\n                }\r\n            });\r\n        }\r\n        else if ($type.isArray(config)) {\r\n            $array.each(config, function (entry, index) {\r\n                item.on(entry.type, entry.callback, _this);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Processes JSON config for a [[DictionaryTemplate]] item.\r\n     *\r\n     * @todo Description\r\n     * @param item    Item\r\n     * @param config  Config\r\n     */\r\n    BaseObject.prototype.processDictionaryTemplate = function (item, config) {\r\n        // We can only process object\r\n        // Not sure what to do with other types - ignore\r\n        if ($type.isObject(config)) {\r\n            // Create an entry for each item, or override properties for\r\n            // existing one.\r\n            $object.each(config, function (entryKey, entryValue) {\r\n                var listItem;\r\n                // Get existing one, or create a new one\r\n                if (entryKey == \"template\") {\r\n                    listItem = item.template;\r\n                }\r\n                else if (item.hasKey(entryKey)) {\r\n                    listItem = item.getKey(entryKey);\r\n                }\r\n                else {\r\n                    listItem = item.create(entryKey);\r\n                }\r\n                // Set data\r\n                if (listItem instanceof BaseObject) {\r\n                    listItem.config = entryValue;\r\n                }\r\n                else if ($type.isObject(listItem) && $type.isObject(entryValue)) {\r\n                    $object.copyAllProperties(entryValue, listItem);\r\n                }\r\n                else {\r\n                    listItem.setKey(entryKey, entryValue);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Processes JSON config for a [[Dictionary]] item.\r\n     *\r\n     * @todo Description\r\n     * @param item    Item\r\n     * @param config  Config\r\n     */\r\n    BaseObject.prototype.processDictionary = function (item, config) {\r\n        // We can only process object\r\n        // Not sure what to do with other types - ignore\r\n        if ($type.isObject(config)) {\r\n            // Create an entry for each item, or override properties for\r\n            // existing one.\r\n            // @todo support for non-basic types\r\n            $object.each(config, function (entryKey, entryValue) {\r\n                item.setKey(entryKey, entryValue);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Processes [[ListTemplate]].\r\n     *\r\n     * @param configValue  Config value\r\n     * @param item         Item\r\n     */\r\n    BaseObject.prototype.processListTemplate = function (configValue, item) {\r\n        var _this = this;\r\n        $array.each(configValue, function (entry, index) {\r\n            var type = _this.getConfigEntryType(entry);\r\n            var listItem;\r\n            if (item.hasIndex(index) && !entry[\"forceCreate\"]) {\r\n                listItem = item.getIndex(index);\r\n            }\r\n            else if (entry instanceof BaseObject) {\r\n                // Item is already a BaseObject, no need to process it further\r\n                item.push(entry);\r\n                return;\r\n            }\r\n            else if (type) {\r\n                listItem = item.create(type);\r\n            }\r\n            else {\r\n                listItem = item.create();\r\n            }\r\n            if (entry === listItem) {\r\n                // It's already the same item, do nothing\r\n            }\r\n            else {\r\n                if ($type.isObject(entry)) {\r\n                    // If the list item is BaseObject, we just need to let it\r\n                    // deal if its own config\r\n                    if (listItem instanceof BaseObject) {\r\n                        listItem.config = entry;\r\n                    }\r\n                    else if ($type.isObject(listItem) && $type.isObject(entry)) {\r\n                        $object.copyAllProperties(entry, listItem);\r\n                    }\r\n                    else {\r\n                        item.setIndex(item.indexOf(listItem), entry);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        // Truncate the list if it contains less items than the config\r\n        // array\r\n        while (configValue.length > item.length) {\r\n            item.pop();\r\n        }\r\n    };\r\n    /**\r\n     * Processes [[OrdererListTemplate]] or [[SortedListTemplate]].\r\n     *\r\n     * @param configValue  Config value\r\n     * @param item         Item\r\n     */\r\n    BaseObject.prototype.processOrderedTemplate = function (configValue, item) {\r\n        var _this = this;\r\n        $array.each(configValue, function (entry, index) {\r\n            var type = _this.getConfigEntryType(entry);\r\n            var listItem;\r\n            if (type) {\r\n                listItem = item.create(type);\r\n            }\r\n            else {\r\n                listItem = item.create();\r\n            }\r\n            if ($type.isObject(entry)) {\r\n                // If the list item is BaseObject, we just need to let it\r\n                // deal if its own config\r\n                if (listItem instanceof BaseObject) {\r\n                    listItem.config = entry;\r\n                }\r\n                else if ($type.isObject(listItem) && $type.isObject(entry)) {\r\n                    $object.copyAllProperties(entry, listItem);\r\n                }\r\n                else {\r\n                    item.insert(entry);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Processes [[List]].\r\n     *\r\n     * @param configValue  Config value\r\n     * @param item         Item\r\n     */\r\n    BaseObject.prototype.processList = function (configValue, item, parent) {\r\n        var _this = this;\r\n        // Convert to array if necessary\r\n        if (!$type.isArray(configValue)) {\r\n            configValue = [configValue];\r\n        }\r\n        // It's an array\r\n        // Create a list item for entry\r\n        var itemCount = item.length;\r\n        $array.each(configValue, function (entry, index) {\r\n            if ($type.isObject(entry)) {\r\n                // An object.\r\n                //\r\n                // Let's see if we can instantiate a class out of it, or we need\r\n                // to push it into list as it is.\r\n                //\r\n                // If there are items already at the specified index in the list,\r\n                // apply properties rather than create a new one.\r\n                var listItem = void 0;\r\n                if ((index < itemCount) && !entry[\"forceCreate\"]) {\r\n                    listItem = item.getIndex(index);\r\n                }\r\n                else if (entry instanceof BaseObject) {\r\n                    // Item is already a BaseObject, no need to process it further\r\n                    item.push(entry);\r\n                    return;\r\n                }\r\n                else {\r\n                    listItem = _this.createEntryInstance(entry);\r\n                    if (parent) {\r\n                        listItem.parent = parent;\r\n                    }\r\n                    else {\r\n                        item.push(listItem);\r\n                    }\r\n                }\r\n                // If the list item is BaseObject, we just need to let it\r\n                // deal if its own config\r\n                if (listItem instanceof BaseObject) {\r\n                    listItem.config = entry;\r\n                }\r\n                else if ($type.isObject(listItem) && $type.isObject(entry)) {\r\n                    $object.copyAllProperties(entry, listItem);\r\n                }\r\n            }\r\n            else {\r\n                // Basic value.\r\n                // Just push it into list, or override existing value\r\n                if (item.hasIndex(index)) {\r\n                    item.setIndex(index, entry);\r\n                }\r\n                else {\r\n                    item.push(entry);\r\n                }\r\n            }\r\n        });\r\n        // Truncate the list if it contains less items than the config\r\n        // array\r\n        while (configValue.length > item.length) {\r\n            item.pop();\r\n        }\r\n    };\r\n    /**\r\n     * This function is used to sort element's JSON config properties, so that\r\n     * some properties that absolutely need to be processed last, can be put at\r\n     * the end.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param a  Element 1\r\n     * @param b  Element 2\r\n     * @return Sorting number\r\n     */\r\n    BaseObject.prototype.configOrder = function (a, b) {\r\n        if (a == b) {\r\n            return 0;\r\n        }\r\n        // Language must come first, so it's all set up when the rest of the\r\n        // elements are being instantiated\r\n        else if (a == \"language\") {\r\n            return -1;\r\n        }\r\n        else if (b == \"language\") {\r\n            return 1;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    };\r\n    /**\r\n     * Checks if field should be just assigned as is, without any checking when\r\n     * processing JSON config.\r\n     *\r\n     * Extending functions can override this function to do their own checks.\r\n     *\r\n     * @param field  Field name\r\n     * @return Assign as is?\r\n     */\r\n    BaseObject.prototype.asIs = function (field) {\r\n        return $array.indexOf([\"locale\"], field) != -1;\r\n    };\r\n    /**\r\n     * Checks if field needs to be converted to function, if it is specified\r\n     * as string.\r\n     *\r\n     * @param field  Field name\r\n     * @return Assign as function?\r\n     */\r\n    BaseObject.prototype.asFunction = function (field) {\r\n        return false;\r\n    };\r\n    /**\r\n     * Creates a relevant class instance if such class definition exists.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param className  Class name\r\n     * @return Instance\r\n     */\r\n    BaseObject.prototype.createClassInstance = function (className) {\r\n        if ($type.hasValue(registry.registeredClasses[className])) {\r\n            return new registry.registeredClasses[className]();\r\n        }\r\n        else {\r\n            throw Error(\"Invalid type: \\\"\" + className + \"\\\".\");\r\n        }\r\n    };\r\n    /**\r\n     * Creates a class instance for a config entry using it's type. (as set in\r\n     * `type` property)\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config part\r\n     * @return Instance\r\n     */\r\n    BaseObject.prototype.createEntryInstance = function (config) {\r\n        var res;\r\n        if ($type.hasValue(config[\"type\"])) {\r\n            res = this.createClassInstance(config[\"type\"]);\r\n        }\r\n        if (!res) {\r\n            return config;\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Determines config object type.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config part\r\n     * @return Type\r\n     */\r\n    BaseObject.prototype.getConfigEntryType = function (config) {\r\n        if ($type.hasValue(config[\"type\"])) {\r\n            if ($type.hasValue(registry.registeredClasses[config[\"type\"]])) {\r\n                return registry.registeredClasses[config[\"type\"]];\r\n            }\r\n            else {\r\n                throw Error(\"Invalid type: \\\"\" + config[\"type\"] + \"\\\".\");\r\n            }\r\n        }\r\n        return;\r\n    };\r\n    /**\r\n     * Checks if this element has a property.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param prop  Property name\r\n     * @return Has property?\r\n     */\r\n    BaseObject.prototype.hasProperty = function (prop) {\r\n        return prop in this ? true : false;\r\n    };\r\n    /**\r\n     * Checkes whether JSON key is a reserved keyword.\r\n     *\r\n     * @param key  Key\r\n     * @return Reserved\r\n     */\r\n    BaseObject.prototype.isReserved = function (key) {\r\n        return [\"type\", \"forceCreate\"].indexOf(key) !== -1;\r\n    };\r\n    Object.defineProperty(BaseObject.prototype, \"processingErrors\", {\r\n        /**\r\n         * A list of errors that happened during JSON processing.\r\n         *\r\n         * @return Errors\r\n         */\r\n        get: function () {\r\n            if (!this._processingErrors) {\r\n                this._processingErrors = [];\r\n            }\r\n            return this._processingErrors;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return BaseObject;\r\n}());\r\nexport { BaseObject };\r\n;\r\n/**\r\n * A version of [[BaseObject]] with events properties and methods.\r\n * Classes that use [[EventDispatcher]] should extend this instead of\r\n * [[BaseObject]] directly.\r\n */\r\nvar BaseObjectEvents = /** @class */ (function (_super) {\r\n    __extends(BaseObjectEvents, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function BaseObjectEvents() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"BaseObjectEvents\";\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BaseObjectEvents.prototype, \"events\", {\r\n        /**\r\n         * An [[EventDispatcher]] instance\r\n         */\r\n        get: function () {\r\n            if (!this._eventDispatcher) {\r\n                this._eventDispatcher = new EventDispatcher();\r\n                this._disposers.push(this._eventDispatcher);\r\n            }\r\n            return this._eventDispatcher;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    //public set events(value:EventDispatcher<AMEvent<this, this[\"_events\"]>>){\r\n    //\tthis._eventDispatcher = value;\r\n    //}\r\n    /**\r\n     * Dispatches an event using own event dispatcher. Will automatically\r\n     * populate event data object with event type and target (this element).\r\n     * It also checks if there are any handlers registered for this sepecific\r\n     * event.\r\n     *\r\n     * @param eventType Event type (name)\r\n     * @param data      Data to pass into event handler(s)\r\n     */\r\n    BaseObjectEvents.prototype.dispatch = function (eventType, data) {\r\n        // @todo Implement proper type check\r\n        if (this._eventDispatcher) {\r\n            if (this.events.isEnabled(eventType)) {\r\n                if (data) {\r\n                    data.type = eventType;\r\n                    data.target = data.target || this;\r\n                    this.events.dispatch(eventType, {\r\n                        type: eventType,\r\n                        target: this\r\n                    });\r\n                }\r\n                else {\r\n                    this.events.dispatch(eventType, {\r\n                        type: eventType,\r\n                        target: this\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Works like `dispatch`, except event is triggered immediately, without\r\n     * waiting for the next frame cycle.\r\n     *\r\n     * @param eventType Event type (name)\r\n     * @param data      Data to pass into event handler(s)\r\n     */\r\n    BaseObjectEvents.prototype.dispatchImmediately = function (eventType, data) {\r\n        // @todo Implement proper type check\r\n        if (this._eventDispatcher) {\r\n            if (this.events.isEnabled(eventType)) {\r\n                if (data) {\r\n                    data.type = eventType;\r\n                    data.target = data.target || this;\r\n                    this.events.dispatchImmediately(eventType, data);\r\n                }\r\n                else {\r\n                    this.events.dispatchImmediately(eventType, {\r\n                        type: eventType,\r\n                        target: this\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Copies all parameters from another [[Sprite]].\r\n     *\r\n     * @param source Source object\r\n     */\r\n    BaseObjectEvents.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (source._eventDispatcher) {\r\n            this.events.copyFrom(source._eventDispatcher);\r\n        }\r\n    };\r\n    return BaseObjectEvents;\r\n}(BaseObject));\r\nexport { BaseObjectEvents };\r\n//# sourceMappingURL=Base.js.map","/**\r\n * A collection of universal utility functions.\r\n */\r\nimport { Percent } from \"./Percent\";\r\nimport { isSafari } from \"./Browser\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $string from \"./String\";\r\nimport * as $strings from \"./Strings\";\r\nimport * as $object from \"./Object\";\r\nimport * as $array from \"./Array\";\r\n/**\r\n * ============================================================================\r\n * MISC FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Marks a value as being used (e.g. because the value has side effects).\r\n */\r\nexport function used(value) { }\r\n/**\r\n * Copies all properties of one object to the other, omitting undefined.\r\n *\r\n * @param fromObject  Source object\r\n * @param toObject    Target object\r\n * @return Updated target object\r\n * @todo Maybe consolidate with utils.copy?\r\n */\r\nexport function copyProperties(source, target) {\r\n    $object.each(source, function (key, value) {\r\n        // only if value is set\r\n        if ($type.hasValue(value)) {\r\n            target[key] = value;\r\n        }\r\n    });\r\n    return target;\r\n}\r\n/**\r\n * Removes target from url\r\n */\r\nexport function stripHash(url) {\r\n    return /^[^#]*/.exec(url)[0];\r\n}\r\nexport function getBaseURI() {\r\n    var url = \"#\";\r\n    // Needed until https://bugs.webkit.org/show_bug.cgi?id=189499 is fixed\r\n    if (isSafari()) {\r\n        var baseURI = document.baseURI;\r\n        if (baseURI) {\r\n            baseURI = stripHash(baseURI);\r\n            var loc = stripHash(location.href);\r\n            if (baseURI !== loc) {\r\n                url = loc + url;\r\n            }\r\n        }\r\n    }\r\n    return url;\r\n}\r\n/**\r\n * Copies all properties of one object to the other, omitting undefined, but only if property in target object doesn't have a value set.\r\n *\r\n * @param fromObject  Source object\r\n * @param toObject    Target object\r\n * @return Updated target object\r\n * @todo Maybe consolidate with utils.copy?\r\n */\r\nexport function softCopyProperties(source, target) {\r\n    $object.each(source, function (key, value) {\r\n        // only if value is set\r\n        if ($type.hasValue(value) && !($type.hasValue(target[key]))) {\r\n            target[key] = value;\r\n        }\r\n    });\r\n    return target;\r\n}\r\n/**\r\n * Copies all properties of one object to the other.\r\n *\r\n * @param source     Source object\r\n * @param recipient  Target object\r\n * @return Updated target object\r\n */\r\nexport function copy(source, target) {\r\n    $object.each(source, function (key, value) {\r\n        target[key] = value;\r\n    });\r\n    return target;\r\n}\r\n/**\r\n * Checks if value is not empty (undefined or zero-length string).\r\n *\r\n * @param value  Value to check\r\n * @return `true` if value is not \"empty\"\r\n */\r\nexport function isNotEmpty(value) {\r\n    return $type.hasValue(value) && (value.toString() !== \"\");\r\n}\r\n/**\r\n * [relativeToValue description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param percent  [description]\r\n * @param full     [description]\r\n * @return [description]\r\n */\r\nexport function relativeToValue(percent, full) {\r\n    if ($type.isNumber(percent)) {\r\n        return percent;\r\n    }\r\n    else if (percent != null && $type.isNumber(percent.value) && $type.isNumber(full)) {\r\n        return full * percent.value;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * [relativeRadiusToValue description]\r\n *\r\n * Differs from relativeToValue so that if a value is negative, it subtracts\r\n * it from full value.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param percent             [description]\r\n * @param full                [description]\r\n * @param subtractIfNegative  [description]\r\n * @return [description]\r\n */\r\nexport function relativeRadiusToValue(percent, full, subtractIfNegative) {\r\n    var value;\r\n    if ($type.isNumber(percent)) {\r\n        value = percent;\r\n        if (value < 0) {\r\n            if (subtractIfNegative) {\r\n                value = full + value;\r\n            }\r\n            else {\r\n                value = full - value;\r\n            }\r\n        }\r\n    }\r\n    else if (percent != null && $type.isNumber(percent.value)) {\r\n        value = full * percent.value;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * [valueToRelative description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param value  [description]\r\n * @param full   [description]\r\n * @return [description]\r\n */\r\nexport function valueToRelative(value, full) {\r\n    if (value instanceof Percent) {\r\n        return value.value;\r\n    }\r\n    else {\r\n        return value / full;\r\n    }\r\n}\r\n/**\r\n * Returns pixel ratio of the current screen (used on retina displays).\r\n *\r\n * @return Pixel ratio\r\n */\r\nexport function getPixelRatio() {\r\n    var ratio = window.devicePixelRatio || 1;\r\n    return ratio;\r\n}\r\n/**\r\n * ============================================================================\r\n * STRING FORMATTING FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Converts camelCased text to dashed version:\r\n * (\"thisIsString\" > \"this-is-string\")\r\n *\r\n * @param str  Input\r\n * @return Output\r\n */\r\nexport function camelToDashed(str) {\r\n    return str.replace(/\\W+/g, '-').replace(/([a-z\\d])([A-Z])/g, '$1-$2').toLowerCase();\r\n}\r\n/**\r\n * Converts tring to uppercase.\r\n *\r\n * @param str  String to convert\r\n * @return uppercased string\r\n * @todo Maybe make it better\r\n */\r\nexport function capitalize(str) {\r\n    var arr = str.split(\"\");\r\n    arr[0] = arr[0].toUpperCase();\r\n    return arr.join(\"\");\r\n}\r\n/**\r\n * Converts any value into its string representation.\r\n *\r\n * @param value  Value\r\n * @return String represantation of the value\r\n */\r\nexport function stringify(value) {\r\n    return JSON.stringify(value);\r\n}\r\n/**\r\n * Escapes string so it can safely be used in a Regex.\r\n *\r\n * @param value  Unsescaped string\r\n * @return Escaped string\r\n */\r\nexport function escapeForRgex(value) {\r\n    return value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n}\r\n/**\r\n * Splits the text into multiple lines, respecting maximum character count.\r\n * Prioretizes splitting on spaces and punctuation. Falls back on splitting\r\n * mid-word if there's no other option.\r\n *\r\n * @param text      Text\r\n * @param maxChars  Maximum number of characters per line\r\n * @return An array of split text\r\n */\r\nexport function splitTextByCharCount(text, maxChars, fullWords, rtl) {\r\n    // Maybe the text fits?\r\n    if (text.length <= maxChars) {\r\n        return [text];\r\n    }\r\n    // Init result\r\n    var res = [];\r\n    // Split by words or by charts\r\n    if (fullWords) {\r\n        // Split by words first\r\n        // Split by spacing\r\n        var currentIndex = -1;\r\n        var tmpText = text.replace(/([,;:!?\\\\\\/\\.]+[\\s]+|[\\s])/g, $strings.PLACEHOLDER + \"$1\" + $strings.PLACEHOLDER);\r\n        var words = tmpText.split($strings.PLACEHOLDER);\r\n        // Process each word\r\n        for (var i = 0; i < words.length; i++) {\r\n            // Get word and symbol count\r\n            var word = words[i];\r\n            var wordLength = word.length;\r\n            // Ignore empty words\r\n            if (wordLength === 0) {\r\n                continue;\r\n            }\r\n            // Check word length\r\n            //if ((wordLength > maxChars) && fullWords !== true) {\r\n            if (wordLength > maxChars) {\r\n                // A single word is longer than allowed symbol count\r\n                // Break it up\r\n                if (rtl) {\r\n                    word = reverseString(word);\r\n                }\r\n                var parts = word.match(new RegExp(\".{1,\" + maxChars + \"}\", \"g\"));\r\n                // TODO is this correct ?\r\n                if (parts) {\r\n                    if (rtl) {\r\n                        for (var x = 0; x < parts.length; x++) {\r\n                            parts[x] = reverseString(parts[x]);\r\n                        }\r\n                        //parts.reverse();\r\n                    }\r\n                    res = res.concat(parts);\r\n                }\r\n            }\r\n            else {\r\n                // Init current line\r\n                if (currentIndex === -1) {\r\n                    res.push(\"\");\r\n                    currentIndex = 0;\r\n                }\r\n                // Check if we need to break into another line\r\n                if (((res[currentIndex].length + wordLength + 1) > maxChars) && res[currentIndex] !== \"\") {\r\n                    res.push(\"\");\r\n                    currentIndex++;\r\n                }\r\n                // Add word\r\n                res[currentIndex] += word;\r\n            }\r\n            // Update index\r\n            currentIndex = res.length - 1;\r\n        }\r\n    }\r\n    else {\r\n        // Splitting by anywhere (living la vida facil)\r\n        var parts = text.match(new RegExp(\".{1,\" + maxChars + \"}\", \"g\"));\r\n        if (parts) {\r\n            if (rtl) {\r\n                for (var x = 0; x < parts.length; x++) {\r\n                    parts[x] = reverseString(parts[x]);\r\n                }\r\n            }\r\n            res = parts;\r\n        }\r\n    }\r\n    // Do we have only one word that does not fit?\r\n    // Since fullWords is set and we can't split the word, we end up with empty\r\n    // set.\r\n    if (res.length == 1 && fullWords && (res[0].length > maxChars)) {\r\n        res = [];\r\n    }\r\n    return res;\r\n}\r\n/**\r\n * Truncates the text to certain character count.\r\n *\r\n * Will add ellipsis if the string is truncated. Optionally, can truncate on\r\n * full words only.\r\n *\r\n * For RTL support, pass in the fifth parameter as `true`.\r\n *\r\n * @param text       Input text\r\n * @param maxChars   Maximum character count of output\r\n * @param ellipsis   Ellipsis string, i.e. \"...\"\r\n * @param fullWords  If `true`, will not break mid-word, unless there's a single word and it does not with into `maxChars`\r\n * @param rtl        Is this an RTL text?\r\n * @return Truncated text\r\n */\r\nexport function truncateWithEllipsis(text, maxChars, ellipsis, fullWords, rtl) {\r\n    if (text.length <= maxChars) {\r\n        return text;\r\n    }\r\n    // Calc max chars\r\n    maxChars -= ellipsis.length;\r\n    if (maxChars < 1) {\r\n        maxChars = 1;\r\n        //ellipsis = \"\";\r\n    }\r\n    // Get lines\r\n    var lines = splitTextByCharCount(text, maxChars, fullWords, rtl);\r\n    // Use first line\r\n    return (lines[0] || \"\") + ellipsis;\r\n}\r\n/**\r\n * Removes whitespace from beginning and end of the string.\r\n *\r\n * @param str  Input\r\n * @return Output\r\n */\r\nexport function trim(str) {\r\n    return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\");\r\n}\r\n;\r\n/**\r\n * Removes whitespace from end of the string.\r\n *\r\n * @param str  Input\r\n * @return Output\r\n */\r\nexport function rtrim(str) {\r\n    return str.replace(/[\\s\\uFEFF\\xA0]+$/g, \"\");\r\n}\r\n;\r\n/**\r\n * Removes whitespace from beginning of the string.\r\n *\r\n * @param str  Input\r\n * @return Output\r\n */\r\nexport function ltrim(str) {\r\n    return str.replace(/^[\\s\\uFEFF\\xA0]+/g, \"\");\r\n}\r\n;\r\n/**\r\n * Reverses string.\r\n *\r\n * @param str  Input\r\n * @return Output\r\n */\r\nexport function reverseString(str) {\r\n    return str.split(\"\").reverse().join(\"\");\r\n}\r\n/**\r\n * Removes quotes from the string.\r\n *\r\n * @param str  Input\r\n * @return Output\r\n */\r\nexport function unquote(str) {\r\n    var res = str.trim();\r\n    res = str.replace(/^'(.*)'$/, \"$1\");\r\n    if (res == str) {\r\n        res = str.replace(/^\"(.*)\"$/, \"$1\");\r\n    }\r\n    return res;\r\n}\r\n/**\r\n * Pads a string with additional characters to certain length.\r\n *\r\n * @param value  A numeric value\r\n * @param len    Result string length in characters\r\n * @param char   A character to use for padding\r\n * @return Padded value as string\r\n */\r\nexport function padString(value, len, char) {\r\n    if (len === void 0) { len = 0; }\r\n    if (char === void 0) { char = \"0\"; }\r\n    if (typeof value !== \"string\") {\r\n        value = value.toString();\r\n    }\r\n    return len > value.length ? Array(len - value.length + 1).join(char) + value : value;\r\n}\r\n/**\r\n * Tries to determine format type.\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format string\r\n * @return Format type (\"string\" | \"number\" | \"date\" | \"duration\")\r\n */\r\nexport function getFormat(format) {\r\n    // Undefined?\r\n    if (typeof format === \"undefined\") {\r\n        return $strings.STRING;\r\n    }\r\n    // Cleanup and lowercase format\r\n    format = format.toLowerCase().replace(/^\\[[^\\]]*\\]/, \"\");\r\n    // Remove style tags\r\n    format = format.replace(/\\[[^\\]]+\\]/, \"\");\r\n    // Trim\r\n    format = format.trim();\r\n    // Check for any explicit format hints (i.e. /Date)\r\n    var hints = format.match(/\\/(date|number|duration)$/);\r\n    if (hints) {\r\n        return hints[1];\r\n    }\r\n    // Check for explicit hints\r\n    if (format === $strings.NUMBER) {\r\n        return $strings.NUMBER;\r\n    }\r\n    if (format === $strings.DATE) {\r\n        return $strings.DATE;\r\n    }\r\n    if (format === $strings.DURATION) {\r\n        return $strings.DURATION;\r\n    }\r\n    // Detect number formatting symbols\r\n    if (format.match(/[#0]/)) {\r\n        return $strings.NUMBER;\r\n    }\r\n    // Detect date formatting symbols\r\n    if (format.match(/[ymwdhnsqaxkzgtei]/)) {\r\n        return $strings.DATE;\r\n    }\r\n    // Nothing? Let's display as string\r\n    return $strings.STRING;\r\n}\r\n/**\r\n * Cleans up format:\r\n * * Strips out formatter hints\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format\r\n * @return Cleaned format\r\n */\r\nexport function cleanFormat(format) {\r\n    return format.replace(/\\/(date|number|duration)$/i, \"\");\r\n}\r\n/**\r\n * Strips all tags from the string.\r\n *\r\n * @param text  Source string\r\n * @return String without tags\r\n */\r\nexport function stripTags(text) {\r\n    return text ? text.replace(/<[^>]*>/g, \"\") : text;\r\n}\r\n/**\r\n * Removes new lines and tags from a string.\r\n *\r\n * @param text  String to conver\r\n * @return Converted string\r\n */\r\nexport function plainText(text) {\r\n    return text ? stripTags(text.replace(/[\\n\\r]+/g, \". \")) : text;\r\n}\r\n/**\r\n * ============================================================================\r\n * TYPE CONVERSION FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Converts numeric value into string. Deals with large or small numbers that\r\n * would otherwise use exponents.\r\n *\r\n * @param value  Numeric value\r\n * @return Numeric value as string\r\n */\r\nexport function numberToString(value) {\r\n    // TODO handle Infinity and -Infinity\r\n    if ($type.isNaN(value)) {\r\n        return \"NaN\";\r\n    }\r\n    if (value === Infinity) {\r\n        return \"Infinity\";\r\n    }\r\n    if (value === -Infinity) {\r\n        return \"-Infinity\";\r\n    }\r\n    // Negative 0\r\n    if ((value === 0) && (1 / value === -Infinity)) {\r\n        return \"-0\";\r\n    }\r\n    // Preserve negative and deal with absoute values\r\n    var negative = value < 0;\r\n    value = Math.abs(value);\r\n    // TODO test this\r\n    var parsed = $type.getValue(/^([0-9]+)(?:\\.([0-9]+))?(?:e[\\+\\-]([0-9]+))?$/.exec(\"\" + value));\r\n    var digits = parsed[1];\r\n    var decimals = parsed[2] || \"\";\r\n    var res;\r\n    // Leave the nummber as it is if it does not use exponents\r\n    if (parsed[3] == null) {\r\n        res = (decimals === \"\" ? digits : digits + \".\" + decimals);\r\n    }\r\n    else {\r\n        var exponent = +parsed[3];\r\n        // Deal with decimals\r\n        if (value < 1) {\r\n            var zeros = exponent - 1;\r\n            res = \"0.\" + $string.repeat(\"0\", zeros) + digits + decimals;\r\n            // Deal with integers\r\n        }\r\n        else {\r\n            var zeros = exponent - decimals.length;\r\n            if (zeros === 0) {\r\n                res = digits + decimals;\r\n            }\r\n            else if (zeros < 0) {\r\n                res = digits + decimals.slice(0, zeros) + \".\" + decimals.slice(zeros);\r\n            }\r\n            else {\r\n                res = digits + decimals + $string.repeat(\"0\", zeros);\r\n            }\r\n        }\r\n    }\r\n    return negative ? \"-\" + res : res;\r\n}\r\n/**\r\n * Converts anything to Date object.\r\n *\r\n * @param value  A value of any type\r\n * @return Date object representing a value\r\n */\r\nexport function anyToDate(value) {\r\n    if ($type.isDate(value)) {\r\n        // TODO maybe don't create a new Date ?\r\n        return new Date(value);\r\n    }\r\n    else if ($type.isNumber(value)) {\r\n        return new Date(value);\r\n    }\r\n    else {\r\n        // Try converting to number (assuming timestamp)\r\n        var num = Number(value);\r\n        if (!$type.isNumber(num)) {\r\n            return new Date(value);\r\n        }\r\n        else {\r\n            return new Date(num);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Tries converting any value to a number.\r\n *\r\n * @param value  Source value\r\n * @return Number\r\n */\r\nexport function anyToNumber(value) {\r\n    if ($type.isDate(value)) {\r\n        return value.getTime();\r\n    }\r\n    else if ($type.isNumber(value)) {\r\n        return value;\r\n    }\r\n    else if ($type.isString(value)) {\r\n        // Try converting to number (assuming timestamp)\r\n        var num = Number(value);\r\n        if (!$type.isNumber(num)) {\r\n            // Failing\r\n            return undefined;\r\n        }\r\n        else {\r\n            return num;\r\n        }\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * DATE-RELATED FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns a year day.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year day\r\n * @todo Account for UTC\r\n */\r\nexport function getYearDay(date, utc) {\r\n    if (utc === void 0) { utc = false; }\r\n    var start = new Date(date.getFullYear(), 0, 0);\r\n    var diff = (date.getTime() - start.getTime()) + ((start.getTimezoneOffset() - date.getTimezoneOffset()) * 60 * 1000);\r\n    var oneDay = 1000 * 60 * 60 * 24;\r\n    return Math.floor(diff / oneDay);\r\n}\r\n/**\r\n * Returns week number for a given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number\r\n * @todo Account for UTC\r\n */\r\nexport function getWeek(date, utc) {\r\n    if (utc === void 0) { utc = false; }\r\n    var day = getYearDay(date, utc) - 1;\r\n    var week = Math.floor((day - (date.getDay() || 7) + 10) / 7);\r\n    if (week === 0) {\r\n        week = 53;\r\n    }\r\n    else if (week === 53) {\r\n        week = 1;\r\n    }\r\n    return week;\r\n}\r\n/**\r\n * Returns a week number in the month.\r\n *\r\n * @param date  Source Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number in month\r\n */\r\nexport function getMonthWeek(date, utc) {\r\n    if (utc === void 0) { utc = false; }\r\n    var firstWeek = getWeek(new Date(date.getFullYear(), date.getMonth(), 1), utc);\r\n    var currentWeek = getWeek(date, utc);\r\n    if (currentWeek == 1) {\r\n        currentWeek = 53;\r\n    }\r\n    return currentWeek - firstWeek + 1;\r\n}\r\n/**\r\n * Returns a year day out of the given week number.\r\n *\r\n * @param week     Week\r\n * @param year     Year\r\n * @param weekday  Weekday\r\n * @param utc      Assume UTC dates\r\n * @return Day in a year\r\n */\r\nexport function getDayFromWeek(week, year, weekday, utc) {\r\n    if (weekday === void 0) { weekday = 1; }\r\n    if (utc === void 0) { utc = false; }\r\n    var date = new Date(year, 0, 4, 0, 0, 0, 0);\r\n    if (utc) {\r\n        date.setUTCFullYear(year);\r\n    }\r\n    var day = week * 7 + weekday - ((date.getDay() || 7) + 3);\r\n    return day;\r\n}\r\n/**\r\n * Returns 12-hour representation out of the 24-hour hours.\r\n *\r\n * @param hours  24-hour number\r\n * @return 12-hour number\r\n */\r\nexport function get12Hours(hours, base) {\r\n    if (hours > 12) {\r\n        hours -= 12;\r\n    }\r\n    else if (hours === 0) {\r\n        hours = 12;\r\n    }\r\n    return $type.hasValue(base) ? hours + (base - 1) : hours;\r\n}\r\n/**\r\n * Returns a string name of the tome zone.\r\n *\r\n * @param date     Date object\r\n * @param long     Should return long (\"Pacific Standard Time\") or short abbreviation (\"PST\")\r\n * @param savings  Include information if it's in daylight savings mode\r\n * @param utc      Assume UTC dates\r\n * @return Time zone name\r\n */\r\nexport function getTimeZone(date, long, savings, utc) {\r\n    if (long === void 0) { long = false; }\r\n    if (savings === void 0) { savings = false; }\r\n    if (utc === void 0) { utc = false; }\r\n    if (utc) {\r\n        return long ? \"Coordinated Universal Time\" : \"UTC\";\r\n    }\r\n    var wotz = date.toLocaleString(\"UTC\");\r\n    var wtz = date.toLocaleString(\"UTC\", { timeZoneName: long ? \"long\" : \"short\" }).substr(wotz.length);\r\n    //wtz = wtz.replace(/[+-]+[0-9]+$/, \"\");\r\n    if (savings === false) {\r\n        wtz = wtz.replace(/ (standard|daylight|summer|winter) /i, \" \");\r\n    }\r\n    return wtz;\r\n}\r\n/**\r\n * ============================================================================\r\n * NUMBER-RELATED FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns a random number between `from` and `to`.\r\n *\r\n * @param from  From number\r\n * @param to    To number\r\n * @return Random number\r\n */\r\nexport function random(from, to) {\r\n    return Math.floor(Math.random() * (to - from)) + from;\r\n}\r\n/**\r\n * Fits the number into specific `min` and `max` bounds.\r\n *\r\n * @param value  Input value\r\n * @param min    Minimum value\r\n * @param max    Maximum value\r\n * @return Possibly adjusted value\r\n */\r\nexport function fitNumber(value, min, max) {\r\n    if (value > max) {\r\n        return max;\r\n    }\r\n    else if (value < min) {\r\n        return min;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Fits the number into specific `min` and `max` bounds.\r\n *\r\n * If the value is does not fit withing specified range, it \"wraps\" around the\r\n * values.\r\n *\r\n * For example, if we have input value 10 with min set at 1 and max set at 8,\r\n * the value will not fit. The remainder that does not fit (2) will be added\r\n * to `min`, resulting in 3.\r\n *\r\n * The output of regular `fitNumber()` would return 8 instead.\r\n *\r\n * @param value  Input value\r\n * @param min    Minimum value\r\n * @param max    Maximum value\r\n * @return Possibly adjusted value\r\n */\r\nexport function fitNumberRelative(value, min, max) {\r\n    var gap = max - min;\r\n    if (value > max) {\r\n        value = min + (value - gap * Math.floor(value / gap));\r\n    }\r\n    else if (value < min) {\r\n        value = min + (value - gap * Math.floor(value / gap));\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * ============================================================================\r\n * SPRITE-RELATED FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Converts SVG element coordinates to coordinates within specific [[Sprite]].\r\n *\r\n * @param point   SVG coordinates\r\n * @param sprite  Sprite\r\n * @return Sprite coordinates\r\n */\r\nexport function svgPointToSprite(point, sprite) {\r\n    var x = point.x;\r\n    var y = point.y;\r\n    var sprites = [];\r\n    if (sprite) {\r\n        while ($type.hasValue(sprite.parent)) {\r\n            sprites.push(sprite);\r\n            sprite = sprite.parent;\r\n        }\r\n        sprites.reverse();\r\n        for (var i = 0; i < sprites.length; i++) {\r\n            var sprite_1 = sprites[i];\r\n            var angle = sprite_1.rotation;\r\n            var relativeX = x - sprite_1.pixelX - sprite_1.ex;\r\n            var relativeY = y - sprite_1.pixelY - sprite_1.ey;\r\n            if (sprite_1.dx) {\r\n                x -= sprite_1.dx;\r\n            }\r\n            if (sprite_1.dy) {\r\n                y -= sprite_1.dy;\r\n            }\r\n            var scale = sprite_1.scale;\r\n            // this handles nonscaling\r\n            if (sprite_1.group) {\r\n                scale = sprite_1.group.scale;\r\n            }\r\n            x = ($math.cos(-angle) * relativeX - $math.sin(-angle) * relativeY) / scale - sprite_1.pixelPaddingLeft;\r\n            y = ($math.cos(-angle) * relativeY + $math.sin(-angle) * relativeX) / scale - sprite_1.pixelPaddingTop;\r\n        }\r\n    }\r\n    return { x: x, y: y };\r\n}\r\n/**\r\n * Converts coordinates within [[Sprite]] to coordinates relative to the whole\r\n * SVG element.\r\n *\r\n * @param point   Sprite coordinates\r\n * @param sprite  Sprite\r\n * @return SVG coordinates\r\n */\r\nexport function spritePointToSvg(point, sprite) {\r\n    var x = point.x;\r\n    var y = point.y;\r\n    if (sprite) {\r\n        while ($type.hasValue(sprite.parent)) {\r\n            var angle = sprite.rotation;\r\n            x += sprite.pixelPaddingLeft + sprite.ex;\r\n            y += sprite.pixelPaddingTop + sprite.ey;\r\n            var scale = sprite.scale;\r\n            // this handles nonscaling\r\n            if (sprite.group) {\r\n                scale = sprite.group.scale;\r\n            }\r\n            var relativeX = sprite.pixelX + ((x * $math.cos(angle) - y * $math.sin(angle))) * scale;\r\n            var relativeY = sprite.pixelY + ((x * $math.sin(angle) + y * $math.cos(angle))) * scale;\r\n            if (sprite.dx) {\r\n                relativeX += sprite.dx;\r\n            }\r\n            if (sprite.dy) {\r\n                relativeY += sprite.dy;\r\n            }\r\n            x = relativeX;\r\n            y = relativeY;\r\n            sprite = sprite.parent;\r\n        }\r\n    }\r\n    return { x: x, y: y };\r\n}\r\n/**\r\n * Converts coordinates of one sprite to another.\r\n *\r\n * @param point   Sprite coordinates\r\n * @param sprite  Sprite\r\n * @param toSprite  Sprite\r\n * @return converted coordinates\r\n */\r\nexport function spritePointToSprite(point, sprite, toSprite) {\r\n    return svgPointToSprite(spritePointToSvg(point, sprite), toSprite);\r\n}\r\n/**\r\n * Converts a rectangle expressed in SVG element coordinates to coordinates\r\n * within specific [[Sprite]].\r\n *\r\n * @param rect    SVG rectangle\r\n * @param sprite  Sprite\r\n * @return Sprite rectangle\r\n */\r\nexport function svgRectToSprite(rect, sprite) {\r\n    var p1 = svgPointToSprite(rect, sprite);\r\n    var p2 = svgPointToSprite({ x: rect.x + rect.width, y: rect.y + rect.height }, sprite);\r\n    return { x: p1.x, y: p1.y, width: p2.x - p1.x, height: p2.y - p1.y };\r\n}\r\n/**\r\n * Converts a rectangle expressed in [[Sprite]] coordinates to SVG coordinates.\r\n *\r\n * @param rect    Sprite rectangle\r\n * @param sprite  Sprite\r\n * @return SVG rectangle\r\n */\r\nexport function spriteRectToSvg(rect, sprite) {\r\n    var p1 = spritePointToSvg(rect, sprite);\r\n    var p2 = spritePointToSvg({ x: rect.x + rect.width, y: rect.y + rect.height }, sprite);\r\n    return { x: p1.x, y: p1.y, width: p2.x - p1.x, height: p2.y - p1.y };\r\n}\r\n/**\r\n * Converts global document-wide coordinates to coordinates within SVG element.\r\n *\r\n * @param point         Global coordinates\r\n * @param svgContainer  SVG element\r\n * @return SVG coordinates\r\n */\r\nexport function documentPointToSvg(point, svgContainer, cssScale) {\r\n    try {\r\n        var bbox = svgContainer.getBoundingClientRect();\r\n        if (!$type.isNumber(cssScale)) {\r\n            cssScale = 1;\r\n        }\r\n        return {\r\n            \"x\": (point.x - bbox.left) / cssScale,\r\n            \"y\": (point.y - bbox.top) / cssScale\r\n        };\r\n    }\r\n    catch (e) {\r\n        return point;\r\n    }\r\n}\r\n/**\r\n * Converts SVG coordinates to global document-wide coordinates.\r\n *\r\n * @param point         SVG coordinates\r\n * @param svgContainer  SVG element\r\n * @return Global coordinates\r\n */\r\nexport function svgPointToDocument(point, svgContainer) {\r\n    try {\r\n        var bbox = svgContainer.getBoundingClientRect();\r\n        return {\r\n            \"x\": point.x + bbox.left,\r\n            \"y\": point.y + bbox.top\r\n        };\r\n    }\r\n    catch (e) {\r\n        return point;\r\n    }\r\n}\r\n/**\r\n * Converts document-wide global coordinates to coordinates within specific\r\n * [[Sprite]].\r\n *\r\n * @param point   Global coordinates\r\n * @param sprite  Sprite\r\n * @return Sprite coordinates\r\n */\r\nexport function documentPointToSprite(point, sprite) {\r\n    if (sprite && sprite.htmlContainer) {\r\n        var svgPoint = documentPointToSvg(point, $type.getValue(sprite.htmlContainer), sprite.svgContainer.cssScale);\r\n        return svgPointToSprite(svgPoint, sprite);\r\n    }\r\n    else {\r\n        return point;\r\n    }\r\n}\r\n/**\r\n * Converts coordinates within [[Sprite]] to global document coordinates.\r\n *\r\n * @param point   Sprite coordinates\r\n * @param sprite  Sprite\r\n * @return Global coordinates\r\n */\r\nexport function spritePointToDocument(point, sprite) {\r\n    if (sprite && sprite.htmlContainer) {\r\n        var svgPoint = spritePointToSvg(point, sprite);\r\n        return svgPointToDocument(svgPoint, $type.getValue(sprite.htmlContainer));\r\n    }\r\n    else {\r\n        return point;\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * DEPRECATED FUNCTIONS\r\n * @todo Review and remove\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns element's width.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element  Element\r\n * @return Width (px)\r\n * @deprecated Not used anywhere\r\n */\r\nexport function width(element) {\r\n    var cs = getComputedStyle(element);\r\n    var paddingX = parseFloat(cs.paddingLeft) + parseFloat(cs.paddingRight);\r\n    var borderX = parseFloat(cs.borderLeftWidth) + parseFloat(cs.borderRightWidth);\r\n    return element.clientWidth - paddingX - borderX;\r\n}\r\n/**\r\n * Returns element's height.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element  Element\r\n * @return Height (px)\r\n * @deprecated Not used anywhere\r\n */\r\nexport function height(element) {\r\n    var cs = getComputedStyle(element);\r\n    var paddingY = parseFloat(cs.paddingTop) + parseFloat(cs.paddingBottom);\r\n    var borderY = parseFloat(cs.borderTopWidth) + parseFloat(cs.borderBottomWidth);\r\n    return element.clientHeight - paddingY - borderY;\r\n}\r\n/**\r\n * Returns number of decimals\r\n *\r\n * @ignore Exclude from docs\r\n * @param number  Input number\r\n * @return Number of decimals\r\n */\r\nexport function decimalPlaces(number) {\r\n    var match = ('' + number).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\r\n    if (!match) {\r\n        return 0;\r\n    }\r\n    return Math.max(0, (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0));\r\n}\r\nvar urlRegexp = /^([a-zA-Z][a-zA-Z0-9\\+\\.\\-]*:)?(?:(\\/\\/)([^\\@]+\\@)?([^\\/\\?\\#\\:]*)(\\:[0-9]+)?)?([^\\?\\#]*)(\\?[^\\#]*)?(\\#.*)?$/;\r\n/**\r\n * Parses a URL\r\n *\r\n * @ignore Exclude from docs\r\n */\r\n// TODO test this\r\nexport function parseUrl(url) {\r\n    var match = urlRegexp.exec(url);\r\n    return {\r\n        protocol: (match && match[1]) || \"\",\r\n        separator: (match && match[2]) || \"\",\r\n        authority: (match && match[3]) || \"\",\r\n        domain: (match && match[4]) || \"\",\r\n        port: (match && match[5]) || \"\",\r\n        path: (match && match[6]) || \"\",\r\n        query: (match && match[7]) || \"\",\r\n        hash: (match && match[8]) || \"\"\r\n    };\r\n}\r\n/**\r\n * Serializes a Url into a string\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport function serializeUrl(url) {\r\n    return url.protocol + url.separator + url.authority + url.domain + url.port + url.path + url.query + url.hash;\r\n}\r\n/**\r\n * Checks whether a Url is relative or not\r\n *\r\n * @ignore Exclude from docs\r\n */\r\n// TODO is this correct ?\r\nfunction isRelativeUrl(url) {\r\n    return url.protocol === \"\" &&\r\n        url.separator === \"\" &&\r\n        url.authority === \"\" &&\r\n        url.domain === \"\" &&\r\n        url.port === \"\";\r\n}\r\n/**\r\n * Joins together two URLs, resolving relative URLs correctly\r\n *\r\n * @ignore Exclude from docs\r\n */\r\n// TODO test this\r\nexport function joinUrl(left, right) {\r\n    var parsedLeft = parseUrl(left);\r\n    var parsedRight = parseUrl(right);\r\n    if (isRelativeUrl(parsedLeft)) {\r\n        throw new Error(\"Left URL is not absolute\");\r\n    }\r\n    if (isRelativeUrl(parsedRight)) {\r\n        // TODO is this correct ?\r\n        if (parsedRight.path !== \"\") {\r\n            if (parsedRight.path[0] === \"/\") {\r\n                parsedLeft.path = parsedRight.path;\r\n                // TODO is this correct ?\r\n            }\r\n            else {\r\n                var leftPath = parsedLeft.path.split(/\\//);\r\n                var rightPath = parsedRight.path.split(/\\//);\r\n                // TODO is this correct ?\r\n                if (leftPath.length === 0) {\r\n                    if (rightPath.length !== 0) {\r\n                        leftPath.push(\"\");\r\n                    }\r\n                }\r\n                else if (leftPath.length > 1) {\r\n                    leftPath.pop();\r\n                }\r\n                $array.pushAll(leftPath, rightPath);\r\n                parsedLeft.path = leftPath.join(\"/\");\r\n                if (parsedLeft.path !== \"\" && parsedLeft.path[0] !== \"/\") {\r\n                    throw new Error(\"URL path must start with /\");\r\n                }\r\n            }\r\n        }\r\n        // TODO is this correct ?\r\n        parsedLeft.query = parsedRight.query;\r\n        parsedLeft.hash = parsedRight.hash;\r\n        return serializeUrl(parsedLeft);\r\n    }\r\n    else {\r\n        return serializeUrl(parsedRight);\r\n    }\r\n}\r\n/**\r\n * Detects MSIE.\r\n *\r\n * @return Is IE?\r\n */\r\nexport function isIE() {\r\n    return !!window.MSInputMethodContext && !!document.documentMode;\r\n}\r\n//# sourceMappingURL=Utils.js.map","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","/**\r\n * This module defines a [[Validatable]] class which can be used by all\r\n * non-[[Sprite]] classes to use system beats to revalidate themselves.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObjectEvents } from \"../Base\";\r\nimport { registry } from \"../Registry\";\r\n/**\r\n * This module defines a [[Validatable]] class which can be used by all\r\n * non-[[Sprite]] classes to use system update cycle to revalidate themselves.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar Validatable = /** @class */ (function (_super) {\r\n    __extends(Validatable, _super);\r\n    function Validatable() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * Is invalid and should be revalidated?\r\n         */\r\n        _this._validateDisposer = null;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Invalidates the element, so that it can re-validate/redraw itself in the\r\n     * next cycle.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Validatable.prototype.invalidate = function () {\r\n        if (this._validateDisposer === null) {\r\n            this._validateDisposer = registry.events.on(\"exitframe\", this.validate, this);\r\n        }\r\n    };\r\n    /**\r\n     * Validates itself.\r\n     *\r\n     * Most probably the extending class will have an overriding `validate()`\r\n     * method which will do actual work, as well as call this method using\r\n     * `super.validate()`.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Validatable.prototype.validate = function () {\r\n        if (this._validateDisposer !== null) {\r\n            this._validateDisposer.dispose();\r\n            this._validateDisposer = null;\r\n        }\r\n    };\r\n    Validatable.prototype.dispose = function () {\r\n        if (this._validateDisposer !== null) {\r\n            this._validateDisposer.dispose();\r\n            this._validateDisposer = null;\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return Validatable;\r\n}(BaseObjectEvents));\r\nexport { Validatable };\r\n//# sourceMappingURL=Validatable.js.map","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { AMElement } from \"./AMElement\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates an SVG `<g>` element.\r\n *\r\n * SVG groups are used for elements that need more elements just one.\r\n *\r\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Element/g} About `<g>` element\r\n */\r\nvar Group = /** @class */ (function (_super) {\r\n    __extends(Group, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param elementName Element type (should be \"g\")\r\n     */\r\n    function Group(elementName) {\r\n        return _super.call(this, elementName) || this;\r\n    }\r\n    /**\r\n     * Adds an element to group.\r\n     *\r\n     * This will manipulate DOM. `element` will be physically moved into group.\r\n     *\r\n     * @param element  Element\r\n     */\r\n    Group.prototype.add = function (element) {\r\n        if (element) {\r\n            this.node.appendChild(element.node);\r\n        }\r\n    };\r\n    /**\r\n     * Adds an element to group.\r\n     *\r\n     * This will manipulate DOM. `element` will be physically moved into group.\r\n     *\r\n     * @param element  Element\r\n     */\r\n    Group.prototype.addToBack = function (element) {\r\n        if (element) {\r\n            var first = this.node.childNodes[0];\r\n            if (first) {\r\n                if (first != element.node) {\r\n                    this.node.insertBefore(element.node, first);\r\n                }\r\n            }\r\n            else {\r\n                this.node.appendChild(element.node);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Removes the `element` from group.\r\n     *\r\n     * Please note that this will not dispose the element itself, it will just\r\n     * remove it from the group.\r\n     *\r\n     * @param element  Element\r\n     */\r\n    Group.prototype.removeElement = function (element) {\r\n        // todo: not sure about the speed, need to investigate, maybe it's faster to check if node is a child\r\n        if (element) {\r\n            try {\r\n                if (element.node && element.node.parentNode == this.node) {\r\n                    this.node.removeChild(element.node);\r\n                }\r\n            }\r\n            catch (err) {\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Checks if this group already has the child element added\r\n     *\r\n     * @param element\r\n     * @return {boolean}\r\n     */\r\n    Group.prototype.hasChild = function (element) {\r\n        for (var i = 0; i < this.node.childNodes.length; i++) {\r\n            if (this.node.childNodes[i] == element.node) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    Object.defineProperty(Group.prototype, \"content\", {\r\n        /**\r\n         * @return SVG markup\r\n         */\r\n        get: function () {\r\n            return this.node.innerHTML;\r\n        },\r\n        /**\r\n         * Content of the group element.\r\n         *\r\n         * Can be used to add a lot of proprietary SVG markup into group.\r\n         *\r\n         * @param value  SVG markup\r\n         */\r\n        set: function (value) {\r\n            this.node.innerHTML = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Removes all children from the group.\r\n     */\r\n    Group.prototype.removeChildren = function () {\r\n        if (this.node.childNodes) {\r\n            while (this.node.childNodes.length > 0) {\r\n                var childNode = this.node.firstChild;\r\n                if (childNode && childNode.parentNode) {\r\n                    childNode.parentNode.removeChild(childNode);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return Group;\r\n}(AMElement));\r\nexport { Group };\r\n//# sourceMappingURL=Group.js.map","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","/**\r\n * Interaction Object module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { InteractionObjectEventDispatcher } from \"./InteractionObjectEvents\";\r\nimport { BaseObjectEvents } from \"../Base\";\r\nimport { List } from \"../utils/List\";\r\nimport { Dictionary, DictionaryDisposer } from \"../utils/Dictionary\";\r\nimport { getInteraction } from \"./Interaction\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * Re-exports\r\n */\r\nexport { InteractionObjectEventDispatcher };\r\n/**\r\n * Interaction object represents an object that is subject for any kind of\r\n * interaction with it with any input devices: mouse, touch or keyboard.\r\n *\r\n * Any DOM element can be wrapped into an Internaction object which in turn\r\n * enables attaching various interaction events to it, such as: hit, drag,\r\n * swipe, etc.\r\n *\r\n * To create an [[InteractionObject]] out of a [[Sprite]], use:\r\n * `interaction.getInteractionFromSprite(sprite: Sprite)`\r\n *\r\n * To create an [[InteractionObject]] out of a a regular element:\r\n * `interaction.getInteraction(element: HTMLElement)`\r\n */\r\nvar InteractionObject = /** @class */ (function (_super) {\r\n    __extends(InteractionObject, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function InteractionObject(element) {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * @ignore\r\n         * An [[EventDispatcher]] instance which holds events for this object\r\n         */\r\n        _this._eventDispatcher = new InteractionObjectEventDispatcher(_this);\r\n        /**\r\n         * Collection of Disposers for various events. (so that those get disposed\r\n         * when the whole InteractionObject is disposed)\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.eventDisposers = new Dictionary();\r\n        /**\r\n         * A [[Dictionary]] that holds temporarily replaced original style values for\r\n         * HTML element, so that they can be restored when the functionality that\r\n         * replaced them is done.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.replacedStyles = new Dictionary();\r\n        _this._clickable = false;\r\n        _this._contextMenuDisabled = false;\r\n        _this._hoverable = false;\r\n        _this._trackable = false;\r\n        _this._draggable = false;\r\n        _this._swipeable = false;\r\n        _this._resizable = false;\r\n        _this._wheelable = false;\r\n        _this._inert = false;\r\n        /**\r\n         * Is element currently hovered?\r\n         */\r\n        _this._isHover = false;\r\n        /**\r\n         * Was this element hovered via pointer or is it just \"pretenting\" to be\r\n         * hovered.\r\n         *\r\n         * @ignore\r\n         */\r\n        _this.isRealHover = false;\r\n        /**\r\n         * Is the element hovered by touch pointer?\r\n         */\r\n        _this._isHoverByTouch = false;\r\n        /**\r\n         * Has element got any pointers currently pressing down on it?\r\n         */\r\n        _this._isDown = false;\r\n        /**\r\n         * Does element have focus?\r\n         */\r\n        _this._isFocused = false;\r\n        /**\r\n         * Is element currently protected from touch interactions?\r\n         */\r\n        _this._isTouchProtected = false;\r\n        /**\r\n         * Options used for inertia functionality.\r\n         */\r\n        _this._inertiaOptions = new Dictionary();\r\n        /**\r\n         * A collection of different inertia types, currently playing out.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.inertias = new Dictionary();\r\n        /**\r\n         * Click/tap options.\r\n         */\r\n        _this._hitOptions = {};\r\n        /**\r\n         * Hover options.\r\n         */\r\n        _this._hoverOptions = {};\r\n        /**\r\n         * Swipe gesture options.\r\n         */\r\n        _this._swipeOptions = {};\r\n        /**\r\n         * Keyboard options.\r\n         */\r\n        _this._keyboardOptions = {};\r\n        /**\r\n         * Mouse options.\r\n         */\r\n        _this._mouseOptions = {};\r\n        /**\r\n         * Cursor options.\r\n         */\r\n        _this._cursorOptions = {\r\n            \"defaultStyle\": [{\r\n                    \"property\": \"cursor\",\r\n                    \"value\": \"default\"\r\n                }]\r\n        };\r\n        _this._disposers.push(_this._eventDispatcher);\r\n        _this._element = element;\r\n        _this.className = \"InteractionObject\";\r\n        _this._disposers.push(new DictionaryDisposer(_this.inertias));\r\n        _this._disposers.push(new DictionaryDisposer(_this.eventDisposers));\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    ;\r\n    Object.defineProperty(InteractionObject.prototype, \"events\", {\r\n        /**\r\n         * An [[EventDispatcher]] instance which holds events for this object\r\n         */\r\n        get: function () {\r\n            return this._eventDispatcher;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"isHover\", {\r\n        /**\r\n         * @return Hovered?\r\n         */\r\n        get: function () {\r\n            return this._isHover;\r\n        },\r\n        /**\r\n         * Indicates if this element is currently hovered.\r\n         *\r\n         * @param value Hovered?\r\n         */\r\n        set: function (value) {\r\n            if (this.isHover != value) {\r\n                this._isHover = value;\r\n                if (value) {\r\n                    getInteraction().overObjects.moveValue(this);\r\n                }\r\n                else {\r\n                    this.isRealHover = false;\r\n                    getInteraction().overObjects.removeValue(this);\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"isHoverByTouch\", {\r\n        /**\r\n         * @return Hovered?\r\n         */\r\n        get: function () {\r\n            return this._isHoverByTouch;\r\n        },\r\n        /**\r\n         * Indicates if this element is currently hovered.\r\n         *\r\n         * @param value Hovered?\r\n         */\r\n        set: function (value) {\r\n            if (this.isHoverByTouch != value) {\r\n                this._isHoverByTouch = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"overPointers\", {\r\n        /**\r\n         * A list of pointers currently over the element.\r\n         *\r\n         * @see {@link Pointer}\r\n         * @return List if pointers currently hovering the element\r\n         */\r\n        get: function () {\r\n            if (!this._overPointers) {\r\n                this._overPointers = new List();\r\n            }\r\n            return this._overPointers;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"isDown\", {\r\n        /**\r\n         * @return Has down pointers?\r\n         */\r\n        get: function () {\r\n            return this._isDown;\r\n        },\r\n        /**\r\n         * Indicates if this element has currently any pointers pressing on it.\r\n         *\r\n         * @param value Has down pointers?\r\n         */\r\n        set: function (value) {\r\n            if (this.isDown != value) {\r\n                this._isDown = value;\r\n                if (value) {\r\n                    getInteraction().downObjects.moveValue(this);\r\n                }\r\n                else {\r\n                    getInteraction().downObjects.removeValue(this);\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"downPointers\", {\r\n        /**\r\n         * A list of pointers currently pressing down on this element.\r\n         *\r\n         * @see {@link Pointer}\r\n         * @return List of down pointers\r\n         */\r\n        get: function () {\r\n            if (!this._downPointers) {\r\n                this._downPointers = new List();\r\n            }\r\n            return this._downPointers;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"isFocused\", {\r\n        /**\r\n         * @return Focused?\r\n         */\r\n        get: function () {\r\n            return this._isFocused;\r\n        },\r\n        /**\r\n         * Indicates if this element is currently focused.\r\n         *\r\n         * @param value Focused?\r\n         */\r\n        set: function (value) {\r\n            if (this.isFocused != value) {\r\n                this._isFocused = value;\r\n                if (value) {\r\n                    getInteraction().focusedObject = this;\r\n                }\r\n                else {\r\n                    getInteraction().focusedObject = undefined;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"isTouchProtected\", {\r\n        /**\r\n         * @ignore\r\n         * @return Touch protected?\r\n         */\r\n        get: function () {\r\n            return this._isTouchProtected;\r\n        },\r\n        /**\r\n         * Indicates if this element is currently being protected from touch actions.\r\n         *\r\n         * @ignore\r\n         * @param value Touch protected?\r\n         */\r\n        set: function (value) {\r\n            if (this._isTouchProtected != value) {\r\n                this._isTouchProtected = value;\r\n                if (value) {\r\n                    getInteraction().unprepElement(this);\r\n                }\r\n                else if (this.draggable || this.swipeable || this.trackable || this.resizable) {\r\n                    getInteraction().prepElement(this);\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"clickable\", {\r\n        /**\r\n         * @return Clickable?\r\n         */\r\n        get: function () {\r\n            return this._clickable;\r\n        },\r\n        /**\r\n         * Is element clickable? Clickable elements will generate \"hit\" events when\r\n         * clicked or tapped.\r\n         *\r\n         * @param value Clickable?\r\n         */\r\n        set: function (value) {\r\n            if (this._clickable !== value) {\r\n                this._clickable = value;\r\n                getInteraction().processClickable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"contextMenuDisabled\", {\r\n        /**\r\n         * @return Context menu disabled?\r\n         */\r\n        get: function () {\r\n            return this._contextMenuDisabled;\r\n        },\r\n        /**\r\n         * Should element prevent context menu to be displayed, e.g. when\r\n         * right-clicked?\r\n         *\r\n         * @default false\r\n         * @param value Context menu disabled?\r\n         */\r\n        set: function (value) {\r\n            if (this._contextMenuDisabled !== value) {\r\n                this._contextMenuDisabled = value;\r\n                getInteraction().processContextMenu(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"hoverable\", {\r\n        /**\r\n         * @return Hoverable?\r\n         */\r\n        get: function () {\r\n            return this._hoverable;\r\n        },\r\n        /**\r\n         * Indicates if element should generate hover events.\r\n         *\r\n         * @param value Hoverable?\r\n         */\r\n        set: function (value) {\r\n            if (this._hoverable !== value) {\r\n                this._hoverable = value;\r\n                getInteraction().processHoverable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"trackable\", {\r\n        /**\r\n         * @return Track pointer?\r\n         */\r\n        get: function () {\r\n            return this._trackable;\r\n        },\r\n        /**\r\n         * Indicates if pointer movement over element should be tracked.\r\n         *\r\n         * @param value Track pointer?\r\n         */\r\n        set: function (value) {\r\n            if (this._trackable !== value) {\r\n                this._trackable = value;\r\n                getInteraction().processTrackable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"draggable\", {\r\n        /**\r\n         * @return Draggable?\r\n         */\r\n        get: function () {\r\n            return this._draggable;\r\n        },\r\n        /**\r\n         * Indicates if element can be dragged. (moved)\r\n         *\r\n         * @param value Draggable?\r\n         */\r\n        set: function (value) {\r\n            if (this._draggable !== value) {\r\n                this._draggable = value;\r\n                getInteraction().processDraggable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"swipeable\", {\r\n        /**\r\n         * @return Track swipe?\r\n         */\r\n        get: function () {\r\n            return this._swipeable;\r\n        },\r\n        /**\r\n         * Indicates whether element should react to swipe gesture.\r\n         *\r\n         * @param value Track swipe?\r\n         */\r\n        set: function (value) {\r\n            if (this._swipeable !== value) {\r\n                this._swipeable = value;\r\n                getInteraction().processSwipeable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"resizable\", {\r\n        /**\r\n         * @return Resizeble?\r\n         */\r\n        get: function () {\r\n            return this._resizable;\r\n        },\r\n        /**\r\n         * Indicates if element can be resized.\r\n         *\r\n         * @param value Resizeable?\r\n         */\r\n        set: function (value) {\r\n            if (this._resizable !== value) {\r\n                this._resizable = value;\r\n                getInteraction().processResizable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"wheelable\", {\r\n        /**\r\n         * @return Track wheel?\r\n         */\r\n        get: function () {\r\n            return this._wheelable;\r\n        },\r\n        /**\r\n         * Indicates whether track moouse wheel rotation over element.\r\n         *\r\n         * @param value Track wheel?\r\n         */\r\n        set: function (value) {\r\n            if (this._wheelable !== value) {\r\n                this._wheelable = value;\r\n                getInteraction().processWheelable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"inert\", {\r\n        /**\r\n         * @return Inert?\r\n         */\r\n        get: function () {\r\n            return this._inert;\r\n        },\r\n        /**\r\n         * Indicates if element is inert, i.e. if it should carry movement momentum\r\n         * after it is dragged and released.\r\n         *\r\n         * @param value Inert?\r\n         */\r\n        set: function (value) {\r\n            if (this._inert !== value) {\r\n                this._inert = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"focusable\", {\r\n        /**\r\n         * @return Focusable?\r\n         */\r\n        get: function () {\r\n            return this._focusable;\r\n        },\r\n        /**\r\n         * Indicates if element can gain focus.\r\n         *\r\n         * @param value Focusable?\r\n         */\r\n        set: function (value) {\r\n            if (this._focusable !== value) {\r\n                this._focusable = value;\r\n                if (this._focusable && this.tabindex == -1) {\r\n                    this._tabindex = 1;\r\n                }\r\n                getInteraction().processFocusable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"tabindex\", {\r\n        /**\r\n         * @return Tab index\r\n         */\r\n        get: function () {\r\n            return $type.getValueDefault(this._tabindex, -1);\r\n        },\r\n        /**\r\n         * Element's tab index.\r\n         *\r\n         * @param value Tab index\r\n         */\r\n        set: function (value) {\r\n            if (this._tabindex !== value) {\r\n                this._tabindex = value;\r\n                if (value > -1) {\r\n                    this.focusable = true;\r\n                }\r\n                getInteraction().processFocusable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"element\", {\r\n        /**\r\n         * @return Element\r\n         */\r\n        get: function () {\r\n            return this._element;\r\n        },\r\n        /**\r\n         * A DOM element associated with this element.\r\n         *\r\n         * @param element Element\r\n         */\r\n        set: function (element) {\r\n            this._element = element;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"originalPosition\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Position.\r\n         */\r\n        get: function () {\r\n            return this._originalPosition || { x: 0, y: 0 };\r\n        },\r\n        /**\r\n         * Element's original position.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Position\r\n         */\r\n        set: function (value) {\r\n            this._originalPosition = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"originalScale\", {\r\n        /**\r\n         * @return Scale\r\n         */\r\n        get: function () {\r\n            return $type.getValueDefault(this._originalScale, 1);\r\n        },\r\n        /**\r\n         * Element's original scale.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Scale\r\n         */\r\n        set: function (value) {\r\n            if (this._originalScale !== value) {\r\n                this._originalScale = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"originalAngle\", {\r\n        /**\r\n         * @return Angle\r\n         */\r\n        get: function () {\r\n            return $type.getValueDefault(this._originalAngle, 0);\r\n        },\r\n        /**\r\n         * Element's original angle.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Angle\r\n         */\r\n        set: function (value) {\r\n            if (this._originalAngle !== value) {\r\n                this._originalAngle = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"inertiaOptions\", {\r\n        /**\r\n         * @return Options\r\n         */\r\n        get: function () {\r\n            if (this.sprite && this.sprite._adapterO) {\r\n                return this.sprite._adapterO.apply(\"inertiaOptions\", this._inertiaOptions);\r\n            }\r\n            else {\r\n                return this._inertiaOptions;\r\n            }\r\n        },\r\n        /**\r\n         * Inertia options.\r\n         *\r\n         * @param value  Options\r\n         */\r\n        set: function (value) {\r\n            this._inertiaOptions = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"hitOptions\", {\r\n        /**\r\n         * @return Options\r\n         */\r\n        get: function () {\r\n            if (this.sprite && this.sprite._adapterO) {\r\n                return this.sprite._adapterO.apply(\"hitOptions\", this._hitOptions);\r\n            }\r\n            else {\r\n                return this._hitOptions;\r\n            }\r\n        },\r\n        /**\r\n         * Hit options.\r\n         *\r\n         * @param value  Options\r\n         */\r\n        set: function (value) {\r\n            this._hitOptions = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"hoverOptions\", {\r\n        /**\r\n         * @return Options\r\n         */\r\n        get: function () {\r\n            if (this.sprite && this.sprite._adapterO) {\r\n                return this.sprite._adapterO.apply(\"hoverOptions\", this._hoverOptions);\r\n            }\r\n            else {\r\n                return this._hoverOptions;\r\n            }\r\n        },\r\n        /**\r\n         * Hover options.\r\n         *\r\n         * @param value  Options\r\n         */\r\n        set: function (value) {\r\n            this._hoverOptions = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"swipeOptions\", {\r\n        /**\r\n         * @return Options\r\n         */\r\n        get: function () {\r\n            if (this.sprite && this.sprite._adapterO) {\r\n                return this.sprite._adapterO.apply(\"swipeOptions\", this._swipeOptions);\r\n            }\r\n            else {\r\n                return this._swipeOptions;\r\n            }\r\n        },\r\n        /**\r\n         * Swipe options.\r\n         *\r\n         * @param value  Options\r\n         */\r\n        set: function (value) {\r\n            this._swipeOptions = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"keyboardOptions\", {\r\n        /**\r\n         * @return Options\r\n         */\r\n        get: function () {\r\n            if (this.sprite && this.sprite._adapterO) {\r\n                return this.sprite._adapterO.apply(\"keyboardOptions\", this._keyboardOptions);\r\n            }\r\n            else {\r\n                return this._keyboardOptions;\r\n            }\r\n        },\r\n        /**\r\n         * Keyboard options.\r\n         *\r\n         * @param value  Options\r\n         */\r\n        set: function (value) {\r\n            this._keyboardOptions = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"mouseOptions\", {\r\n        /**\r\n         * @return Options\r\n         */\r\n        get: function () {\r\n            if (this.sprite && this.sprite._adapterO) {\r\n                return this.sprite._adapterO.apply(\"mouseOptions\", this._mouseOptions);\r\n            }\r\n            else {\r\n                return this._mouseOptions;\r\n            }\r\n        },\r\n        /**\r\n         * Mouse options.\r\n         *\r\n         * Enables controlling options related to the mouse, for example sensitivity\r\n         * of its mouse wheel.\r\n         *\r\n         * E.g. the below will reduce chart's wheel-zoom speed to half its default\r\n         * speed:\r\n         *\r\n         * ```TypeScript\r\n         * chart.plotContainer.mouseOptions.sensitivity = 0.5;\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.plotContainer.mouseOptions.sensitivity = 0.5;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"plotContainer\": {\r\n         *     \"mouseOptions\": {\r\n         *       \"sensitivity\": 0.5\r\n         *     }\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * @since 4.5.14\r\n         * @param value  Options\r\n         */\r\n        set: function (value) {\r\n            this._mouseOptions = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InteractionObject.prototype, \"cursorOptions\", {\r\n        /**\r\n         * @return Options\r\n         */\r\n        get: function () {\r\n            if (this.sprite && this.sprite._adapterO) {\r\n                return this.sprite._adapterO.apply(\"cursorOptions\", this._cursorOptions);\r\n            }\r\n            else {\r\n                return this._cursorOptions;\r\n            }\r\n        },\r\n        /**\r\n         * Cursor options.\r\n         *\r\n         * @param value  Options\r\n         */\r\n        set: function (value) {\r\n            this._cursorOptions = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all properties and related assets from another object of the same\r\n     * type.\r\n     *\r\n     * @param source Source object\r\n     */\r\n    InteractionObject.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.inertiaOptions = source.inertiaOptions;\r\n        this.hitOptions = source.hitOptions;\r\n        this.hoverOptions = source.hoverOptions;\r\n        this.swipeOptions = source.swipeOptions;\r\n        this.keyboardOptions = source.keyboardOptions;\r\n        this.cursorOptions = source.cursorOptions;\r\n        this.contextMenuDisabled = source.contextMenuDisabled;\r\n        getInteraction().applyCursorOverStyle(this);\r\n    };\r\n    /**\r\n     * @ignore Exclude from docs\r\n     */\r\n    InteractionObject.prototype.setEventDisposer = function (key, value, f) {\r\n        var disposer = this.eventDisposers.getKey(key);\r\n        if (value) {\r\n            if (disposer == null) {\r\n                this.eventDisposers.setKey(key, f());\r\n            }\r\n        }\r\n        else {\r\n            if (disposer != null) {\r\n                disposer.dispose();\r\n                this.eventDisposers.removeKey(key);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Disposes object.\r\n     */\r\n    InteractionObject.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        // Remove from all interaction registries\r\n        var interaction = getInteraction();\r\n        interaction.overObjects.removeValue(this);\r\n        interaction.downObjects.removeValue(this);\r\n        interaction.trackedObjects.removeValue(this);\r\n        interaction.transformedObjects.removeValue(this);\r\n        // Unlock document wheel\r\n        if (this.isHover && this.wheelable) {\r\n            interaction.unlockWheel();\r\n        }\r\n        if (interaction.focusedObject === this) {\r\n            interaction.focusedObject = undefined;\r\n        }\r\n    };\r\n    return InteractionObject;\r\n}(BaseObjectEvents));\r\nexport { InteractionObject };\r\n//# sourceMappingURL=InteractionObject.js.map","/*!\n * Vue.js v2.6.11\n * (c) 2014-2019 Evan You\n * Released under the MIT License.\n */\n/*  */\n\nvar emptyObject = Object.freeze({});\n\n// These helpers produce better VM code in JS engines due to their\n// explicitness and function inlining.\nfunction isUndef (v) {\n  return v === undefined || v === null\n}\n\nfunction isDef (v) {\n  return v !== undefined && v !== null\n}\n\nfunction isTrue (v) {\n  return v === true\n}\n\nfunction isFalse (v) {\n  return v === false\n}\n\n/**\n * Check if value is primitive.\n */\nfunction isPrimitive (value) {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    // $flow-disable-line\n    typeof value === 'symbol' ||\n    typeof value === 'boolean'\n  )\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nvar _toString = Object.prototype.toString;\n\nfunction toRawType (value) {\n  return _toString.call(value).slice(8, -1)\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nfunction isPlainObject (obj) {\n  return _toString.call(obj) === '[object Object]'\n}\n\nfunction isRegExp (v) {\n  return _toString.call(v) === '[object RegExp]'\n}\n\n/**\n * Check if val is a valid array index.\n */\nfunction isValidArrayIndex (val) {\n  var n = parseFloat(String(val));\n  return n >= 0 && Math.floor(n) === n && isFinite(val)\n}\n\nfunction isPromise (val) {\n  return (\n    isDef(val) &&\n    typeof val.then === 'function' &&\n    typeof val.catch === 'function'\n  )\n}\n\n/**\n * Convert a value to a string that is actually rendered.\n */\nfunction toString (val) {\n  return val == null\n    ? ''\n    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n      ? JSON.stringify(val, null, 2)\n      : String(val)\n}\n\n/**\n * Convert an input value to a number for persistence.\n * If the conversion fails, return original string.\n */\nfunction toNumber (val) {\n  var n = parseFloat(val);\n  return isNaN(n) ? val : n\n}\n\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n */\nfunction makeMap (\n  str,\n  expectsLowerCase\n) {\n  var map = Object.create(null);\n  var list = str.split(',');\n  for (var i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase\n    ? function (val) { return map[val.toLowerCase()]; }\n    : function (val) { return map[val]; }\n}\n\n/**\n * Check if a tag is a built-in tag.\n */\nvar isBuiltInTag = makeMap('slot,component', true);\n\n/**\n * Check if an attribute is a reserved attribute.\n */\nvar isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');\n\n/**\n * Remove an item from an array.\n */\nfunction remove (arr, item) {\n  if (arr.length) {\n    var index = arr.indexOf(item);\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * Check whether an object has the property.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn (obj, key) {\n  return hasOwnProperty.call(obj, key)\n}\n\n/**\n * Create a cached version of a pure function.\n */\nfunction cached (fn) {\n  var cache = Object.create(null);\n  return (function cachedFn (str) {\n    var hit = cache[str];\n    return hit || (cache[str] = fn(str))\n  })\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nvar camelizeRE = /-(\\w)/g;\nvar camelize = cached(function (str) {\n  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })\n});\n\n/**\n * Capitalize a string.\n */\nvar capitalize = cached(function (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n});\n\n/**\n * Hyphenate a camelCase string.\n */\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = cached(function (str) {\n  return str.replace(hyphenateRE, '-$1').toLowerCase()\n});\n\n/**\n * Simple bind polyfill for environments that do not support it,\n * e.g., PhantomJS 1.x. Technically, we don't need this anymore\n * since native bind is now performant enough in most browsers.\n * But removing it would mean breaking code that was able to run in\n * PhantomJS 1.x, so this must be kept for backward compatibility.\n */\n\n/* istanbul ignore next */\nfunction polyfillBind (fn, ctx) {\n  function boundFn (a) {\n    var l = arguments.length;\n    return l\n      ? l > 1\n        ? fn.apply(ctx, arguments)\n        : fn.call(ctx, a)\n      : fn.call(ctx)\n  }\n\n  boundFn._length = fn.length;\n  return boundFn\n}\n\nfunction nativeBind (fn, ctx) {\n  return fn.bind(ctx)\n}\n\nvar bind = Function.prototype.bind\n  ? nativeBind\n  : polyfillBind;\n\n/**\n * Convert an Array-like object to a real Array.\n */\nfunction toArray (list, start) {\n  start = start || 0;\n  var i = list.length - start;\n  var ret = new Array(i);\n  while (i--) {\n    ret[i] = list[i + start];\n  }\n  return ret\n}\n\n/**\n * Mix properties into target object.\n */\nfunction extend (to, _from) {\n  for (var key in _from) {\n    to[key] = _from[key];\n  }\n  return to\n}\n\n/**\n * Merge an Array of Objects into a single Object.\n */\nfunction toObject (arr) {\n  var res = {};\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i]);\n    }\n  }\n  return res\n}\n\n/* eslint-disable no-unused-vars */\n\n/**\n * Perform no operation.\n * Stubbing args to make Flow happy without leaving useless transpiled code\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).\n */\nfunction noop (a, b, c) {}\n\n/**\n * Always return false.\n */\nvar no = function (a, b, c) { return false; };\n\n/* eslint-enable no-unused-vars */\n\n/**\n * Return the same value.\n */\nvar identity = function (_) { return _; };\n\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n */\nfunction looseEqual (a, b) {\n  if (a === b) { return true }\n  var isObjectA = isObject(a);\n  var isObjectB = isObject(b);\n  if (isObjectA && isObjectB) {\n    try {\n      var isArrayA = Array.isArray(a);\n      var isArrayB = Array.isArray(b);\n      if (isArrayA && isArrayB) {\n        return a.length === b.length && a.every(function (e, i) {\n          return looseEqual(e, b[i])\n        })\n      } else if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime()\n      } else if (!isArrayA && !isArrayB) {\n        var keysA = Object.keys(a);\n        var keysB = Object.keys(b);\n        return keysA.length === keysB.length && keysA.every(function (key) {\n          return looseEqual(a[key], b[key])\n        })\n      } else {\n        /* istanbul ignore next */\n        return false\n      }\n    } catch (e) {\n      /* istanbul ignore next */\n      return false\n    }\n  } else if (!isObjectA && !isObjectB) {\n    return String(a) === String(b)\n  } else {\n    return false\n  }\n}\n\n/**\n * Return the first index at which a loosely equal value can be\n * found in the array (if value is a plain object, the array must\n * contain an object of the same shape), or -1 if it is not present.\n */\nfunction looseIndexOf (arr, val) {\n  for (var i = 0; i < arr.length; i++) {\n    if (looseEqual(arr[i], val)) { return i }\n  }\n  return -1\n}\n\n/**\n * Ensure a function is called only once.\n */\nfunction once (fn) {\n  var called = false;\n  return function () {\n    if (!called) {\n      called = true;\n      fn.apply(this, arguments);\n    }\n  }\n}\n\nvar SSR_ATTR = 'data-server-rendered';\n\nvar ASSET_TYPES = [\n  'component',\n  'directive',\n  'filter'\n];\n\nvar LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed',\n  'activated',\n  'deactivated',\n  'errorCaptured',\n  'serverPrefetch'\n];\n\n/*  */\n\n\n\nvar config = ({\n  /**\n   * Option merge strategies (used in core/util/options)\n   */\n  // $flow-disable-line\n  optionMergeStrategies: Object.create(null),\n\n  /**\n   * Whether to suppress warnings.\n   */\n  silent: false,\n\n  /**\n   * Show production mode tip message on boot?\n   */\n  productionTip: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to enable devtools\n   */\n  devtools: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to record perf\n   */\n  performance: false,\n\n  /**\n   * Error handler for watcher errors\n   */\n  errorHandler: null,\n\n  /**\n   * Warn handler for watcher warns\n   */\n  warnHandler: null,\n\n  /**\n   * Ignore certain custom elements\n   */\n  ignoredElements: [],\n\n  /**\n   * Custom user key aliases for v-on\n   */\n  // $flow-disable-line\n  keyCodes: Object.create(null),\n\n  /**\n   * Check if a tag is reserved so that it cannot be registered as a\n   * component. This is platform-dependent and may be overwritten.\n   */\n  isReservedTag: no,\n\n  /**\n   * Check if an attribute is reserved so that it cannot be used as a component\n   * prop. This is platform-dependent and may be overwritten.\n   */\n  isReservedAttr: no,\n\n  /**\n   * Check if a tag is an unknown element.\n   * Platform-dependent.\n   */\n  isUnknownElement: no,\n\n  /**\n   * Get the namespace of an element\n   */\n  getTagNamespace: noop,\n\n  /**\n   * Parse the real tag name for the specific platform.\n   */\n  parsePlatformTagName: identity,\n\n  /**\n   * Check if an attribute must be bound using property, e.g. value\n   * Platform-dependent.\n   */\n  mustUseProp: no,\n\n  /**\n   * Perform updates asynchronously. Intended to be used by Vue Test Utils\n   * This will significantly reduce performance if set to false.\n   */\n  async: true,\n\n  /**\n   * Exposed for legacy reasons\n   */\n  _lifecycleHooks: LIFECYCLE_HOOKS\n});\n\n/*  */\n\n/**\n * unicode letters used for parsing html tags, component names and property paths.\n * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname\n * skipping \\u10000-\\uEFFFF due to it freezing up PhantomJS\n */\nvar unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;\n\n/**\n * Check if a string starts with $ or _\n */\nfunction isReserved (str) {\n  var c = (str + '').charCodeAt(0);\n  return c === 0x24 || c === 0x5F\n}\n\n/**\n * Define a property.\n */\nfunction def (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  });\n}\n\n/**\n * Parse simple path.\n */\nvar bailRE = new RegExp((\"[^\" + (unicodeRegExp.source) + \".$_\\\\d]\"));\nfunction parsePath (path) {\n  if (bailRE.test(path)) {\n    return\n  }\n  var segments = path.split('.');\n  return function (obj) {\n    for (var i = 0; i < segments.length; i++) {\n      if (!obj) { return }\n      obj = obj[segments[i]];\n    }\n    return obj\n  }\n}\n\n/*  */\n\n// can we use __proto__?\nvar hasProto = '__proto__' in {};\n\n// Browser environment sniffing\nvar inBrowser = typeof window !== 'undefined';\nvar inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;\nvar weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();\nvar UA = inBrowser && window.navigator.userAgent.toLowerCase();\nvar isIE = UA && /msie|trident/.test(UA);\nvar isIE9 = UA && UA.indexOf('msie 9.0') > 0;\nvar isEdge = UA && UA.indexOf('edge/') > 0;\nvar isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');\nvar isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');\nvar isChrome = UA && /chrome\\/\\d+/.test(UA) && !isEdge;\nvar isPhantomJS = UA && /phantomjs/.test(UA);\nvar isFF = UA && UA.match(/firefox\\/(\\d+)/);\n\n// Firefox has a \"watch\" function on Object.prototype...\nvar nativeWatch = ({}).watch;\n\nvar supportsPassive = false;\nif (inBrowser) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', ({\n      get: function get () {\n        /* istanbul ignore next */\n        supportsPassive = true;\n      }\n    })); // https://github.com/facebook/flow/issues/285\n    window.addEventListener('test-passive', null, opts);\n  } catch (e) {}\n}\n\n// this needs to be lazy-evaled because vue may be required before\n// vue-server-renderer can set VUE_ENV\nvar _isServer;\nvar isServerRendering = function () {\n  if (_isServer === undefined) {\n    /* istanbul ignore if */\n    if (!inBrowser && !inWeex && typeof global !== 'undefined') {\n      // detect presence of vue-server-renderer and avoid\n      // Webpack shimming the process\n      _isServer = global['process'] && global['process'].env.VUE_ENV === 'server';\n    } else {\n      _isServer = false;\n    }\n  }\n  return _isServer\n};\n\n// detect devtools\nvar devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n\n/* istanbul ignore next */\nfunction isNative (Ctor) {\n  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())\n}\n\nvar hasSymbol =\n  typeof Symbol !== 'undefined' && isNative(Symbol) &&\n  typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys);\n\nvar _Set;\n/* istanbul ignore if */ // $flow-disable-line\nif (typeof Set !== 'undefined' && isNative(Set)) {\n  // use native Set when available.\n  _Set = Set;\n} else {\n  // a non-standard Set polyfill that only works with primitive keys.\n  _Set = /*@__PURE__*/(function () {\n    function Set () {\n      this.set = Object.create(null);\n    }\n    Set.prototype.has = function has (key) {\n      return this.set[key] === true\n    };\n    Set.prototype.add = function add (key) {\n      this.set[key] = true;\n    };\n    Set.prototype.clear = function clear () {\n      this.set = Object.create(null);\n    };\n\n    return Set;\n  }());\n}\n\n/*  */\n\nvar warn = noop;\nvar tip = noop;\nvar generateComponentTrace = (noop); // work around flow check\nvar formatComponentName = (noop);\n\nif (process.env.NODE_ENV !== 'production') {\n  var hasConsole = typeof console !== 'undefined';\n  var classifyRE = /(?:^|[-_])(\\w)/g;\n  var classify = function (str) { return str\n    .replace(classifyRE, function (c) { return c.toUpperCase(); })\n    .replace(/[-_]/g, ''); };\n\n  warn = function (msg, vm) {\n    var trace = vm ? generateComponentTrace(vm) : '';\n\n    if (config.warnHandler) {\n      config.warnHandler.call(null, msg, vm, trace);\n    } else if (hasConsole && (!config.silent)) {\n      console.error((\"[Vue warn]: \" + msg + trace));\n    }\n  };\n\n  tip = function (msg, vm) {\n    if (hasConsole && (!config.silent)) {\n      console.warn(\"[Vue tip]: \" + msg + (\n        vm ? generateComponentTrace(vm) : ''\n      ));\n    }\n  };\n\n  formatComponentName = function (vm, includeFile) {\n    if (vm.$root === vm) {\n      return '<Root>'\n    }\n    var options = typeof vm === 'function' && vm.cid != null\n      ? vm.options\n      : vm._isVue\n        ? vm.$options || vm.constructor.options\n        : vm;\n    var name = options.name || options._componentTag;\n    var file = options.__file;\n    if (!name && file) {\n      var match = file.match(/([^/\\\\]+)\\.vue$/);\n      name = match && match[1];\n    }\n\n    return (\n      (name ? (\"<\" + (classify(name)) + \">\") : \"<Anonymous>\") +\n      (file && includeFile !== false ? (\" at \" + file) : '')\n    )\n  };\n\n  var repeat = function (str, n) {\n    var res = '';\n    while (n) {\n      if (n % 2 === 1) { res += str; }\n      if (n > 1) { str += str; }\n      n >>= 1;\n    }\n    return res\n  };\n\n  generateComponentTrace = function (vm) {\n    if (vm._isVue && vm.$parent) {\n      var tree = [];\n      var currentRecursiveSequence = 0;\n      while (vm) {\n        if (tree.length > 0) {\n          var last = tree[tree.length - 1];\n          if (last.constructor === vm.constructor) {\n            currentRecursiveSequence++;\n            vm = vm.$parent;\n            continue\n          } else if (currentRecursiveSequence > 0) {\n            tree[tree.length - 1] = [last, currentRecursiveSequence];\n            currentRecursiveSequence = 0;\n          }\n        }\n        tree.push(vm);\n        vm = vm.$parent;\n      }\n      return '\\n\\nfound in\\n\\n' + tree\n        .map(function (vm, i) { return (\"\" + (i === 0 ? '---> ' : repeat(' ', 5 + i * 2)) + (Array.isArray(vm)\n            ? ((formatComponentName(vm[0])) + \"... (\" + (vm[1]) + \" recursive calls)\")\n            : formatComponentName(vm))); })\n        .join('\\n')\n    } else {\n      return (\"\\n\\n(found in \" + (formatComponentName(vm)) + \")\")\n    }\n  };\n}\n\n/*  */\n\nvar uid = 0;\n\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n */\nvar Dep = function Dep () {\n  this.id = uid++;\n  this.subs = [];\n};\n\nDep.prototype.addSub = function addSub (sub) {\n  this.subs.push(sub);\n};\n\nDep.prototype.removeSub = function removeSub (sub) {\n  remove(this.subs, sub);\n};\n\nDep.prototype.depend = function depend () {\n  if (Dep.target) {\n    Dep.target.addDep(this);\n  }\n};\n\nDep.prototype.notify = function notify () {\n  // stabilize the subscriber list first\n  var subs = this.subs.slice();\n  if (process.env.NODE_ENV !== 'production' && !config.async) {\n    // subs aren't sorted in scheduler if not running async\n    // we need to sort them now to make sure they fire in correct\n    // order\n    subs.sort(function (a, b) { return a.id - b.id; });\n  }\n  for (var i = 0, l = subs.length; i < l; i++) {\n    subs[i].update();\n  }\n};\n\n// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nvar targetStack = [];\n\nfunction pushTarget (target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\n\nfunction popTarget () {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n\n/*  */\n\nvar VNode = function VNode (\n  tag,\n  data,\n  children,\n  text,\n  elm,\n  context,\n  componentOptions,\n  asyncFactory\n) {\n  this.tag = tag;\n  this.data = data;\n  this.children = children;\n  this.text = text;\n  this.elm = elm;\n  this.ns = undefined;\n  this.context = context;\n  this.fnContext = undefined;\n  this.fnOptions = undefined;\n  this.fnScopeId = undefined;\n  this.key = data && data.key;\n  this.componentOptions = componentOptions;\n  this.componentInstance = undefined;\n  this.parent = undefined;\n  this.raw = false;\n  this.isStatic = false;\n  this.isRootInsert = true;\n  this.isComment = false;\n  this.isCloned = false;\n  this.isOnce = false;\n  this.asyncFactory = asyncFactory;\n  this.asyncMeta = undefined;\n  this.isAsyncPlaceholder = false;\n};\n\nvar prototypeAccessors = { child: { configurable: true } };\n\n// DEPRECATED: alias for componentInstance for backwards compat.\n/* istanbul ignore next */\nprototypeAccessors.child.get = function () {\n  return this.componentInstance\n};\n\nObject.defineProperties( VNode.prototype, prototypeAccessors );\n\nvar createEmptyVNode = function (text) {\n  if ( text === void 0 ) text = '';\n\n  var node = new VNode();\n  node.text = text;\n  node.isComment = true;\n  return node\n};\n\nfunction createTextVNode (val) {\n  return new VNode(undefined, undefined, undefined, String(val))\n}\n\n// optimized shallow clone\n// used for static nodes and slot nodes because they may be reused across\n// multiple renders, cloning them avoids errors when DOM manipulations rely\n// on their elm reference.\nfunction cloneVNode (vnode) {\n  var cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(),\n    vnode.text,\n    vnode.elm,\n    vnode.context,\n    vnode.componentOptions,\n    vnode.asyncFactory\n  );\n  cloned.ns = vnode.ns;\n  cloned.isStatic = vnode.isStatic;\n  cloned.key = vnode.key;\n  cloned.isComment = vnode.isComment;\n  cloned.fnContext = vnode.fnContext;\n  cloned.fnOptions = vnode.fnOptions;\n  cloned.fnScopeId = vnode.fnScopeId;\n  cloned.asyncMeta = vnode.asyncMeta;\n  cloned.isCloned = true;\n  return cloned\n}\n\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\n\nvar arrayProto = Array.prototype;\nvar arrayMethods = Object.create(arrayProto);\n\nvar methodsToPatch = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n];\n\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  var original = arrayProto[method];\n  def(arrayMethods, method, function mutator () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var result = original.apply(this, args);\n    var ob = this.__ob__;\n    var inserted;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        break\n      case 'splice':\n        inserted = args.slice(2);\n        break\n    }\n    if (inserted) { ob.observeArray(inserted); }\n    // notify change\n    ob.dep.notify();\n    return result\n  });\n});\n\n/*  */\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\n/**\n * In some cases we may want to disable observation inside a component's\n * update computation.\n */\nvar shouldObserve = true;\n\nfunction toggleObserving (value) {\n  shouldObserve = value;\n}\n\n/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object's property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */\nvar Observer = function Observer (value) {\n  this.value = value;\n  this.dep = new Dep();\n  this.vmCount = 0;\n  def(value, '__ob__', this);\n  if (Array.isArray(value)) {\n    if (hasProto) {\n      protoAugment(value, arrayMethods);\n    } else {\n      copyAugment(value, arrayMethods, arrayKeys);\n    }\n    this.observeArray(value);\n  } else {\n    this.walk(value);\n  }\n};\n\n/**\n * Walk through all properties and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n */\nObserver.prototype.walk = function walk (obj) {\n  var keys = Object.keys(obj);\n  for (var i = 0; i < keys.length; i++) {\n    defineReactive$$1(obj, keys[i]);\n  }\n};\n\n/**\n * Observe a list of Array items.\n */\nObserver.prototype.observeArray = function observeArray (items) {\n  for (var i = 0, l = items.length; i < l; i++) {\n    observe(items[i]);\n  }\n};\n\n// helpers\n\n/**\n * Augment a target Object or Array by intercepting\n * the prototype chain using __proto__\n */\nfunction protoAugment (target, src) {\n  /* eslint-disable no-proto */\n  target.__proto__ = src;\n  /* eslint-enable no-proto */\n}\n\n/**\n * Augment a target Object or Array by defining\n * hidden properties.\n */\n/* istanbul ignore next */\nfunction copyAugment (target, src, keys) {\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i];\n    def(target, key, src[key]);\n  }\n}\n\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */\nfunction observe (value, asRootData) {\n  if (!isObject(value) || value instanceof VNode) {\n    return\n  }\n  var ob;\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    ob = value.__ob__;\n  } else if (\n    shouldObserve &&\n    !isServerRendering() &&\n    (Array.isArray(value) || isPlainObject(value)) &&\n    Object.isExtensible(value) &&\n    !value._isVue\n  ) {\n    ob = new Observer(value);\n  }\n  if (asRootData && ob) {\n    ob.vmCount++;\n  }\n  return ob\n}\n\n/**\n * Define a reactive property on an Object.\n */\nfunction defineReactive$$1 (\n  obj,\n  key,\n  val,\n  customSetter,\n  shallow\n) {\n  var dep = new Dep();\n\n  var property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return\n  }\n\n  // cater for pre-defined getter/setters\n  var getter = property && property.get;\n  var setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  var childOb = !shallow && observe(val);\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter () {\n      var value = getter ? getter.call(obj) : val;\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value\n    },\n    set: function reactiveSetter (newVal) {\n      var value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return\n      }\n      /* eslint-enable no-self-compare */\n      if (process.env.NODE_ENV !== 'production' && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) { return }\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      childOb = !shallow && observe(newVal);\n      dep.notify();\n    }\n  });\n}\n\n/**\n * Set a property on an object. Adds the new property and\n * triggers change notification if the property doesn't\n * already exist.\n */\nfunction set (target, key, val) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot set reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.length = Math.max(target.length, key);\n    target.splice(key, 1, val);\n    return val\n  }\n  if (key in target && !(key in Object.prototype)) {\n    target[key] = val;\n    return val\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid adding reactive properties to a Vue instance or its root $data ' +\n      'at runtime - declare it upfront in the data option.'\n    );\n    return val\n  }\n  if (!ob) {\n    target[key] = val;\n    return val\n  }\n  defineReactive$$1(ob.value, key, val);\n  ob.dep.notify();\n  return val\n}\n\n/**\n * Delete a property and trigger change if necessary.\n */\nfunction del (target, key) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot delete reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.splice(key, 1);\n    return\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid deleting properties on a Vue instance or its root $data ' +\n      '- just set it to null.'\n    );\n    return\n  }\n  if (!hasOwn(target, key)) {\n    return\n  }\n  delete target[key];\n  if (!ob) {\n    return\n  }\n  ob.dep.notify();\n}\n\n/**\n * Collect dependencies on array elements when the array is touched, since\n * we cannot intercept array element access like property getters.\n */\nfunction dependArray (value) {\n  for (var e = (void 0), i = 0, l = value.length; i < l; i++) {\n    e = value[i];\n    e && e.__ob__ && e.__ob__.dep.depend();\n    if (Array.isArray(e)) {\n      dependArray(e);\n    }\n  }\n}\n\n/*  */\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */\nvar strats = config.optionMergeStrategies;\n\n/**\n * Options with restrictions\n */\nif (process.env.NODE_ENV !== 'production') {\n  strats.el = strats.propsData = function (parent, child, vm, key) {\n    if (!vm) {\n      warn(\n        \"option \\\"\" + key + \"\\\" can only be used during instance \" +\n        'creation with the `new` keyword.'\n      );\n    }\n    return defaultStrat(parent, child)\n  };\n}\n\n/**\n * Helper that recursively merges two data objects together.\n */\nfunction mergeData (to, from) {\n  if (!from) { return to }\n  var key, toVal, fromVal;\n\n  var keys = hasSymbol\n    ? Reflect.ownKeys(from)\n    : Object.keys(from);\n\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i];\n    // in case the object is already observed...\n    if (key === '__ob__') { continue }\n    toVal = to[key];\n    fromVal = from[key];\n    if (!hasOwn(to, key)) {\n      set(to, key, fromVal);\n    } else if (\n      toVal !== fromVal &&\n      isPlainObject(toVal) &&\n      isPlainObject(fromVal)\n    ) {\n      mergeData(toVal, fromVal);\n    }\n  }\n  return to\n}\n\n/**\n * Data\n */\nfunction mergeDataOrFn (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    // in a Vue.extend merge, both should be functions\n    if (!childVal) {\n      return parentVal\n    }\n    if (!parentVal) {\n      return childVal\n    }\n    // when parentVal & childVal are both present,\n    // we need to return a function that returns the\n    // merged result of both functions... no need to\n    // check if parentVal is a function here because\n    // it has to be a function to pass previous merges.\n    return function mergedDataFn () {\n      return mergeData(\n        typeof childVal === 'function' ? childVal.call(this, this) : childVal,\n        typeof parentVal === 'function' ? parentVal.call(this, this) : parentVal\n      )\n    }\n  } else {\n    return function mergedInstanceDataFn () {\n      // instance merge\n      var instanceData = typeof childVal === 'function'\n        ? childVal.call(vm, vm)\n        : childVal;\n      var defaultData = typeof parentVal === 'function'\n        ? parentVal.call(vm, vm)\n        : parentVal;\n      if (instanceData) {\n        return mergeData(instanceData, defaultData)\n      } else {\n        return defaultData\n      }\n    }\n  }\n}\n\nstrats.data = function (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    if (childVal && typeof childVal !== 'function') {\n      process.env.NODE_ENV !== 'production' && warn(\n        'The \"data\" option should be a function ' +\n        'that returns a per-instance value in component ' +\n        'definitions.',\n        vm\n      );\n\n      return parentVal\n    }\n    return mergeDataOrFn(parentVal, childVal)\n  }\n\n  return mergeDataOrFn(parentVal, childVal, vm)\n};\n\n/**\n * Hooks and props are merged as arrays.\n */\nfunction mergeHook (\n  parentVal,\n  childVal\n) {\n  var res = childVal\n    ? parentVal\n      ? parentVal.concat(childVal)\n      : Array.isArray(childVal)\n        ? childVal\n        : [childVal]\n    : parentVal;\n  return res\n    ? dedupeHooks(res)\n    : res\n}\n\nfunction dedupeHooks (hooks) {\n  var res = [];\n  for (var i = 0; i < hooks.length; i++) {\n    if (res.indexOf(hooks[i]) === -1) {\n      res.push(hooks[i]);\n    }\n  }\n  return res\n}\n\nLIFECYCLE_HOOKS.forEach(function (hook) {\n  strats[hook] = mergeHook;\n});\n\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\nfunction mergeAssets (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  var res = Object.create(parentVal || null);\n  if (childVal) {\n    process.env.NODE_ENV !== 'production' && assertObjectType(key, childVal, vm);\n    return extend(res, childVal)\n  } else {\n    return res\n  }\n}\n\nASSET_TYPES.forEach(function (type) {\n  strats[type + 's'] = mergeAssets;\n});\n\n/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\nstrats.watch = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  // work around Firefox's Object.prototype.watch...\n  if (parentVal === nativeWatch) { parentVal = undefined; }\n  if (childVal === nativeWatch) { childVal = undefined; }\n  /* istanbul ignore if */\n  if (!childVal) { return Object.create(parentVal || null) }\n  if (process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = {};\n  extend(ret, parentVal);\n  for (var key$1 in childVal) {\n    var parent = ret[key$1];\n    var child = childVal[key$1];\n    if (parent && !Array.isArray(parent)) {\n      parent = [parent];\n    }\n    ret[key$1] = parent\n      ? parent.concat(child)\n      : Array.isArray(child) ? child : [child];\n  }\n  return ret\n};\n\n/**\n * Other object hashes.\n */\nstrats.props =\nstrats.methods =\nstrats.inject =\nstrats.computed = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  if (childVal && process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = Object.create(null);\n  extend(ret, parentVal);\n  if (childVal) { extend(ret, childVal); }\n  return ret\n};\nstrats.provide = mergeDataOrFn;\n\n/**\n * Default strategy.\n */\nvar defaultStrat = function (parentVal, childVal) {\n  return childVal === undefined\n    ? parentVal\n    : childVal\n};\n\n/**\n * Validate component names\n */\nfunction checkComponents (options) {\n  for (var key in options.components) {\n    validateComponentName(key);\n  }\n}\n\nfunction validateComponentName (name) {\n  if (!new RegExp((\"^[a-zA-Z][\\\\-\\\\.0-9_\" + (unicodeRegExp.source) + \"]*$\")).test(name)) {\n    warn(\n      'Invalid component name: \"' + name + '\". Component names ' +\n      'should conform to valid custom element name in html5 specification.'\n    );\n  }\n  if (isBuiltInTag(name) || config.isReservedTag(name)) {\n    warn(\n      'Do not use built-in or reserved HTML elements as component ' +\n      'id: ' + name\n    );\n  }\n}\n\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */\nfunction normalizeProps (options, vm) {\n  var props = options.props;\n  if (!props) { return }\n  var res = {};\n  var i, val, name;\n  if (Array.isArray(props)) {\n    i = props.length;\n    while (i--) {\n      val = props[i];\n      if (typeof val === 'string') {\n        name = camelize(val);\n        res[name] = { type: null };\n      } else if (process.env.NODE_ENV !== 'production') {\n        warn('props must be strings when using array syntax.');\n      }\n    }\n  } else if (isPlainObject(props)) {\n    for (var key in props) {\n      val = props[key];\n      name = camelize(key);\n      res[name] = isPlainObject(val)\n        ? val\n        : { type: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"props\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(props)) + \".\",\n      vm\n    );\n  }\n  options.props = res;\n}\n\n/**\n * Normalize all injections into Object-based format\n */\nfunction normalizeInject (options, vm) {\n  var inject = options.inject;\n  if (!inject) { return }\n  var normalized = options.inject = {};\n  if (Array.isArray(inject)) {\n    for (var i = 0; i < inject.length; i++) {\n      normalized[inject[i]] = { from: inject[i] };\n    }\n  } else if (isPlainObject(inject)) {\n    for (var key in inject) {\n      var val = inject[key];\n      normalized[key] = isPlainObject(val)\n        ? extend({ from: key }, val)\n        : { from: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"inject\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(inject)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Normalize raw function directives into object format.\n */\nfunction normalizeDirectives (options) {\n  var dirs = options.directives;\n  if (dirs) {\n    for (var key in dirs) {\n      var def$$1 = dirs[key];\n      if (typeof def$$1 === 'function') {\n        dirs[key] = { bind: def$$1, update: def$$1 };\n      }\n    }\n  }\n}\n\nfunction assertObjectType (name, value, vm) {\n  if (!isPlainObject(value)) {\n    warn(\n      \"Invalid value for option \\\"\" + name + \"\\\": expected an Object, \" +\n      \"but got \" + (toRawType(value)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */\nfunction mergeOptions (\n  parent,\n  child,\n  vm\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    checkComponents(child);\n  }\n\n  if (typeof child === 'function') {\n    child = child.options;\n  }\n\n  normalizeProps(child, vm);\n  normalizeInject(child, vm);\n  normalizeDirectives(child);\n\n  // Apply extends and mixins on the child options,\n  // but only if it is a raw options object that isn't\n  // the result of another mergeOptions call.\n  // Only merged options has the _base property.\n  if (!child._base) {\n    if (child.extends) {\n      parent = mergeOptions(parent, child.extends, vm);\n    }\n    if (child.mixins) {\n      for (var i = 0, l = child.mixins.length; i < l; i++) {\n        parent = mergeOptions(parent, child.mixins[i], vm);\n      }\n    }\n  }\n\n  var options = {};\n  var key;\n  for (key in parent) {\n    mergeField(key);\n  }\n  for (key in child) {\n    if (!hasOwn(parent, key)) {\n      mergeField(key);\n    }\n  }\n  function mergeField (key) {\n    var strat = strats[key] || defaultStrat;\n    options[key] = strat(parent[key], child[key], vm, key);\n  }\n  return options\n}\n\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */\nfunction resolveAsset (\n  options,\n  type,\n  id,\n  warnMissing\n) {\n  /* istanbul ignore if */\n  if (typeof id !== 'string') {\n    return\n  }\n  var assets = options[type];\n  // check local registration variations first\n  if (hasOwn(assets, id)) { return assets[id] }\n  var camelizedId = camelize(id);\n  if (hasOwn(assets, camelizedId)) { return assets[camelizedId] }\n  var PascalCaseId = capitalize(camelizedId);\n  if (hasOwn(assets, PascalCaseId)) { return assets[PascalCaseId] }\n  // fallback to prototype chain\n  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];\n  if (process.env.NODE_ENV !== 'production' && warnMissing && !res) {\n    warn(\n      'Failed to resolve ' + type.slice(0, -1) + ': ' + id,\n      options\n    );\n  }\n  return res\n}\n\n/*  */\n\n\n\nfunction validateProp (\n  key,\n  propOptions,\n  propsData,\n  vm\n) {\n  var prop = propOptions[key];\n  var absent = !hasOwn(propsData, key);\n  var value = propsData[key];\n  // boolean casting\n  var booleanIndex = getTypeIndex(Boolean, prop.type);\n  if (booleanIndex > -1) {\n    if (absent && !hasOwn(prop, 'default')) {\n      value = false;\n    } else if (value === '' || value === hyphenate(key)) {\n      // only cast empty string / same name to boolean if\n      // boolean has higher priority\n      var stringIndex = getTypeIndex(String, prop.type);\n      if (stringIndex < 0 || booleanIndex < stringIndex) {\n        value = true;\n      }\n    }\n  }\n  // check default value\n  if (value === undefined) {\n    value = getPropDefaultValue(vm, prop, key);\n    // since the default value is a fresh copy,\n    // make sure to observe it.\n    var prevShouldObserve = shouldObserve;\n    toggleObserving(true);\n    observe(value);\n    toggleObserving(prevShouldObserve);\n  }\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    // skip validation for weex recycle-list child component props\n    !(false)\n  ) {\n    assertProp(prop, key, value, vm, absent);\n  }\n  return value\n}\n\n/**\n * Get the default value of a prop.\n */\nfunction getPropDefaultValue (vm, prop, key) {\n  // no default, return undefined\n  if (!hasOwn(prop, 'default')) {\n    return undefined\n  }\n  var def = prop.default;\n  // warn against non-factory defaults for Object & Array\n  if (process.env.NODE_ENV !== 'production' && isObject(def)) {\n    warn(\n      'Invalid default value for prop \"' + key + '\": ' +\n      'Props with type Object/Array must use a factory function ' +\n      'to return the default value.',\n      vm\n    );\n  }\n  // the raw prop value was also undefined from previous render,\n  // return previous default value to avoid unnecessary watcher trigger\n  if (vm && vm.$options.propsData &&\n    vm.$options.propsData[key] === undefined &&\n    vm._props[key] !== undefined\n  ) {\n    return vm._props[key]\n  }\n  // call factory function for non-Function types\n  // a value is Function if its prototype is function even across different execution context\n  return typeof def === 'function' && getType(prop.type) !== 'Function'\n    ? def.call(vm)\n    : def\n}\n\n/**\n * Assert whether a prop is valid.\n */\nfunction assertProp (\n  prop,\n  name,\n  value,\n  vm,\n  absent\n) {\n  if (prop.required && absent) {\n    warn(\n      'Missing required prop: \"' + name + '\"',\n      vm\n    );\n    return\n  }\n  if (value == null && !prop.required) {\n    return\n  }\n  var type = prop.type;\n  var valid = !type || type === true;\n  var expectedTypes = [];\n  if (type) {\n    if (!Array.isArray(type)) {\n      type = [type];\n    }\n    for (var i = 0; i < type.length && !valid; i++) {\n      var assertedType = assertType(value, type[i]);\n      expectedTypes.push(assertedType.expectedType || '');\n      valid = assertedType.valid;\n    }\n  }\n\n  if (!valid) {\n    warn(\n      getInvalidTypeMessage(name, value, expectedTypes),\n      vm\n    );\n    return\n  }\n  var validator = prop.validator;\n  if (validator) {\n    if (!validator(value)) {\n      warn(\n        'Invalid prop: custom validator check failed for prop \"' + name + '\".',\n        vm\n      );\n    }\n  }\n}\n\nvar simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/;\n\nfunction assertType (value, type) {\n  var valid;\n  var expectedType = getType(type);\n  if (simpleCheckRE.test(expectedType)) {\n    var t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    // for primitive wrapper objects\n    if (!valid && t === 'object') {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === 'Object') {\n    valid = isPlainObject(value);\n  } else if (expectedType === 'Array') {\n    valid = Array.isArray(value);\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid: valid,\n    expectedType: expectedType\n  }\n}\n\n/**\n * Use function string name to check built-in types,\n * because a simple equality check will fail when running\n * across different vms / iframes.\n */\nfunction getType (fn) {\n  var match = fn && fn.toString().match(/^\\s*function (\\w+)/);\n  return match ? match[1] : ''\n}\n\nfunction isSameType (a, b) {\n  return getType(a) === getType(b)\n}\n\nfunction getTypeIndex (type, expectedTypes) {\n  if (!Array.isArray(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1\n  }\n  for (var i = 0, len = expectedTypes.length; i < len; i++) {\n    if (isSameType(expectedTypes[i], type)) {\n      return i\n    }\n  }\n  return -1\n}\n\nfunction getInvalidTypeMessage (name, value, expectedTypes) {\n  var message = \"Invalid prop: type check failed for prop \\\"\" + name + \"\\\".\" +\n    \" Expected \" + (expectedTypes.map(capitalize).join(', '));\n  var expectedType = expectedTypes[0];\n  var receivedType = toRawType(value);\n  var expectedValue = styleValue(value, expectedType);\n  var receivedValue = styleValue(value, receivedType);\n  // check if we need to specify expected value\n  if (expectedTypes.length === 1 &&\n      isExplicable(expectedType) &&\n      !isBoolean(expectedType, receivedType)) {\n    message += \" with value \" + expectedValue;\n  }\n  message += \", got \" + receivedType + \" \";\n  // check if we need to specify received value\n  if (isExplicable(receivedType)) {\n    message += \"with value \" + receivedValue + \".\";\n  }\n  return message\n}\n\nfunction styleValue (value, type) {\n  if (type === 'String') {\n    return (\"\\\"\" + value + \"\\\"\")\n  } else if (type === 'Number') {\n    return (\"\" + (Number(value)))\n  } else {\n    return (\"\" + value)\n  }\n}\n\nfunction isExplicable (value) {\n  var explicitTypes = ['string', 'number', 'boolean'];\n  return explicitTypes.some(function (elem) { return value.toLowerCase() === elem; })\n}\n\nfunction isBoolean () {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; })\n}\n\n/*  */\n\nfunction handleError (err, vm, info) {\n  // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.\n  // See: https://github.com/vuejs/vuex/issues/1505\n  pushTarget();\n  try {\n    if (vm) {\n      var cur = vm;\n      while ((cur = cur.$parent)) {\n        var hooks = cur.$options.errorCaptured;\n        if (hooks) {\n          for (var i = 0; i < hooks.length; i++) {\n            try {\n              var capture = hooks[i].call(cur, err, vm, info) === false;\n              if (capture) { return }\n            } catch (e) {\n              globalHandleError(e, cur, 'errorCaptured hook');\n            }\n          }\n        }\n      }\n    }\n    globalHandleError(err, vm, info);\n  } finally {\n    popTarget();\n  }\n}\n\nfunction invokeWithErrorHandling (\n  handler,\n  context,\n  args,\n  vm,\n  info\n) {\n  var res;\n  try {\n    res = args ? handler.apply(context, args) : handler.call(context);\n    if (res && !res._isVue && isPromise(res) && !res._handled) {\n      res.catch(function (e) { return handleError(e, vm, info + \" (Promise/async)\"); });\n      // issue #9511\n      // avoid catch triggering multiple times when nested calls\n      res._handled = true;\n    }\n  } catch (e) {\n    handleError(e, vm, info);\n  }\n  return res\n}\n\nfunction globalHandleError (err, vm, info) {\n  if (config.errorHandler) {\n    try {\n      return config.errorHandler.call(null, err, vm, info)\n    } catch (e) {\n      // if the user intentionally throws the original error in the handler,\n      // do not log it twice\n      if (e !== err) {\n        logError(e, null, 'config.errorHandler');\n      }\n    }\n  }\n  logError(err, vm, info);\n}\n\nfunction logError (err, vm, info) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn((\"Error in \" + info + \": \\\"\" + (err.toString()) + \"\\\"\"), vm);\n  }\n  /* istanbul ignore else */\n  if ((inBrowser || inWeex) && typeof console !== 'undefined') {\n    console.error(err);\n  } else {\n    throw err\n  }\n}\n\n/*  */\n\nvar isUsingMicroTask = false;\n\nvar callbacks = [];\nvar pending = false;\n\nfunction flushCallbacks () {\n  pending = false;\n  var copies = callbacks.slice(0);\n  callbacks.length = 0;\n  for (var i = 0; i < copies.length; i++) {\n    copies[i]();\n  }\n}\n\n// Here we have async deferring wrappers using microtasks.\n// In 2.5 we used (macro) tasks (in combination with microtasks).\n// However, it has subtle problems when state is changed right before repaint\n// (e.g. #6813, out-in transitions).\n// Also, using (macro) tasks in event handler would cause some weird behaviors\n// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).\n// So we now use microtasks everywhere, again.\n// A major drawback of this tradeoff is that there are some scenarios\n// where microtasks have too high a priority and fire in between supposedly\n// sequential events (e.g. #4521, #6690, which have workarounds)\n// or even between bubbling of the same event (#6566).\nvar timerFunc;\n\n// The nextTick behavior leverages the microtask queue, which can be accessed\n// via either native Promise.then or MutationObserver.\n// MutationObserver has wider support, however it is seriously bugged in\n// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It\n// completely stops working after triggering a few times... so, if native\n// Promise is available, we will use it:\n/* istanbul ignore next, $flow-disable-line */\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\n  var p = Promise.resolve();\n  timerFunc = function () {\n    p.then(flushCallbacks);\n    // In problematic UIWebViews, Promise.then doesn't completely break, but\n    // it can get stuck in a weird state where callbacks are pushed into the\n    // microtask queue but the queue isn't being flushed, until the browser\n    // needs to do some other work, e.g. handle a timer. Therefore we can\n    // \"force\" the microtask queue to be flushed by adding an empty timer.\n    if (isIOS) { setTimeout(noop); }\n  };\n  isUsingMicroTask = true;\n} else if (!isIE && typeof MutationObserver !== 'undefined' && (\n  isNative(MutationObserver) ||\n  // PhantomJS and iOS 7.x\n  MutationObserver.toString() === '[object MutationObserverConstructor]'\n)) {\n  // Use MutationObserver where native Promise is not available,\n  // e.g. PhantomJS, iOS7, Android 4.4\n  // (#6466 MutationObserver is unreliable in IE11)\n  var counter = 1;\n  var observer = new MutationObserver(flushCallbacks);\n  var textNode = document.createTextNode(String(counter));\n  observer.observe(textNode, {\n    characterData: true\n  });\n  timerFunc = function () {\n    counter = (counter + 1) % 2;\n    textNode.data = String(counter);\n  };\n  isUsingMicroTask = true;\n} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\n  // Fallback to setImmediate.\n  // Technically it leverages the (macro) task queue,\n  // but it is still a better choice than setTimeout.\n  timerFunc = function () {\n    setImmediate(flushCallbacks);\n  };\n} else {\n  // Fallback to setTimeout.\n  timerFunc = function () {\n    setTimeout(flushCallbacks, 0);\n  };\n}\n\nfunction nextTick (cb, ctx) {\n  var _resolve;\n  callbacks.push(function () {\n    if (cb) {\n      try {\n        cb.call(ctx);\n      } catch (e) {\n        handleError(e, ctx, 'nextTick');\n      }\n    } else if (_resolve) {\n      _resolve(ctx);\n    }\n  });\n  if (!pending) {\n    pending = true;\n    timerFunc();\n  }\n  // $flow-disable-line\n  if (!cb && typeof Promise !== 'undefined') {\n    return new Promise(function (resolve) {\n      _resolve = resolve;\n    })\n  }\n}\n\n/*  */\n\n/* not type checking this file because flow doesn't play well with Proxy */\n\nvar initProxy;\n\nif (process.env.NODE_ENV !== 'production') {\n  var allowedGlobals = makeMap(\n    'Infinity,undefined,NaN,isFinite,isNaN,' +\n    'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +\n    'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,' +\n    'require' // for Webpack/Browserify\n  );\n\n  var warnNonPresent = function (target, key) {\n    warn(\n      \"Property or method \\\"\" + key + \"\\\" is not defined on the instance but \" +\n      'referenced during render. Make sure that this property is reactive, ' +\n      'either in the data option, or for class-based components, by ' +\n      'initializing the property. ' +\n      'See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',\n      target\n    );\n  };\n\n  var warnReservedPrefix = function (target, key) {\n    warn(\n      \"Property \\\"\" + key + \"\\\" must be accessed with \\\"$data.\" + key + \"\\\" because \" +\n      'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n      'prevent conflicts with Vue internals. ' +\n      'See: https://vuejs.org/v2/api/#data',\n      target\n    );\n  };\n\n  var hasProxy =\n    typeof Proxy !== 'undefined' && isNative(Proxy);\n\n  if (hasProxy) {\n    var isBuiltInModifier = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');\n    config.keyCodes = new Proxy(config.keyCodes, {\n      set: function set (target, key, value) {\n        if (isBuiltInModifier(key)) {\n          warn((\"Avoid overwriting built-in modifier in config.keyCodes: .\" + key));\n          return false\n        } else {\n          target[key] = value;\n          return true\n        }\n      }\n    });\n  }\n\n  var hasHandler = {\n    has: function has (target, key) {\n      var has = key in target;\n      var isAllowed = allowedGlobals(key) ||\n        (typeof key === 'string' && key.charAt(0) === '_' && !(key in target.$data));\n      if (!has && !isAllowed) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return has || !isAllowed\n    }\n  };\n\n  var getHandler = {\n    get: function get (target, key) {\n      if (typeof key === 'string' && !(key in target)) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return target[key]\n    }\n  };\n\n  initProxy = function initProxy (vm) {\n    if (hasProxy) {\n      // determine which proxy handler to use\n      var options = vm.$options;\n      var handlers = options.render && options.render._withStripped\n        ? getHandler\n        : hasHandler;\n      vm._renderProxy = new Proxy(vm, handlers);\n    } else {\n      vm._renderProxy = vm;\n    }\n  };\n}\n\n/*  */\n\nvar seenObjects = new _Set();\n\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nfunction traverse (val) {\n  _traverse(val, seenObjects);\n  seenObjects.clear();\n}\n\nfunction _traverse (val, seen) {\n  var i, keys;\n  var isA = Array.isArray(val);\n  if ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode) {\n    return\n  }\n  if (val.__ob__) {\n    var depId = val.__ob__.dep.id;\n    if (seen.has(depId)) {\n      return\n    }\n    seen.add(depId);\n  }\n  if (isA) {\n    i = val.length;\n    while (i--) { _traverse(val[i], seen); }\n  } else {\n    keys = Object.keys(val);\n    i = keys.length;\n    while (i--) { _traverse(val[keys[i]], seen); }\n  }\n}\n\nvar mark;\nvar measure;\n\nif (process.env.NODE_ENV !== 'production') {\n  var perf = inBrowser && window.performance;\n  /* istanbul ignore if */\n  if (\n    perf &&\n    perf.mark &&\n    perf.measure &&\n    perf.clearMarks &&\n    perf.clearMeasures\n  ) {\n    mark = function (tag) { return perf.mark(tag); };\n    measure = function (name, startTag, endTag) {\n      perf.measure(name, startTag, endTag);\n      perf.clearMarks(startTag);\n      perf.clearMarks(endTag);\n      // perf.clearMeasures(name)\n    };\n  }\n}\n\n/*  */\n\nvar normalizeEvent = cached(function (name) {\n  var passive = name.charAt(0) === '&';\n  name = passive ? name.slice(1) : name;\n  var once$$1 = name.charAt(0) === '~'; // Prefixed last, checked first\n  name = once$$1 ? name.slice(1) : name;\n  var capture = name.charAt(0) === '!';\n  name = capture ? name.slice(1) : name;\n  return {\n    name: name,\n    once: once$$1,\n    capture: capture,\n    passive: passive\n  }\n});\n\nfunction createFnInvoker (fns, vm) {\n  function invoker () {\n    var arguments$1 = arguments;\n\n    var fns = invoker.fns;\n    if (Array.isArray(fns)) {\n      var cloned = fns.slice();\n      for (var i = 0; i < cloned.length; i++) {\n        invokeWithErrorHandling(cloned[i], null, arguments$1, vm, \"v-on handler\");\n      }\n    } else {\n      // return handler return value for single handlers\n      return invokeWithErrorHandling(fns, null, arguments, vm, \"v-on handler\")\n    }\n  }\n  invoker.fns = fns;\n  return invoker\n}\n\nfunction updateListeners (\n  on,\n  oldOn,\n  add,\n  remove$$1,\n  createOnceHandler,\n  vm\n) {\n  var name, def$$1, cur, old, event;\n  for (name in on) {\n    def$$1 = cur = on[name];\n    old = oldOn[name];\n    event = normalizeEvent(name);\n    if (isUndef(cur)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Invalid handler for event \\\"\" + (event.name) + \"\\\": got \" + String(cur),\n        vm\n      );\n    } else if (isUndef(old)) {\n      if (isUndef(cur.fns)) {\n        cur = on[name] = createFnInvoker(cur, vm);\n      }\n      if (isTrue(event.once)) {\n        cur = on[name] = createOnceHandler(event.name, cur, event.capture);\n      }\n      add(event.name, cur, event.capture, event.passive, event.params);\n    } else if (cur !== old) {\n      old.fns = cur;\n      on[name] = old;\n    }\n  }\n  for (name in oldOn) {\n    if (isUndef(on[name])) {\n      event = normalizeEvent(name);\n      remove$$1(event.name, oldOn[name], event.capture);\n    }\n  }\n}\n\n/*  */\n\nfunction mergeVNodeHook (def, hookKey, hook) {\n  if (def instanceof VNode) {\n    def = def.data.hook || (def.data.hook = {});\n  }\n  var invoker;\n  var oldHook = def[hookKey];\n\n  function wrappedHook () {\n    hook.apply(this, arguments);\n    // important: remove merged hook to ensure it's called only once\n    // and prevent memory leak\n    remove(invoker.fns, wrappedHook);\n  }\n\n  if (isUndef(oldHook)) {\n    // no existing hook\n    invoker = createFnInvoker([wrappedHook]);\n  } else {\n    /* istanbul ignore if */\n    if (isDef(oldHook.fns) && isTrue(oldHook.merged)) {\n      // already a merged invoker\n      invoker = oldHook;\n      invoker.fns.push(wrappedHook);\n    } else {\n      // existing plain hook\n      invoker = createFnInvoker([oldHook, wrappedHook]);\n    }\n  }\n\n  invoker.merged = true;\n  def[hookKey] = invoker;\n}\n\n/*  */\n\nfunction extractPropsFromVNodeData (\n  data,\n  Ctor,\n  tag\n) {\n  // we are only extracting raw values here.\n  // validation and default values are handled in the child\n  // component itself.\n  var propOptions = Ctor.options.props;\n  if (isUndef(propOptions)) {\n    return\n  }\n  var res = {};\n  var attrs = data.attrs;\n  var props = data.props;\n  if (isDef(attrs) || isDef(props)) {\n    for (var key in propOptions) {\n      var altKey = hyphenate(key);\n      if (process.env.NODE_ENV !== 'production') {\n        var keyInLowerCase = key.toLowerCase();\n        if (\n          key !== keyInLowerCase &&\n          attrs && hasOwn(attrs, keyInLowerCase)\n        ) {\n          tip(\n            \"Prop \\\"\" + keyInLowerCase + \"\\\" is passed to component \" +\n            (formatComponentName(tag || Ctor)) + \", but the declared prop name is\" +\n            \" \\\"\" + key + \"\\\". \" +\n            \"Note that HTML attributes are case-insensitive and camelCased \" +\n            \"props need to use their kebab-case equivalents when using in-DOM \" +\n            \"templates. You should probably use \\\"\" + altKey + \"\\\" instead of \\\"\" + key + \"\\\".\"\n          );\n        }\n      }\n      checkProp(res, props, key, altKey, true) ||\n      checkProp(res, attrs, key, altKey, false);\n    }\n  }\n  return res\n}\n\nfunction checkProp (\n  res,\n  hash,\n  key,\n  altKey,\n  preserve\n) {\n  if (isDef(hash)) {\n    if (hasOwn(hash, key)) {\n      res[key] = hash[key];\n      if (!preserve) {\n        delete hash[key];\n      }\n      return true\n    } else if (hasOwn(hash, altKey)) {\n      res[key] = hash[altKey];\n      if (!preserve) {\n        delete hash[altKey];\n      }\n      return true\n    }\n  }\n  return false\n}\n\n/*  */\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nfunction simpleNormalizeChildren (children) {\n  for (var i = 0; i < children.length; i++) {\n    if (Array.isArray(children[i])) {\n      return Array.prototype.concat.apply([], children)\n    }\n  }\n  return children\n}\n\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nfunction normalizeChildren (children) {\n  return isPrimitive(children)\n    ? [createTextVNode(children)]\n    : Array.isArray(children)\n      ? normalizeArrayChildren(children)\n      : undefined\n}\n\nfunction isTextNode (node) {\n  return isDef(node) && isDef(node.text) && isFalse(node.isComment)\n}\n\nfunction normalizeArrayChildren (children, nestedIndex) {\n  var res = [];\n  var i, c, lastIndex, last;\n  for (i = 0; i < children.length; i++) {\n    c = children[i];\n    if (isUndef(c) || typeof c === 'boolean') { continue }\n    lastIndex = res.length - 1;\n    last = res[lastIndex];\n    //  nested\n    if (Array.isArray(c)) {\n      if (c.length > 0) {\n        c = normalizeArrayChildren(c, ((nestedIndex || '') + \"_\" + i));\n        // merge adjacent text nodes\n        if (isTextNode(c[0]) && isTextNode(last)) {\n          res[lastIndex] = createTextVNode(last.text + (c[0]).text);\n          c.shift();\n        }\n        res.push.apply(res, c);\n      }\n    } else if (isPrimitive(c)) {\n      if (isTextNode(last)) {\n        // merge adjacent text nodes\n        // this is necessary for SSR hydration because text nodes are\n        // essentially merged when rendered to HTML strings\n        res[lastIndex] = createTextVNode(last.text + c);\n      } else if (c !== '') {\n        // convert primitive to vnode\n        res.push(createTextVNode(c));\n      }\n    } else {\n      if (isTextNode(c) && isTextNode(last)) {\n        // merge adjacent text nodes\n        res[lastIndex] = createTextVNode(last.text + c.text);\n      } else {\n        // default key for nested array children (likely generated by v-for)\n        if (isTrue(children._isVList) &&\n          isDef(c.tag) &&\n          isUndef(c.key) &&\n          isDef(nestedIndex)) {\n          c.key = \"__vlist\" + nestedIndex + \"_\" + i + \"__\";\n        }\n        res.push(c);\n      }\n    }\n  }\n  return res\n}\n\n/*  */\n\nfunction initProvide (vm) {\n  var provide = vm.$options.provide;\n  if (provide) {\n    vm._provided = typeof provide === 'function'\n      ? provide.call(vm)\n      : provide;\n  }\n}\n\nfunction initInjections (vm) {\n  var result = resolveInject(vm.$options.inject, vm);\n  if (result) {\n    toggleObserving(false);\n    Object.keys(result).forEach(function (key) {\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production') {\n        defineReactive$$1(vm, key, result[key], function () {\n          warn(\n            \"Avoid mutating an injected value directly since the changes will be \" +\n            \"overwritten whenever the provided component re-renders. \" +\n            \"injection being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        });\n      } else {\n        defineReactive$$1(vm, key, result[key]);\n      }\n    });\n    toggleObserving(true);\n  }\n}\n\nfunction resolveInject (inject, vm) {\n  if (inject) {\n    // inject is :any because flow is not smart enough to figure out cached\n    var result = Object.create(null);\n    var keys = hasSymbol\n      ? Reflect.ownKeys(inject)\n      : Object.keys(inject);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      // #6574 in case the inject object is observed...\n      if (key === '__ob__') { continue }\n      var provideKey = inject[key].from;\n      var source = vm;\n      while (source) {\n        if (source._provided && hasOwn(source._provided, provideKey)) {\n          result[key] = source._provided[provideKey];\n          break\n        }\n        source = source.$parent;\n      }\n      if (!source) {\n        if ('default' in inject[key]) {\n          var provideDefault = inject[key].default;\n          result[key] = typeof provideDefault === 'function'\n            ? provideDefault.call(vm)\n            : provideDefault;\n        } else if (process.env.NODE_ENV !== 'production') {\n          warn((\"Injection \\\"\" + key + \"\\\" not found\"), vm);\n        }\n      }\n    }\n    return result\n  }\n}\n\n/*  */\n\n\n\n/**\n * Runtime helper for resolving raw children VNodes into a slot object.\n */\nfunction resolveSlots (\n  children,\n  context\n) {\n  if (!children || !children.length) {\n    return {}\n  }\n  var slots = {};\n  for (var i = 0, l = children.length; i < l; i++) {\n    var child = children[i];\n    var data = child.data;\n    // remove slot attribute if the node is resolved as a Vue slot node\n    if (data && data.attrs && data.attrs.slot) {\n      delete data.attrs.slot;\n    }\n    // named slots should only be respected if the vnode was rendered in the\n    // same context.\n    if ((child.context === context || child.fnContext === context) &&\n      data && data.slot != null\n    ) {\n      var name = data.slot;\n      var slot = (slots[name] || (slots[name] = []));\n      if (child.tag === 'template') {\n        slot.push.apply(slot, child.children || []);\n      } else {\n        slot.push(child);\n      }\n    } else {\n      (slots.default || (slots.default = [])).push(child);\n    }\n  }\n  // ignore slots that contains only whitespace\n  for (var name$1 in slots) {\n    if (slots[name$1].every(isWhitespace)) {\n      delete slots[name$1];\n    }\n  }\n  return slots\n}\n\nfunction isWhitespace (node) {\n  return (node.isComment && !node.asyncFactory) || node.text === ' '\n}\n\n/*  */\n\nfunction normalizeScopedSlots (\n  slots,\n  normalSlots,\n  prevSlots\n) {\n  var res;\n  var hasNormalSlots = Object.keys(normalSlots).length > 0;\n  var isStable = slots ? !!slots.$stable : !hasNormalSlots;\n  var key = slots && slots.$key;\n  if (!slots) {\n    res = {};\n  } else if (slots._normalized) {\n    // fast path 1: child component re-render only, parent did not change\n    return slots._normalized\n  } else if (\n    isStable &&\n    prevSlots &&\n    prevSlots !== emptyObject &&\n    key === prevSlots.$key &&\n    !hasNormalSlots &&\n    !prevSlots.$hasNormal\n  ) {\n    // fast path 2: stable scoped slots w/ no normal slots to proxy,\n    // only need to normalize once\n    return prevSlots\n  } else {\n    res = {};\n    for (var key$1 in slots) {\n      if (slots[key$1] && key$1[0] !== '$') {\n        res[key$1] = normalizeScopedSlot(normalSlots, key$1, slots[key$1]);\n      }\n    }\n  }\n  // expose normal slots on scopedSlots\n  for (var key$2 in normalSlots) {\n    if (!(key$2 in res)) {\n      res[key$2] = proxyNormalSlot(normalSlots, key$2);\n    }\n  }\n  // avoriaz seems to mock a non-extensible $scopedSlots object\n  // and when that is passed down this would cause an error\n  if (slots && Object.isExtensible(slots)) {\n    (slots)._normalized = res;\n  }\n  def(res, '$stable', isStable);\n  def(res, '$key', key);\n  def(res, '$hasNormal', hasNormalSlots);\n  return res\n}\n\nfunction normalizeScopedSlot(normalSlots, key, fn) {\n  var normalized = function () {\n    var res = arguments.length ? fn.apply(null, arguments) : fn({});\n    res = res && typeof res === 'object' && !Array.isArray(res)\n      ? [res] // single vnode\n      : normalizeChildren(res);\n    return res && (\n      res.length === 0 ||\n      (res.length === 1 && res[0].isComment) // #9658\n    ) ? undefined\n      : res\n  };\n  // this is a slot using the new v-slot syntax without scope. although it is\n  // compiled as a scoped slot, render fn users would expect it to be present\n  // on this.$slots because the usage is semantically a normal slot.\n  if (fn.proxy) {\n    Object.defineProperty(normalSlots, key, {\n      get: normalized,\n      enumerable: true,\n      configurable: true\n    });\n  }\n  return normalized\n}\n\nfunction proxyNormalSlot(slots, key) {\n  return function () { return slots[key]; }\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering v-for lists.\n */\nfunction renderList (\n  val,\n  render\n) {\n  var ret, i, l, keys, key;\n  if (Array.isArray(val) || typeof val === 'string') {\n    ret = new Array(val.length);\n    for (i = 0, l = val.length; i < l; i++) {\n      ret[i] = render(val[i], i);\n    }\n  } else if (typeof val === 'number') {\n    ret = new Array(val);\n    for (i = 0; i < val; i++) {\n      ret[i] = render(i + 1, i);\n    }\n  } else if (isObject(val)) {\n    if (hasSymbol && val[Symbol.iterator]) {\n      ret = [];\n      var iterator = val[Symbol.iterator]();\n      var result = iterator.next();\n      while (!result.done) {\n        ret.push(render(result.value, ret.length));\n        result = iterator.next();\n      }\n    } else {\n      keys = Object.keys(val);\n      ret = new Array(keys.length);\n      for (i = 0, l = keys.length; i < l; i++) {\n        key = keys[i];\n        ret[i] = render(val[key], key, i);\n      }\n    }\n  }\n  if (!isDef(ret)) {\n    ret = [];\n  }\n  (ret)._isVList = true;\n  return ret\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering <slot>\n */\nfunction renderSlot (\n  name,\n  fallback,\n  props,\n  bindObject\n) {\n  var scopedSlotFn = this.$scopedSlots[name];\n  var nodes;\n  if (scopedSlotFn) { // scoped slot\n    props = props || {};\n    if (bindObject) {\n      if (process.env.NODE_ENV !== 'production' && !isObject(bindObject)) {\n        warn(\n          'slot v-bind without argument expects an Object',\n          this\n        );\n      }\n      props = extend(extend({}, bindObject), props);\n    }\n    nodes = scopedSlotFn(props) || fallback;\n  } else {\n    nodes = this.$slots[name] || fallback;\n  }\n\n  var target = props && props.slot;\n  if (target) {\n    return this.$createElement('template', { slot: target }, nodes)\n  } else {\n    return nodes\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for resolving filters\n */\nfunction resolveFilter (id) {\n  return resolveAsset(this.$options, 'filters', id, true) || identity\n}\n\n/*  */\n\nfunction isKeyNotMatch (expect, actual) {\n  if (Array.isArray(expect)) {\n    return expect.indexOf(actual) === -1\n  } else {\n    return expect !== actual\n  }\n}\n\n/**\n * Runtime helper for checking keyCodes from config.\n * exposed as Vue.prototype._k\n * passing in eventKeyName as last argument separately for backwards compat\n */\nfunction checkKeyCodes (\n  eventKeyCode,\n  key,\n  builtInKeyCode,\n  eventKeyName,\n  builtInKeyName\n) {\n  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;\n  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {\n    return isKeyNotMatch(builtInKeyName, eventKeyName)\n  } else if (mappedKeyCode) {\n    return isKeyNotMatch(mappedKeyCode, eventKeyCode)\n  } else if (eventKeyName) {\n    return hyphenate(eventKeyName) !== key\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for merging v-bind=\"object\" into a VNode's data.\n */\nfunction bindObjectProps (\n  data,\n  tag,\n  value,\n  asProp,\n  isSync\n) {\n  if (value) {\n    if (!isObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-bind without argument expects an Object or Array value',\n        this\n      );\n    } else {\n      if (Array.isArray(value)) {\n        value = toObject(value);\n      }\n      var hash;\n      var loop = function ( key ) {\n        if (\n          key === 'class' ||\n          key === 'style' ||\n          isReservedAttribute(key)\n        ) {\n          hash = data;\n        } else {\n          var type = data.attrs && data.attrs.type;\n          hash = asProp || config.mustUseProp(tag, type, key)\n            ? data.domProps || (data.domProps = {})\n            : data.attrs || (data.attrs = {});\n        }\n        var camelizedKey = camelize(key);\n        var hyphenatedKey = hyphenate(key);\n        if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {\n          hash[key] = value[key];\n\n          if (isSync) {\n            var on = data.on || (data.on = {});\n            on[(\"update:\" + key)] = function ($event) {\n              value[key] = $event;\n            };\n          }\n        }\n      };\n\n      for (var key in value) loop( key );\n    }\n  }\n  return data\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering static trees.\n */\nfunction renderStatic (\n  index,\n  isInFor\n) {\n  var cached = this._staticTrees || (this._staticTrees = []);\n  var tree = cached[index];\n  // if has already-rendered static tree and not inside v-for,\n  // we can reuse the same tree.\n  if (tree && !isInFor) {\n    return tree\n  }\n  // otherwise, render a fresh tree.\n  tree = cached[index] = this.$options.staticRenderFns[index].call(\n    this._renderProxy,\n    null,\n    this // for render fns generated for functional component templates\n  );\n  markStatic(tree, (\"__static__\" + index), false);\n  return tree\n}\n\n/**\n * Runtime helper for v-once.\n * Effectively it means marking the node as static with a unique key.\n */\nfunction markOnce (\n  tree,\n  index,\n  key\n) {\n  markStatic(tree, (\"__once__\" + index + (key ? (\"_\" + key) : \"\")), true);\n  return tree\n}\n\nfunction markStatic (\n  tree,\n  key,\n  isOnce\n) {\n  if (Array.isArray(tree)) {\n    for (var i = 0; i < tree.length; i++) {\n      if (tree[i] && typeof tree[i] !== 'string') {\n        markStaticNode(tree[i], (key + \"_\" + i), isOnce);\n      }\n    }\n  } else {\n    markStaticNode(tree, key, isOnce);\n  }\n}\n\nfunction markStaticNode (node, key, isOnce) {\n  node.isStatic = true;\n  node.key = key;\n  node.isOnce = isOnce;\n}\n\n/*  */\n\nfunction bindObjectListeners (data, value) {\n  if (value) {\n    if (!isPlainObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-on without argument expects an Object value',\n        this\n      );\n    } else {\n      var on = data.on = data.on ? extend({}, data.on) : {};\n      for (var key in value) {\n        var existing = on[key];\n        var ours = value[key];\n        on[key] = existing ? [].concat(existing, ours) : ours;\n      }\n    }\n  }\n  return data\n}\n\n/*  */\n\nfunction resolveScopedSlots (\n  fns, // see flow/vnode\n  res,\n  // the following are added in 2.6\n  hasDynamicKeys,\n  contentHashKey\n) {\n  res = res || { $stable: !hasDynamicKeys };\n  for (var i = 0; i < fns.length; i++) {\n    var slot = fns[i];\n    if (Array.isArray(slot)) {\n      resolveScopedSlots(slot, res, hasDynamicKeys);\n    } else if (slot) {\n      // marker for reverse proxying v-slot without scope on this.$slots\n      if (slot.proxy) {\n        slot.fn.proxy = true;\n      }\n      res[slot.key] = slot.fn;\n    }\n  }\n  if (contentHashKey) {\n    (res).$key = contentHashKey;\n  }\n  return res\n}\n\n/*  */\n\nfunction bindDynamicKeys (baseObj, values) {\n  for (var i = 0; i < values.length; i += 2) {\n    var key = values[i];\n    if (typeof key === 'string' && key) {\n      baseObj[values[i]] = values[i + 1];\n    } else if (process.env.NODE_ENV !== 'production' && key !== '' && key !== null) {\n      // null is a special value for explicitly removing a binding\n      warn(\n        (\"Invalid value for dynamic directive argument (expected string or null): \" + key),\n        this\n      );\n    }\n  }\n  return baseObj\n}\n\n// helper to dynamically append modifier runtime markers to event names.\n// ensure only append when value is already string, otherwise it will be cast\n// to string and cause the type check to miss.\nfunction prependModifier (value, symbol) {\n  return typeof value === 'string' ? symbol + value : value\n}\n\n/*  */\n\nfunction installRenderHelpers (target) {\n  target._o = markOnce;\n  target._n = toNumber;\n  target._s = toString;\n  target._l = renderList;\n  target._t = renderSlot;\n  target._q = looseEqual;\n  target._i = looseIndexOf;\n  target._m = renderStatic;\n  target._f = resolveFilter;\n  target._k = checkKeyCodes;\n  target._b = bindObjectProps;\n  target._v = createTextVNode;\n  target._e = createEmptyVNode;\n  target._u = resolveScopedSlots;\n  target._g = bindObjectListeners;\n  target._d = bindDynamicKeys;\n  target._p = prependModifier;\n}\n\n/*  */\n\nfunction FunctionalRenderContext (\n  data,\n  props,\n  children,\n  parent,\n  Ctor\n) {\n  var this$1 = this;\n\n  var options = Ctor.options;\n  // ensure the createElement function in functional components\n  // gets a unique context - this is necessary for correct named slot check\n  var contextVm;\n  if (hasOwn(parent, '_uid')) {\n    contextVm = Object.create(parent);\n    // $flow-disable-line\n    contextVm._original = parent;\n  } else {\n    // the context vm passed in is a functional context as well.\n    // in this case we want to make sure we are able to get a hold to the\n    // real context instance.\n    contextVm = parent;\n    // $flow-disable-line\n    parent = parent._original;\n  }\n  var isCompiled = isTrue(options._compiled);\n  var needNormalization = !isCompiled;\n\n  this.data = data;\n  this.props = props;\n  this.children = children;\n  this.parent = parent;\n  this.listeners = data.on || emptyObject;\n  this.injections = resolveInject(options.inject, parent);\n  this.slots = function () {\n    if (!this$1.$slots) {\n      normalizeScopedSlots(\n        data.scopedSlots,\n        this$1.$slots = resolveSlots(children, parent)\n      );\n    }\n    return this$1.$slots\n  };\n\n  Object.defineProperty(this, 'scopedSlots', ({\n    enumerable: true,\n    get: function get () {\n      return normalizeScopedSlots(data.scopedSlots, this.slots())\n    }\n  }));\n\n  // support for compiled functional template\n  if (isCompiled) {\n    // exposing $options for renderStatic()\n    this.$options = options;\n    // pre-resolve slots for renderSlot()\n    this.$slots = this.slots();\n    this.$scopedSlots = normalizeScopedSlots(data.scopedSlots, this.$slots);\n  }\n\n  if (options._scopeId) {\n    this._c = function (a, b, c, d) {\n      var vnode = createElement(contextVm, a, b, c, d, needNormalization);\n      if (vnode && !Array.isArray(vnode)) {\n        vnode.fnScopeId = options._scopeId;\n        vnode.fnContext = parent;\n      }\n      return vnode\n    };\n  } else {\n    this._c = function (a, b, c, d) { return createElement(contextVm, a, b, c, d, needNormalization); };\n  }\n}\n\ninstallRenderHelpers(FunctionalRenderContext.prototype);\n\nfunction createFunctionalComponent (\n  Ctor,\n  propsData,\n  data,\n  contextVm,\n  children\n) {\n  var options = Ctor.options;\n  var props = {};\n  var propOptions = options.props;\n  if (isDef(propOptions)) {\n    for (var key in propOptions) {\n      props[key] = validateProp(key, propOptions, propsData || emptyObject);\n    }\n  } else {\n    if (isDef(data.attrs)) { mergeProps(props, data.attrs); }\n    if (isDef(data.props)) { mergeProps(props, data.props); }\n  }\n\n  var renderContext = new FunctionalRenderContext(\n    data,\n    props,\n    children,\n    contextVm,\n    Ctor\n  );\n\n  var vnode = options.render.call(null, renderContext._c, renderContext);\n\n  if (vnode instanceof VNode) {\n    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext)\n  } else if (Array.isArray(vnode)) {\n    var vnodes = normalizeChildren(vnode) || [];\n    var res = new Array(vnodes.length);\n    for (var i = 0; i < vnodes.length; i++) {\n      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);\n    }\n    return res\n  }\n}\n\nfunction cloneAndMarkFunctionalResult (vnode, data, contextVm, options, renderContext) {\n  // #7817 clone node before setting fnContext, otherwise if the node is reused\n  // (e.g. it was from a cached normal slot) the fnContext causes named slots\n  // that should not be matched to match.\n  var clone = cloneVNode(vnode);\n  clone.fnContext = contextVm;\n  clone.fnOptions = options;\n  if (process.env.NODE_ENV !== 'production') {\n    (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext = renderContext;\n  }\n  if (data.slot) {\n    (clone.data || (clone.data = {})).slot = data.slot;\n  }\n  return clone\n}\n\nfunction mergeProps (to, from) {\n  for (var key in from) {\n    to[camelize(key)] = from[key];\n  }\n}\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// inline hooks to be invoked on component VNodes during patch\nvar componentVNodeHooks = {\n  init: function init (vnode, hydrating) {\n    if (\n      vnode.componentInstance &&\n      !vnode.componentInstance._isDestroyed &&\n      vnode.data.keepAlive\n    ) {\n      // kept-alive components, treat as a patch\n      var mountedNode = vnode; // work around flow\n      componentVNodeHooks.prepatch(mountedNode, mountedNode);\n    } else {\n      var child = vnode.componentInstance = createComponentInstanceForVnode(\n        vnode,\n        activeInstance\n      );\n      child.$mount(hydrating ? vnode.elm : undefined, hydrating);\n    }\n  },\n\n  prepatch: function prepatch (oldVnode, vnode) {\n    var options = vnode.componentOptions;\n    var child = vnode.componentInstance = oldVnode.componentInstance;\n    updateChildComponent(\n      child,\n      options.propsData, // updated props\n      options.listeners, // updated listeners\n      vnode, // new parent vnode\n      options.children // new children\n    );\n  },\n\n  insert: function insert (vnode) {\n    var context = vnode.context;\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isMounted) {\n      componentInstance._isMounted = true;\n      callHook(componentInstance, 'mounted');\n    }\n    if (vnode.data.keepAlive) {\n      if (context._isMounted) {\n        // vue-router#1212\n        // During updates, a kept-alive component's child components may\n        // change, so directly walking the tree here may call activated hooks\n        // on incorrect children. Instead we push them into a queue which will\n        // be processed after the whole patch process ended.\n        queueActivatedComponent(componentInstance);\n      } else {\n        activateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  },\n\n  destroy: function destroy (vnode) {\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isDestroyed) {\n      if (!vnode.data.keepAlive) {\n        componentInstance.$destroy();\n      } else {\n        deactivateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  }\n};\n\nvar hooksToMerge = Object.keys(componentVNodeHooks);\n\nfunction createComponent (\n  Ctor,\n  data,\n  context,\n  children,\n  tag\n) {\n  if (isUndef(Ctor)) {\n    return\n  }\n\n  var baseCtor = context.$options._base;\n\n  // plain options object: turn it into a constructor\n  if (isObject(Ctor)) {\n    Ctor = baseCtor.extend(Ctor);\n  }\n\n  // if at this stage it's not a constructor or an async component factory,\n  // reject.\n  if (typeof Ctor !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      warn((\"Invalid Component definition: \" + (String(Ctor))), context);\n    }\n    return\n  }\n\n  // async component\n  var asyncFactory;\n  if (isUndef(Ctor.cid)) {\n    asyncFactory = Ctor;\n    Ctor = resolveAsyncComponent(asyncFactory, baseCtor);\n    if (Ctor === undefined) {\n      // return a placeholder node for async component, which is rendered\n      // as a comment node but preserves all the raw information for the node.\n      // the information will be used for async server-rendering and hydration.\n      return createAsyncPlaceholder(\n        asyncFactory,\n        data,\n        context,\n        children,\n        tag\n      )\n    }\n  }\n\n  data = data || {};\n\n  // resolve constructor options in case global mixins are applied after\n  // component constructor creation\n  resolveConstructorOptions(Ctor);\n\n  // transform component v-model data into props & events\n  if (isDef(data.model)) {\n    transformModel(Ctor.options, data);\n  }\n\n  // extract props\n  var propsData = extractPropsFromVNodeData(data, Ctor, tag);\n\n  // functional component\n  if (isTrue(Ctor.options.functional)) {\n    return createFunctionalComponent(Ctor, propsData, data, context, children)\n  }\n\n  // extract listeners, since these needs to be treated as\n  // child component listeners instead of DOM listeners\n  var listeners = data.on;\n  // replace with listeners with .native modifier\n  // so it gets processed during parent component patch.\n  data.on = data.nativeOn;\n\n  if (isTrue(Ctor.options.abstract)) {\n    // abstract components do not keep anything\n    // other than props & listeners & slot\n\n    // work around flow\n    var slot = data.slot;\n    data = {};\n    if (slot) {\n      data.slot = slot;\n    }\n  }\n\n  // install component management hooks onto the placeholder node\n  installComponentHooks(data);\n\n  // return a placeholder vnode\n  var name = Ctor.options.name || tag;\n  var vnode = new VNode(\n    (\"vue-component-\" + (Ctor.cid) + (name ? (\"-\" + name) : '')),\n    data, undefined, undefined, undefined, context,\n    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },\n    asyncFactory\n  );\n\n  return vnode\n}\n\nfunction createComponentInstanceForVnode (\n  vnode, // we know it's MountedComponentVNode but flow doesn't\n  parent // activeInstance in lifecycle state\n) {\n  var options = {\n    _isComponent: true,\n    _parentVnode: vnode,\n    parent: parent\n  };\n  // check inline-template render functions\n  var inlineTemplate = vnode.data.inlineTemplate;\n  if (isDef(inlineTemplate)) {\n    options.render = inlineTemplate.render;\n    options.staticRenderFns = inlineTemplate.staticRenderFns;\n  }\n  return new vnode.componentOptions.Ctor(options)\n}\n\nfunction installComponentHooks (data) {\n  var hooks = data.hook || (data.hook = {});\n  for (var i = 0; i < hooksToMerge.length; i++) {\n    var key = hooksToMerge[i];\n    var existing = hooks[key];\n    var toMerge = componentVNodeHooks[key];\n    if (existing !== toMerge && !(existing && existing._merged)) {\n      hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;\n    }\n  }\n}\n\nfunction mergeHook$1 (f1, f2) {\n  var merged = function (a, b) {\n    // flow complains about extra args which is why we use any\n    f1(a, b);\n    f2(a, b);\n  };\n  merged._merged = true;\n  return merged\n}\n\n// transform component v-model info (value and callback) into\n// prop and event handler respectively.\nfunction transformModel (options, data) {\n  var prop = (options.model && options.model.prop) || 'value';\n  var event = (options.model && options.model.event) || 'input'\n  ;(data.attrs || (data.attrs = {}))[prop] = data.model.value;\n  var on = data.on || (data.on = {});\n  var existing = on[event];\n  var callback = data.model.callback;\n  if (isDef(existing)) {\n    if (\n      Array.isArray(existing)\n        ? existing.indexOf(callback) === -1\n        : existing !== callback\n    ) {\n      on[event] = [callback].concat(existing);\n    }\n  } else {\n    on[event] = callback;\n  }\n}\n\n/*  */\n\nvar SIMPLE_NORMALIZE = 1;\nvar ALWAYS_NORMALIZE = 2;\n\n// wrapper function for providing a more flexible interface\n// without getting yelled at by flow\nfunction createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType,\n  alwaysNormalize\n) {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children;\n    children = data;\n    data = undefined;\n  }\n  if (isTrue(alwaysNormalize)) {\n    normalizationType = ALWAYS_NORMALIZE;\n  }\n  return _createElement(context, tag, data, children, normalizationType)\n}\n\nfunction _createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType\n) {\n  if (isDef(data) && isDef((data).__ob__)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"Avoid using observed data object as vnode data: \" + (JSON.stringify(data)) + \"\\n\" +\n      'Always create fresh vnode data objects in each render!',\n      context\n    );\n    return createEmptyVNode()\n  }\n  // object syntax in v-bind\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is;\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode()\n  }\n  // warn against non-primitive key\n  if (process.env.NODE_ENV !== 'production' &&\n    isDef(data) && isDef(data.key) && !isPrimitive(data.key)\n  ) {\n    {\n      warn(\n        'Avoid using non-primitive value as key, ' +\n        'use string/number value instead.',\n        context\n      );\n    }\n  }\n  // support single function children as default scoped slot\n  if (Array.isArray(children) &&\n    typeof children[0] === 'function'\n  ) {\n    data = data || {};\n    data.scopedSlots = { default: children[0] };\n    children.length = 0;\n  }\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children);\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children);\n  }\n  var vnode, ns;\n  if (typeof tag === 'string') {\n    var Ctor;\n    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);\n    if (config.isReservedTag(tag)) {\n      // platform built-in elements\n      if (process.env.NODE_ENV !== 'production' && isDef(data) && isDef(data.nativeOn)) {\n        warn(\n          (\"The .native modifier for v-on is only valid on components but it was used on <\" + tag + \">.\"),\n          context\n        );\n      }\n      vnode = new VNode(\n        config.parsePlatformTagName(tag), data, children,\n        undefined, undefined, context\n      );\n    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {\n      // component\n      vnode = createComponent(Ctor, data, context, children, tag);\n    } else {\n      // unknown or unlisted namespaced elements\n      // check at runtime because it may get assigned a namespace when its\n      // parent normalizes children\n      vnode = new VNode(\n        tag, data, children,\n        undefined, undefined, context\n      );\n    }\n  } else {\n    // direct component options / constructor\n    vnode = createComponent(tag, data, context, children);\n  }\n  if (Array.isArray(vnode)) {\n    return vnode\n  } else if (isDef(vnode)) {\n    if (isDef(ns)) { applyNS(vnode, ns); }\n    if (isDef(data)) { registerDeepBindings(data); }\n    return vnode\n  } else {\n    return createEmptyVNode()\n  }\n}\n\nfunction applyNS (vnode, ns, force) {\n  vnode.ns = ns;\n  if (vnode.tag === 'foreignObject') {\n    // use default namespace inside foreignObject\n    ns = undefined;\n    force = true;\n  }\n  if (isDef(vnode.children)) {\n    for (var i = 0, l = vnode.children.length; i < l; i++) {\n      var child = vnode.children[i];\n      if (isDef(child.tag) && (\n        isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {\n        applyNS(child, ns, force);\n      }\n    }\n  }\n}\n\n// ref #5318\n// necessary to ensure parent re-render when deep bindings like :style and\n// :class are used on slot nodes\nfunction registerDeepBindings (data) {\n  if (isObject(data.style)) {\n    traverse(data.style);\n  }\n  if (isObject(data.class)) {\n    traverse(data.class);\n  }\n}\n\n/*  */\n\nfunction initRender (vm) {\n  vm._vnode = null; // the root of the child tree\n  vm._staticTrees = null; // v-once cached trees\n  var options = vm.$options;\n  var parentVnode = vm.$vnode = options._parentVnode; // the placeholder node in parent tree\n  var renderContext = parentVnode && parentVnode.context;\n  vm.$slots = resolveSlots(options._renderChildren, renderContext);\n  vm.$scopedSlots = emptyObject;\n  // bind the createElement fn to this instance\n  // so that we get proper render context inside it.\n  // args order: tag, data, children, normalizationType, alwaysNormalize\n  // internal version is used by render functions compiled from templates\n  vm._c = function (a, b, c, d) { return createElement(vm, a, b, c, d, false); };\n  // normalization is always applied for the public version, used in\n  // user-written render functions.\n  vm.$createElement = function (a, b, c, d) { return createElement(vm, a, b, c, d, true); };\n\n  // $attrs & $listeners are exposed for easier HOC creation.\n  // they need to be reactive so that HOCs using them are always updated\n  var parentData = parentVnode && parentVnode.data;\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$attrs is readonly.\", vm);\n    }, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$listeners is readonly.\", vm);\n    }, true);\n  } else {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, null, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, null, true);\n  }\n}\n\nvar currentRenderingInstance = null;\n\nfunction renderMixin (Vue) {\n  // install runtime convenience helpers\n  installRenderHelpers(Vue.prototype);\n\n  Vue.prototype.$nextTick = function (fn) {\n    return nextTick(fn, this)\n  };\n\n  Vue.prototype._render = function () {\n    var vm = this;\n    var ref = vm.$options;\n    var render = ref.render;\n    var _parentVnode = ref._parentVnode;\n\n    if (_parentVnode) {\n      vm.$scopedSlots = normalizeScopedSlots(\n        _parentVnode.data.scopedSlots,\n        vm.$slots,\n        vm.$scopedSlots\n      );\n    }\n\n    // set parent vnode. this allows render functions to have access\n    // to the data on the placeholder node.\n    vm.$vnode = _parentVnode;\n    // render self\n    var vnode;\n    try {\n      // There's no need to maintain a stack because all render fns are called\n      // separately from one another. Nested component's render fns are called\n      // when parent component is patched.\n      currentRenderingInstance = vm;\n      vnode = render.call(vm._renderProxy, vm.$createElement);\n    } catch (e) {\n      handleError(e, vm, \"render\");\n      // return error render result,\n      // or previous vnode to prevent render error causing blank component\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production' && vm.$options.renderError) {\n        try {\n          vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);\n        } catch (e) {\n          handleError(e, vm, \"renderError\");\n          vnode = vm._vnode;\n        }\n      } else {\n        vnode = vm._vnode;\n      }\n    } finally {\n      currentRenderingInstance = null;\n    }\n    // if the returned array contains only a single node, allow it\n    if (Array.isArray(vnode) && vnode.length === 1) {\n      vnode = vnode[0];\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (process.env.NODE_ENV !== 'production' && Array.isArray(vnode)) {\n        warn(\n          'Multiple root nodes returned from render function. Render function ' +\n          'should return a single root node.',\n          vm\n        );\n      }\n      vnode = createEmptyVNode();\n    }\n    // set parent\n    vnode.parent = _parentVnode;\n    return vnode\n  };\n}\n\n/*  */\n\nfunction ensureCtor (comp, base) {\n  if (\n    comp.__esModule ||\n    (hasSymbol && comp[Symbol.toStringTag] === 'Module')\n  ) {\n    comp = comp.default;\n  }\n  return isObject(comp)\n    ? base.extend(comp)\n    : comp\n}\n\nfunction createAsyncPlaceholder (\n  factory,\n  data,\n  context,\n  children,\n  tag\n) {\n  var node = createEmptyVNode();\n  node.asyncFactory = factory;\n  node.asyncMeta = { data: data, context: context, children: children, tag: tag };\n  return node\n}\n\nfunction resolveAsyncComponent (\n  factory,\n  baseCtor\n) {\n  if (isTrue(factory.error) && isDef(factory.errorComp)) {\n    return factory.errorComp\n  }\n\n  if (isDef(factory.resolved)) {\n    return factory.resolved\n  }\n\n  var owner = currentRenderingInstance;\n  if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {\n    // already pending\n    factory.owners.push(owner);\n  }\n\n  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {\n    return factory.loadingComp\n  }\n\n  if (owner && !isDef(factory.owners)) {\n    var owners = factory.owners = [owner];\n    var sync = true;\n    var timerLoading = null;\n    var timerTimeout = null\n\n    ;(owner).$on('hook:destroyed', function () { return remove(owners, owner); });\n\n    var forceRender = function (renderCompleted) {\n      for (var i = 0, l = owners.length; i < l; i++) {\n        (owners[i]).$forceUpdate();\n      }\n\n      if (renderCompleted) {\n        owners.length = 0;\n        if (timerLoading !== null) {\n          clearTimeout(timerLoading);\n          timerLoading = null;\n        }\n        if (timerTimeout !== null) {\n          clearTimeout(timerTimeout);\n          timerTimeout = null;\n        }\n      }\n    };\n\n    var resolve = once(function (res) {\n      // cache resolved\n      factory.resolved = ensureCtor(res, baseCtor);\n      // invoke callbacks only if this is not a synchronous resolve\n      // (async resolves are shimmed as synchronous during SSR)\n      if (!sync) {\n        forceRender(true);\n      } else {\n        owners.length = 0;\n      }\n    });\n\n    var reject = once(function (reason) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed to resolve async component: \" + (String(factory)) +\n        (reason ? (\"\\nReason: \" + reason) : '')\n      );\n      if (isDef(factory.errorComp)) {\n        factory.error = true;\n        forceRender(true);\n      }\n    });\n\n    var res = factory(resolve, reject);\n\n    if (isObject(res)) {\n      if (isPromise(res)) {\n        // () => Promise\n        if (isUndef(factory.resolved)) {\n          res.then(resolve, reject);\n        }\n      } else if (isPromise(res.component)) {\n        res.component.then(resolve, reject);\n\n        if (isDef(res.error)) {\n          factory.errorComp = ensureCtor(res.error, baseCtor);\n        }\n\n        if (isDef(res.loading)) {\n          factory.loadingComp = ensureCtor(res.loading, baseCtor);\n          if (res.delay === 0) {\n            factory.loading = true;\n          } else {\n            timerLoading = setTimeout(function () {\n              timerLoading = null;\n              if (isUndef(factory.resolved) && isUndef(factory.error)) {\n                factory.loading = true;\n                forceRender(false);\n              }\n            }, res.delay || 200);\n          }\n        }\n\n        if (isDef(res.timeout)) {\n          timerTimeout = setTimeout(function () {\n            timerTimeout = null;\n            if (isUndef(factory.resolved)) {\n              reject(\n                process.env.NODE_ENV !== 'production'\n                  ? (\"timeout (\" + (res.timeout) + \"ms)\")\n                  : null\n              );\n            }\n          }, res.timeout);\n        }\n      }\n    }\n\n    sync = false;\n    // return in case resolved synchronously\n    return factory.loading\n      ? factory.loadingComp\n      : factory.resolved\n  }\n}\n\n/*  */\n\nfunction isAsyncPlaceholder (node) {\n  return node.isComment && node.asyncFactory\n}\n\n/*  */\n\nfunction getFirstComponentChild (children) {\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      var c = children[i];\n      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n        return c\n      }\n    }\n  }\n}\n\n/*  */\n\n/*  */\n\nfunction initEvents (vm) {\n  vm._events = Object.create(null);\n  vm._hasHookEvent = false;\n  // init parent attached events\n  var listeners = vm.$options._parentListeners;\n  if (listeners) {\n    updateComponentListeners(vm, listeners);\n  }\n}\n\nvar target;\n\nfunction add (event, fn) {\n  target.$on(event, fn);\n}\n\nfunction remove$1 (event, fn) {\n  target.$off(event, fn);\n}\n\nfunction createOnceHandler (event, fn) {\n  var _target = target;\n  return function onceHandler () {\n    var res = fn.apply(null, arguments);\n    if (res !== null) {\n      _target.$off(event, onceHandler);\n    }\n  }\n}\n\nfunction updateComponentListeners (\n  vm,\n  listeners,\n  oldListeners\n) {\n  target = vm;\n  updateListeners(listeners, oldListeners || {}, add, remove$1, createOnceHandler, vm);\n  target = undefined;\n}\n\nfunction eventsMixin (Vue) {\n  var hookRE = /^hook:/;\n  Vue.prototype.$on = function (event, fn) {\n    var vm = this;\n    if (Array.isArray(event)) {\n      for (var i = 0, l = event.length; i < l; i++) {\n        vm.$on(event[i], fn);\n      }\n    } else {\n      (vm._events[event] || (vm._events[event] = [])).push(fn);\n      // optimize hook:event cost by using a boolean flag marked at registration\n      // instead of a hash lookup\n      if (hookRE.test(event)) {\n        vm._hasHookEvent = true;\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$once = function (event, fn) {\n    var vm = this;\n    function on () {\n      vm.$off(event, on);\n      fn.apply(vm, arguments);\n    }\n    on.fn = fn;\n    vm.$on(event, on);\n    return vm\n  };\n\n  Vue.prototype.$off = function (event, fn) {\n    var vm = this;\n    // all\n    if (!arguments.length) {\n      vm._events = Object.create(null);\n      return vm\n    }\n    // array of events\n    if (Array.isArray(event)) {\n      for (var i$1 = 0, l = event.length; i$1 < l; i$1++) {\n        vm.$off(event[i$1], fn);\n      }\n      return vm\n    }\n    // specific event\n    var cbs = vm._events[event];\n    if (!cbs) {\n      return vm\n    }\n    if (!fn) {\n      vm._events[event] = null;\n      return vm\n    }\n    // specific handler\n    var cb;\n    var i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn || cb.fn === fn) {\n        cbs.splice(i, 1);\n        break\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$emit = function (event) {\n    var vm = this;\n    if (process.env.NODE_ENV !== 'production') {\n      var lowerCaseEvent = event.toLowerCase();\n      if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {\n        tip(\n          \"Event \\\"\" + lowerCaseEvent + \"\\\" is emitted in component \" +\n          (formatComponentName(vm)) + \" but the handler is registered for \\\"\" + event + \"\\\". \" +\n          \"Note that HTML attributes are case-insensitive and you cannot use \" +\n          \"v-on to listen to camelCase events when using in-DOM templates. \" +\n          \"You should probably use \\\"\" + (hyphenate(event)) + \"\\\" instead of \\\"\" + event + \"\\\".\"\n        );\n      }\n    }\n    var cbs = vm._events[event];\n    if (cbs) {\n      cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n      var args = toArray(arguments, 1);\n      var info = \"event handler for \\\"\" + event + \"\\\"\";\n      for (var i = 0, l = cbs.length; i < l; i++) {\n        invokeWithErrorHandling(cbs[i], vm, args, vm, info);\n      }\n    }\n    return vm\n  };\n}\n\n/*  */\n\nvar activeInstance = null;\nvar isUpdatingChildComponent = false;\n\nfunction setActiveInstance(vm) {\n  var prevActiveInstance = activeInstance;\n  activeInstance = vm;\n  return function () {\n    activeInstance = prevActiveInstance;\n  }\n}\n\nfunction initLifecycle (vm) {\n  var options = vm.$options;\n\n  // locate first non-abstract parent\n  var parent = options.parent;\n  if (parent && !options.abstract) {\n    while (parent.$options.abstract && parent.$parent) {\n      parent = parent.$parent;\n    }\n    parent.$children.push(vm);\n  }\n\n  vm.$parent = parent;\n  vm.$root = parent ? parent.$root : vm;\n\n  vm.$children = [];\n  vm.$refs = {};\n\n  vm._watcher = null;\n  vm._inactive = null;\n  vm._directInactive = false;\n  vm._isMounted = false;\n  vm._isDestroyed = false;\n  vm._isBeingDestroyed = false;\n}\n\nfunction lifecycleMixin (Vue) {\n  Vue.prototype._update = function (vnode, hydrating) {\n    var vm = this;\n    var prevEl = vm.$el;\n    var prevVnode = vm._vnode;\n    var restoreActiveInstance = setActiveInstance(vm);\n    vm._vnode = vnode;\n    // Vue.prototype.__patch__ is injected in entry points\n    // based on the rendering backend used.\n    if (!prevVnode) {\n      // initial render\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n    } else {\n      // updates\n      vm.$el = vm.__patch__(prevVnode, vnode);\n    }\n    restoreActiveInstance();\n    // update __vue__ reference\n    if (prevEl) {\n      prevEl.__vue__ = null;\n    }\n    if (vm.$el) {\n      vm.$el.__vue__ = vm;\n    }\n    // if parent is an HOC, update its $el as well\n    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {\n      vm.$parent.$el = vm.$el;\n    }\n    // updated hook is called by the scheduler to ensure that children are\n    // updated in a parent's updated hook.\n  };\n\n  Vue.prototype.$forceUpdate = function () {\n    var vm = this;\n    if (vm._watcher) {\n      vm._watcher.update();\n    }\n  };\n\n  Vue.prototype.$destroy = function () {\n    var vm = this;\n    if (vm._isBeingDestroyed) {\n      return\n    }\n    callHook(vm, 'beforeDestroy');\n    vm._isBeingDestroyed = true;\n    // remove self from parent\n    var parent = vm.$parent;\n    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n      remove(parent.$children, vm);\n    }\n    // teardown watchers\n    if (vm._watcher) {\n      vm._watcher.teardown();\n    }\n    var i = vm._watchers.length;\n    while (i--) {\n      vm._watchers[i].teardown();\n    }\n    // remove reference from data ob\n    // frozen object may not have observer.\n    if (vm._data.__ob__) {\n      vm._data.__ob__.vmCount--;\n    }\n    // call the last hook...\n    vm._isDestroyed = true;\n    // invoke destroy hooks on current rendered tree\n    vm.__patch__(vm._vnode, null);\n    // fire destroyed hook\n    callHook(vm, 'destroyed');\n    // turn off all instance listeners.\n    vm.$off();\n    // remove __vue__ reference\n    if (vm.$el) {\n      vm.$el.__vue__ = null;\n    }\n    // release circular reference (#6759)\n    if (vm.$vnode) {\n      vm.$vnode.parent = null;\n    }\n  };\n}\n\nfunction mountComponent (\n  vm,\n  el,\n  hydrating\n) {\n  vm.$el = el;\n  if (!vm.$options.render) {\n    vm.$options.render = createEmptyVNode;\n    if (process.env.NODE_ENV !== 'production') {\n      /* istanbul ignore if */\n      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n        vm.$options.el || el) {\n        warn(\n          'You are using the runtime-only build of Vue where the template ' +\n          'compiler is not available. Either pre-compile the templates into ' +\n          'render functions, or use the compiler-included build.',\n          vm\n        );\n      } else {\n        warn(\n          'Failed to mount component: template or render function not defined.',\n          vm\n        );\n      }\n    }\n  }\n  callHook(vm, 'beforeMount');\n\n  var updateComponent;\n  /* istanbul ignore if */\n  if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n    updateComponent = function () {\n      var name = vm._name;\n      var id = vm._uid;\n      var startTag = \"vue-perf-start:\" + id;\n      var endTag = \"vue-perf-end:\" + id;\n\n      mark(startTag);\n      var vnode = vm._render();\n      mark(endTag);\n      measure((\"vue \" + name + \" render\"), startTag, endTag);\n\n      mark(startTag);\n      vm._update(vnode, hydrating);\n      mark(endTag);\n      measure((\"vue \" + name + \" patch\"), startTag, endTag);\n    };\n  } else {\n    updateComponent = function () {\n      vm._update(vm._render(), hydrating);\n    };\n  }\n\n  // we set this to vm._watcher inside the watcher's constructor\n  // since the watcher's initial patch may call $forceUpdate (e.g. inside child\n  // component's mounted hook), which relies on vm._watcher being already defined\n  new Watcher(vm, updateComponent, noop, {\n    before: function before () {\n      if (vm._isMounted && !vm._isDestroyed) {\n        callHook(vm, 'beforeUpdate');\n      }\n    }\n  }, true /* isRenderWatcher */);\n  hydrating = false;\n\n  // manually mounted instance, call mounted on self\n  // mounted is called for render-created child components in its inserted hook\n  if (vm.$vnode == null) {\n    vm._isMounted = true;\n    callHook(vm, 'mounted');\n  }\n  return vm\n}\n\nfunction updateChildComponent (\n  vm,\n  propsData,\n  listeners,\n  parentVnode,\n  renderChildren\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = true;\n  }\n\n  // determine whether component has slot children\n  // we need to do this before overwriting $options._renderChildren.\n\n  // check if there are dynamic scopedSlots (hand-written or compiled but with\n  // dynamic slot names). Static scoped slots compiled from template has the\n  // \"$stable\" marker.\n  var newScopedSlots = parentVnode.data.scopedSlots;\n  var oldScopedSlots = vm.$scopedSlots;\n  var hasDynamicScopedSlot = !!(\n    (newScopedSlots && !newScopedSlots.$stable) ||\n    (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||\n    (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key)\n  );\n\n  // Any static slot children from the parent may have changed during parent's\n  // update. Dynamic scoped slots may also have changed. In such cases, a forced\n  // update is necessary to ensure correctness.\n  var needsForceUpdate = !!(\n    renderChildren ||               // has new static slots\n    vm.$options._renderChildren ||  // has old static slots\n    hasDynamicScopedSlot\n  );\n\n  vm.$options._parentVnode = parentVnode;\n  vm.$vnode = parentVnode; // update vm's placeholder node without re-render\n\n  if (vm._vnode) { // update child tree's parent\n    vm._vnode.parent = parentVnode;\n  }\n  vm.$options._renderChildren = renderChildren;\n\n  // update $attrs and $listeners hash\n  // these are also reactive so they may trigger child update if the child\n  // used them during render\n  vm.$attrs = parentVnode.data.attrs || emptyObject;\n  vm.$listeners = listeners || emptyObject;\n\n  // update props\n  if (propsData && vm.$options.props) {\n    toggleObserving(false);\n    var props = vm._props;\n    var propKeys = vm.$options._propKeys || [];\n    for (var i = 0; i < propKeys.length; i++) {\n      var key = propKeys[i];\n      var propOptions = vm.$options.props; // wtf flow?\n      props[key] = validateProp(key, propOptions, propsData, vm);\n    }\n    toggleObserving(true);\n    // keep a copy of raw propsData\n    vm.$options.propsData = propsData;\n  }\n\n  // update listeners\n  listeners = listeners || emptyObject;\n  var oldListeners = vm.$options._parentListeners;\n  vm.$options._parentListeners = listeners;\n  updateComponentListeners(vm, listeners, oldListeners);\n\n  // resolve slots + force update if has children\n  if (needsForceUpdate) {\n    vm.$slots = resolveSlots(renderChildren, parentVnode.context);\n    vm.$forceUpdate();\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = false;\n  }\n}\n\nfunction isInInactiveTree (vm) {\n  while (vm && (vm = vm.$parent)) {\n    if (vm._inactive) { return true }\n  }\n  return false\n}\n\nfunction activateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = false;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  } else if (vm._directInactive) {\n    return\n  }\n  if (vm._inactive || vm._inactive === null) {\n    vm._inactive = false;\n    for (var i = 0; i < vm.$children.length; i++) {\n      activateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'activated');\n  }\n}\n\nfunction deactivateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = true;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  }\n  if (!vm._inactive) {\n    vm._inactive = true;\n    for (var i = 0; i < vm.$children.length; i++) {\n      deactivateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'deactivated');\n  }\n}\n\nfunction callHook (vm, hook) {\n  // #7573 disable dep collection when invoking lifecycle hooks\n  pushTarget();\n  var handlers = vm.$options[hook];\n  var info = hook + \" hook\";\n  if (handlers) {\n    for (var i = 0, j = handlers.length; i < j; i++) {\n      invokeWithErrorHandling(handlers[i], vm, null, vm, info);\n    }\n  }\n  if (vm._hasHookEvent) {\n    vm.$emit('hook:' + hook);\n  }\n  popTarget();\n}\n\n/*  */\n\nvar MAX_UPDATE_COUNT = 100;\n\nvar queue = [];\nvar activatedChildren = [];\nvar has = {};\nvar circular = {};\nvar waiting = false;\nvar flushing = false;\nvar index = 0;\n\n/**\n * Reset the scheduler's state.\n */\nfunction resetSchedulerState () {\n  index = queue.length = activatedChildren.length = 0;\n  has = {};\n  if (process.env.NODE_ENV !== 'production') {\n    circular = {};\n  }\n  waiting = flushing = false;\n}\n\n// Async edge case #6566 requires saving the timestamp when event listeners are\n// attached. However, calling performance.now() has a perf overhead especially\n// if the page has thousands of event listeners. Instead, we take a timestamp\n// every time the scheduler flushes and use that for all event listeners\n// attached during that flush.\nvar currentFlushTimestamp = 0;\n\n// Async edge case fix requires storing an event listener's attach timestamp.\nvar getNow = Date.now;\n\n// Determine what event timestamp the browser is using. Annoyingly, the\n// timestamp can either be hi-res (relative to page load) or low-res\n// (relative to UNIX epoch), so in order to compare time we have to use the\n// same timestamp type when saving the flush timestamp.\n// All IE versions use low-res event timestamps, and have problematic clock\n// implementations (#9632)\nif (inBrowser && !isIE) {\n  var performance = window.performance;\n  if (\n    performance &&\n    typeof performance.now === 'function' &&\n    getNow() > document.createEvent('Event').timeStamp\n  ) {\n    // if the event timestamp, although evaluated AFTER the Date.now(), is\n    // smaller than it, it means the event is using a hi-res timestamp,\n    // and we need to use the hi-res version for event listener timestamps as\n    // well.\n    getNow = function () { return performance.now(); };\n  }\n}\n\n/**\n * Flush both queues and run the watchers.\n */\nfunction flushSchedulerQueue () {\n  currentFlushTimestamp = getNow();\n  flushing = true;\n  var watcher, id;\n\n  // Sort queue before flush.\n  // This ensures that:\n  // 1. Components are updated from parent to child. (because parent is always\n  //    created before the child)\n  // 2. A component's user watchers are run before its render watcher (because\n  //    user watchers are created before the render watcher)\n  // 3. If a component is destroyed during a parent component's watcher run,\n  //    its watchers can be skipped.\n  queue.sort(function (a, b) { return a.id - b.id; });\n\n  // do not cache length because more watchers might be pushed\n  // as we run existing watchers\n  for (index = 0; index < queue.length; index++) {\n    watcher = queue[index];\n    if (watcher.before) {\n      watcher.before();\n    }\n    id = watcher.id;\n    has[id] = null;\n    watcher.run();\n    // in dev build, check and stop circular updates.\n    if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n      circular[id] = (circular[id] || 0) + 1;\n      if (circular[id] > MAX_UPDATE_COUNT) {\n        warn(\n          'You may have an infinite update loop ' + (\n            watcher.user\n              ? (\"in watcher with expression \\\"\" + (watcher.expression) + \"\\\"\")\n              : \"in a component render function.\"\n          ),\n          watcher.vm\n        );\n        break\n      }\n    }\n  }\n\n  // keep copies of post queues before resetting state\n  var activatedQueue = activatedChildren.slice();\n  var updatedQueue = queue.slice();\n\n  resetSchedulerState();\n\n  // call component updated and activated hooks\n  callActivatedHooks(activatedQueue);\n  callUpdatedHooks(updatedQueue);\n\n  // devtool hook\n  /* istanbul ignore if */\n  if (devtools && config.devtools) {\n    devtools.emit('flush');\n  }\n}\n\nfunction callUpdatedHooks (queue) {\n  var i = queue.length;\n  while (i--) {\n    var watcher = queue[i];\n    var vm = watcher.vm;\n    if (vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {\n      callHook(vm, 'updated');\n    }\n  }\n}\n\n/**\n * Queue a kept-alive component that was activated during patch.\n * The queue will be processed after the entire tree has been patched.\n */\nfunction queueActivatedComponent (vm) {\n  // setting _inactive to false here so that a render function can\n  // rely on checking whether it's in an inactive tree (e.g. router-view)\n  vm._inactive = false;\n  activatedChildren.push(vm);\n}\n\nfunction callActivatedHooks (queue) {\n  for (var i = 0; i < queue.length; i++) {\n    queue[i]._inactive = true;\n    activateChildComponent(queue[i], true /* true */);\n  }\n}\n\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n */\nfunction queueWatcher (watcher) {\n  var id = watcher.id;\n  if (has[id] == null) {\n    has[id] = true;\n    if (!flushing) {\n      queue.push(watcher);\n    } else {\n      // if already flushing, splice the watcher based on its id\n      // if already past its id, it will be run next immediately.\n      var i = queue.length - 1;\n      while (i > index && queue[i].id > watcher.id) {\n        i--;\n      }\n      queue.splice(i + 1, 0, watcher);\n    }\n    // queue the flush\n    if (!waiting) {\n      waiting = true;\n\n      if (process.env.NODE_ENV !== 'production' && !config.async) {\n        flushSchedulerQueue();\n        return\n      }\n      nextTick(flushSchedulerQueue);\n    }\n  }\n}\n\n/*  */\n\n\n\nvar uid$2 = 0;\n\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n */\nvar Watcher = function Watcher (\n  vm,\n  expOrFn,\n  cb,\n  options,\n  isRenderWatcher\n) {\n  this.vm = vm;\n  if (isRenderWatcher) {\n    vm._watcher = this;\n  }\n  vm._watchers.push(this);\n  // options\n  if (options) {\n    this.deep = !!options.deep;\n    this.user = !!options.user;\n    this.lazy = !!options.lazy;\n    this.sync = !!options.sync;\n    this.before = options.before;\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false;\n  }\n  this.cb = cb;\n  this.id = ++uid$2; // uid for batching\n  this.active = true;\n  this.dirty = this.lazy; // for lazy watchers\n  this.deps = [];\n  this.newDeps = [];\n  this.depIds = new _Set();\n  this.newDepIds = new _Set();\n  this.expression = process.env.NODE_ENV !== 'production'\n    ? expOrFn.toString()\n    : '';\n  // parse expression for getter\n  if (typeof expOrFn === 'function') {\n    this.getter = expOrFn;\n  } else {\n    this.getter = parsePath(expOrFn);\n    if (!this.getter) {\n      this.getter = noop;\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed watching path: \\\"\" + expOrFn + \"\\\" \" +\n        'Watcher only accepts simple dot-delimited paths. ' +\n        'For full control, use a function instead.',\n        vm\n      );\n    }\n  }\n  this.value = this.lazy\n    ? undefined\n    : this.get();\n};\n\n/**\n * Evaluate the getter, and re-collect dependencies.\n */\nWatcher.prototype.get = function get () {\n  pushTarget(this);\n  var value;\n  var vm = this.vm;\n  try {\n    value = this.getter.call(vm, vm);\n  } catch (e) {\n    if (this.user) {\n      handleError(e, vm, (\"getter for watcher \\\"\" + (this.expression) + \"\\\"\"));\n    } else {\n      throw e\n    }\n  } finally {\n    // \"touch\" every property so they are all tracked as\n    // dependencies for deep watching\n    if (this.deep) {\n      traverse(value);\n    }\n    popTarget();\n    this.cleanupDeps();\n  }\n  return value\n};\n\n/**\n * Add a dependency to this directive.\n */\nWatcher.prototype.addDep = function addDep (dep) {\n  var id = dep.id;\n  if (!this.newDepIds.has(id)) {\n    this.newDepIds.add(id);\n    this.newDeps.push(dep);\n    if (!this.depIds.has(id)) {\n      dep.addSub(this);\n    }\n  }\n};\n\n/**\n * Clean up for dependency collection.\n */\nWatcher.prototype.cleanupDeps = function cleanupDeps () {\n  var i = this.deps.length;\n  while (i--) {\n    var dep = this.deps[i];\n    if (!this.newDepIds.has(dep.id)) {\n      dep.removeSub(this);\n    }\n  }\n  var tmp = this.depIds;\n  this.depIds = this.newDepIds;\n  this.newDepIds = tmp;\n  this.newDepIds.clear();\n  tmp = this.deps;\n  this.deps = this.newDeps;\n  this.newDeps = tmp;\n  this.newDeps.length = 0;\n};\n\n/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n */\nWatcher.prototype.update = function update () {\n  /* istanbul ignore else */\n  if (this.lazy) {\n    this.dirty = true;\n  } else if (this.sync) {\n    this.run();\n  } else {\n    queueWatcher(this);\n  }\n};\n\n/**\n * Scheduler job interface.\n * Will be called by the scheduler.\n */\nWatcher.prototype.run = function run () {\n  if (this.active) {\n    var value = this.get();\n    if (\n      value !== this.value ||\n      // Deep watchers and watchers on Object/Arrays should fire even\n      // when the value is the same, because the value may\n      // have mutated.\n      isObject(value) ||\n      this.deep\n    ) {\n      // set new value\n      var oldValue = this.value;\n      this.value = value;\n      if (this.user) {\n        try {\n          this.cb.call(this.vm, value, oldValue);\n        } catch (e) {\n          handleError(e, this.vm, (\"callback for watcher \\\"\" + (this.expression) + \"\\\"\"));\n        }\n      } else {\n        this.cb.call(this.vm, value, oldValue);\n      }\n    }\n  }\n};\n\n/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */\nWatcher.prototype.evaluate = function evaluate () {\n  this.value = this.get();\n  this.dirty = false;\n};\n\n/**\n * Depend on all deps collected by this watcher.\n */\nWatcher.prototype.depend = function depend () {\n  var i = this.deps.length;\n  while (i--) {\n    this.deps[i].depend();\n  }\n};\n\n/**\n * Remove self from all dependencies' subscriber list.\n */\nWatcher.prototype.teardown = function teardown () {\n  if (this.active) {\n    // remove self from vm's watcher list\n    // this is a somewhat expensive operation so we skip it\n    // if the vm is being destroyed.\n    if (!this.vm._isBeingDestroyed) {\n      remove(this.vm._watchers, this);\n    }\n    var i = this.deps.length;\n    while (i--) {\n      this.deps[i].removeSub(this);\n    }\n    this.active = false;\n  }\n};\n\n/*  */\n\nvar sharedPropertyDefinition = {\n  enumerable: true,\n  configurable: true,\n  get: noop,\n  set: noop\n};\n\nfunction proxy (target, sourceKey, key) {\n  sharedPropertyDefinition.get = function proxyGetter () {\n    return this[sourceKey][key]\n  };\n  sharedPropertyDefinition.set = function proxySetter (val) {\n    this[sourceKey][key] = val;\n  };\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction initState (vm) {\n  vm._watchers = [];\n  var opts = vm.$options;\n  if (opts.props) { initProps(vm, opts.props); }\n  if (opts.methods) { initMethods(vm, opts.methods); }\n  if (opts.data) {\n    initData(vm);\n  } else {\n    observe(vm._data = {}, true /* asRootData */);\n  }\n  if (opts.computed) { initComputed(vm, opts.computed); }\n  if (opts.watch && opts.watch !== nativeWatch) {\n    initWatch(vm, opts.watch);\n  }\n}\n\nfunction initProps (vm, propsOptions) {\n  var propsData = vm.$options.propsData || {};\n  var props = vm._props = {};\n  // cache prop keys so that future props updates can iterate using Array\n  // instead of dynamic object key enumeration.\n  var keys = vm.$options._propKeys = [];\n  var isRoot = !vm.$parent;\n  // root instance props should be converted\n  if (!isRoot) {\n    toggleObserving(false);\n  }\n  var loop = function ( key ) {\n    keys.push(key);\n    var value = validateProp(key, propsOptions, propsData, vm);\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      var hyphenatedKey = hyphenate(key);\n      if (isReservedAttribute(hyphenatedKey) ||\n          config.isReservedAttr(hyphenatedKey)) {\n        warn(\n          (\"\\\"\" + hyphenatedKey + \"\\\" is a reserved attribute and cannot be used as component prop.\"),\n          vm\n        );\n      }\n      defineReactive$$1(props, key, value, function () {\n        if (!isRoot && !isUpdatingChildComponent) {\n          warn(\n            \"Avoid mutating a prop directly since the value will be \" +\n            \"overwritten whenever the parent component re-renders. \" +\n            \"Instead, use a data or computed property based on the prop's \" +\n            \"value. Prop being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        }\n      });\n    } else {\n      defineReactive$$1(props, key, value);\n    }\n    // static props are already proxied on the component's prototype\n    // during Vue.extend(). We only need to proxy props defined at\n    // instantiation here.\n    if (!(key in vm)) {\n      proxy(vm, \"_props\", key);\n    }\n  };\n\n  for (var key in propsOptions) loop( key );\n  toggleObserving(true);\n}\n\nfunction initData (vm) {\n  var data = vm.$options.data;\n  data = vm._data = typeof data === 'function'\n    ? getData(data, vm)\n    : data || {};\n  if (!isPlainObject(data)) {\n    data = {};\n    process.env.NODE_ENV !== 'production' && warn(\n      'data functions should return an object:\\n' +\n      'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function',\n      vm\n    );\n  }\n  // proxy data on instance\n  var keys = Object.keys(data);\n  var props = vm.$options.props;\n  var methods = vm.$options.methods;\n  var i = keys.length;\n  while (i--) {\n    var key = keys[i];\n    if (process.env.NODE_ENV !== 'production') {\n      if (methods && hasOwn(methods, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a data property.\"),\n          vm\n        );\n      }\n    }\n    if (props && hasOwn(props, key)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"The data property \\\"\" + key + \"\\\" is already declared as a prop. \" +\n        \"Use prop default value instead.\",\n        vm\n      );\n    } else if (!isReserved(key)) {\n      proxy(vm, \"_data\", key);\n    }\n  }\n  // observe data\n  observe(data, true /* asRootData */);\n}\n\nfunction getData (data, vm) {\n  // #7573 disable dep collection when invoking data getters\n  pushTarget();\n  try {\n    return data.call(vm, vm)\n  } catch (e) {\n    handleError(e, vm, \"data()\");\n    return {}\n  } finally {\n    popTarget();\n  }\n}\n\nvar computedWatcherOptions = { lazy: true };\n\nfunction initComputed (vm, computed) {\n  // $flow-disable-line\n  var watchers = vm._computedWatchers = Object.create(null);\n  // computed properties are just getters during SSR\n  var isSSR = isServerRendering();\n\n  for (var key in computed) {\n    var userDef = computed[key];\n    var getter = typeof userDef === 'function' ? userDef : userDef.get;\n    if (process.env.NODE_ENV !== 'production' && getter == null) {\n      warn(\n        (\"Getter is missing for computed property \\\"\" + key + \"\\\".\"),\n        vm\n      );\n    }\n\n    if (!isSSR) {\n      // create internal watcher for the computed property.\n      watchers[key] = new Watcher(\n        vm,\n        getter || noop,\n        noop,\n        computedWatcherOptions\n      );\n    }\n\n    // component-defined computed properties are already defined on the\n    // component prototype. We only need to define computed properties defined\n    // at instantiation here.\n    if (!(key in vm)) {\n      defineComputed(vm, key, userDef);\n    } else if (process.env.NODE_ENV !== 'production') {\n      if (key in vm.$data) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined in data.\"), vm);\n      } else if (vm.$options.props && key in vm.$options.props) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined as a prop.\"), vm);\n      }\n    }\n  }\n}\n\nfunction defineComputed (\n  target,\n  key,\n  userDef\n) {\n  var shouldCache = !isServerRendering();\n  if (typeof userDef === 'function') {\n    sharedPropertyDefinition.get = shouldCache\n      ? createComputedGetter(key)\n      : createGetterInvoker(userDef);\n    sharedPropertyDefinition.set = noop;\n  } else {\n    sharedPropertyDefinition.get = userDef.get\n      ? shouldCache && userDef.cache !== false\n        ? createComputedGetter(key)\n        : createGetterInvoker(userDef.get)\n      : noop;\n    sharedPropertyDefinition.set = userDef.set || noop;\n  }\n  if (process.env.NODE_ENV !== 'production' &&\n      sharedPropertyDefinition.set === noop) {\n    sharedPropertyDefinition.set = function () {\n      warn(\n        (\"Computed property \\\"\" + key + \"\\\" was assigned to but it has no setter.\"),\n        this\n      );\n    };\n  }\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction createComputedGetter (key) {\n  return function computedGetter () {\n    var watcher = this._computedWatchers && this._computedWatchers[key];\n    if (watcher) {\n      if (watcher.dirty) {\n        watcher.evaluate();\n      }\n      if (Dep.target) {\n        watcher.depend();\n      }\n      return watcher.value\n    }\n  }\n}\n\nfunction createGetterInvoker(fn) {\n  return function computedGetter () {\n    return fn.call(this, this)\n  }\n}\n\nfunction initMethods (vm, methods) {\n  var props = vm.$options.props;\n  for (var key in methods) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof methods[key] !== 'function') {\n        warn(\n          \"Method \\\"\" + key + \"\\\" has type \\\"\" + (typeof methods[key]) + \"\\\" in the component definition. \" +\n          \"Did you reference the function correctly?\",\n          vm\n        );\n      }\n      if (props && hasOwn(props, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a prop.\"),\n          vm\n        );\n      }\n      if ((key in vm) && isReserved(key)) {\n        warn(\n          \"Method \\\"\" + key + \"\\\" conflicts with an existing Vue instance method. \" +\n          \"Avoid defining component methods that start with _ or $.\"\n        );\n      }\n    }\n    vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);\n  }\n}\n\nfunction initWatch (vm, watch) {\n  for (var key in watch) {\n    var handler = watch[key];\n    if (Array.isArray(handler)) {\n      for (var i = 0; i < handler.length; i++) {\n        createWatcher(vm, key, handler[i]);\n      }\n    } else {\n      createWatcher(vm, key, handler);\n    }\n  }\n}\n\nfunction createWatcher (\n  vm,\n  expOrFn,\n  handler,\n  options\n) {\n  if (isPlainObject(handler)) {\n    options = handler;\n    handler = handler.handler;\n  }\n  if (typeof handler === 'string') {\n    handler = vm[handler];\n  }\n  return vm.$watch(expOrFn, handler, options)\n}\n\nfunction stateMixin (Vue) {\n  // flow somehow has problems with directly declared definition object\n  // when using Object.defineProperty, so we have to procedurally build up\n  // the object here.\n  var dataDef = {};\n  dataDef.get = function () { return this._data };\n  var propsDef = {};\n  propsDef.get = function () { return this._props };\n  if (process.env.NODE_ENV !== 'production') {\n    dataDef.set = function () {\n      warn(\n        'Avoid replacing instance root $data. ' +\n        'Use nested data properties instead.',\n        this\n      );\n    };\n    propsDef.set = function () {\n      warn(\"$props is readonly.\", this);\n    };\n  }\n  Object.defineProperty(Vue.prototype, '$data', dataDef);\n  Object.defineProperty(Vue.prototype, '$props', propsDef);\n\n  Vue.prototype.$set = set;\n  Vue.prototype.$delete = del;\n\n  Vue.prototype.$watch = function (\n    expOrFn,\n    cb,\n    options\n  ) {\n    var vm = this;\n    if (isPlainObject(cb)) {\n      return createWatcher(vm, expOrFn, cb, options)\n    }\n    options = options || {};\n    options.user = true;\n    var watcher = new Watcher(vm, expOrFn, cb, options);\n    if (options.immediate) {\n      try {\n        cb.call(vm, watcher.value);\n      } catch (error) {\n        handleError(error, vm, (\"callback for immediate watcher \\\"\" + (watcher.expression) + \"\\\"\"));\n      }\n    }\n    return function unwatchFn () {\n      watcher.teardown();\n    }\n  };\n}\n\n/*  */\n\nvar uid$3 = 0;\n\nfunction initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    var vm = this;\n    // a uid\n    vm._uid = uid$3++;\n\n    var startTag, endTag;\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      startTag = \"vue-perf-start:\" + (vm._uid);\n      endTag = \"vue-perf-end:\" + (vm._uid);\n      mark(startTag);\n    }\n\n    // a flag to avoid this being observed\n    vm._isVue = true;\n    // merge options\n    if (options && options._isComponent) {\n      // optimize internal component instantiation\n      // since dynamic options merging is pretty slow, and none of the\n      // internal component options needs special treatment.\n      initInternalComponent(vm, options);\n    } else {\n      vm.$options = mergeOptions(\n        resolveConstructorOptions(vm.constructor),\n        options || {},\n        vm\n      );\n    }\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      initProxy(vm);\n    } else {\n      vm._renderProxy = vm;\n    }\n    // expose real self\n    vm._self = vm;\n    initLifecycle(vm);\n    initEvents(vm);\n    initRender(vm);\n    callHook(vm, 'beforeCreate');\n    initInjections(vm); // resolve injections before data/props\n    initState(vm);\n    initProvide(vm); // resolve provide after data/props\n    callHook(vm, 'created');\n\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      vm._name = formatComponentName(vm, false);\n      mark(endTag);\n      measure((\"vue \" + (vm._name) + \" init\"), startTag, endTag);\n    }\n\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n}\n\nfunction initInternalComponent (vm, options) {\n  var opts = vm.$options = Object.create(vm.constructor.options);\n  // doing this because it's faster than dynamic enumeration.\n  var parentVnode = options._parentVnode;\n  opts.parent = options.parent;\n  opts._parentVnode = parentVnode;\n\n  var vnodeComponentOptions = parentVnode.componentOptions;\n  opts.propsData = vnodeComponentOptions.propsData;\n  opts._parentListeners = vnodeComponentOptions.listeners;\n  opts._renderChildren = vnodeComponentOptions.children;\n  opts._componentTag = vnodeComponentOptions.tag;\n\n  if (options.render) {\n    opts.render = options.render;\n    opts.staticRenderFns = options.staticRenderFns;\n  }\n}\n\nfunction resolveConstructorOptions (Ctor) {\n  var options = Ctor.options;\n  if (Ctor.super) {\n    var superOptions = resolveConstructorOptions(Ctor.super);\n    var cachedSuperOptions = Ctor.superOptions;\n    if (superOptions !== cachedSuperOptions) {\n      // super option changed,\n      // need to resolve new options.\n      Ctor.superOptions = superOptions;\n      // check if there are any late-modified/attached options (#4976)\n      var modifiedOptions = resolveModifiedOptions(Ctor);\n      // update base extend options\n      if (modifiedOptions) {\n        extend(Ctor.extendOptions, modifiedOptions);\n      }\n      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);\n      if (options.name) {\n        options.components[options.name] = Ctor;\n      }\n    }\n  }\n  return options\n}\n\nfunction resolveModifiedOptions (Ctor) {\n  var modified;\n  var latest = Ctor.options;\n  var sealed = Ctor.sealedOptions;\n  for (var key in latest) {\n    if (latest[key] !== sealed[key]) {\n      if (!modified) { modified = {}; }\n      modified[key] = latest[key];\n    }\n  }\n  return modified\n}\n\nfunction Vue (options) {\n  if (process.env.NODE_ENV !== 'production' &&\n    !(this instanceof Vue)\n  ) {\n    warn('Vue is a constructor and should be called with the `new` keyword');\n  }\n  this._init(options);\n}\n\ninitMixin(Vue);\nstateMixin(Vue);\neventsMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\n/*  */\n\nfunction initUse (Vue) {\n  Vue.use = function (plugin) {\n    var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));\n    if (installedPlugins.indexOf(plugin) > -1) {\n      return this\n    }\n\n    // additional parameters\n    var args = toArray(arguments, 1);\n    args.unshift(this);\n    if (typeof plugin.install === 'function') {\n      plugin.install.apply(plugin, args);\n    } else if (typeof plugin === 'function') {\n      plugin.apply(null, args);\n    }\n    installedPlugins.push(plugin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initMixin$1 (Vue) {\n  Vue.mixin = function (mixin) {\n    this.options = mergeOptions(this.options, mixin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initExtend (Vue) {\n  /**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped \"child\n   * constructors\" for prototypal inheritance and cache them.\n   */\n  Vue.cid = 0;\n  var cid = 1;\n\n  /**\n   * Class inheritance\n   */\n  Vue.extend = function (extendOptions) {\n    extendOptions = extendOptions || {};\n    var Super = this;\n    var SuperId = Super.cid;\n    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});\n    if (cachedCtors[SuperId]) {\n      return cachedCtors[SuperId]\n    }\n\n    var name = extendOptions.name || Super.options.name;\n    if (process.env.NODE_ENV !== 'production' && name) {\n      validateComponentName(name);\n    }\n\n    var Sub = function VueComponent (options) {\n      this._init(options);\n    };\n    Sub.prototype = Object.create(Super.prototype);\n    Sub.prototype.constructor = Sub;\n    Sub.cid = cid++;\n    Sub.options = mergeOptions(\n      Super.options,\n      extendOptions\n    );\n    Sub['super'] = Super;\n\n    // For props and computed properties, we define the proxy getters on\n    // the Vue instances at extension time, on the extended prototype. This\n    // avoids Object.defineProperty calls for each instance created.\n    if (Sub.options.props) {\n      initProps$1(Sub);\n    }\n    if (Sub.options.computed) {\n      initComputed$1(Sub);\n    }\n\n    // allow further extension/mixin/plugin usage\n    Sub.extend = Super.extend;\n    Sub.mixin = Super.mixin;\n    Sub.use = Super.use;\n\n    // create asset registers, so extended classes\n    // can have their private assets too.\n    ASSET_TYPES.forEach(function (type) {\n      Sub[type] = Super[type];\n    });\n    // enable recursive self-lookup\n    if (name) {\n      Sub.options.components[name] = Sub;\n    }\n\n    // keep a reference to the super options at extension time.\n    // later at instantiation we can check if Super's options have\n    // been updated.\n    Sub.superOptions = Super.options;\n    Sub.extendOptions = extendOptions;\n    Sub.sealedOptions = extend({}, Sub.options);\n\n    // cache constructor\n    cachedCtors[SuperId] = Sub;\n    return Sub\n  };\n}\n\nfunction initProps$1 (Comp) {\n  var props = Comp.options.props;\n  for (var key in props) {\n    proxy(Comp.prototype, \"_props\", key);\n  }\n}\n\nfunction initComputed$1 (Comp) {\n  var computed = Comp.options.computed;\n  for (var key in computed) {\n    defineComputed(Comp.prototype, key, computed[key]);\n  }\n}\n\n/*  */\n\nfunction initAssetRegisters (Vue) {\n  /**\n   * Create asset registration methods.\n   */\n  ASSET_TYPES.forEach(function (type) {\n    Vue[type] = function (\n      id,\n      definition\n    ) {\n      if (!definition) {\n        return this.options[type + 's'][id]\n      } else {\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && type === 'component') {\n          validateComponentName(id);\n        }\n        if (type === 'component' && isPlainObject(definition)) {\n          definition.name = definition.name || id;\n          definition = this.options._base.extend(definition);\n        }\n        if (type === 'directive' && typeof definition === 'function') {\n          definition = { bind: definition, update: definition };\n        }\n        this.options[type + 's'][id] = definition;\n        return definition\n      }\n    };\n  });\n}\n\n/*  */\n\n\n\nfunction getComponentName (opts) {\n  return opts && (opts.Ctor.options.name || opts.tag)\n}\n\nfunction matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1\n  } else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name)\n  }\n  /* istanbul ignore next */\n  return false\n}\n\nfunction pruneCache (keepAliveInstance, filter) {\n  var cache = keepAliveInstance.cache;\n  var keys = keepAliveInstance.keys;\n  var _vnode = keepAliveInstance._vnode;\n  for (var key in cache) {\n    var cachedNode = cache[key];\n    if (cachedNode) {\n      var name = getComponentName(cachedNode.componentOptions);\n      if (name && !filter(name)) {\n        pruneCacheEntry(cache, key, keys, _vnode);\n      }\n    }\n  }\n}\n\nfunction pruneCacheEntry (\n  cache,\n  key,\n  keys,\n  current\n) {\n  var cached$$1 = cache[key];\n  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {\n    cached$$1.componentInstance.$destroy();\n  }\n  cache[key] = null;\n  remove(keys, key);\n}\n\nvar patternTypes = [String, RegExp, Array];\n\nvar KeepAlive = {\n  name: 'keep-alive',\n  abstract: true,\n\n  props: {\n    include: patternTypes,\n    exclude: patternTypes,\n    max: [String, Number]\n  },\n\n  created: function created () {\n    this.cache = Object.create(null);\n    this.keys = [];\n  },\n\n  destroyed: function destroyed () {\n    for (var key in this.cache) {\n      pruneCacheEntry(this.cache, key, this.keys);\n    }\n  },\n\n  mounted: function mounted () {\n    var this$1 = this;\n\n    this.$watch('include', function (val) {\n      pruneCache(this$1, function (name) { return matches(val, name); });\n    });\n    this.$watch('exclude', function (val) {\n      pruneCache(this$1, function (name) { return !matches(val, name); });\n    });\n  },\n\n  render: function render () {\n    var slot = this.$slots.default;\n    var vnode = getFirstComponentChild(slot);\n    var componentOptions = vnode && vnode.componentOptions;\n    if (componentOptions) {\n      // check pattern\n      var name = getComponentName(componentOptions);\n      var ref = this;\n      var include = ref.include;\n      var exclude = ref.exclude;\n      if (\n        // not included\n        (include && (!name || !matches(include, name))) ||\n        // excluded\n        (exclude && name && matches(exclude, name))\n      ) {\n        return vnode\n      }\n\n      var ref$1 = this;\n      var cache = ref$1.cache;\n      var keys = ref$1.keys;\n      var key = vnode.key == null\n        // same constructor may get registered as different local components\n        // so cid alone is not enough (#3269)\n        ? componentOptions.Ctor.cid + (componentOptions.tag ? (\"::\" + (componentOptions.tag)) : '')\n        : vnode.key;\n      if (cache[key]) {\n        vnode.componentInstance = cache[key].componentInstance;\n        // make current key freshest\n        remove(keys, key);\n        keys.push(key);\n      } else {\n        cache[key] = vnode;\n        keys.push(key);\n        // prune oldest entry\n        if (this.max && keys.length > parseInt(this.max)) {\n          pruneCacheEntry(cache, keys[0], keys, this._vnode);\n        }\n      }\n\n      vnode.data.keepAlive = true;\n    }\n    return vnode || (slot && slot[0])\n  }\n};\n\nvar builtInComponents = {\n  KeepAlive: KeepAlive\n};\n\n/*  */\n\nfunction initGlobalAPI (Vue) {\n  // config\n  var configDef = {};\n  configDef.get = function () { return config; };\n  if (process.env.NODE_ENV !== 'production') {\n    configDef.set = function () {\n      warn(\n        'Do not replace the Vue.config object, set individual fields instead.'\n      );\n    };\n  }\n  Object.defineProperty(Vue, 'config', configDef);\n\n  // exposed util methods.\n  // NOTE: these are not considered part of the public API - avoid relying on\n  // them unless you are aware of the risk.\n  Vue.util = {\n    warn: warn,\n    extend: extend,\n    mergeOptions: mergeOptions,\n    defineReactive: defineReactive$$1\n  };\n\n  Vue.set = set;\n  Vue.delete = del;\n  Vue.nextTick = nextTick;\n\n  // 2.6 explicit observable API\n  Vue.observable = function (obj) {\n    observe(obj);\n    return obj\n  };\n\n  Vue.options = Object.create(null);\n  ASSET_TYPES.forEach(function (type) {\n    Vue.options[type + 's'] = Object.create(null);\n  });\n\n  // this is used to identify the \"base\" constructor to extend all plain-object\n  // components with in Weex's multi-instance scenarios.\n  Vue.options._base = Vue;\n\n  extend(Vue.options.components, builtInComponents);\n\n  initUse(Vue);\n  initMixin$1(Vue);\n  initExtend(Vue);\n  initAssetRegisters(Vue);\n}\n\ninitGlobalAPI(Vue);\n\nObject.defineProperty(Vue.prototype, '$isServer', {\n  get: isServerRendering\n});\n\nObject.defineProperty(Vue.prototype, '$ssrContext', {\n  get: function get () {\n    /* istanbul ignore next */\n    return this.$vnode && this.$vnode.ssrContext\n  }\n});\n\n// expose FunctionalRenderContext for ssr runtime helper installation\nObject.defineProperty(Vue, 'FunctionalRenderContext', {\n  value: FunctionalRenderContext\n});\n\nVue.version = '2.6.11';\n\n/*  */\n\n// these are reserved for web because they are directly compiled away\n// during template compilation\nvar isReservedAttr = makeMap('style,class');\n\n// attributes that should be using props for binding\nvar acceptValue = makeMap('input,textarea,option,select,progress');\nvar mustUseProp = function (tag, type, attr) {\n  return (\n    (attr === 'value' && acceptValue(tag)) && type !== 'button' ||\n    (attr === 'selected' && tag === 'option') ||\n    (attr === 'checked' && tag === 'input') ||\n    (attr === 'muted' && tag === 'video')\n  )\n};\n\nvar isEnumeratedAttr = makeMap('contenteditable,draggable,spellcheck');\n\nvar isValidContentEditableValue = makeMap('events,caret,typing,plaintext-only');\n\nvar convertEnumeratedValue = function (key, value) {\n  return isFalsyAttrValue(value) || value === 'false'\n    ? 'false'\n    // allow arbitrary string value for contenteditable\n    : key === 'contenteditable' && isValidContentEditableValue(value)\n      ? value\n      : 'true'\n};\n\nvar isBooleanAttr = makeMap(\n  'allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,' +\n  'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,' +\n  'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,' +\n  'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,' +\n  'required,reversed,scoped,seamless,selected,sortable,translate,' +\n  'truespeed,typemustmatch,visible'\n);\n\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\n\nvar isXlink = function (name) {\n  return name.charAt(5) === ':' && name.slice(0, 5) === 'xlink'\n};\n\nvar getXlinkProp = function (name) {\n  return isXlink(name) ? name.slice(6, name.length) : ''\n};\n\nvar isFalsyAttrValue = function (val) {\n  return val == null || val === false\n};\n\n/*  */\n\nfunction genClassForVnode (vnode) {\n  var data = vnode.data;\n  var parentNode = vnode;\n  var childNode = vnode;\n  while (isDef(childNode.componentInstance)) {\n    childNode = childNode.componentInstance._vnode;\n    if (childNode && childNode.data) {\n      data = mergeClassData(childNode.data, data);\n    }\n  }\n  while (isDef(parentNode = parentNode.parent)) {\n    if (parentNode && parentNode.data) {\n      data = mergeClassData(data, parentNode.data);\n    }\n  }\n  return renderClass(data.staticClass, data.class)\n}\n\nfunction mergeClassData (child, parent) {\n  return {\n    staticClass: concat(child.staticClass, parent.staticClass),\n    class: isDef(child.class)\n      ? [child.class, parent.class]\n      : parent.class\n  }\n}\n\nfunction renderClass (\n  staticClass,\n  dynamicClass\n) {\n  if (isDef(staticClass) || isDef(dynamicClass)) {\n    return concat(staticClass, stringifyClass(dynamicClass))\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction concat (a, b) {\n  return a ? b ? (a + ' ' + b) : a : (b || '')\n}\n\nfunction stringifyClass (value) {\n  if (Array.isArray(value)) {\n    return stringifyArray(value)\n  }\n  if (isObject(value)) {\n    return stringifyObject(value)\n  }\n  if (typeof value === 'string') {\n    return value\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction stringifyArray (value) {\n  var res = '';\n  var stringified;\n  for (var i = 0, l = value.length; i < l; i++) {\n    if (isDef(stringified = stringifyClass(value[i])) && stringified !== '') {\n      if (res) { res += ' '; }\n      res += stringified;\n    }\n  }\n  return res\n}\n\nfunction stringifyObject (value) {\n  var res = '';\n  for (var key in value) {\n    if (value[key]) {\n      if (res) { res += ' '; }\n      res += key;\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar namespaceMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  math: 'http://www.w3.org/1998/Math/MathML'\n};\n\nvar isHTMLTag = makeMap(\n  'html,body,base,head,link,meta,style,title,' +\n  'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n  'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\n  'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\n  's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\n  'embed,object,param,source,canvas,script,noscript,del,ins,' +\n  'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\n  'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\n  'output,progress,select,textarea,' +\n  'details,dialog,menu,menuitem,summary,' +\n  'content,element,shadow,template,blockquote,iframe,tfoot'\n);\n\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap(\n  'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +\n  'foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\n  'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',\n  true\n);\n\nvar isReservedTag = function (tag) {\n  return isHTMLTag(tag) || isSVG(tag)\n};\n\nfunction getTagNamespace (tag) {\n  if (isSVG(tag)) {\n    return 'svg'\n  }\n  // basic support for MathML\n  // note it doesn't support other MathML elements being component roots\n  if (tag === 'math') {\n    return 'math'\n  }\n}\n\nvar unknownElementCache = Object.create(null);\nfunction isUnknownElement (tag) {\n  /* istanbul ignore if */\n  if (!inBrowser) {\n    return true\n  }\n  if (isReservedTag(tag)) {\n    return false\n  }\n  tag = tag.toLowerCase();\n  /* istanbul ignore if */\n  if (unknownElementCache[tag] != null) {\n    return unknownElementCache[tag]\n  }\n  var el = document.createElement(tag);\n  if (tag.indexOf('-') > -1) {\n    // http://stackoverflow.com/a/28210364/1070244\n    return (unknownElementCache[tag] = (\n      el.constructor === window.HTMLUnknownElement ||\n      el.constructor === window.HTMLElement\n    ))\n  } else {\n    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString()))\n  }\n}\n\nvar isTextInputType = makeMap('text,number,password,search,email,tel,url');\n\n/*  */\n\n/**\n * Query an element selector if it's not an element already.\n */\nfunction query (el) {\n  if (typeof el === 'string') {\n    var selected = document.querySelector(el);\n    if (!selected) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'Cannot find element: ' + el\n      );\n      return document.createElement('div')\n    }\n    return selected\n  } else {\n    return el\n  }\n}\n\n/*  */\n\nfunction createElement$1 (tagName, vnode) {\n  var elm = document.createElement(tagName);\n  if (tagName !== 'select') {\n    return elm\n  }\n  // false or null will remove the attribute but undefined will not\n  if (vnode.data && vnode.data.attrs && vnode.data.attrs.multiple !== undefined) {\n    elm.setAttribute('multiple', 'multiple');\n  }\n  return elm\n}\n\nfunction createElementNS (namespace, tagName) {\n  return document.createElementNS(namespaceMap[namespace], tagName)\n}\n\nfunction createTextNode (text) {\n  return document.createTextNode(text)\n}\n\nfunction createComment (text) {\n  return document.createComment(text)\n}\n\nfunction insertBefore (parentNode, newNode, referenceNode) {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild (node, child) {\n  node.removeChild(child);\n}\n\nfunction appendChild (node, child) {\n  node.appendChild(child);\n}\n\nfunction parentNode (node) {\n  return node.parentNode\n}\n\nfunction nextSibling (node) {\n  return node.nextSibling\n}\n\nfunction tagName (node) {\n  return node.tagName\n}\n\nfunction setTextContent (node, text) {\n  node.textContent = text;\n}\n\nfunction setStyleScope (node, scopeId) {\n  node.setAttribute(scopeId, '');\n}\n\nvar nodeOps = /*#__PURE__*/Object.freeze({\n  createElement: createElement$1,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  createComment: createComment,\n  insertBefore: insertBefore,\n  removeChild: removeChild,\n  appendChild: appendChild,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent,\n  setStyleScope: setStyleScope\n});\n\n/*  */\n\nvar ref = {\n  create: function create (_, vnode) {\n    registerRef(vnode);\n  },\n  update: function update (oldVnode, vnode) {\n    if (oldVnode.data.ref !== vnode.data.ref) {\n      registerRef(oldVnode, true);\n      registerRef(vnode);\n    }\n  },\n  destroy: function destroy (vnode) {\n    registerRef(vnode, true);\n  }\n};\n\nfunction registerRef (vnode, isRemoval) {\n  var key = vnode.data.ref;\n  if (!isDef(key)) { return }\n\n  var vm = vnode.context;\n  var ref = vnode.componentInstance || vnode.elm;\n  var refs = vm.$refs;\n  if (isRemoval) {\n    if (Array.isArray(refs[key])) {\n      remove(refs[key], ref);\n    } else if (refs[key] === ref) {\n      refs[key] = undefined;\n    }\n  } else {\n    if (vnode.data.refInFor) {\n      if (!Array.isArray(refs[key])) {\n        refs[key] = [ref];\n      } else if (refs[key].indexOf(ref) < 0) {\n        // $flow-disable-line\n        refs[key].push(ref);\n      }\n    } else {\n      refs[key] = ref;\n    }\n  }\n}\n\n/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (@yyx990803)\n *\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */\n\nvar emptyNode = new VNode('', {}, []);\n\nvar hooks = ['create', 'activate', 'update', 'remove', 'destroy'];\n\nfunction sameVnode (a, b) {\n  return (\n    a.key === b.key && (\n      (\n        a.tag === b.tag &&\n        a.isComment === b.isComment &&\n        isDef(a.data) === isDef(b.data) &&\n        sameInputType(a, b)\n      ) || (\n        isTrue(a.isAsyncPlaceholder) &&\n        a.asyncFactory === b.asyncFactory &&\n        isUndef(b.asyncFactory.error)\n      )\n    )\n  )\n}\n\nfunction sameInputType (a, b) {\n  if (a.tag !== 'input') { return true }\n  var i;\n  var typeA = isDef(i = a.data) && isDef(i = i.attrs) && i.type;\n  var typeB = isDef(i = b.data) && isDef(i = i.attrs) && i.type;\n  return typeA === typeB || isTextInputType(typeA) && isTextInputType(typeB)\n}\n\nfunction createKeyToOldIdx (children, beginIdx, endIdx) {\n  var i, key;\n  var map = {};\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key;\n    if (isDef(key)) { map[key] = i; }\n  }\n  return map\n}\n\nfunction createPatchFunction (backend) {\n  var i, j;\n  var cbs = {};\n\n  var modules = backend.modules;\n  var nodeOps = backend.nodeOps;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (isDef(modules[j][hooks[i]])) {\n        cbs[hooks[i]].push(modules[j][hooks[i]]);\n      }\n    }\n  }\n\n  function emptyNodeAt (elm) {\n    return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm)\n  }\n\n  function createRmCb (childElm, listeners) {\n    function remove$$1 () {\n      if (--remove$$1.listeners === 0) {\n        removeNode(childElm);\n      }\n    }\n    remove$$1.listeners = listeners;\n    return remove$$1\n  }\n\n  function removeNode (el) {\n    var parent = nodeOps.parentNode(el);\n    // element may have already been removed due to v-html / v-text\n    if (isDef(parent)) {\n      nodeOps.removeChild(parent, el);\n    }\n  }\n\n  function isUnknownElement$$1 (vnode, inVPre) {\n    return (\n      !inVPre &&\n      !vnode.ns &&\n      !(\n        config.ignoredElements.length &&\n        config.ignoredElements.some(function (ignore) {\n          return isRegExp(ignore)\n            ? ignore.test(vnode.tag)\n            : ignore === vnode.tag\n        })\n      ) &&\n      config.isUnknownElement(vnode.tag)\n    )\n  }\n\n  var creatingElmInVPre = 0;\n\n  function createElm (\n    vnode,\n    insertedVnodeQueue,\n    parentElm,\n    refElm,\n    nested,\n    ownerArray,\n    index\n  ) {\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // This vnode was used in a previous render!\n      // now it's used as a new node, overwriting its elm would cause\n      // potential patch errors down the road when it's used as an insertion\n      // reference node. Instead, we clone the node on-demand before creating\n      // associated DOM element for it.\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    vnode.isRootInsert = !nested; // for transition enter check\n    if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\n      return\n    }\n\n    var data = vnode.data;\n    var children = vnode.children;\n    var tag = vnode.tag;\n    if (isDef(tag)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (data && data.pre) {\n          creatingElmInVPre++;\n        }\n        if (isUnknownElement$$1(vnode, creatingElmInVPre)) {\n          warn(\n            'Unknown custom element: <' + tag + '> - did you ' +\n            'register the component correctly? For recursive components, ' +\n            'make sure to provide the \"name\" option.',\n            vnode.context\n          );\n        }\n      }\n\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag, vnode);\n      setScope(vnode);\n\n      /* istanbul ignore if */\n      {\n        createChildren(vnode, children, insertedVnodeQueue);\n        if (isDef(data)) {\n          invokeCreateHooks(vnode, insertedVnodeQueue);\n        }\n        insert(parentElm, vnode.elm, refElm);\n      }\n\n      if (process.env.NODE_ENV !== 'production' && data && data.pre) {\n        creatingElmInVPre--;\n      }\n    } else if (isTrue(vnode.isComment)) {\n      vnode.elm = nodeOps.createComment(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    }\n  }\n\n  function createComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i = vnode.data;\n    if (isDef(i)) {\n      var isReactivated = isDef(vnode.componentInstance) && i.keepAlive;\n      if (isDef(i = i.hook) && isDef(i = i.init)) {\n        i(vnode, false /* hydrating */);\n      }\n      // after calling the init hook, if the vnode is a child component\n      // it should've created a child instance and mounted it. the child\n      // component also has set the placeholder vnode's elm.\n      // in that case we can just return the element and be done.\n      if (isDef(vnode.componentInstance)) {\n        initComponent(vnode, insertedVnodeQueue);\n        insert(parentElm, vnode.elm, refElm);\n        if (isTrue(isReactivated)) {\n          reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm);\n        }\n        return true\n      }\n    }\n  }\n\n  function initComponent (vnode, insertedVnodeQueue) {\n    if (isDef(vnode.data.pendingInsert)) {\n      insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert);\n      vnode.data.pendingInsert = null;\n    }\n    vnode.elm = vnode.componentInstance.$el;\n    if (isPatchable(vnode)) {\n      invokeCreateHooks(vnode, insertedVnodeQueue);\n      setScope(vnode);\n    } else {\n      // empty component root.\n      // skip all element-related modules except for ref (#3455)\n      registerRef(vnode);\n      // make sure to invoke the insert hook\n      insertedVnodeQueue.push(vnode);\n    }\n  }\n\n  function reactivateComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i;\n    // hack for #4339: a reactivated component with inner transition\n    // does not trigger because the inner node's created hooks are not called\n    // again. It's not ideal to involve module-specific logic in here but\n    // there doesn't seem to be a better way to do it.\n    var innerNode = vnode;\n    while (innerNode.componentInstance) {\n      innerNode = innerNode.componentInstance._vnode;\n      if (isDef(i = innerNode.data) && isDef(i = i.transition)) {\n        for (i = 0; i < cbs.activate.length; ++i) {\n          cbs.activate[i](emptyNode, innerNode);\n        }\n        insertedVnodeQueue.push(innerNode);\n        break\n      }\n    }\n    // unlike a newly created component,\n    // a reactivated keep-alive component doesn't insert itself\n    insert(parentElm, vnode.elm, refElm);\n  }\n\n  function insert (parent, elm, ref$$1) {\n    if (isDef(parent)) {\n      if (isDef(ref$$1)) {\n        if (nodeOps.parentNode(ref$$1) === parent) {\n          nodeOps.insertBefore(parent, elm, ref$$1);\n        }\n      } else {\n        nodeOps.appendChild(parent, elm);\n      }\n    }\n  }\n\n  function createChildren (vnode, children, insertedVnodeQueue) {\n    if (Array.isArray(children)) {\n      if (process.env.NODE_ENV !== 'production') {\n        checkDuplicateKeys(children);\n      }\n      for (var i = 0; i < children.length; ++i) {\n        createElm(children[i], insertedVnodeQueue, vnode.elm, null, true, children, i);\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(String(vnode.text)));\n    }\n  }\n\n  function isPatchable (vnode) {\n    while (vnode.componentInstance) {\n      vnode = vnode.componentInstance._vnode;\n    }\n    return isDef(vnode.tag)\n  }\n\n  function invokeCreateHooks (vnode, insertedVnodeQueue) {\n    for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n      cbs.create[i$1](emptyNode, vnode);\n    }\n    i = vnode.data.hook; // Reuse variable\n    if (isDef(i)) {\n      if (isDef(i.create)) { i.create(emptyNode, vnode); }\n      if (isDef(i.insert)) { insertedVnodeQueue.push(vnode); }\n    }\n  }\n\n  // set scope id attribute for scoped CSS.\n  // this is implemented as a special case to avoid the overhead\n  // of going through the normal attribute patching process.\n  function setScope (vnode) {\n    var i;\n    if (isDef(i = vnode.fnScopeId)) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    } else {\n      var ancestor = vnode;\n      while (ancestor) {\n        if (isDef(i = ancestor.context) && isDef(i = i.$options._scopeId)) {\n          nodeOps.setStyleScope(vnode.elm, i);\n        }\n        ancestor = ancestor.parent;\n      }\n    }\n    // for slot content they should also get the scopeId from the host instance.\n    if (isDef(i = activeInstance) &&\n      i !== vnode.context &&\n      i !== vnode.fnContext &&\n      isDef(i = i.$options._scopeId)\n    ) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    }\n  }\n\n  function addVnodes (parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, false, vnodes, startIdx);\n    }\n  }\n\n  function invokeDestroyHook (vnode) {\n    var i, j;\n    var data = vnode.data;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) { i(vnode); }\n      for (i = 0; i < cbs.destroy.length; ++i) { cbs.destroy[i](vnode); }\n    }\n    if (isDef(i = vnode.children)) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j]);\n      }\n    }\n  }\n\n  function removeVnodes (vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      var ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch);\n          invokeDestroyHook(ch);\n        } else { // Text node\n          removeNode(ch.elm);\n        }\n      }\n    }\n  }\n\n  function removeAndInvokeRemoveHook (vnode, rm) {\n    if (isDef(rm) || isDef(vnode.data)) {\n      var i;\n      var listeners = cbs.remove.length + 1;\n      if (isDef(rm)) {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners;\n      } else {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners);\n      }\n      // recursively invoke hooks on child component root node\n      if (isDef(i = vnode.componentInstance) && isDef(i = i._vnode) && isDef(i.data)) {\n        removeAndInvokeRemoveHook(i, rm);\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm);\n      }\n      if (isDef(i = vnode.data.hook) && isDef(i = i.remove)) {\n        i(vnode, rm);\n      } else {\n        rm();\n      }\n    } else {\n      removeNode(vnode.elm);\n    }\n  }\n\n  function updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx, idxInOld, vnodeToMove, refElm;\n\n    // removeOnly is a special flag used only by <transition-group>\n    // to ensure removed elements stay in correct relative positions\n    // during leaving transitions\n    var canMove = !removeOnly;\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkDuplicateKeys(newCh);\n    }\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (isUndef(oldKeyToIdx)) { oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx); }\n        idxInOld = isDef(newStartVnode.key)\n          ? oldKeyToIdx[newStartVnode.key]\n          : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);\n        if (isUndef(idxInOld)) { // New element\n          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n        } else {\n          vnodeToMove = oldCh[idxInOld];\n          if (sameVnode(vnodeToMove, newStartVnode)) {\n            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n            oldCh[idxInOld] = undefined;\n            canMove && nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm);\n          } else {\n            // same key but different element. treat as new element\n            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n          }\n        }\n        newStartVnode = newCh[++newStartIdx];\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;\n      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function checkDuplicateKeys (children) {\n    var seenKeys = {};\n    for (var i = 0; i < children.length; i++) {\n      var vnode = children[i];\n      var key = vnode.key;\n      if (isDef(key)) {\n        if (seenKeys[key]) {\n          warn(\n            (\"Duplicate keys detected: '\" + key + \"'. This may cause an update error.\"),\n            vnode.context\n          );\n        } else {\n          seenKeys[key] = true;\n        }\n      }\n    }\n  }\n\n  function findIdxInOld (node, oldCh, start, end) {\n    for (var i = start; i < end; i++) {\n      var c = oldCh[i];\n      if (isDef(c) && sameVnode(node, c)) { return i }\n    }\n  }\n\n  function patchVnode (\n    oldVnode,\n    vnode,\n    insertedVnodeQueue,\n    ownerArray,\n    index,\n    removeOnly\n  ) {\n    if (oldVnode === vnode) {\n      return\n    }\n\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // clone reused vnode\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    var elm = vnode.elm = oldVnode.elm;\n\n    if (isTrue(oldVnode.isAsyncPlaceholder)) {\n      if (isDef(vnode.asyncFactory.resolved)) {\n        hydrate(oldVnode.elm, vnode, insertedVnodeQueue);\n      } else {\n        vnode.isAsyncPlaceholder = true;\n      }\n      return\n    }\n\n    // reuse element for static trees.\n    // note we only do this if the vnode is cloned -\n    // if the new node is not cloned it means the render functions have been\n    // reset by the hot-reload-api and we need to do a proper re-render.\n    if (isTrue(vnode.isStatic) &&\n      isTrue(oldVnode.isStatic) &&\n      vnode.key === oldVnode.key &&\n      (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))\n    ) {\n      vnode.componentInstance = oldVnode.componentInstance;\n      return\n    }\n\n    var i;\n    var data = vnode.data;\n    if (isDef(data) && isDef(i = data.hook) && isDef(i = i.prepatch)) {\n      i(oldVnode, vnode);\n    }\n\n    var oldCh = oldVnode.children;\n    var ch = vnode.children;\n    if (isDef(data) && isPatchable(vnode)) {\n      for (i = 0; i < cbs.update.length; ++i) { cbs.update[i](oldVnode, vnode); }\n      if (isDef(i = data.hook) && isDef(i = i.update)) { i(oldVnode, vnode); }\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) { updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly); }\n      } else if (isDef(ch)) {\n        if (process.env.NODE_ENV !== 'production') {\n          checkDuplicateKeys(ch);\n        }\n        if (isDef(oldVnode.text)) { nodeOps.setTextContent(elm, ''); }\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(oldCh, 0, oldCh.length - 1);\n      } else if (isDef(oldVnode.text)) {\n        nodeOps.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      nodeOps.setTextContent(elm, vnode.text);\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.postpatch)) { i(oldVnode, vnode); }\n    }\n  }\n\n  function invokeInsertHook (vnode, queue, initial) {\n    // delay insert hooks for component root nodes, invoke them after the\n    // element is really inserted\n    if (isTrue(initial) && isDef(vnode.parent)) {\n      vnode.parent.data.pendingInsert = queue;\n    } else {\n      for (var i = 0; i < queue.length; ++i) {\n        queue[i].data.hook.insert(queue[i]);\n      }\n    }\n  }\n\n  var hydrationBailed = false;\n  // list of modules that can skip create hook during hydration because they\n  // are already rendered on the client or has no need for initialization\n  // Note: style is excluded because it relies on initial clone for future\n  // deep updates (#7063).\n  var isRenderedModule = makeMap('attrs,class,staticClass,staticStyle,key');\n\n  // Note: this is a browser-only function so we can assume elms are DOM nodes.\n  function hydrate (elm, vnode, insertedVnodeQueue, inVPre) {\n    var i;\n    var tag = vnode.tag;\n    var data = vnode.data;\n    var children = vnode.children;\n    inVPre = inVPre || (data && data.pre);\n    vnode.elm = elm;\n\n    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n      vnode.isAsyncPlaceholder = true;\n      return true\n    }\n    // assert node match\n    if (process.env.NODE_ENV !== 'production') {\n      if (!assertNodeMatch(elm, vnode, inVPre)) {\n        return false\n      }\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) { i(vnode, true /* hydrating */); }\n      if (isDef(i = vnode.componentInstance)) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue);\n        return true\n      }\n    }\n    if (isDef(tag)) {\n      if (isDef(children)) {\n        // empty element, allow client to pick up and populate children\n        if (!elm.hasChildNodes()) {\n          createChildren(vnode, children, insertedVnodeQueue);\n        } else {\n          // v-html and domProps: innerHTML\n          if (isDef(i = data) && isDef(i = i.domProps) && isDef(i = i.innerHTML)) {\n            if (i !== elm.innerHTML) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('server innerHTML: ', i);\n                console.warn('client innerHTML: ', elm.innerHTML);\n              }\n              return false\n            }\n          } else {\n            // iterate and compare children lists\n            var childrenMatch = true;\n            var childNode = elm.firstChild;\n            for (var i$1 = 0; i$1 < children.length; i$1++) {\n              if (!childNode || !hydrate(childNode, children[i$1], insertedVnodeQueue, inVPre)) {\n                childrenMatch = false;\n                break\n              }\n              childNode = childNode.nextSibling;\n            }\n            // if childNode is not null, it means the actual childNodes list is\n            // longer than the virtual children list.\n            if (!childrenMatch || childNode) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('Mismatching childNodes vs. VNodes: ', elm.childNodes, children);\n              }\n              return false\n            }\n          }\n        }\n      }\n      if (isDef(data)) {\n        var fullInvoke = false;\n        for (var key in data) {\n          if (!isRenderedModule(key)) {\n            fullInvoke = true;\n            invokeCreateHooks(vnode, insertedVnodeQueue);\n            break\n          }\n        }\n        if (!fullInvoke && data['class']) {\n          // ensure collecting deps for deep class bindings for future updates\n          traverse(data['class']);\n        }\n      }\n    } else if (elm.data !== vnode.text) {\n      elm.data = vnode.text;\n    }\n    return true\n  }\n\n  function assertNodeMatch (node, vnode, inVPre) {\n    if (isDef(vnode.tag)) {\n      return vnode.tag.indexOf('vue-component') === 0 || (\n        !isUnknownElement$$1(vnode, inVPre) &&\n        vnode.tag.toLowerCase() === (node.tagName && node.tagName.toLowerCase())\n      )\n    } else {\n      return node.nodeType === (vnode.isComment ? 8 : 3)\n    }\n  }\n\n  return function patch (oldVnode, vnode, hydrating, removeOnly) {\n    if (isUndef(vnode)) {\n      if (isDef(oldVnode)) { invokeDestroyHook(oldVnode); }\n      return\n    }\n\n    var isInitialPatch = false;\n    var insertedVnodeQueue = [];\n\n    if (isUndef(oldVnode)) {\n      // empty mount (likely as component), create new root element\n      isInitialPatch = true;\n      createElm(vnode, insertedVnodeQueue);\n    } else {\n      var isRealElement = isDef(oldVnode.nodeType);\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\n        // patch existing root node\n        patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly);\n      } else {\n        if (isRealElement) {\n          // mounting to a real element\n          // check if this is server-rendered content and if we can perform\n          // a successful hydration.\n          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n            oldVnode.removeAttribute(SSR_ATTR);\n            hydrating = true;\n          }\n          if (isTrue(hydrating)) {\n            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n              invokeInsertHook(vnode, insertedVnodeQueue, true);\n              return oldVnode\n            } else if (process.env.NODE_ENV !== 'production') {\n              warn(\n                'The client-side rendered virtual DOM tree is not matching ' +\n                'server-rendered content. This is likely caused by incorrect ' +\n                'HTML markup, for example nesting block-level elements inside ' +\n                '<p>, or missing <tbody>. Bailing hydration and performing ' +\n                'full client-side render.'\n              );\n            }\n          }\n          // either not server-rendered, or hydration failed.\n          // create an empty node and replace it\n          oldVnode = emptyNodeAt(oldVnode);\n        }\n\n        // replacing existing element\n        var oldElm = oldVnode.elm;\n        var parentElm = nodeOps.parentNode(oldElm);\n\n        // create new node\n        createElm(\n          vnode,\n          insertedVnodeQueue,\n          // extremely rare edge case: do not insert if old element is in a\n          // leaving transition. Only happens when combining transition +\n          // keep-alive + HOCs. (#4590)\n          oldElm._leaveCb ? null : parentElm,\n          nodeOps.nextSibling(oldElm)\n        );\n\n        // update parent placeholder node element, recursively\n        if (isDef(vnode.parent)) {\n          var ancestor = vnode.parent;\n          var patchable = isPatchable(vnode);\n          while (ancestor) {\n            for (var i = 0; i < cbs.destroy.length; ++i) {\n              cbs.destroy[i](ancestor);\n            }\n            ancestor.elm = vnode.elm;\n            if (patchable) {\n              for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n                cbs.create[i$1](emptyNode, ancestor);\n              }\n              // #6513\n              // invoke insert hooks that may have been merged by create hooks.\n              // e.g. for directives that uses the \"inserted\" hook.\n              var insert = ancestor.data.hook.insert;\n              if (insert.merged) {\n                // start at index 1 to avoid re-invoking component mounted hook\n                for (var i$2 = 1; i$2 < insert.fns.length; i$2++) {\n                  insert.fns[i$2]();\n                }\n              }\n            } else {\n              registerRef(ancestor);\n            }\n            ancestor = ancestor.parent;\n          }\n        }\n\n        // destroy old node\n        if (isDef(parentElm)) {\n          removeVnodes([oldVnode], 0, 0);\n        } else if (isDef(oldVnode.tag)) {\n          invokeDestroyHook(oldVnode);\n        }\n      }\n    }\n\n    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch);\n    return vnode.elm\n  }\n}\n\n/*  */\n\nvar directives = {\n  create: updateDirectives,\n  update: updateDirectives,\n  destroy: function unbindDirectives (vnode) {\n    updateDirectives(vnode, emptyNode);\n  }\n};\n\nfunction updateDirectives (oldVnode, vnode) {\n  if (oldVnode.data.directives || vnode.data.directives) {\n    _update(oldVnode, vnode);\n  }\n}\n\nfunction _update (oldVnode, vnode) {\n  var isCreate = oldVnode === emptyNode;\n  var isDestroy = vnode === emptyNode;\n  var oldDirs = normalizeDirectives$1(oldVnode.data.directives, oldVnode.context);\n  var newDirs = normalizeDirectives$1(vnode.data.directives, vnode.context);\n\n  var dirsWithInsert = [];\n  var dirsWithPostpatch = [];\n\n  var key, oldDir, dir;\n  for (key in newDirs) {\n    oldDir = oldDirs[key];\n    dir = newDirs[key];\n    if (!oldDir) {\n      // new directive, bind\n      callHook$1(dir, 'bind', vnode, oldVnode);\n      if (dir.def && dir.def.inserted) {\n        dirsWithInsert.push(dir);\n      }\n    } else {\n      // existing directive, update\n      dir.oldValue = oldDir.value;\n      dir.oldArg = oldDir.arg;\n      callHook$1(dir, 'update', vnode, oldVnode);\n      if (dir.def && dir.def.componentUpdated) {\n        dirsWithPostpatch.push(dir);\n      }\n    }\n  }\n\n  if (dirsWithInsert.length) {\n    var callInsert = function () {\n      for (var i = 0; i < dirsWithInsert.length; i++) {\n        callHook$1(dirsWithInsert[i], 'inserted', vnode, oldVnode);\n      }\n    };\n    if (isCreate) {\n      mergeVNodeHook(vnode, 'insert', callInsert);\n    } else {\n      callInsert();\n    }\n  }\n\n  if (dirsWithPostpatch.length) {\n    mergeVNodeHook(vnode, 'postpatch', function () {\n      for (var i = 0; i < dirsWithPostpatch.length; i++) {\n        callHook$1(dirsWithPostpatch[i], 'componentUpdated', vnode, oldVnode);\n      }\n    });\n  }\n\n  if (!isCreate) {\n    for (key in oldDirs) {\n      if (!newDirs[key]) {\n        // no longer present, unbind\n        callHook$1(oldDirs[key], 'unbind', oldVnode, oldVnode, isDestroy);\n      }\n    }\n  }\n}\n\nvar emptyModifiers = Object.create(null);\n\nfunction normalizeDirectives$1 (\n  dirs,\n  vm\n) {\n  var res = Object.create(null);\n  if (!dirs) {\n    // $flow-disable-line\n    return res\n  }\n  var i, dir;\n  for (i = 0; i < dirs.length; i++) {\n    dir = dirs[i];\n    if (!dir.modifiers) {\n      // $flow-disable-line\n      dir.modifiers = emptyModifiers;\n    }\n    res[getRawDirName(dir)] = dir;\n    dir.def = resolveAsset(vm.$options, 'directives', dir.name, true);\n  }\n  // $flow-disable-line\n  return res\n}\n\nfunction getRawDirName (dir) {\n  return dir.rawName || ((dir.name) + \".\" + (Object.keys(dir.modifiers || {}).join('.')))\n}\n\nfunction callHook$1 (dir, hook, vnode, oldVnode, isDestroy) {\n  var fn = dir.def && dir.def[hook];\n  if (fn) {\n    try {\n      fn(vnode.elm, dir, vnode, oldVnode, isDestroy);\n    } catch (e) {\n      handleError(e, vnode.context, (\"directive \" + (dir.name) + \" \" + hook + \" hook\"));\n    }\n  }\n}\n\nvar baseModules = [\n  ref,\n  directives\n];\n\n/*  */\n\nfunction updateAttrs (oldVnode, vnode) {\n  var opts = vnode.componentOptions;\n  if (isDef(opts) && opts.Ctor.options.inheritAttrs === false) {\n    return\n  }\n  if (isUndef(oldVnode.data.attrs) && isUndef(vnode.data.attrs)) {\n    return\n  }\n  var key, cur, old;\n  var elm = vnode.elm;\n  var oldAttrs = oldVnode.data.attrs || {};\n  var attrs = vnode.data.attrs || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(attrs.__ob__)) {\n    attrs = vnode.data.attrs = extend({}, attrs);\n  }\n\n  for (key in attrs) {\n    cur = attrs[key];\n    old = oldAttrs[key];\n    if (old !== cur) {\n      setAttr(elm, key, cur);\n    }\n  }\n  // #4391: in IE9, setting type can reset value for input[type=radio]\n  // #6666: IE/Edge forces progress value down to 1 before setting a max\n  /* istanbul ignore if */\n  if ((isIE || isEdge) && attrs.value !== oldAttrs.value) {\n    setAttr(elm, 'value', attrs.value);\n  }\n  for (key in oldAttrs) {\n    if (isUndef(attrs[key])) {\n      if (isXlink(key)) {\n        elm.removeAttributeNS(xlinkNS, getXlinkProp(key));\n      } else if (!isEnumeratedAttr(key)) {\n        elm.removeAttribute(key);\n      }\n    }\n  }\n}\n\nfunction setAttr (el, key, value) {\n  if (el.tagName.indexOf('-') > -1) {\n    baseSetAttr(el, key, value);\n  } else if (isBooleanAttr(key)) {\n    // set attribute for blank value\n    // e.g. <option disabled>Select one</option>\n    if (isFalsyAttrValue(value)) {\n      el.removeAttribute(key);\n    } else {\n      // technically allowfullscreen is a boolean attribute for <iframe>,\n      // but Flash expects a value of \"true\" when used on <embed> tag\n      value = key === 'allowfullscreen' && el.tagName === 'EMBED'\n        ? 'true'\n        : key;\n      el.setAttribute(key, value);\n    }\n  } else if (isEnumeratedAttr(key)) {\n    el.setAttribute(key, convertEnumeratedValue(key, value));\n  } else if (isXlink(key)) {\n    if (isFalsyAttrValue(value)) {\n      el.removeAttributeNS(xlinkNS, getXlinkProp(key));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    baseSetAttr(el, key, value);\n  }\n}\n\nfunction baseSetAttr (el, key, value) {\n  if (isFalsyAttrValue(value)) {\n    el.removeAttribute(key);\n  } else {\n    // #7138: IE10 & 11 fires input event when setting placeholder on\n    // <textarea>... block the first input event and remove the blocker\n    // immediately.\n    /* istanbul ignore if */\n    if (\n      isIE && !isIE9 &&\n      el.tagName === 'TEXTAREA' &&\n      key === 'placeholder' && value !== '' && !el.__ieph\n    ) {\n      var blocker = function (e) {\n        e.stopImmediatePropagation();\n        el.removeEventListener('input', blocker);\n      };\n      el.addEventListener('input', blocker);\n      // $flow-disable-line\n      el.__ieph = true; /* IE placeholder patched */\n    }\n    el.setAttribute(key, value);\n  }\n}\n\nvar attrs = {\n  create: updateAttrs,\n  update: updateAttrs\n};\n\n/*  */\n\nfunction updateClass (oldVnode, vnode) {\n  var el = vnode.elm;\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n  if (\n    isUndef(data.staticClass) &&\n    isUndef(data.class) && (\n      isUndef(oldData) || (\n        isUndef(oldData.staticClass) &&\n        isUndef(oldData.class)\n      )\n    )\n  ) {\n    return\n  }\n\n  var cls = genClassForVnode(vnode);\n\n  // handle transition classes\n  var transitionClass = el._transitionClasses;\n  if (isDef(transitionClass)) {\n    cls = concat(cls, stringifyClass(transitionClass));\n  }\n\n  // set the class\n  if (cls !== el._prevClass) {\n    el.setAttribute('class', cls);\n    el._prevClass = cls;\n  }\n}\n\nvar klass = {\n  create: updateClass,\n  update: updateClass\n};\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// in some cases, the event used has to be determined at runtime\n// so we used some reserved tokens during compile.\nvar RANGE_TOKEN = '__r';\nvar CHECKBOX_RADIO_TOKEN = '__c';\n\n/*  */\n\n// normalize v-model event tokens that can only be determined at runtime.\n// it's important to place the event as the first in the array because\n// the whole point is ensuring the v-model callback gets called before\n// user-attached handlers.\nfunction normalizeEvents (on) {\n  /* istanbul ignore if */\n  if (isDef(on[RANGE_TOKEN])) {\n    // IE input[type=range] only supports `change` event\n    var event = isIE ? 'change' : 'input';\n    on[event] = [].concat(on[RANGE_TOKEN], on[event] || []);\n    delete on[RANGE_TOKEN];\n  }\n  // This was originally intended to fix #4521 but no longer necessary\n  // after 2.5. Keeping it for backwards compat with generated code from < 2.4\n  /* istanbul ignore if */\n  if (isDef(on[CHECKBOX_RADIO_TOKEN])) {\n    on.change = [].concat(on[CHECKBOX_RADIO_TOKEN], on.change || []);\n    delete on[CHECKBOX_RADIO_TOKEN];\n  }\n}\n\nvar target$1;\n\nfunction createOnceHandler$1 (event, handler, capture) {\n  var _target = target$1; // save current target element in closure\n  return function onceHandler () {\n    var res = handler.apply(null, arguments);\n    if (res !== null) {\n      remove$2(event, onceHandler, capture, _target);\n    }\n  }\n}\n\n// #9446: Firefox <= 53 (in particular, ESR 52) has incorrect Event.timeStamp\n// implementation and does not fire microtasks in between event propagation, so\n// safe to exclude.\nvar useMicrotaskFix = isUsingMicroTask && !(isFF && Number(isFF[1]) <= 53);\n\nfunction add$1 (\n  name,\n  handler,\n  capture,\n  passive\n) {\n  // async edge case #6566: inner click event triggers patch, event handler\n  // attached to outer element during patch, and triggered again. This\n  // happens because browsers fire microtask ticks between event propagation.\n  // the solution is simple: we save the timestamp when a handler is attached,\n  // and the handler would only fire if the event passed to it was fired\n  // AFTER it was attached.\n  if (useMicrotaskFix) {\n    var attachedTimestamp = currentFlushTimestamp;\n    var original = handler;\n    handler = original._wrapper = function (e) {\n      if (\n        // no bubbling, should always fire.\n        // this is just a safety net in case event.timeStamp is unreliable in\n        // certain weird environments...\n        e.target === e.currentTarget ||\n        // event is fired after handler attachment\n        e.timeStamp >= attachedTimestamp ||\n        // bail for environments that have buggy event.timeStamp implementations\n        // #9462 iOS 9 bug: event.timeStamp is 0 after history.pushState\n        // #9681 QtWebEngine event.timeStamp is negative value\n        e.timeStamp <= 0 ||\n        // #9448 bail if event is fired in another document in a multi-page\n        // electron/nw.js app, since event.timeStamp will be using a different\n        // starting reference\n        e.target.ownerDocument !== document\n      ) {\n        return original.apply(this, arguments)\n      }\n    };\n  }\n  target$1.addEventListener(\n    name,\n    handler,\n    supportsPassive\n      ? { capture: capture, passive: passive }\n      : capture\n  );\n}\n\nfunction remove$2 (\n  name,\n  handler,\n  capture,\n  _target\n) {\n  (_target || target$1).removeEventListener(\n    name,\n    handler._wrapper || handler,\n    capture\n  );\n}\n\nfunction updateDOMListeners (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.on) && isUndef(vnode.data.on)) {\n    return\n  }\n  var on = vnode.data.on || {};\n  var oldOn = oldVnode.data.on || {};\n  target$1 = vnode.elm;\n  normalizeEvents(on);\n  updateListeners(on, oldOn, add$1, remove$2, createOnceHandler$1, vnode.context);\n  target$1 = undefined;\n}\n\nvar events = {\n  create: updateDOMListeners,\n  update: updateDOMListeners\n};\n\n/*  */\n\nvar svgContainer;\n\nfunction updateDOMProps (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.domProps) && isUndef(vnode.data.domProps)) {\n    return\n  }\n  var key, cur;\n  var elm = vnode.elm;\n  var oldProps = oldVnode.data.domProps || {};\n  var props = vnode.data.domProps || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(props.__ob__)) {\n    props = vnode.data.domProps = extend({}, props);\n  }\n\n  for (key in oldProps) {\n    if (!(key in props)) {\n      elm[key] = '';\n    }\n  }\n\n  for (key in props) {\n    cur = props[key];\n    // ignore children if the node has textContent or innerHTML,\n    // as these will throw away existing DOM nodes and cause removal errors\n    // on subsequent patches (#3360)\n    if (key === 'textContent' || key === 'innerHTML') {\n      if (vnode.children) { vnode.children.length = 0; }\n      if (cur === oldProps[key]) { continue }\n      // #6601 work around Chrome version <= 55 bug where single textNode\n      // replaced by innerHTML/textContent retains its parentNode property\n      if (elm.childNodes.length === 1) {\n        elm.removeChild(elm.childNodes[0]);\n      }\n    }\n\n    if (key === 'value' && elm.tagName !== 'PROGRESS') {\n      // store value as _value as well since\n      // non-string values will be stringified\n      elm._value = cur;\n      // avoid resetting cursor position when value is the same\n      var strCur = isUndef(cur) ? '' : String(cur);\n      if (shouldUpdateValue(elm, strCur)) {\n        elm.value = strCur;\n      }\n    } else if (key === 'innerHTML' && isSVG(elm.tagName) && isUndef(elm.innerHTML)) {\n      // IE doesn't support innerHTML for SVG elements\n      svgContainer = svgContainer || document.createElement('div');\n      svgContainer.innerHTML = \"<svg>\" + cur + \"</svg>\";\n      var svg = svgContainer.firstChild;\n      while (elm.firstChild) {\n        elm.removeChild(elm.firstChild);\n      }\n      while (svg.firstChild) {\n        elm.appendChild(svg.firstChild);\n      }\n    } else if (\n      // skip the update if old and new VDOM state is the same.\n      // `value` is handled separately because the DOM value may be temporarily\n      // out of sync with VDOM state due to focus, composition and modifiers.\n      // This  #4521 by skipping the unnecesarry `checked` update.\n      cur !== oldProps[key]\n    ) {\n      // some property updates can throw\n      // e.g. `value` on <progress> w/ non-finite value\n      try {\n        elm[key] = cur;\n      } catch (e) {}\n    }\n  }\n}\n\n// check platforms/web/util/attrs.js acceptValue\n\n\nfunction shouldUpdateValue (elm, checkVal) {\n  return (!elm.composing && (\n    elm.tagName === 'OPTION' ||\n    isNotInFocusAndDirty(elm, checkVal) ||\n    isDirtyWithModifiers(elm, checkVal)\n  ))\n}\n\nfunction isNotInFocusAndDirty (elm, checkVal) {\n  // return true when textbox (.number and .trim) loses focus and its value is\n  // not equal to the updated value\n  var notInFocus = true;\n  // #6157\n  // work around IE bug when accessing document.activeElement in an iframe\n  try { notInFocus = document.activeElement !== elm; } catch (e) {}\n  return notInFocus && elm.value !== checkVal\n}\n\nfunction isDirtyWithModifiers (elm, newVal) {\n  var value = elm.value;\n  var modifiers = elm._vModifiers; // injected by v-model runtime\n  if (isDef(modifiers)) {\n    if (modifiers.number) {\n      return toNumber(value) !== toNumber(newVal)\n    }\n    if (modifiers.trim) {\n      return value.trim() !== newVal.trim()\n    }\n  }\n  return value !== newVal\n}\n\nvar domProps = {\n  create: updateDOMProps,\n  update: updateDOMProps\n};\n\n/*  */\n\nvar parseStyleText = cached(function (cssText) {\n  var res = {};\n  var listDelimiter = /;(?![^(]*\\))/g;\n  var propertyDelimiter = /:(.+)/;\n  cssText.split(listDelimiter).forEach(function (item) {\n    if (item) {\n      var tmp = item.split(propertyDelimiter);\n      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return res\n});\n\n// merge static and dynamic style data on the same vnode\nfunction normalizeStyleData (data) {\n  var style = normalizeStyleBinding(data.style);\n  // static style is pre-processed into an object during compilation\n  // and is always a fresh object, so it's safe to merge into it\n  return data.staticStyle\n    ? extend(data.staticStyle, style)\n    : style\n}\n\n// normalize possible array / string values into Object\nfunction normalizeStyleBinding (bindingStyle) {\n  if (Array.isArray(bindingStyle)) {\n    return toObject(bindingStyle)\n  }\n  if (typeof bindingStyle === 'string') {\n    return parseStyleText(bindingStyle)\n  }\n  return bindingStyle\n}\n\n/**\n * parent component style should be after child's\n * so that parent component's style could override it\n */\nfunction getStyle (vnode, checkChild) {\n  var res = {};\n  var styleData;\n\n  if (checkChild) {\n    var childNode = vnode;\n    while (childNode.componentInstance) {\n      childNode = childNode.componentInstance._vnode;\n      if (\n        childNode && childNode.data &&\n        (styleData = normalizeStyleData(childNode.data))\n      ) {\n        extend(res, styleData);\n      }\n    }\n  }\n\n  if ((styleData = normalizeStyleData(vnode.data))) {\n    extend(res, styleData);\n  }\n\n  var parentNode = vnode;\n  while ((parentNode = parentNode.parent)) {\n    if (parentNode.data && (styleData = normalizeStyleData(parentNode.data))) {\n      extend(res, styleData);\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar cssVarRE = /^--/;\nvar importantRE = /\\s*!important$/;\nvar setProp = function (el, name, val) {\n  /* istanbul ignore if */\n  if (cssVarRE.test(name)) {\n    el.style.setProperty(name, val);\n  } else if (importantRE.test(val)) {\n    el.style.setProperty(hyphenate(name), val.replace(importantRE, ''), 'important');\n  } else {\n    var normalizedName = normalize(name);\n    if (Array.isArray(val)) {\n      // Support values array created by autoprefixer, e.g.\n      // {display: [\"-webkit-box\", \"-ms-flexbox\", \"flex\"]}\n      // Set them one by one, and the browser will only set those it can recognize\n      for (var i = 0, len = val.length; i < len; i++) {\n        el.style[normalizedName] = val[i];\n      }\n    } else {\n      el.style[normalizedName] = val;\n    }\n  }\n};\n\nvar vendorNames = ['Webkit', 'Moz', 'ms'];\n\nvar emptyStyle;\nvar normalize = cached(function (prop) {\n  emptyStyle = emptyStyle || document.createElement('div').style;\n  prop = camelize(prop);\n  if (prop !== 'filter' && (prop in emptyStyle)) {\n    return prop\n  }\n  var capName = prop.charAt(0).toUpperCase() + prop.slice(1);\n  for (var i = 0; i < vendorNames.length; i++) {\n    var name = vendorNames[i] + capName;\n    if (name in emptyStyle) {\n      return name\n    }\n  }\n});\n\nfunction updateStyle (oldVnode, vnode) {\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n\n  if (isUndef(data.staticStyle) && isUndef(data.style) &&\n    isUndef(oldData.staticStyle) && isUndef(oldData.style)\n  ) {\n    return\n  }\n\n  var cur, name;\n  var el = vnode.elm;\n  var oldStaticStyle = oldData.staticStyle;\n  var oldStyleBinding = oldData.normalizedStyle || oldData.style || {};\n\n  // if static style exists, stylebinding already merged into it when doing normalizeStyleData\n  var oldStyle = oldStaticStyle || oldStyleBinding;\n\n  var style = normalizeStyleBinding(vnode.data.style) || {};\n\n  // store normalized style under a different key for next diff\n  // make sure to clone it if it's reactive, since the user likely wants\n  // to mutate it.\n  vnode.data.normalizedStyle = isDef(style.__ob__)\n    ? extend({}, style)\n    : style;\n\n  var newStyle = getStyle(vnode, true);\n\n  for (name in oldStyle) {\n    if (isUndef(newStyle[name])) {\n      setProp(el, name, '');\n    }\n  }\n  for (name in newStyle) {\n    cur = newStyle[name];\n    if (cur !== oldStyle[name]) {\n      // ie9 setting to null has no effect, must use empty string\n      setProp(el, name, cur == null ? '' : cur);\n    }\n  }\n}\n\nvar style = {\n  create: updateStyle,\n  update: updateStyle\n};\n\n/*  */\n\nvar whitespaceRE = /\\s+/;\n\n/**\n * Add class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction addClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.add(c); });\n    } else {\n      el.classList.add(cls);\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    if (cur.indexOf(' ' + cls + ' ') < 0) {\n      el.setAttribute('class', (cur + cls).trim());\n    }\n  }\n}\n\n/**\n * Remove class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction removeClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.remove(c); });\n    } else {\n      el.classList.remove(cls);\n    }\n    if (!el.classList.length) {\n      el.removeAttribute('class');\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    var tar = ' ' + cls + ' ';\n    while (cur.indexOf(tar) >= 0) {\n      cur = cur.replace(tar, ' ');\n    }\n    cur = cur.trim();\n    if (cur) {\n      el.setAttribute('class', cur);\n    } else {\n      el.removeAttribute('class');\n    }\n  }\n}\n\n/*  */\n\nfunction resolveTransition (def$$1) {\n  if (!def$$1) {\n    return\n  }\n  /* istanbul ignore else */\n  if (typeof def$$1 === 'object') {\n    var res = {};\n    if (def$$1.css !== false) {\n      extend(res, autoCssTransition(def$$1.name || 'v'));\n    }\n    extend(res, def$$1);\n    return res\n  } else if (typeof def$$1 === 'string') {\n    return autoCssTransition(def$$1)\n  }\n}\n\nvar autoCssTransition = cached(function (name) {\n  return {\n    enterClass: (name + \"-enter\"),\n    enterToClass: (name + \"-enter-to\"),\n    enterActiveClass: (name + \"-enter-active\"),\n    leaveClass: (name + \"-leave\"),\n    leaveToClass: (name + \"-leave-to\"),\n    leaveActiveClass: (name + \"-leave-active\")\n  }\n});\n\nvar hasTransition = inBrowser && !isIE9;\nvar TRANSITION = 'transition';\nvar ANIMATION = 'animation';\n\n// Transition property/event sniffing\nvar transitionProp = 'transition';\nvar transitionEndEvent = 'transitionend';\nvar animationProp = 'animation';\nvar animationEndEvent = 'animationend';\nif (hasTransition) {\n  /* istanbul ignore if */\n  if (window.ontransitionend === undefined &&\n    window.onwebkittransitionend !== undefined\n  ) {\n    transitionProp = 'WebkitTransition';\n    transitionEndEvent = 'webkitTransitionEnd';\n  }\n  if (window.onanimationend === undefined &&\n    window.onwebkitanimationend !== undefined\n  ) {\n    animationProp = 'WebkitAnimation';\n    animationEndEvent = 'webkitAnimationEnd';\n  }\n}\n\n// binding to window is necessary to make hot reload work in IE in strict mode\nvar raf = inBrowser\n  ? window.requestAnimationFrame\n    ? window.requestAnimationFrame.bind(window)\n    : setTimeout\n  : /* istanbul ignore next */ function (fn) { return fn(); };\n\nfunction nextFrame (fn) {\n  raf(function () {\n    raf(fn);\n  });\n}\n\nfunction addTransitionClass (el, cls) {\n  var transitionClasses = el._transitionClasses || (el._transitionClasses = []);\n  if (transitionClasses.indexOf(cls) < 0) {\n    transitionClasses.push(cls);\n    addClass(el, cls);\n  }\n}\n\nfunction removeTransitionClass (el, cls) {\n  if (el._transitionClasses) {\n    remove(el._transitionClasses, cls);\n  }\n  removeClass(el, cls);\n}\n\nfunction whenTransitionEnds (\n  el,\n  expectedType,\n  cb\n) {\n  var ref = getTransitionInfo(el, expectedType);\n  var type = ref.type;\n  var timeout = ref.timeout;\n  var propCount = ref.propCount;\n  if (!type) { return cb() }\n  var event = type === TRANSITION ? transitionEndEvent : animationEndEvent;\n  var ended = 0;\n  var end = function () {\n    el.removeEventListener(event, onEnd);\n    cb();\n  };\n  var onEnd = function (e) {\n    if (e.target === el) {\n      if (++ended >= propCount) {\n        end();\n      }\n    }\n  };\n  setTimeout(function () {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(event, onEnd);\n}\n\nvar transformRE = /\\b(transform|all)(,|$)/;\n\nfunction getTransitionInfo (el, expectedType) {\n  var styles = window.getComputedStyle(el);\n  // JSDOM may return undefined for transition properties\n  var transitionDelays = (styles[transitionProp + 'Delay'] || '').split(', ');\n  var transitionDurations = (styles[transitionProp + 'Duration'] || '').split(', ');\n  var transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  var animationDelays = (styles[animationProp + 'Delay'] || '').split(', ');\n  var animationDurations = (styles[animationProp + 'Duration'] || '').split(', ');\n  var animationTimeout = getTimeout(animationDelays, animationDurations);\n\n  var type;\n  var timeout = 0;\n  var propCount = 0;\n  /* istanbul ignore if */\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0\n      ? transitionTimeout > animationTimeout\n        ? TRANSITION\n        : ANIMATION\n      : null;\n    propCount = type\n      ? type === TRANSITION\n        ? transitionDurations.length\n        : animationDurations.length\n      : 0;\n  }\n  var hasTransform =\n    type === TRANSITION &&\n    transformRE.test(styles[transitionProp + 'Property']);\n  return {\n    type: type,\n    timeout: timeout,\n    propCount: propCount,\n    hasTransform: hasTransform\n  }\n}\n\nfunction getTimeout (delays, durations) {\n  /* istanbul ignore next */\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n\n  return Math.max.apply(null, durations.map(function (d, i) {\n    return toMs(d) + toMs(delays[i])\n  }))\n}\n\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer numbers\n// in a locale-dependent way, using a comma instead of a dot.\n// If comma is not replaced with a dot, the input will be rounded down (i.e. acting\n// as a floor function) causing unexpected behaviors\nfunction toMs (s) {\n  return Number(s.slice(0, -1).replace(',', '.')) * 1000\n}\n\n/*  */\n\nfunction enter (vnode, toggleDisplay) {\n  var el = vnode.elm;\n\n  // call leave callback now\n  if (isDef(el._leaveCb)) {\n    el._leaveCb.cancelled = true;\n    el._leaveCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data)) {\n    return\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._enterCb) || el.nodeType !== 1) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var enterClass = data.enterClass;\n  var enterToClass = data.enterToClass;\n  var enterActiveClass = data.enterActiveClass;\n  var appearClass = data.appearClass;\n  var appearToClass = data.appearToClass;\n  var appearActiveClass = data.appearActiveClass;\n  var beforeEnter = data.beforeEnter;\n  var enter = data.enter;\n  var afterEnter = data.afterEnter;\n  var enterCancelled = data.enterCancelled;\n  var beforeAppear = data.beforeAppear;\n  var appear = data.appear;\n  var afterAppear = data.afterAppear;\n  var appearCancelled = data.appearCancelled;\n  var duration = data.duration;\n\n  // activeInstance will always be the <transition> component managing this\n  // transition. One edge case to check is when the <transition> is placed\n  // as the root node of a child component. In that case we need to check\n  // <transition>'s parent for appear check.\n  var context = activeInstance;\n  var transitionNode = activeInstance.$vnode;\n  while (transitionNode && transitionNode.parent) {\n    context = transitionNode.context;\n    transitionNode = transitionNode.parent;\n  }\n\n  var isAppear = !context._isMounted || !vnode.isRootInsert;\n\n  if (isAppear && !appear && appear !== '') {\n    return\n  }\n\n  var startClass = isAppear && appearClass\n    ? appearClass\n    : enterClass;\n  var activeClass = isAppear && appearActiveClass\n    ? appearActiveClass\n    : enterActiveClass;\n  var toClass = isAppear && appearToClass\n    ? appearToClass\n    : enterToClass;\n\n  var beforeEnterHook = isAppear\n    ? (beforeAppear || beforeEnter)\n    : beforeEnter;\n  var enterHook = isAppear\n    ? (typeof appear === 'function' ? appear : enter)\n    : enter;\n  var afterEnterHook = isAppear\n    ? (afterAppear || afterEnter)\n    : afterEnter;\n  var enterCancelledHook = isAppear\n    ? (appearCancelled || enterCancelled)\n    : enterCancelled;\n\n  var explicitEnterDuration = toNumber(\n    isObject(duration)\n      ? duration.enter\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && explicitEnterDuration != null) {\n    checkDuration(explicitEnterDuration, 'enter', vnode);\n  }\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(enterHook);\n\n  var cb = el._enterCb = once(function () {\n    if (expectsCSS) {\n      removeTransitionClass(el, toClass);\n      removeTransitionClass(el, activeClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, startClass);\n      }\n      enterCancelledHook && enterCancelledHook(el);\n    } else {\n      afterEnterHook && afterEnterHook(el);\n    }\n    el._enterCb = null;\n  });\n\n  if (!vnode.data.show) {\n    // remove pending leave element on enter by injecting an insert hook\n    mergeVNodeHook(vnode, 'insert', function () {\n      var parent = el.parentNode;\n      var pendingNode = parent && parent._pending && parent._pending[vnode.key];\n      if (pendingNode &&\n        pendingNode.tag === vnode.tag &&\n        pendingNode.elm._leaveCb\n      ) {\n        pendingNode.elm._leaveCb();\n      }\n      enterHook && enterHook(el, cb);\n    });\n  }\n\n  // start enter transition\n  beforeEnterHook && beforeEnterHook(el);\n  if (expectsCSS) {\n    addTransitionClass(el, startClass);\n    addTransitionClass(el, activeClass);\n    nextFrame(function () {\n      removeTransitionClass(el, startClass);\n      if (!cb.cancelled) {\n        addTransitionClass(el, toClass);\n        if (!userWantsControl) {\n          if (isValidDuration(explicitEnterDuration)) {\n            setTimeout(cb, explicitEnterDuration);\n          } else {\n            whenTransitionEnds(el, type, cb);\n          }\n        }\n      }\n    });\n  }\n\n  if (vnode.data.show) {\n    toggleDisplay && toggleDisplay();\n    enterHook && enterHook(el, cb);\n  }\n\n  if (!expectsCSS && !userWantsControl) {\n    cb();\n  }\n}\n\nfunction leave (vnode, rm) {\n  var el = vnode.elm;\n\n  // call enter callback now\n  if (isDef(el._enterCb)) {\n    el._enterCb.cancelled = true;\n    el._enterCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data) || el.nodeType !== 1) {\n    return rm()\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._leaveCb)) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var leaveClass = data.leaveClass;\n  var leaveToClass = data.leaveToClass;\n  var leaveActiveClass = data.leaveActiveClass;\n  var beforeLeave = data.beforeLeave;\n  var leave = data.leave;\n  var afterLeave = data.afterLeave;\n  var leaveCancelled = data.leaveCancelled;\n  var delayLeave = data.delayLeave;\n  var duration = data.duration;\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(leave);\n\n  var explicitLeaveDuration = toNumber(\n    isObject(duration)\n      ? duration.leave\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && isDef(explicitLeaveDuration)) {\n    checkDuration(explicitLeaveDuration, 'leave', vnode);\n  }\n\n  var cb = el._leaveCb = once(function () {\n    if (el.parentNode && el.parentNode._pending) {\n      el.parentNode._pending[vnode.key] = null;\n    }\n    if (expectsCSS) {\n      removeTransitionClass(el, leaveToClass);\n      removeTransitionClass(el, leaveActiveClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, leaveClass);\n      }\n      leaveCancelled && leaveCancelled(el);\n    } else {\n      rm();\n      afterLeave && afterLeave(el);\n    }\n    el._leaveCb = null;\n  });\n\n  if (delayLeave) {\n    delayLeave(performLeave);\n  } else {\n    performLeave();\n  }\n\n  function performLeave () {\n    // the delayed leave may have already been cancelled\n    if (cb.cancelled) {\n      return\n    }\n    // record leaving element\n    if (!vnode.data.show && el.parentNode) {\n      (el.parentNode._pending || (el.parentNode._pending = {}))[(vnode.key)] = vnode;\n    }\n    beforeLeave && beforeLeave(el);\n    if (expectsCSS) {\n      addTransitionClass(el, leaveClass);\n      addTransitionClass(el, leaveActiveClass);\n      nextFrame(function () {\n        removeTransitionClass(el, leaveClass);\n        if (!cb.cancelled) {\n          addTransitionClass(el, leaveToClass);\n          if (!userWantsControl) {\n            if (isValidDuration(explicitLeaveDuration)) {\n              setTimeout(cb, explicitLeaveDuration);\n            } else {\n              whenTransitionEnds(el, type, cb);\n            }\n          }\n        }\n      });\n    }\n    leave && leave(el, cb);\n    if (!expectsCSS && !userWantsControl) {\n      cb();\n    }\n  }\n}\n\n// only used in dev mode\nfunction checkDuration (val, name, vnode) {\n  if (typeof val !== 'number') {\n    warn(\n      \"<transition> explicit \" + name + \" duration is not a valid number - \" +\n      \"got \" + (JSON.stringify(val)) + \".\",\n      vnode.context\n    );\n  } else if (isNaN(val)) {\n    warn(\n      \"<transition> explicit \" + name + \" duration is NaN - \" +\n      'the duration expression might be incorrect.',\n      vnode.context\n    );\n  }\n}\n\nfunction isValidDuration (val) {\n  return typeof val === 'number' && !isNaN(val)\n}\n\n/**\n * Normalize a transition hook's argument length. The hook may be:\n * - a merged hook (invoker) with the original in .fns\n * - a wrapped component method (check ._length)\n * - a plain function (.length)\n */\nfunction getHookArgumentsLength (fn) {\n  if (isUndef(fn)) {\n    return false\n  }\n  var invokerFns = fn.fns;\n  if (isDef(invokerFns)) {\n    // invoker\n    return getHookArgumentsLength(\n      Array.isArray(invokerFns)\n        ? invokerFns[0]\n        : invokerFns\n    )\n  } else {\n    return (fn._length || fn.length) > 1\n  }\n}\n\nfunction _enter (_, vnode) {\n  if (vnode.data.show !== true) {\n    enter(vnode);\n  }\n}\n\nvar transition = inBrowser ? {\n  create: _enter,\n  activate: _enter,\n  remove: function remove$$1 (vnode, rm) {\n    /* istanbul ignore else */\n    if (vnode.data.show !== true) {\n      leave(vnode, rm);\n    } else {\n      rm();\n    }\n  }\n} : {};\n\nvar platformModules = [\n  attrs,\n  klass,\n  events,\n  domProps,\n  style,\n  transition\n];\n\n/*  */\n\n// the directive module should be applied last, after all\n// built-in modules have been applied.\nvar modules = platformModules.concat(baseModules);\n\nvar patch = createPatchFunction({ nodeOps: nodeOps, modules: modules });\n\n/**\n * Not type checking this file because flow doesn't like attaching\n * properties to Elements.\n */\n\n/* istanbul ignore if */\nif (isIE9) {\n  // http://www.matts411.com/post/internet-explorer-9-oninput/\n  document.addEventListener('selectionchange', function () {\n    var el = document.activeElement;\n    if (el && el.vmodel) {\n      trigger(el, 'input');\n    }\n  });\n}\n\nvar directive = {\n  inserted: function inserted (el, binding, vnode, oldVnode) {\n    if (vnode.tag === 'select') {\n      // #6903\n      if (oldVnode.elm && !oldVnode.elm._vOptions) {\n        mergeVNodeHook(vnode, 'postpatch', function () {\n          directive.componentUpdated(el, binding, vnode);\n        });\n      } else {\n        setSelected(el, binding, vnode.context);\n      }\n      el._vOptions = [].map.call(el.options, getValue);\n    } else if (vnode.tag === 'textarea' || isTextInputType(el.type)) {\n      el._vModifiers = binding.modifiers;\n      if (!binding.modifiers.lazy) {\n        el.addEventListener('compositionstart', onCompositionStart);\n        el.addEventListener('compositionend', onCompositionEnd);\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        el.addEventListener('change', onCompositionEnd);\n        /* istanbul ignore if */\n        if (isIE9) {\n          el.vmodel = true;\n        }\n      }\n    }\n  },\n\n  componentUpdated: function componentUpdated (el, binding, vnode) {\n    if (vnode.tag === 'select') {\n      setSelected(el, binding, vnode.context);\n      // in case the options rendered by v-for have changed,\n      // it's possible that the value is out-of-sync with the rendered options.\n      // detect such cases and filter out values that no longer has a matching\n      // option in the DOM.\n      var prevOptions = el._vOptions;\n      var curOptions = el._vOptions = [].map.call(el.options, getValue);\n      if (curOptions.some(function (o, i) { return !looseEqual(o, prevOptions[i]); })) {\n        // trigger change event if\n        // no matching option found for at least one value\n        var needReset = el.multiple\n          ? binding.value.some(function (v) { return hasNoMatchingOption(v, curOptions); })\n          : binding.value !== binding.oldValue && hasNoMatchingOption(binding.value, curOptions);\n        if (needReset) {\n          trigger(el, 'change');\n        }\n      }\n    }\n  }\n};\n\nfunction setSelected (el, binding, vm) {\n  actuallySetSelected(el, binding, vm);\n  /* istanbul ignore if */\n  if (isIE || isEdge) {\n    setTimeout(function () {\n      actuallySetSelected(el, binding, vm);\n    }, 0);\n  }\n}\n\nfunction actuallySetSelected (el, binding, vm) {\n  var value = binding.value;\n  var isMultiple = el.multiple;\n  if (isMultiple && !Array.isArray(value)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"<select multiple v-model=\\\"\" + (binding.expression) + \"\\\"> \" +\n      \"expects an Array value for its binding, but got \" + (Object.prototype.toString.call(value).slice(8, -1)),\n      vm\n    );\n    return\n  }\n  var selected, option;\n  for (var i = 0, l = el.options.length; i < l; i++) {\n    option = el.options[i];\n    if (isMultiple) {\n      selected = looseIndexOf(value, getValue(option)) > -1;\n      if (option.selected !== selected) {\n        option.selected = selected;\n      }\n    } else {\n      if (looseEqual(getValue(option), value)) {\n        if (el.selectedIndex !== i) {\n          el.selectedIndex = i;\n        }\n        return\n      }\n    }\n  }\n  if (!isMultiple) {\n    el.selectedIndex = -1;\n  }\n}\n\nfunction hasNoMatchingOption (value, options) {\n  return options.every(function (o) { return !looseEqual(o, value); })\n}\n\nfunction getValue (option) {\n  return '_value' in option\n    ? option._value\n    : option.value\n}\n\nfunction onCompositionStart (e) {\n  e.target.composing = true;\n}\n\nfunction onCompositionEnd (e) {\n  // prevent triggering an input event for no reason\n  if (!e.target.composing) { return }\n  e.target.composing = false;\n  trigger(e.target, 'input');\n}\n\nfunction trigger (el, type) {\n  var e = document.createEvent('HTMLEvents');\n  e.initEvent(type, true, true);\n  el.dispatchEvent(e);\n}\n\n/*  */\n\n// recursively search for possible transition defined inside the component root\nfunction locateNode (vnode) {\n  return vnode.componentInstance && (!vnode.data || !vnode.data.transition)\n    ? locateNode(vnode.componentInstance._vnode)\n    : vnode\n}\n\nvar show = {\n  bind: function bind (el, ref, vnode) {\n    var value = ref.value;\n\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    var originalDisplay = el.__vOriginalDisplay =\n      el.style.display === 'none' ? '' : el.style.display;\n    if (value && transition$$1) {\n      vnode.data.show = true;\n      enter(vnode, function () {\n        el.style.display = originalDisplay;\n      });\n    } else {\n      el.style.display = value ? originalDisplay : 'none';\n    }\n  },\n\n  update: function update (el, ref, vnode) {\n    var value = ref.value;\n    var oldValue = ref.oldValue;\n\n    /* istanbul ignore if */\n    if (!value === !oldValue) { return }\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    if (transition$$1) {\n      vnode.data.show = true;\n      if (value) {\n        enter(vnode, function () {\n          el.style.display = el.__vOriginalDisplay;\n        });\n      } else {\n        leave(vnode, function () {\n          el.style.display = 'none';\n        });\n      }\n    } else {\n      el.style.display = value ? el.__vOriginalDisplay : 'none';\n    }\n  },\n\n  unbind: function unbind (\n    el,\n    binding,\n    vnode,\n    oldVnode,\n    isDestroy\n  ) {\n    if (!isDestroy) {\n      el.style.display = el.__vOriginalDisplay;\n    }\n  }\n};\n\nvar platformDirectives = {\n  model: directive,\n  show: show\n};\n\n/*  */\n\nvar transitionProps = {\n  name: String,\n  appear: Boolean,\n  css: Boolean,\n  mode: String,\n  type: String,\n  enterClass: String,\n  leaveClass: String,\n  enterToClass: String,\n  leaveToClass: String,\n  enterActiveClass: String,\n  leaveActiveClass: String,\n  appearClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  duration: [Number, String, Object]\n};\n\n// in case the child is also an abstract component, e.g. <keep-alive>\n// we want to recursively retrieve the real component to be rendered\nfunction getRealChild (vnode) {\n  var compOptions = vnode && vnode.componentOptions;\n  if (compOptions && compOptions.Ctor.options.abstract) {\n    return getRealChild(getFirstComponentChild(compOptions.children))\n  } else {\n    return vnode\n  }\n}\n\nfunction extractTransitionData (comp) {\n  var data = {};\n  var options = comp.$options;\n  // props\n  for (var key in options.propsData) {\n    data[key] = comp[key];\n  }\n  // events.\n  // extract listeners and pass them directly to the transition methods\n  var listeners = options._parentListeners;\n  for (var key$1 in listeners) {\n    data[camelize(key$1)] = listeners[key$1];\n  }\n  return data\n}\n\nfunction placeholder (h, rawChild) {\n  if (/\\d-keep-alive$/.test(rawChild.tag)) {\n    return h('keep-alive', {\n      props: rawChild.componentOptions.propsData\n    })\n  }\n}\n\nfunction hasParentTransition (vnode) {\n  while ((vnode = vnode.parent)) {\n    if (vnode.data.transition) {\n      return true\n    }\n  }\n}\n\nfunction isSameChild (child, oldChild) {\n  return oldChild.key === child.key && oldChild.tag === child.tag\n}\n\nvar isNotTextNode = function (c) { return c.tag || isAsyncPlaceholder(c); };\n\nvar isVShowDirective = function (d) { return d.name === 'show'; };\n\nvar Transition = {\n  name: 'transition',\n  props: transitionProps,\n  abstract: true,\n\n  render: function render (h) {\n    var this$1 = this;\n\n    var children = this.$slots.default;\n    if (!children) {\n      return\n    }\n\n    // filter out text nodes (possible whitespaces)\n    children = children.filter(isNotTextNode);\n    /* istanbul ignore if */\n    if (!children.length) {\n      return\n    }\n\n    // warn multiple elements\n    if (process.env.NODE_ENV !== 'production' && children.length > 1) {\n      warn(\n        '<transition> can only be used on a single element. Use ' +\n        '<transition-group> for lists.',\n        this.$parent\n      );\n    }\n\n    var mode = this.mode;\n\n    // warn invalid mode\n    if (process.env.NODE_ENV !== 'production' &&\n      mode && mode !== 'in-out' && mode !== 'out-in'\n    ) {\n      warn(\n        'invalid <transition> mode: ' + mode,\n        this.$parent\n      );\n    }\n\n    var rawChild = children[0];\n\n    // if this is a component root node and the component's\n    // parent container node also has transition, skip.\n    if (hasParentTransition(this.$vnode)) {\n      return rawChild\n    }\n\n    // apply transition data to child\n    // use getRealChild() to ignore abstract components e.g. keep-alive\n    var child = getRealChild(rawChild);\n    /* istanbul ignore if */\n    if (!child) {\n      return rawChild\n    }\n\n    if (this._leaving) {\n      return placeholder(h, rawChild)\n    }\n\n    // ensure a key that is unique to the vnode type and to this transition\n    // component instance. This key will be used to remove pending leaving nodes\n    // during entering.\n    var id = \"__transition-\" + (this._uid) + \"-\";\n    child.key = child.key == null\n      ? child.isComment\n        ? id + 'comment'\n        : id + child.tag\n      : isPrimitive(child.key)\n        ? (String(child.key).indexOf(id) === 0 ? child.key : id + child.key)\n        : child.key;\n\n    var data = (child.data || (child.data = {})).transition = extractTransitionData(this);\n    var oldRawChild = this._vnode;\n    var oldChild = getRealChild(oldRawChild);\n\n    // mark v-show\n    // so that the transition module can hand over the control to the directive\n    if (child.data.directives && child.data.directives.some(isVShowDirective)) {\n      child.data.show = true;\n    }\n\n    if (\n      oldChild &&\n      oldChild.data &&\n      !isSameChild(child, oldChild) &&\n      !isAsyncPlaceholder(oldChild) &&\n      // #6687 component root is a comment node\n      !(oldChild.componentInstance && oldChild.componentInstance._vnode.isComment)\n    ) {\n      // replace old child transition data with fresh one\n      // important for dynamic transitions!\n      var oldData = oldChild.data.transition = extend({}, data);\n      // handle transition mode\n      if (mode === 'out-in') {\n        // return placeholder node and queue update when leave finishes\n        this._leaving = true;\n        mergeVNodeHook(oldData, 'afterLeave', function () {\n          this$1._leaving = false;\n          this$1.$forceUpdate();\n        });\n        return placeholder(h, rawChild)\n      } else if (mode === 'in-out') {\n        if (isAsyncPlaceholder(child)) {\n          return oldRawChild\n        }\n        var delayedLeave;\n        var performLeave = function () { delayedLeave(); };\n        mergeVNodeHook(data, 'afterEnter', performLeave);\n        mergeVNodeHook(data, 'enterCancelled', performLeave);\n        mergeVNodeHook(oldData, 'delayLeave', function (leave) { delayedLeave = leave; });\n      }\n    }\n\n    return rawChild\n  }\n};\n\n/*  */\n\nvar props = extend({\n  tag: String,\n  moveClass: String\n}, transitionProps);\n\ndelete props.mode;\n\nvar TransitionGroup = {\n  props: props,\n\n  beforeMount: function beforeMount () {\n    var this$1 = this;\n\n    var update = this._update;\n    this._update = function (vnode, hydrating) {\n      var restoreActiveInstance = setActiveInstance(this$1);\n      // force removing pass\n      this$1.__patch__(\n        this$1._vnode,\n        this$1.kept,\n        false, // hydrating\n        true // removeOnly (!important, avoids unnecessary moves)\n      );\n      this$1._vnode = this$1.kept;\n      restoreActiveInstance();\n      update.call(this$1, vnode, hydrating);\n    };\n  },\n\n  render: function render (h) {\n    var tag = this.tag || this.$vnode.data.tag || 'span';\n    var map = Object.create(null);\n    var prevChildren = this.prevChildren = this.children;\n    var rawChildren = this.$slots.default || [];\n    var children = this.children = [];\n    var transitionData = extractTransitionData(this);\n\n    for (var i = 0; i < rawChildren.length; i++) {\n      var c = rawChildren[i];\n      if (c.tag) {\n        if (c.key != null && String(c.key).indexOf('__vlist') !== 0) {\n          children.push(c);\n          map[c.key] = c\n          ;(c.data || (c.data = {})).transition = transitionData;\n        } else if (process.env.NODE_ENV !== 'production') {\n          var opts = c.componentOptions;\n          var name = opts ? (opts.Ctor.options.name || opts.tag || '') : c.tag;\n          warn((\"<transition-group> children must be keyed: <\" + name + \">\"));\n        }\n      }\n    }\n\n    if (prevChildren) {\n      var kept = [];\n      var removed = [];\n      for (var i$1 = 0; i$1 < prevChildren.length; i$1++) {\n        var c$1 = prevChildren[i$1];\n        c$1.data.transition = transitionData;\n        c$1.data.pos = c$1.elm.getBoundingClientRect();\n        if (map[c$1.key]) {\n          kept.push(c$1);\n        } else {\n          removed.push(c$1);\n        }\n      }\n      this.kept = h(tag, null, kept);\n      this.removed = removed;\n    }\n\n    return h(tag, null, children)\n  },\n\n  updated: function updated () {\n    var children = this.prevChildren;\n    var moveClass = this.moveClass || ((this.name || 'v') + '-move');\n    if (!children.length || !this.hasMove(children[0].elm, moveClass)) {\n      return\n    }\n\n    // we divide the work into three loops to avoid mixing DOM reads and writes\n    // in each iteration - which helps prevent layout thrashing.\n    children.forEach(callPendingCbs);\n    children.forEach(recordPosition);\n    children.forEach(applyTranslation);\n\n    // force reflow to put everything in position\n    // assign to this to avoid being removed in tree-shaking\n    // $flow-disable-line\n    this._reflow = document.body.offsetHeight;\n\n    children.forEach(function (c) {\n      if (c.data.moved) {\n        var el = c.elm;\n        var s = el.style;\n        addTransitionClass(el, moveClass);\n        s.transform = s.WebkitTransform = s.transitionDuration = '';\n        el.addEventListener(transitionEndEvent, el._moveCb = function cb (e) {\n          if (e && e.target !== el) {\n            return\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(transitionEndEvent, cb);\n            el._moveCb = null;\n            removeTransitionClass(el, moveClass);\n          }\n        });\n      }\n    });\n  },\n\n  methods: {\n    hasMove: function hasMove (el, moveClass) {\n      /* istanbul ignore if */\n      if (!hasTransition) {\n        return false\n      }\n      /* istanbul ignore if */\n      if (this._hasMove) {\n        return this._hasMove\n      }\n      // Detect whether an element with the move class applied has\n      // CSS transitions. Since the element may be inside an entering\n      // transition at this very moment, we make a clone of it and remove\n      // all other transition classes applied to ensure only the move class\n      // is applied.\n      var clone = el.cloneNode();\n      if (el._transitionClasses) {\n        el._transitionClasses.forEach(function (cls) { removeClass(clone, cls); });\n      }\n      addClass(clone, moveClass);\n      clone.style.display = 'none';\n      this.$el.appendChild(clone);\n      var info = getTransitionInfo(clone);\n      this.$el.removeChild(clone);\n      return (this._hasMove = info.hasTransform)\n    }\n  }\n};\n\nfunction callPendingCbs (c) {\n  /* istanbul ignore if */\n  if (c.elm._moveCb) {\n    c.elm._moveCb();\n  }\n  /* istanbul ignore if */\n  if (c.elm._enterCb) {\n    c.elm._enterCb();\n  }\n}\n\nfunction recordPosition (c) {\n  c.data.newPos = c.elm.getBoundingClientRect();\n}\n\nfunction applyTranslation (c) {\n  var oldPos = c.data.pos;\n  var newPos = c.data.newPos;\n  var dx = oldPos.left - newPos.left;\n  var dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    c.data.moved = true;\n    var s = c.elm.style;\n    s.transform = s.WebkitTransform = \"translate(\" + dx + \"px,\" + dy + \"px)\";\n    s.transitionDuration = '0s';\n  }\n}\n\nvar platformComponents = {\n  Transition: Transition,\n  TransitionGroup: TransitionGroup\n};\n\n/*  */\n\n// install platform specific utils\nVue.config.mustUseProp = mustUseProp;\nVue.config.isReservedTag = isReservedTag;\nVue.config.isReservedAttr = isReservedAttr;\nVue.config.getTagNamespace = getTagNamespace;\nVue.config.isUnknownElement = isUnknownElement;\n\n// install platform runtime directives & components\nextend(Vue.options.directives, platformDirectives);\nextend(Vue.options.components, platformComponents);\n\n// install platform patch function\nVue.prototype.__patch__ = inBrowser ? patch : noop;\n\n// public mount method\nVue.prototype.$mount = function (\n  el,\n  hydrating\n) {\n  el = el && inBrowser ? query(el) : undefined;\n  return mountComponent(this, el, hydrating)\n};\n\n// devtools global hook\n/* istanbul ignore next */\nif (inBrowser) {\n  setTimeout(function () {\n    if (config.devtools) {\n      if (devtools) {\n        devtools.emit('init', Vue);\n      } else if (\n        process.env.NODE_ENV !== 'production' &&\n        process.env.NODE_ENV !== 'test'\n      ) {\n        console[console.info ? 'info' : 'log'](\n          'Download the Vue Devtools extension for a better development experience:\\n' +\n          'https://github.com/vuejs/vue-devtools'\n        );\n      }\n    }\n    if (process.env.NODE_ENV !== 'production' &&\n      process.env.NODE_ENV !== 'test' &&\n      config.productionTip !== false &&\n      typeof console !== 'undefined'\n    ) {\n      console[console.info ? 'info' : 'log'](\n        \"You are running Vue in development mode.\\n\" +\n        \"Make sure to turn on production mode when deploying for production.\\n\" +\n        \"See more tips at https://vuejs.org/guide/deployment.html\"\n      );\n    }\n  }, 0);\n}\n\n/*  */\n\nexport default Vue;\n","/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a relative value (percent).\r\n *\r\n * The Percent object, can be instantiated using two ways:\r\n *\r\n * * Via `new Percent(X)`.\r\n * * Via `am4core.percent(X)`.\r\n *\r\n * `Percent` type objects can be used in a number of dual-measuring or\r\n * positioning properties, like `width`. E.g.:\r\n *\r\n * ```TypeScript\r\n * chart.paddingRight = new Percent(10);\r\n * // or\r\n * chart.paddingRight = am4core.percent(10);\r\n * ```\r\n * ```JavaScript\r\n * chart.paddingRight = new Percent(10);\r\n * // or\r\n * chart.paddingRight = am4core.percent(10);\r\n * ```\r\n * ```JSON\r\n * {\r\n *   // ...\r\n *   \"paddingRight\": \"10%\"\r\n * }\r\n * ```\r\n */\r\nvar Percent = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param percent  Percent value\r\n     */\r\n    function Percent(percent) {\r\n        this._value = percent;\r\n    }\r\n    Object.defineProperty(Percent.prototype, \"value\", {\r\n        /**\r\n         * Relative value.\r\n         *\r\n         * E.g. 100% is 1, 50% is 0.5, etc.\r\n         *\r\n         * This is useful to apply transformations to other values. E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * let value = 256;\r\n         * let percent = new am4core.Percent(50);\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         * ```JavaScript\r\n         * var value = 256;\r\n         * var percent = new am4core.Percent(50);\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         *\r\n         * Alternatively, you can use `am4core.percent()` helper function:\r\n         *\r\n         * ```TypeScript\r\n         * let value = 256;\r\n         * let percent = am4core.percent(50);\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         * ```JavaScript\r\n         * var value = 256;\r\n         * var percent = am4core.percent(50);\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         *\r\n         * @readonly\r\n         * @return Relative value\r\n         */\r\n        get: function () {\r\n            return this._value / 100;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Percent.prototype, \"percent\", {\r\n        /**\r\n         * Value in percent.\r\n         *\r\n         * @return Percent\r\n         */\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Percent.prototype.toString = function () {\r\n        return \"\" + this._value + \"%\";\r\n    };\r\n    return Percent;\r\n}());\r\nexport { Percent };\r\n/**\r\n * Converts numeric percent value to a proper [[Percent]] object.\r\n *\r\n * ```TypeScript\r\n * pieSeries.radius = am4core.percent(80);\r\n * ```\r\n * ```JavaScript\r\n * pieSeries.radius = am4core.percent(80);\r\n * ```\r\n *\r\n * @param value  Percent\r\n * @return Percent object\r\n */\r\nexport function percent(value) {\r\n    return new Percent(value);\r\n}\r\n/**\r\n * Checks if value is a [[Percent]] object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value  Input value\r\n * @return Is percent?\r\n */\r\nexport function isPercent(value) {\r\n    return value instanceof Percent;\r\n}\r\n//# sourceMappingURL=Percent.js.map","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","/**\r\n * Line drawing functionality.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../Sprite\";\r\nimport { color } from \"../utils/Color\";\r\nimport { LinearGradient } from \"../rendering/fills/LinearGradient\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $math from \"../utils/Math\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a line.\r\n *\r\n * @see {@link ILineEvents} for a list of available events\r\n * @see {@link ILineAdapters} for a list of available Adapters\r\n */\r\nvar Line = /** @class */ (function (_super) {\r\n    __extends(Line, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Line() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Line\";\r\n        _this.element = _this.paper.add(\"line\");\r\n        _this.fill = color(); //\"none\";\r\n        _this.x1 = 0;\r\n        _this.y1 = 0;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the line.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Line.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        if (this.x1 == this.x2 || this.y1 == this.y2) {\r\n            this.pixelPerfect = true;\r\n        }\r\n        else {\r\n            this.pixelPerfect = false;\r\n        }\r\n        this.x1 = this.x1;\r\n        this.x2 = this.x2;\r\n        this.y1 = this.y1;\r\n        this.y2 = this.y2;\r\n    };\r\n    Object.defineProperty(Line.prototype, \"x1\", {\r\n        /**\r\n         * @return X\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"x1\");\r\n        },\r\n        /**\r\n         * X coordinate of first end.\r\n         *\r\n         * @param value X\r\n         */\r\n        set: function (value) {\r\n            if (!$type.isNumber(value)) {\r\n                value = 0;\r\n            }\r\n            var delta = 0;\r\n            if (this.pixelPerfect && this.stroke instanceof LinearGradient) {\r\n                delta = 0.00001;\r\n            }\r\n            this.setPropertyValue(\"x1\", value, true);\r\n            this.element.attr({ \"x1\": value + delta });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Line.prototype, \"x2\", {\r\n        /**\r\n         * @return X\r\n         */\r\n        get: function () {\r\n            var value = this.getPropertyValue(\"x2\");\r\n            if (!$type.isNumber(value)) {\r\n                value = this.pixelWidth;\r\n            }\r\n            return value;\r\n        },\r\n        /**\r\n         * X coordinate of second end.\r\n         *\r\n         * @param value X\r\n         */\r\n        set: function (value) {\r\n            if (!$type.isNumber(value)) {\r\n                value = 0;\r\n            }\r\n            this.setPropertyValue(\"x2\", value, true);\r\n            this.element.attr({ \"x2\": value });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Line.prototype, \"y1\", {\r\n        /**\r\n         * @return Y\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"y1\");\r\n        },\r\n        /**\r\n         * Y coordinate of first end.\r\n         *\r\n         * @param value Y\r\n         */\r\n        set: function (value) {\r\n            if (!$type.isNumber(value)) {\r\n                value = 0;\r\n            }\r\n            var delta = 0;\r\n            if (this.pixelPerfect && this.stroke instanceof LinearGradient) {\r\n                delta = 0.00001;\r\n            }\r\n            this.setPropertyValue(\"y1\", value, true);\r\n            this.element.attr({ \"y1\": value + delta });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Line.prototype, \"y2\", {\r\n        /**\r\n         * @return Y\r\n         */\r\n        get: function () {\r\n            var value = this.getPropertyValue(\"y2\");\r\n            if (!$type.isNumber(value)) {\r\n                value = this.pixelHeight;\r\n            }\r\n            return value;\r\n        },\r\n        /**\r\n         * Y coordinate of second end.\r\n         *\r\n         * @param value Y\r\n         */\r\n        set: function (value) {\r\n            if (!$type.isNumber(value)) {\r\n                value = 0;\r\n            }\r\n            this.setPropertyValue(\"y2\", value, true);\r\n            this.element.attr({ \"y2\": value });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Converts relative position along the line (0-1) into pixel coordinates.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinates\r\n     */\r\n    Line.prototype.positionToPoint = function (position) {\r\n        var point1 = { x: this.x1, y: this.y1 };\r\n        var point2 = { x: this.x2, y: this.y2 };\r\n        var point = $math.getMidPoint(point1, point2, position);\r\n        var angle = $math.getAngle(point1, point2);\r\n        return { x: point.x, y: point.y, angle: angle };\r\n    };\r\n    return Line;\r\n}(Sprite));\r\nexport { Line };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Line\"] = Line;\r\n//# sourceMappingURL=Line.js.map","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","/**\r\n * Pointed rectangle module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { PointedShape } from \"../../core/elements/PointedShape\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $math from \"../../core/utils/Math\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a circle with a pointer.\r\n *\r\n * @since 4.5.7\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/plugin-bullets/} for usage instructions.\r\n * @see {@link IPointedCircleEvents} for a list of available events\r\n * @see {@link IPointedCircleAdapters} for a list of available Adapters\r\n */\r\nvar PointedCircle = /** @class */ (function (_super) {\r\n    __extends(PointedCircle, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PointedCircle() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PointedCircle\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.radius = 18;\r\n        _this.pointerAngle = 90;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PointedCircle.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var pw = this.pointerBaseWidth;\r\n        var pl = this.pointerLength;\r\n        if (pl <= 0.001) {\r\n            pl = 0.001;\r\n        }\r\n        var angle = this.pointerAngle + 180;\r\n        var radius = this.radius;\r\n        if (pw > 2 * radius) {\r\n            pw = 2 * radius;\r\n        }\r\n        var x = this.pointerX;\r\n        var y = this.pointerY;\r\n        var path = $path.moveTo({ x: x, y: x });\r\n        var da = $math.DEGREES * Math.atan(pw / 2 / pl);\r\n        if (da <= 0.001) {\r\n            da = 0.001;\r\n        }\r\n        var a1 = angle - da;\r\n        var a2 = angle + da;\r\n        path += $path.lineTo({ x: x + pl * $math.cos(a1), y: y + pl * $math.sin(a1) });\r\n        path += $path.arcToPoint({ x: x + pl * $math.cos(a2), y: y + pl * $math.sin(a2) }, radius, radius, true, true);\r\n        path += $path.lineTo({ x: x, y: x });\r\n        this.path = path;\r\n    };\r\n    Object.defineProperty(PointedCircle.prototype, \"radius\", {\r\n        /**\r\n         * @return Radius (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Radius of a circle in pixels.\r\n         *\r\n         * @default 18\r\n         * @param  value  Radius (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"radius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PointedCircle.prototype, \"pointerAngle\", {\r\n        /**\r\n         * @return Angle of a pointer, in degrees.\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"pointerAngle\");\r\n        },\r\n        /**\r\n         * Angle of a pointer, in degrees.\r\n         *\r\n         * @default 90\r\n         * @param  value Angle (degrees)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"pointerAngle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PointedCircle.prototype.getTooltipY = function () {\r\n        return $math.sin(this.pointerAngle) * (-this.pointerLength * 0.8 - this.radius) - this.radius;\r\n    };\r\n    PointedCircle.prototype.getTooltipX = function () {\r\n        return $math.cos(this.pointerAngle) * (-this.pointerLength * 0.8 - this.radius);\r\n    };\r\n    return PointedCircle;\r\n}(PointedShape));\r\nexport { PointedCircle };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PointerCircle\"] = PointedCircle;\r\n//# sourceMappingURL=PointedCircle.js.map","/**\r\n * Bullet module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Bullet } from \"../../charts/elements/Bullet\";\r\nimport { Circle } from \"../../core/elements/Circle\";\r\nimport { PointedCircle } from \"./PointedCircle\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport { percent, Percent } from \"../../core/utils/Percent\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a pin-shaped bullet with an optional text label and/or image inside\r\n * it.\r\n *\r\n * The background/body of the flag is a [[PointedCircle]] element. Most of\r\n * its the visual appearance is configured via `background` property.\r\n *\r\n * Uses [[Label]] instance to draw the label, so the label itself is\r\n * configurable.\r\n *\r\n * Example:\r\n *\r\n * ```TypeScript\r\n * let series = chart.series.push(new am4charts.LineSeries());\r\n * // ...\r\n * let pinBullet = series.bullets.push(new am4plugins_bullets.PinBullet());\r\n * pinBullet.poleHeight = 15;\r\n * pinBullet.label.text = \"{valueY}\";\r\n * ```\r\n * ```JavaScript\r\n * var series = chart.series.push(new am4charts.LineSeries());\r\n * // ...\r\n * var pinBullet = series.bullets.push(new am4plugins_bullets.PinBullet());\r\n * pinBullet.poleHeight = 15;\r\n * pinBullet.label.text = \"{valueY}\";\r\n * ```\r\n * ```JSON\r\n * {\r\n *   // ...\r\n *   \"series\": [{\r\n *     // ...\r\n *     \"bullets\": [{\r\n *       \"type\": \"PinBullet\",\r\n *       \"poleHeight\": 15,\r\n *       \"label\": {\r\n *         \"text\": \"{valueY}\"\r\n *       }\r\n *     }]\r\n *   }]\r\n * }\r\n * ```\r\n *\r\n * @since 4.5.7\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/plugin-bullets/} for usage instructions.\r\n * @see {@link IBulletEvents} for a list of available events\r\n * @see {@link IBulletAdapters} for a list of available Adapters\r\n */\r\nvar PinBullet = /** @class */ (function (_super) {\r\n    __extends(PinBullet, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PinBullet() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PinBullet\";\r\n        var interfaceColors = new InterfaceColorSet();\r\n        var circle = _this.createChild(Circle);\r\n        circle.shouldClone = false;\r\n        circle.isMeasured = false;\r\n        circle.fill = interfaceColors.getFor(\"background\");\r\n        circle.radius = percent(85);\r\n        _this.circle = circle;\r\n        var background = _this.background;\r\n        background.fill = interfaceColors.getFor(\"alternativeBackground\");\r\n        background.fillOpacity = 1;\r\n        background.pointerBaseWidth = 20;\r\n        background.pointerLength = 20;\r\n        background.radius = 25;\r\n        background.events.on(\"propertychanged\", _this.invalidate, _this, false);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Validates element:\r\n     * * Triggers events\r\n     * * Redraws the element\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PinBullet.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        var background = this.background;\r\n        var px = background.pointerX;\r\n        var py = background.pointerY;\r\n        var pl = background.pointerLength;\r\n        var pw = background.pointerBaseWidth;\r\n        var pa = background.pointerAngle + 180;\r\n        var r = background.radius;\r\n        if (pw > 2 * r) {\r\n            pw = 2 * r;\r\n        }\r\n        var da = $math.DEGREES * Math.atan(pw / 2 / pl);\r\n        if (da <= 0.001) {\r\n            da = 0.001;\r\n        }\r\n        var a1 = pa - da;\r\n        var a2 = pa + da;\r\n        var p1 = { x: px + pl * $math.cos(a1), y: py + pl * $math.sin(a1) };\r\n        var p2 = { x: px + pl * $math.cos(a2), y: py + pl * $math.sin(a2) };\r\n        var x1 = p1.x;\r\n        var x2 = p2.x;\r\n        var y1 = p1.y;\r\n        var y2 = p2.y;\r\n        var radsq = r * r;\r\n        var q = Math.sqrt(((x2 - x1) * (x2 - x1)) + ((y2 - y1) * (y2 - y1)));\r\n        var x3 = (x1 + x2) / 2;\r\n        var cx = x3 - Math.sqrt(radsq - ((q / 2) * (q / 2))) * ((y1 - y2) / q);\r\n        var y3 = (y1 + y2) / 2;\r\n        var cy = y3 - Math.sqrt(radsq - ((q / 2) * (q / 2))) * ((x2 - x1) / q);\r\n        if (this.circle) {\r\n            var circleRadius = this.circle.radius;\r\n            if (circleRadius instanceof Percent) {\r\n                this.circle.width = r * 2;\r\n                this.circle.height = r * 2;\r\n            }\r\n        }\r\n        var image = this.image;\r\n        if (image) {\r\n            image.x = cx;\r\n            image.y = cy;\r\n            image.width = r * 2;\r\n            image.height = r * 2;\r\n            image.element.attr({ preserveAspectRatio: \"xMidYMid slice\" });\r\n            if (this.circle) {\r\n                this.circle.scale = 1 / image.scale;\r\n            }\r\n        }\r\n        else {\r\n            if (this.circle) {\r\n                this.circle.x = cx;\r\n                this.circle.y = cy;\r\n            }\r\n        }\r\n        var label = this.label;\r\n        if (label) {\r\n            label.x = cx;\r\n            label.y = cy;\r\n        }\r\n    };\r\n    Object.defineProperty(PinBullet.prototype, \"image\", {\r\n        /**\r\n         * @return Image\r\n         */\r\n        get: function () {\r\n            return this._image;\r\n        },\r\n        /**\r\n         * An element of type [[Image]] to show inside pin's circle.\r\n         *\r\n         * @param  image  Image\r\n         */\r\n        set: function (image) {\r\n            if (image) {\r\n                this._image = image;\r\n                this._disposers.push(image);\r\n                image.shouldClone = false;\r\n                image.parent = this;\r\n                image.horizontalCenter = \"middle\";\r\n                image.verticalCenter = \"middle\";\r\n                if (this.circle) {\r\n                    image.mask = this.circle;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PinBullet.prototype, \"label\", {\r\n        /**\r\n         * @return Label\r\n         */\r\n        get: function () {\r\n            return this._label;\r\n        },\r\n        /**\r\n         * A [[Label]] element for displaying within flag.\r\n         *\r\n         * Use it's `text` property to set actual text, e.g.:\r\n         *\r\n         * ```TypeScript\r\n         * pinBullet.text = \"Hello\";\r\n         * ```\r\n         * ```JavaScript\r\n         * pinBullet.text = \"Hello\";\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     // ...\r\n         *     \"bullets\": [{\r\n         *       \"type\": \"PinBullet\",\r\n         *       \"label\": {\r\n         *         \"text\": \"Hello\"\r\n         *       }\r\n         *     }]\r\n         *   }]\r\n         * }\r\n         * ```\r\n         * @param  label  Label\r\n         */\r\n        set: function (label) {\r\n            if (label) {\r\n                this._label = label;\r\n                this._disposers.push(label);\r\n                label.shouldClone = false;\r\n                label.parent = this;\r\n                label.horizontalCenter = \"middle\";\r\n                label.verticalCenter = \"middle\";\r\n                label.textAlign = \"middle\";\r\n                label.dy = 2;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all proprities and related stuff from another instance of\r\n     * [[PinBullet]].\r\n     *\r\n     * @param source  Source element\r\n     */\r\n    PinBullet.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (source.image) {\r\n            if (!this._image) {\r\n                this.image = source.image.clone();\r\n            }\r\n            this._image.copyFrom(source.image);\r\n        }\r\n        if (this.circle && source.circle) {\r\n            this.circle.copyFrom(source.circle);\r\n        }\r\n        if (source.label) {\r\n            if (!this._label) {\r\n                this.label = source.label.clone();\r\n            }\r\n            this._label.copyFrom(source.label);\r\n        }\r\n    };\r\n    /**\r\n     * Creates and returns a background element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Background\r\n     */\r\n    PinBullet.prototype.createBackground = function () {\r\n        return new PointedCircle();\r\n    };\r\n    return PinBullet;\r\n}(Bullet));\r\nexport { PinBullet };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PinBullet\"] = PinBullet;\r\n//# sourceMappingURL=PinBullet.js.map","/**\r\n * Flag bullet module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Bullet } from \"../../charts/elements/Bullet\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { Label } from \"../../core/elements/Label\";\r\nimport { WavedRectangle } from \"../../core/elements/WavedRectangle\";\r\nimport { Line } from \"../../core/elements/Line\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a flag-shaped bullet with an optional text label inside it.\r\n *\r\n * The background/body of the flag is a [[WavedRectangle]] element. Most of\r\n * its the visual appearance is configured via `background` property.\r\n *\r\n * The size of a background adopts to the size of a label automatically. If\r\n * you don't want a label to be shown at all, you can set it to `undefined`. In\r\n * this case flag size will be of the `width`/`height` set directly on the\r\n * [[FlagBullet]].\r\n *\r\n * Uses [[Label]] instance to draw the label, so the label itself is\r\n * configurable.\r\n *\r\n * Example:\r\n *\r\n * ```TypeScript\r\n * let series = chart.series.push(new am4charts.LineSeries());\r\n * // ...\r\n * let flagBullet = series.bullets.push(new am4plugins_bullets.FlagBullet());\r\n * flagBullet.poleHeight = 15;\r\n * flagBullet.label.text = \"{valueY}\";\r\n * ```\r\n * ```JavaScript\r\n * var series = chart.series.push(new am4charts.LineSeries());\r\n * // ...\r\n * var flagBullet = series.bullets.push(new am4plugins_bullets.FlagBullet());\r\n * flagBullet.poleHeight = 15;\r\n * flagBullet.label.text = \"{valueY}\";\r\n * ```\r\n * ```JSON\r\n * {\r\n *   // ...\r\n *   \"series\": [{\r\n *     // ...\r\n *     \"bullets\": [{\r\n *       \"type\": \"FlagBullet\",\r\n *       \"poleHeight\": 15,\r\n *       \"label\": {\r\n *         \"text\": \"{valueY}\"\r\n *       }\r\n *     }]\r\n *   }]\r\n * }\r\n * ```\r\n *\r\n * @since 4.5.7\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/plugin-bullets/} for usage instructions.\r\n * @see {@link IBulletEvents} for a list of available events\r\n * @see {@link IBulletAdapters} for a list of available Adapters\r\n */\r\nvar FlagBullet = /** @class */ (function (_super) {\r\n    __extends(FlagBullet, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function FlagBullet() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"FlagBullet\";\r\n        var background = _this.background;\r\n        background.fillOpacity = 1;\r\n        background.events.on(\"propertychanged\", _this.invalidate, _this, false);\r\n        background.waveHeight = 1.5;\r\n        background.waveLength = 7;\r\n        background.setWavedSides(true, false, true, false);\r\n        background.strokeOpacity = 1;\r\n        var interfaceColors = new InterfaceColorSet();\r\n        _this.stroke = interfaceColors.getFor(\"alternativeBackground\");\r\n        _this.pole = _this.createChild(Line);\r\n        _this.pole.strokeOpacity = 1;\r\n        _this.width = 22;\r\n        _this.height = 16;\r\n        var label = new Label();\r\n        label.padding(3, 5, 3, 5);\r\n        label.dy = 1;\r\n        label.events.on(\"propertychanged\", _this.invalidate, _this, false);\r\n        label.events.on(\"positionchanged\", _this.invalidate, _this, false);\r\n        label.strokeOpacity = 0;\r\n        _this.label = label;\r\n        _this.poleHeight = 10;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Validates element:\r\n     * * Triggers events\r\n     * * Redraws the element\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    FlagBullet.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        this.updateBackground();\r\n        var background = this.background;\r\n        this.pole.y1 = 0;\r\n        var poleHeight = this.poleHeight;\r\n        var label = this.label;\r\n        var bgHeight = background.pixelHeight;\r\n        if (poleHeight > 0) {\r\n            this.pole.y2 = -poleHeight - bgHeight;\r\n            if (label) {\r\n                label.y = -poleHeight - bgHeight;\r\n            }\r\n        }\r\n        else {\r\n            this.pole.y2 = -poleHeight + bgHeight;\r\n            if (label) {\r\n                label.y = -poleHeight;\r\n            }\r\n        }\r\n        if (label && label.horizontalCenter == \"middle\") {\r\n            this.pole.y2 = -poleHeight;\r\n        }\r\n    };\r\n    /**\r\n     * Update the background to fit into specific dimensions.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Make it protected?\r\n     */\r\n    FlagBullet.prototype.updateBackground = function () {\r\n        var background = this._background; // accessing protected, as getter creates instance if it doesn't exist\r\n        if (background) {\r\n            var label = this.label;\r\n            if (label) {\r\n                background.x = label.maxLeft;\r\n                background.width = label.measuredWidth;\r\n                background.height = label.measuredHeight;\r\n            }\r\n            else {\r\n                background.width = Math.abs(this.maxRight - this.maxLeft);\r\n                background.height = Math.abs(this.maxBottom - this.maxTop);\r\n            }\r\n            var poleHeight = this.poleHeight;\r\n            if (poleHeight > 0) {\r\n                background.y = -poleHeight - background.pixelHeight;\r\n            }\r\n            else {\r\n                background.y = -poleHeight;\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(FlagBullet.prototype, \"label\", {\r\n        /**\r\n         * @return Label\r\n         */\r\n        get: function () {\r\n            return this._label;\r\n        },\r\n        /**\r\n         * A [[Label]] element for displaying within flag.\r\n         *\r\n         * Use it's `text` property to set actual text, e.g.:\r\n         *\r\n         * ```TypeScript\r\n         * flagBullet.text = \"Hello\";\r\n         * ```\r\n         * ```JavaScript\r\n         * flagBullet.text = \"Hello\";\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     // ...\r\n         *     \"bullets\": [{\r\n         *       \"type\": \"FlagBullet\",\r\n         *       \"label\": {\r\n         *         \"text\": \"Hello\"\r\n         *       }\r\n         *     }]\r\n         *   }]\r\n         * }\r\n         * ```\r\n         * @param  label  Label\r\n         */\r\n        set: function (label) {\r\n            if (label) {\r\n                this._label = label;\r\n                this._disposers.push(label);\r\n                label.parent = this;\r\n                label.shouldClone = false;\r\n            }\r\n            else {\r\n                if (this._label) {\r\n                    this._label.dispose();\r\n                }\r\n                this._label = label;\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all proprities and related stuff from another instance of\r\n     * [[FlagBullet]].\r\n     *\r\n     * @param source  Source element\r\n     */\r\n    FlagBullet.prototype.copyFrom = function (source) {\r\n        if (source.label) {\r\n            this.label = source.label.clone();\r\n        }\r\n        if (source.pole) {\r\n            this.pole.copyFrom(source.pole);\r\n        }\r\n        _super.prototype.copyFrom.call(this, source);\r\n    };\r\n    /**\r\n     * Creates and returns a background element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Background\r\n     */\r\n    FlagBullet.prototype.createBackground = function () {\r\n        return new WavedRectangle();\r\n    };\r\n    Object.defineProperty(FlagBullet.prototype, \"poleHeight\", {\r\n        /**\r\n         * @return Height (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"poleHeight\");\r\n        },\r\n        /**\r\n         * Flag pole height in pixels.\r\n         *\r\n         * @default 10\r\n         * @param  value  Height (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"poleHeight\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FlagBullet;\r\n}(Bullet));\r\nexport { FlagBullet };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"FlagBullet\"] = FlagBullet;\r\n//# sourceMappingURL=FlagBullet.js.map","/**\r\n * Functionality for drawing Stars.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Used to draw a Star shape.\r\n *\r\n * @since 4.5.7\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/plugin-bullets/} for usage instructions.\r\n * @see {@link IStarEvents} for a list of available events\r\n * @see {@link IStarAdapters} for a list of available Adapters\r\n */\r\nvar Star = /** @class */ (function (_super) {\r\n    __extends(Star, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Star() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Star\";\r\n        _this.pointCount = 5;\r\n        _this.arc = 360;\r\n        _this.radius = 100;\r\n        _this.innerRadius = percent(30);\r\n        _this.cornerRadius = 0;\r\n        _this.innerCornerRadius = 0;\r\n        _this.startAngle = -90;\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Star.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var startAngle = this.startAngle;\r\n        var arc = this.arc;\r\n        var pointCount = this.pointCount;\r\n        var radius = this.radius;\r\n        var innerRadius = this.pixelInnerRadius;\r\n        var cornerRadius = this.cornerRadius;\r\n        if (cornerRadius > radius - innerRadius) {\r\n            cornerRadius = radius - innerRadius;\r\n        }\r\n        var innerCornerRadius = this.innerCornerRadius;\r\n        if (innerCornerRadius > radius - cornerRadius - innerRadius) {\r\n            innerCornerRadius = radius - cornerRadius - innerRadius;\r\n        }\r\n        var halfAngle = arc / pointCount / 2;\r\n        var path = \"\";\r\n        for (var i = 0; i < pointCount; i++) {\r\n            var angle = startAngle + i * arc / pointCount;\r\n            if (cornerRadius > 0) {\r\n                var p0 = { x: innerRadius * $math.cos(angle - halfAngle), y: innerRadius * $math.sin(angle - halfAngle) };\r\n                var p1 = { x: radius * $math.cos(angle), y: radius * $math.sin(angle) };\r\n                var p2 = { x: innerRadius * $math.cos(angle + halfAngle), y: innerRadius * $math.sin(angle + halfAngle) };\r\n                var a1 = $math.getAngle(p1, p0);\r\n                var a2 = $math.getAngle(p1, p2);\r\n                var x1 = p1.x + cornerRadius * $math.cos(a1);\r\n                var y1 = p1.y + cornerRadius * $math.sin(a1);\r\n                var x2 = p1.x + cornerRadius * $math.cos(a2);\r\n                var y2 = p1.y + cornerRadius * $math.sin(a2);\r\n                path += $path.lineTo({ x: x1, y: y1 });\r\n                path += \" Q\" + p1.x + \",\" + p1.y + \" \" + x2 + \",\" + y2;\r\n            }\r\n            else {\r\n                path += $path.lineTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n            }\r\n            angle += halfAngle;\r\n            if (innerCornerRadius > 0) {\r\n                var p0 = { x: radius * $math.cos(angle - halfAngle), y: radius * $math.sin(angle - halfAngle) };\r\n                var p1 = { x: innerRadius * $math.cos(angle), y: innerRadius * $math.sin(angle) };\r\n                var p2 = { x: radius * $math.cos(angle + halfAngle), y: radius * $math.sin(angle + halfAngle) };\r\n                var a1 = $math.getAngle(p1, p0);\r\n                var a2 = $math.getAngle(p1, p2);\r\n                var x1 = p1.x + innerCornerRadius * $math.cos(a1);\r\n                var y1 = p1.y + innerCornerRadius * $math.sin(a1);\r\n                var x2 = p1.x + innerCornerRadius * $math.cos(a2);\r\n                var y2 = p1.y + innerCornerRadius * $math.sin(a2);\r\n                path += $path.lineTo({ x: x1, y: y1 });\r\n                path += \" Q\" + p1.x + \",\" + p1.y + \" \" + x2 + \",\" + y2;\r\n            }\r\n            else {\r\n                path += $path.lineTo({ x: innerRadius * $math.cos(angle), y: innerRadius * $math.sin(angle) });\r\n            }\r\n        }\r\n        if (this.arc < 360) {\r\n            path += $path.lineTo({ x: 0, y: 0 });\r\n        }\r\n        path += $path.closePath();\r\n        path = path.replace(\"L\", \"M\");\r\n        this.path = path;\r\n    };\r\n    Object.defineProperty(Star.prototype, \"startAngle\", {\r\n        /**\r\n         * @return Angle (0-360)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startAngle\");\r\n        },\r\n        /**\r\n         * The angle at which left edge of the star is drawn. (0-360)\r\n         *\r\n         * 0 is to the right of the center.\r\n         *\r\n         * @default -90\r\n         * @param value  Angle (0-360)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"startAngle\", $math.normalizeAngle(value), true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Star.prototype, \"arc\", {\r\n        /**\r\n         * @return Arc scope\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"arc\");\r\n        },\r\n        /**\r\n         * How much of a complete circle the star will complete.\r\n         *\r\n         * A complete circle is 350 degrees. If set to 180, only half a star will\r\n         * be drawn\r\n         *\r\n         * @default 360\r\n         * @param  value  Arc scope\r\n         */\r\n        set: function (value) {\r\n            if (!$type.isNumber(value)) {\r\n                value = 360;\r\n            }\r\n            this.setPropertyValue(\"arc\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Star.prototype, \"radius\", {\r\n        /**\r\n         * @return Radius (px)\r\n         */\r\n        get: function () {\r\n            var radius = this.getPropertyValue(\"radius\");\r\n            if (!$type.isNumber(radius)) {\r\n                radius = 0;\r\n            }\r\n            return radius;\r\n        },\r\n        /**\r\n         * Radius of the star in pixels.\r\n         *\r\n         * @default 100\r\n         * @param value  Radius (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"radius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Star.prototype, \"radiusY\", {\r\n        /**\r\n         * @return Vertical radius (0-1)\r\n         */\r\n        get: function () {\r\n            var value = this.getPropertyValue(\"radiusY\");\r\n            if (!$type.isNumber(value)) {\r\n                value = this.radius;\r\n            }\r\n            return value;\r\n        },\r\n        /**\r\n         * Vertical radius for creating skewed star shapes.\r\n         *\r\n         * This is relevant to `radius`, e.g. 0.5 will set vertical radius to half\r\n         * the `radius`.\r\n         *\r\n         * @param value Vertical radius (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"radiusY\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Star.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Radius (px or %)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerRadius\");\r\n        },\r\n        /**\r\n         * Inner radius of the star (cutout).\r\n         *\r\n         * It can be set either by absolute pixel value or relative to radius in\r\n         * percent.\r\n         *\r\n         * @default 0\r\n         * @param value  Radius (px or %)\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Star.prototype, \"pixelInnerRadius\", {\r\n        /**\r\n         * @return Radius px\r\n         */\r\n        get: function () {\r\n            return $utils.relativeToValue(this.innerRadius, this.radius);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Star.prototype, \"cornerRadius\", {\r\n        /**\r\n         * @return Radius (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cornerRadius\");\r\n        },\r\n        /**\r\n         * Radius of star's outer corners in pixels.\r\n         *\r\n         * @default 0\r\n         * @param value  Radius (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"cornerRadius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Star.prototype, \"innerCornerRadius\", {\r\n        /**\r\n         * @return Radius (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerCornerRadius\");\r\n        },\r\n        /**\r\n         * Radius of star's inner corners in pixels.\r\n         *\r\n         * @default 0\r\n         * @param value  Radius (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"innerCornerRadius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Star.prototype, \"pointCount\", {\r\n        /**\r\n         * @return Number of star points\r\n         */\r\n        get: function () {\r\n            var value = this.getPropertyValue(\"pointCount\");\r\n            return $math.max(3, value);\r\n        },\r\n        /**\r\n         * Number of start points\r\n         *\r\n         * @default 5\r\n         * @param value\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"pointCount\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Star;\r\n}(Sprite));\r\nexport { Star };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Star\"] = Star;\r\n//# sourceMappingURL=Star.js.map","/**\r\n * Functionality for drawing bullets with basic shapes.\r\n */\r\nimport { __extends } from \"tslib\";\r\nimport { Bullet } from \"../../charts/elements/Bullet\";\r\nimport { Rectangle } from \"../../core/elements/Rectangle\";\r\nimport { Circle } from \"../../core/elements/Circle\";\r\nimport { Triangle } from \"../../core/elements/Triangle\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Used to draw a ShapeBullet shape.\r\n *\r\n * @since 4.9.34\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/plugin-bullets/} for usage instructions.\r\n * @see {@link IShapeBulletEvents} for a list of available events\r\n * @see {@link IShapeBulletAdapters} for a list of available Adapters\r\n */\r\nvar ShapeBullet = /** @class */ (function (_super) {\r\n    __extends(ShapeBullet, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ShapeBullet() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ShapeBullet\";\r\n        _this.size = 10;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ShapeBullet.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        if (this.shapeElement) {\r\n            this.shapeElement.dispose();\r\n        }\r\n        switch (this.shape) {\r\n            case \"square\":\r\n                this.createSquare();\r\n                break;\r\n            case \"diamond\":\r\n                this.createSquare(45);\r\n                break;\r\n            case \"circle\":\r\n                this.createCircle();\r\n                break;\r\n            case \"up\":\r\n                this.createTriangle();\r\n                break;\r\n            case \"right\":\r\n                this.createTriangle(90);\r\n                break;\r\n            case \"down\":\r\n                this.createTriangle(180);\r\n                break;\r\n            case \"left\":\r\n                this.createTriangle(270);\r\n                break;\r\n        }\r\n        // todo\r\n    };\r\n    /**\r\n     * Decorates the shape so it is positioned properly.\r\n     */\r\n    ShapeBullet.prototype.processShape = function () {\r\n        this.shapeElement.horizontalCenter = \"middle\";\r\n        this.shapeElement.verticalCenter = \"middle\";\r\n    };\r\n    /**\r\n     * Creates a square shape.\r\n     */\r\n    ShapeBullet.prototype.createSquare = function (rotation) {\r\n        if (rotation === void 0) { rotation = 0; }\r\n        var element = this.createChild(Rectangle);\r\n        element.width = this.size;\r\n        element.height = this.size;\r\n        element.rotation = rotation;\r\n        this.shapeElement = element;\r\n        this.processShape();\r\n    };\r\n    /**\r\n     * Creates a circle shape.\r\n     */\r\n    ShapeBullet.prototype.createCircle = function (rotation) {\r\n        if (rotation === void 0) { rotation = 0; }\r\n        var element = this.createChild(Circle);\r\n        element.radius = this.size / 2;\r\n        this.shapeElement = element;\r\n        this.processShape();\r\n    };\r\n    /**\r\n     * Creates a triangle shape.\r\n     */\r\n    ShapeBullet.prototype.createTriangle = function (rotation) {\r\n        if (rotation === void 0) { rotation = 0; }\r\n        var element = this.createChild(Triangle);\r\n        element.width = this.size;\r\n        element.height = this.size;\r\n        element.rotation = rotation;\r\n        this.shapeElement = element;\r\n        this.processShape();\r\n    };\r\n    Object.defineProperty(ShapeBullet.prototype, \"shape\", {\r\n        /**\r\n         * @return shape scope\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"shape\");\r\n        },\r\n        /**\r\n         * Shape of the bullet.\r\n         *\r\n         * Available options: `\"square\"`, `\"diamond\"`, `\"circle\"`, `\"up\"`, `\"down\"`,\r\n         * `\"left\"`, `\"right\"`.\r\n         *\r\n         * There is no default. If `shape` is not set, the bullets will come out\r\n         * empty.\r\n         *\r\n         * @param  value  Shape\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"shape\", value, true)) {\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ShapeBullet.prototype, \"size\", {\r\n        /**\r\n         * @return Size (px)\r\n         */\r\n        get: function () {\r\n            var size = this.getPropertyValue(\"size\");\r\n            if (!$type.isNumber(size)) {\r\n                size = 0;\r\n            }\r\n            return size;\r\n        },\r\n        /**\r\n         * Size (width and height in pixels) of the bullet. The actual shapes will be\r\n         * sized and positioned to fit this pixel value.\r\n         *\r\n         * @default 10\r\n         * @param value  Size (px)\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"size\", value, true)) {\r\n                this.width = value;\r\n                this.height = value;\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ShapeBullet;\r\n}(Bullet));\r\nexport { ShapeBullet };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ShapeBullet\"] = ShapeBullet;\r\n//# sourceMappingURL=ShapeBullet.js.map","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","/**\r\n * This module contains a base class for an SVG filter.\r\n *\r\n * Filters can be used to decorate, change and transform just about any DOM\r\n * element.\r\n *\r\n * A Filter works by applying one or more effects (primitives) to SVG element.\r\n *\r\n * For more information on how SVG filters work, refer to\r\n * [this MDN tutorial](https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/SVG_Filters_Tutorial).\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../../Base\";\r\nimport { getGhostPaper } from \"../Paper\";\r\nimport { Animation, AnimationDisposer } from \"../../utils/Animation\";\r\nimport { List } from \"../../utils/List\";\r\nimport * as $object from \"../../utils/Object\";\r\nimport * as $iter from \"../../utils/Iterator\";\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Base filter class.\r\n *\r\n * This class while can be instantiated will not do anything. It is just a base\r\n * functionality for any other \"real\" filters to extend.\r\n *\r\n * Filters can be used to decorate, change and transform just about any DOM\r\n * element.\r\n *\r\n * A Filter works by applying one or more effects (primitives) to SVG element.\r\n *\r\n * For more information on how SVG filters work, refer to\r\n * [this MDN tutorial](https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/SVG_Filters_Tutorial).\r\n *\r\n * @todo Example\r\n */\r\nvar Filter = /** @class */ (function (_super) {\r\n    __extends(Filter, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Filter() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * A storage for Filter property/value pairs.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @see {@link FilterProperties}\r\n         */\r\n        _this.properties = {};\r\n        /**\r\n         * Identifies if this object is a \"template\" and should not be treated as\r\n         * real object that is drawn or actually used in the chart.\r\n         */\r\n        _this.isTemplate = false;\r\n        /**\r\n         * [_scale description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._scale = 1;\r\n        /**\r\n         * [_nonScaling description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._nonScaling = true;\r\n        _this.className = \"Filter\";\r\n        // Create a list to hold primitives (effect elements)\r\n        _this.filterPrimitives = new List();\r\n        _this.properties.filterUnits = \"objectBoundingBox\";\r\n        // Automatically add added primitives to `_disposers` so they are discarded\r\n        // when Filter object is destroyed (disposed)\r\n        _this.filterPrimitives.events.on(\"inserted\", function (ev) {\r\n            _this._disposers.push(ev.newValue);\r\n        });\r\n        // Set default dimensions\r\n        _this.width = 120;\r\n        _this.height = 120;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Appends actual filter elements to the filter group.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param filterElement An SVG `<group>` element to add filter element to\r\n     */\r\n    Filter.prototype.appendPrimitives = function (filterElement) {\r\n        $iter.each(this.filterPrimitives.iterator(), function (filterPrimitive) {\r\n            filterElement.add(filterPrimitive);\r\n        });\r\n    };\r\n    /**\r\n     * Uses Transitions filter's values from current to target. This is used to\r\n     * smoothly appear filter, rather than it pop into effect.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param animationOptions  Animation options\r\n     * @param duration          Duration in milliseconds\r\n     * @param easing            Easing function\r\n     * @return Animation instance\r\n     */\r\n    Filter.prototype.animate = function (animationOptions, duration, easing) {\r\n        var animation = new Animation(this, animationOptions, duration, easing).start();\r\n        return animation;\r\n    };\r\n    Object.defineProperty(Filter.prototype, \"width\", {\r\n        /**\r\n         * @return Width (%)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"width\"];\r\n        },\r\n        /**\r\n         * Width of the filter element in percent.\r\n         *\r\n         * If the filter is designed to \"bleed out\" of the original target element,\r\n         * like for example a shadow, you need this bigger than 100, or the\r\n         * non-fitting parts will be clipped.\r\n         *\r\n         * @default 120\r\n         * @param value Width (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"width\"] = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Filter.prototype, \"height\", {\r\n        /**\r\n         * @return Height\r\n         */\r\n        get: function () {\r\n            return this.properties[\"height\"];\r\n        },\r\n        /**\r\n         * Height of the filter element in percent.\r\n         *\r\n         * If the filter is designed to \"bleed out\" of the original target element,\r\n         * like for example a shadow, you need this bigger than 100, or the\r\n         * non-fitting parts will be clipped.\r\n         *\r\n         * @default 120\r\n         * @param value Height (%)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"height\"] = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies properties from another [[Filter]] object.\r\n     *\r\n     * @param filter Source [[Filter]] object\r\n     */\r\n    Filter.prototype.copyFrom = function (filter) {\r\n        var _this = this;\r\n        _super.prototype.copyFrom.call(this, filter);\r\n        $object.each(filter.properties, function (key, value) {\r\n            _this[key] = value;\r\n        });\r\n    };\r\n    Object.defineProperty(Filter.prototype, \"paper\", {\r\n        /**\r\n         * @return Paper\r\n         */\r\n        get: function () {\r\n            if (this._paper) {\r\n                return this._paper;\r\n            }\r\n            return getGhostPaper();\r\n        },\r\n        /**\r\n         * Sets [[Paper]] instance to create filter's elements in.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param paper  Paper\r\n         */\r\n        set: function (paper) {\r\n            if (this._paper != paper) {\r\n                this._paper = paper;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Filter.prototype, \"animations\", {\r\n        /**\r\n         * All animations currently in play.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return List of animations\r\n         */\r\n        get: function () {\r\n            if (!this._animations) {\r\n                this._animations = [];\r\n                this._disposers.push(new AnimationDisposer(this._animations));\r\n            }\r\n            return this._animations;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Filter.prototype, \"scale\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         */\r\n        get: function () {\r\n            return this._scale;\r\n        },\r\n        /**\r\n         * [[Sprite]] uses this method to inform filter about it's scale.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        set: function (value) {\r\n            this._scale = value;\r\n            this.updateScale();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates filter properties which depend on scale.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Filter.prototype.updateScale = function () {\r\n        // Dummy method for extending classes to override.\r\n    };\r\n    Object.defineProperty(Filter.prototype, \"filterUnits\", {\r\n        /**\r\n         * @return Filter units\r\n         */\r\n        get: function () {\r\n            return this.properties.filterUnits;\r\n        },\r\n        /**\r\n         * Which units are used when drawing filter.\r\n         *\r\n         * Use `\"userSpaceOnUse\"` when applying filters on a perfectly straight line.\r\n         *\r\n         * @since 4.9.17\r\n         * @default objectBoundingBox\r\n         * @param value Filter units\r\n         */\r\n        set: function (value) {\r\n            this.properties.filterUnits = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Filter.prototype, \"nonScaling\", {\r\n        /**\r\n         * @return Non scaling?\r\n         */\r\n        get: function () {\r\n            return this._nonScaling;\r\n        },\r\n        /**\r\n         * If a filter is non scaling, it will look the same even if the sprite is\r\n         * scaled, otherwise filter will scale together with a [[Sprite]].\r\n         *\r\n         * @default false\r\n         * @param value  Non scaling?\r\n         */\r\n        set: function (value) {\r\n            this._nonScaling = value;\r\n            if (!value) {\r\n                this._scale = 1;\r\n            }\r\n            this.updateScale();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Filter.prototype, \"sprite\", {\r\n        /**\r\n         * A target element this filter is currently attached to.\r\n         *\r\n         * We need to keep track of it because one filter can be used for just one\r\n         * element, so we have to remove it from the old \"parent\" when attaching to\r\n         * the new one.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value  Target element\r\n         */\r\n        set: function (value) {\r\n            this.setSprite(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets filter's target element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param value  Element filter is being attached to\r\n     */\r\n    Filter.prototype.setSprite = function (value) {\r\n        if (this._sprite && this._sprite != value) {\r\n            this._sprite.filters.removeValue(this);\r\n        }\r\n        this._sprite = value;\r\n    };\r\n    return Filter;\r\n}(BaseObject));\r\nexport { Filter };\r\n//# sourceMappingURL=Filter.js.map","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","/**\r\n * Functionality for drawing triangles.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../Sprite\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $path from \"../rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Used to draw a triangle.\r\n *\r\n * @see {@link ITriangleEvents} for a list of available events\r\n * @see {@link ITriangleAdapters} for a list of available Adapters\r\n */\r\nvar Triangle = /** @class */ (function (_super) {\r\n    __extends(Triangle, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Triangle() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Triangle\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.direction = \"top\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Triangle.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var w = this.pixelWidth;\r\n        var h = this.pixelHeight;\r\n        var path;\r\n        switch (this.direction) {\r\n            case \"right\":\r\n                path = $path.moveTo({ x: 0, y: 0 })\r\n                    + $path.lineTo({ x: w, y: h / 2 })\r\n                    + $path.lineTo({ x: 0, y: h })\r\n                    + $path.closePath();\r\n                break;\r\n            case \"left\":\r\n                path = $path.moveTo({ x: w, y: 0 })\r\n                    + $path.lineTo({ x: 0, y: h / 2 })\r\n                    + $path.lineTo({ x: w, y: h })\r\n                    + $path.closePath();\r\n                break;\r\n            case \"bottom\":\r\n                path = $path.moveTo({ x: 0, y: 0 })\r\n                    + $path.lineTo({ x: w, y: 0 })\r\n                    + $path.lineTo({ x: w / 2, y: h })\r\n                    + $path.closePath();\r\n                break;\r\n            case \"top\":\r\n                path = $path.moveTo({ x: w / 2, y: 0 })\r\n                    + $path.lineTo({ x: w, y: h })\r\n                    + $path.lineTo({ x: 0, y: h })\r\n                    + $path.closePath();\r\n                break;\r\n        }\r\n        this.path = path;\r\n    };\r\n    Object.defineProperty(Triangle.prototype, \"direction\", {\r\n        /**\r\n         * Returns direction of a triangle\r\n         *\r\n         * @return value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"direction\");\r\n        },\r\n        /**\r\n         * Sets direction of a triangle\r\n         *\r\n         * @param value\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"direction\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Triangle;\r\n}(Sprite));\r\nexport { Triangle };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Triangle\"] = Triangle;\r\n//# sourceMappingURL=Triangle.js.map","module.exports = {};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","exports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","/**\r\n * ForceDirectedLink module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport { percent, Percent } from \"../../core/utils/Percent\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A class that builds links between [[ForceDirectedNode]] elements.\r\n *\r\n * @see {@link IForceDirectedLinkEvents} for a list of available events\r\n * @see {@link IForceDirectedLinkAdapters} for a list of available Adapters\r\n * @since 4.3.8\r\n * @important\r\n */\r\nvar ForceDirectedLink = /** @class */ (function (_super) {\r\n    __extends(ForceDirectedLink, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ForceDirectedLink() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ForceDirectedLink\";\r\n        var interfaceColors = new InterfaceColorSet();\r\n        _this.fillOpacity = 0;\r\n        _this.strokeOpacity = 0.5;\r\n        _this.stroke = interfaceColors.getFor(\"grid\");\r\n        _this.isMeasured = false;\r\n        _this.nonScalingStroke = true;\r\n        _this.interactionsEnabled = false;\r\n        _this.distance = 1.5;\r\n        _this.strength = 1;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Validates element:\r\n     * * Triggers events\r\n     * * Redraws the element\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ForceDirectedLink.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        var source = this.source;\r\n        var target = this.target;\r\n        if (source && target) {\r\n            this.path = $path.moveTo({ x: source.pixelX, y: source.pixelY }) + $path.lineTo({ x: target.pixelX, y: target.pixelY });\r\n            if (source.isHidden || target.isHidden || source.isHiding || target.isHiding) {\r\n                this.hide();\r\n            }\r\n            else {\r\n                this.show();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(ForceDirectedLink.prototype, \"source\", {\r\n        /**\r\n         * @return Source node\r\n         */\r\n        get: function () {\r\n            return this._source;\r\n        },\r\n        /**\r\n         * Source node - a node link starts from.\r\n         *\r\n         * @param  value  Source node\r\n         */\r\n        set: function (value) {\r\n            if (value) {\r\n                this._source = value;\r\n                this._disposers.push(value.events.on(\"positionchanged\", this.invalidate, this, false));\r\n                this._disposers.push(value.events.on(\"validated\", this.invalidate, this, false));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedLink.prototype, \"target\", {\r\n        /**\r\n         * @return Target node\r\n         */\r\n        get: function () {\r\n            return this._target;\r\n        },\r\n        /**\r\n         * Target node - a node link ends at.\r\n         *\r\n         * @param  value  Target node\r\n         */\r\n        set: function (value) {\r\n            if (value) {\r\n                this._target = value;\r\n                this._disposers.push(value.events.on(\"positionchanged\", this.invalidate, this, false));\r\n                this._disposers.push(value.events.on(\"validated\", this.invalidate, this, false));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedLink.prototype, \"distance\", {\r\n        /**\r\n         * @return Distance\r\n         */\r\n        get: function () {\r\n            if (this._adapterO) {\r\n                if (this._adapterO.isEnabled(\"distance\")) {\r\n                    return this._adapterO.apply(\"distance\", this.properties.distance);\r\n                }\r\n            }\r\n            return this.properties.distance;\r\n        },\r\n        /**\r\n         * Distance between centers of source and target nodes.\r\n         *\r\n         * This is relative to the radii to sum of both source and target nodes.\r\n         *\r\n         * E.g. if this would be set to `1` both nodes would be touching each other.\r\n         *\r\n         * @default 1.5\r\n         * @param  value  Distance\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"distance\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedLink.prototype, \"strength\", {\r\n        /**\r\n         * @return Strength\r\n         */\r\n        get: function () {\r\n            if (this._adapterO) {\r\n                if (this._adapterO.isEnabled(\"strength\")) {\r\n                    return this._adapterO.apply(\"strength\", this.properties.strength);\r\n                }\r\n            }\r\n            return this.properties.strength;\r\n        },\r\n        /**\r\n         * Relative \"strength\" of the traction between linked nodes.\r\n         *\r\n         * Available values: 0 to XX.\r\n         *\r\n         * The bigger the number, the more rigid the link and the less it will\r\n         * stretch when node is dragged.\r\n         *\r\n         * Carefully with very big numbers: nodes and links might start behaving\r\n         * quite \"nerviously\".\r\n         *\r\n         * @default 1\r\n         * @param  value  Strength\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"strength\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * X coordinate for the slice tooltip.\r\n     *\r\n     * @ignore\r\n     * @return X\r\n     */\r\n    ForceDirectedLink.prototype.getTooltipX = function () {\r\n        var x = this.getPropertyValue(\"tooltipX\");\r\n        if (!(x instanceof Percent)) {\r\n            x = percent(50);\r\n        }\r\n        if (x instanceof Percent) {\r\n            var source = this.source;\r\n            var target = this.target;\r\n            if (source && target) {\r\n                var x1 = source.pixelX;\r\n                var x2 = target.pixelX;\r\n                return x1 + (x2 - x1) * x.value;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    /**\r\n     * Y coordinate for the slice tooltip.\r\n     *\r\n     * @ignore\r\n     * @return Y\r\n     */\r\n    ForceDirectedLink.prototype.getTooltipY = function () {\r\n        var y = this.getPropertyValue(\"tooltipY\");\r\n        if (!(y instanceof Percent)) {\r\n            y = percent(50);\r\n        }\r\n        if (y instanceof Percent) {\r\n            var source = this.source;\r\n            var target = this.target;\r\n            if (source && target) {\r\n                var y1 = source.pixelY;\r\n                var y2 = target.pixelY;\r\n                return y1 + (y2 - y1) * y.value;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    return ForceDirectedLink;\r\n}(Sprite));\r\nexport { ForceDirectedLink };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ForceDirectedLink\"] = ForceDirectedLink;\r\n//# sourceMappingURL=ForceDirectedLink.js.map","/**\r\n * Grip module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Button } from \"./Button\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { registry } from \"../Registry\";\r\nimport { percent } from \"../utils/Percent\";\r\nimport * as $path from \"../rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a grip element that can be used for scrolling or other things.\r\n *\r\n * @see {@link IGripEvents} for a list of available events\r\n * @see {@link IGripAdapters} for a list of available Adapters\r\n * @since 4.4.0\r\n */\r\nvar Grip = /** @class */ (function (_super) {\r\n    __extends(Grip, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Grip() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"Grip\";\r\n        var cs = new InterfaceColorSet();\r\n        // Set defaults\r\n        _this.layout = \"absolute\";\r\n        _this.padding(10, 10, 10, 10);\r\n        _this.margin(3, 3, 3, 3);\r\n        _this.background.fillOpacity = 0.3;\r\n        _this.background.cornerRadius(10, 10, 10, 10);\r\n        // Create an icon\r\n        var icon = new Sprite();\r\n        icon.element = _this.paper.add(\"path\");\r\n        var path = $path.moveTo({ x: -6, y: 0 });\r\n        path += $path.lineTo({ x: 6, y: 0 });\r\n        path += $path.moveTo({ x: -8, y: -6 });\r\n        path += $path.lineTo({ x: 0, y: -12 });\r\n        path += $path.lineTo({ x: 8, y: -6 });\r\n        path += $path.moveTo({ x: -8, y: 6 });\r\n        path += $path.lineTo({ x: 0, y: 12 });\r\n        path += $path.lineTo({ x: 8, y: 6 });\r\n        icon.path = path;\r\n        icon.strokeWidth = 2;\r\n        icon.fillOpacity = 0;\r\n        icon.pixelPerfect = true;\r\n        icon.padding(0, 4, 0, 4);\r\n        icon.stroke = cs.getFor(\"text\");\r\n        icon.strokeOpacity = 0.7;\r\n        icon.align = \"center\";\r\n        icon.valign = \"middle\";\r\n        _this.icon = icon;\r\n        _this.label.dispose();\r\n        _this.label = undefined;\r\n        // Set default position\r\n        _this.position = \"right\";\r\n        // Set up autohide\r\n        _this.autoHideDelay = 3000;\r\n        _this.events.on(\"shown\", function (ev) {\r\n            if (_this._autoHideTimeout) {\r\n                _this._autoHideTimeout.dispose();\r\n            }\r\n            if (_this.autoHideDelay) {\r\n                _this._autoHideTimeout = _this.setTimeout(function () {\r\n                    _this.hide();\r\n                }, _this.autoHideDelay);\r\n            }\r\n        });\r\n        _this.events.on(\"down\", function (ev) {\r\n            if (_this._autoHideTimeout) {\r\n                _this._autoHideTimeout.dispose();\r\n            }\r\n        });\r\n        _this.events.on(\"out\", function (ev) {\r\n            if (_this.autoHideDelay) {\r\n                _this._autoHideTimeout = _this.setTimeout(function () {\r\n                    _this.hide();\r\n                }, _this.autoHideDelay);\r\n            }\r\n        });\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Grip.prototype, \"position\", {\r\n        /**\r\n         * @return Position\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"position\");\r\n        },\r\n        /**\r\n         * Sets position of the grip.\r\n         *\r\n         * Available options: \"left\", \"right\" (default), \"top\", \"bottom\".\r\n         *\r\n         * @param  value  Position\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"position\", value)) {\r\n                switch (value) {\r\n                    case \"left\":\r\n                        this.align = \"left\";\r\n                        this.valign = \"middle\";\r\n                        this.horizontalCenter = \"left\";\r\n                        this.verticalCenter = \"middle\";\r\n                        this.icon.rotation = 0;\r\n                        this.width = undefined;\r\n                        this.height = percent(30);\r\n                        break;\r\n                    case \"right\":\r\n                        this.align = \"right\";\r\n                        this.valign = \"middle\";\r\n                        this.horizontalCenter = \"right\";\r\n                        this.verticalCenter = \"middle\";\r\n                        this.icon.rotation = 0;\r\n                        this.width = undefined;\r\n                        this.height = percent(30);\r\n                        break;\r\n                    case \"top\":\r\n                        this.align = \"center\";\r\n                        this.valign = \"top\";\r\n                        this.horizontalCenter = \"middle\";\r\n                        this.verticalCenter = \"top\";\r\n                        this.icon.rotation = 90;\r\n                        this.width = percent(30);\r\n                        this.height = undefined;\r\n                        break;\r\n                    case \"bottom\":\r\n                        this.align = \"center\";\r\n                        this.valign = \"bottom\";\r\n                        this.horizontalCenter = \"middle\";\r\n                        this.verticalCenter = \"bottom\";\r\n                        this.icon.rotation = 90;\r\n                        this.width = percent(30);\r\n                        this.height = undefined;\r\n                        break;\r\n                    default:\r\n                        this.align = \"center\";\r\n                        this.valign = \"middle\";\r\n                        this.horizontalCenter = \"middle\";\r\n                        this.verticalCenter = \"middle\";\r\n                        this.icon.rotation = 90;\r\n                        this.width = percent(30);\r\n                        this.height = undefined;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Grip.prototype, \"autoHideDelay\", {\r\n        /**\r\n         * @return Delay\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"autoHideDelay\");\r\n        },\r\n        /**\r\n         * Number of milliseconds to show grip until it is hidden automatically.\r\n         *\r\n         * @default 3000\r\n         * @param  value  Delay\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"autoHideDelay\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Grip;\r\n}(Button));\r\nexport { Grip };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Grip\"] = Grip;\r\n//# sourceMappingURL=Grip.js.map","/**\r\n * [[Chart]] class provides base functionality for all chart types to inherit.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { registry } from \"../core/Registry\";\r\nimport { Component } from \"../core/Component\";\r\nimport { MutableValueDisposer, Disposer } from \"../core/utils/Disposer\";\r\nimport { ListTemplate, ListDisposer } from \"../core/utils/List\";\r\nimport { Container } from \"../core/Container\";\r\nimport { Label } from \"../core/elements/Label\";\r\nimport { Grip } from \"../core/elements/Grip\";\r\nimport { DataItem } from \"../core/DataItem\";\r\nimport { percent } from \"../core/utils/Percent\";\r\nimport * as $iter from \"../core/utils/Iterator\";\r\nimport * as $type from \"../core/utils/Type\";\r\nimport { defaultRules, ResponsiveBreakpoints } from \"../core/utils/Responsive\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[Chart]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar ChartDataItem = /** @class */ (function (_super) {\r\n    __extends(ChartDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ChartDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ChartDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return ChartDataItem;\r\n}(DataItem));\r\nexport { ChartDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A base class for all Charts.\r\n *\r\n * @see {@link IChartEvents} for a list of available Events\r\n * @see {@link IChartAdapters} for a list of available Adapters\r\n */\r\nvar Chart = /** @class */ (function (_super) {\r\n    __extends(Chart, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Chart() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * A reference to chart's [[Legend]].\r\n         * @ignore\r\n         */\r\n        _this._legend = new MutableValueDisposer();\r\n        if (_this.constructor === Chart) {\r\n            throw new Error(\"'Chart' cannot be instantiated directly. Please use a specific chart type.\");\r\n        }\r\n        _this.className = \"Chart\";\r\n        // Create a list of titles\r\n        var template = new Label();\r\n        _this.titles = new ListTemplate(template);\r\n        _this._disposers.push(new ListDisposer(_this.titles));\r\n        _this._disposers.push(template);\r\n        // Chart component is also a container. it holds _chartAndLegendCont and titles\r\n        _this.width = percent(100);\r\n        _this.height = percent(100);\r\n        _this.layout = \"vertical\";\r\n        // Chart and legend\r\n        var chartAndLegendContainer = _this.createChild(Container);\r\n        chartAndLegendContainer.shouldClone = false;\r\n        chartAndLegendContainer.layout = \"vertical\";\r\n        chartAndLegendContainer.width = percent(100);\r\n        chartAndLegendContainer.height = percent(100);\r\n        _this.chartAndLegendContainer = chartAndLegendContainer;\r\n        // Chart container holds all the elements of a chart, extept titles and legend\r\n        var chartContainer = chartAndLegendContainer.createChild(Container);\r\n        chartContainer.shouldClone = false;\r\n        chartContainer.width = percent(100);\r\n        chartContainer.height = percent(100);\r\n        _this.chartContainer = chartContainer;\r\n        _this.showOnInit = true;\r\n        _this._disposers.push(_this._legend);\r\n        // Add title list events to apply certain formatting options and to make\r\n        // the chart reference them as accessible screen reader labels\r\n        _this.titles.events.on(\"inserted\", function (label) {\r\n            _this.processTitle(label);\r\n            _this.updateReaderTitleReferences();\r\n        }, _this, false);\r\n        _this.titles.events.on(\"removed\", function (label) {\r\n            _this.updateReaderTitleReferences();\r\n        }, _this, false);\r\n        // Accessibility\r\n        // It seems we can't set focusable on the whole chart because it seems to\r\n        // mess up the whole focus event system - getting a focus on an inside\r\n        // object also trigger focus on parent\r\n        //this.focusable = true;\r\n        _this.role = \"region\";\r\n        _this.defaultState.transitionDuration = 1;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    Chart.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Chart\");\r\n        }\r\n    };\r\n    /**\r\n     * Initiates drawing of the chart.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Chart.prototype.draw = function () {\r\n        this.fixLayout();\r\n        _super.prototype.draw.call(this);\r\n    };\r\n    /**\r\n     * Updates legend's hierarchy based on the position.\r\n     */\r\n    Chart.prototype.fixLayout = function () {\r\n        var legend = this.legend;\r\n        if (legend) {\r\n            var chartAndLegendContainer = this.chartAndLegendContainer;\r\n            var chartContainer = this.chartContainer;\r\n            chartContainer.x = undefined;\r\n            chartContainer.y = undefined;\r\n            legend.x = undefined;\r\n            legend.y = undefined;\r\n            switch (legend.position) {\r\n                case \"left\":\r\n                    chartAndLegendContainer.layout = \"horizontal\";\r\n                    legend.toBack();\r\n                    break;\r\n                case \"right\":\r\n                    chartAndLegendContainer.layout = \"horizontal\";\r\n                    legend.toFront();\r\n                    break;\r\n                case \"top\":\r\n                    chartAndLegendContainer.layout = \"vertical\";\r\n                    legend.toBack();\r\n                    break;\r\n                case \"bottom\":\r\n                    chartAndLegendContainer.layout = \"vertical\";\r\n                    legend.toFront();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Setups the legend to use the chart's data.\r\n     */\r\n    Chart.prototype.feedLegend = function () {\r\n        // Nothing here. This method is provided only as a \"placeholder\" for\r\n        // extending classes to override\r\n    };\r\n    /**\r\n     * Adds a new title to the chart when it is inserted into chart's titles\r\n     * list.\r\n     * @param event  An event object which is triggered when inserting into titles list\r\n     * @return Label object\r\n     */\r\n    Chart.prototype.processTitle = function (event) {\r\n        var title = event.newValue;\r\n        title.parent = this;\r\n        title.toBack();\r\n        title.shouldClone = false;\r\n        title.align = \"center\";\r\n        // Need to explicitly apply the `id` attribute so it can be referenced by\r\n        // `aria-labelledby`\r\n        title.uidAttr();\r\n        return title;\r\n    };\r\n    /**\r\n     * Checks if chart has any title elements. If it does, we will use them in an\r\n     * `aria-labelledby` attribute so that screen readers can use them to properly\r\n     * describe the chart when it is focused or hovered.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Chart.prototype.updateReaderTitleReferences = function () {\r\n        if (this.titles.length) {\r\n            var titleIds_1 = [];\r\n            $iter.each(this.titles.iterator(), function (title) {\r\n                titleIds_1.push(title.uid);\r\n            });\r\n            this.setSVGAttribute({ \"aria-labelledby\": titleIds_1.join(\" \") });\r\n        }\r\n        else {\r\n            this.removeSVGAttribute(\"aria-labelledby\");\r\n        }\r\n    };\r\n    Object.defineProperty(Chart.prototype, \"legend\", {\r\n        /**\r\n         * @return Legend\r\n         */\r\n        get: function () {\r\n            return this._legend.get();\r\n        },\r\n        /**\r\n         * Holds the instance of chart's [[Leged]].\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/legend/} for more information about legends\r\n         * @param Legend\r\n         */\r\n        set: function (legend) {\r\n            this.setLegend(legend);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Prepares the legend instance for use in this chart.\r\n     *\r\n     * @param legend  Legend\r\n     */\r\n    Chart.prototype.setLegend = function (legend) {\r\n        var _this = this;\r\n        if (this._legend.get() !== legend) {\r\n            if (legend) {\r\n                // Set legend options\r\n                legend.parent = this.chartAndLegendContainer;\r\n                this._legend.set(legend, legend.events.on(\"propertychanged\", function (event) {\r\n                    if (event.property == \"position\") {\r\n                        _this.fixLayout();\r\n                    }\r\n                }, undefined, false));\r\n                legend.addDisposer(new Disposer(function () {\r\n                    _this.legend = undefined;\r\n                }));\r\n            }\r\n            else {\r\n                this._legend.reset();\r\n            }\r\n            this.feedLegend();\r\n        }\r\n    };\r\n    /**\r\n     * Destroys this object and all related data.\r\n     */\r\n    Chart.prototype.dispose = function () {\r\n        // otherwise there might be some errors when disposing chart which was just inited\r\n        if (this.legend) {\r\n            this.legend.dispose();\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    Chart.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            // Set up legend\r\n            if ($type.hasValue(config.legend) && !$type.hasValue(config.legend.type)) {\r\n                config.legend.type = \"Legend\";\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    /**\r\n     * Copies all properties from another instance of [[Series]].\r\n     *\r\n     * @param source  Source series\r\n     */\r\n    Chart.prototype.copyFrom = function (source) {\r\n        this.titles.copyFrom(source.titles);\r\n        this.chartContainer.copyFrom(source.chartContainer);\r\n        if (source.legend) {\r\n            this.legend = source.legend.clone();\r\n            this.legend.removeChildren();\r\n        }\r\n        _super.prototype.copyFrom.call(this, source);\r\n    };\r\n    Object.defineProperty(Chart.prototype, \"dragGrip\", {\r\n        /**\r\n         * @return Grip\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._dragGrip) {\r\n                var grip_1 = this.tooltipContainer.createChild(Grip);\r\n                grip_1.align = \"right\";\r\n                grip_1.valign = \"middle\";\r\n                grip_1.hide(0);\r\n                grip_1.events.on(\"down\", function (ev) {\r\n                    if (ev.touch) {\r\n                        _this.interactionsEnabled = false;\r\n                    }\r\n                });\r\n                grip_1.events.on(\"up\", function (ev) {\r\n                    _this.interactionsEnabled = true;\r\n                });\r\n                this.events.on(\"down\", function (ev) {\r\n                    if (ev.touch) {\r\n                        grip_1.show();\r\n                    }\r\n                });\r\n                this._dragGrip = grip_1;\r\n            }\r\n            return this._dragGrip;\r\n        },\r\n        /**\r\n         * An instance of [[Grip]] which serves as a grip point which appears on\r\n         * touch and allows scrolling whole page even if chart is occupying the\r\n         * whole of the screen and would otherwise prevent scrolling.\r\n         *\r\n         * @since 4.4.0\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/touch/} For more information.\r\n         * @param  value  Grip\r\n         */\r\n        set: function (value) {\r\n            this._dragGrip = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Chart.prototype, \"focusable\", {\r\n        get: function () {\r\n            return this.parent.focusable;\r\n        },\r\n        set: function (value) {\r\n            this.parent.focusable = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Chart;\r\n}(Component));\r\nexport { Chart };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Chart\"] = Chart;\r\n/**\r\n * Add default responsive rules\r\n */\r\n/**\r\n * Reduce horizontal margins\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.widthXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof Chart) {\r\n            var state = target.states.create(stateId);\r\n            if (target.pixelPaddingLeft > 10) {\r\n                state.properties.paddingLeft = 10;\r\n            }\r\n            if (target.pixelPaddingRight > 10) {\r\n                state.properties.paddingRight = 10;\r\n            }\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n/**\r\n * Reduce vertical margins\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.heightXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof Chart) {\r\n            var state = target.states.create(stateId);\r\n            if (target.pixelPaddingTop > 10) {\r\n                state.properties.paddingTop = 10;\r\n            }\r\n            if (target.pixelPaddingBottom > 10) {\r\n                state.properties.paddingBottom = 10;\r\n            }\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n/**\r\n * Remove horizontal padding\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.widthXXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof Chart) {\r\n            var state = target.states.create(stateId);\r\n            state.properties.paddingLeft = 0;\r\n            state.properties.paddingRight = 0;\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n/**\r\n * Remove vertical padding\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.heightXXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof Chart) {\r\n            var state = target.states.create(stateId);\r\n            state.properties.paddingTop = 0;\r\n            state.properties.paddingBottom = 0;\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n//# sourceMappingURL=Chart.js.map","/**\r\n * Legend-related functionality.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Component } from \"../core/Component\";\r\nimport { DataItem } from \"../core/DataItem\";\r\nimport { ListTemplate, ListDisposer } from \"../core/utils/List\";\r\nimport { RoundedRectangle } from \"../core/elements/RoundedRectangle\";\r\nimport { Container } from \"../core/Container\";\r\nimport { Label } from \"../core/elements/Label\";\r\nimport { keyboard } from \"../core/utils/Keyboard\";\r\nimport { registry } from \"../core/Registry\";\r\nimport { getInteraction } from \"../core/interaction/Interaction\";\r\nimport { percent } from \"../core/utils/Percent\";\r\nimport { InterfaceColorSet } from \"../core/utils/InterfaceColorSet\";\r\nimport * as $utils from \"../core/utils/Utils\";\r\nimport * as $type from \"../core/utils/Type\";\r\nimport * as $math from \"../core/utils/Math\";\r\nimport { Sprite } from \"../core/Sprite\";\r\nimport { Disposer } from \"../core/utils/Disposer\";\r\nimport { MouseCursorStyle } from \"../core/interaction/Mouse\";\r\nimport { defaultRules, ResponsiveBreakpoints } from \"../core/utils/Responsive\";\r\nimport { Scrollbar } from \"../core/elements/Scrollbar\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[Legend]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar LegendDataItem = /** @class */ (function (_super) {\r\n    __extends(LegendDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function LegendDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.childrenCreated = false;\r\n        _this.className = \"LegendDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LegendDataItem.prototype, \"label\", {\r\n        /**\r\n         * A legend item's [[Label]] element.\r\n         *\r\n         * @return Label\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._label) {\r\n                var label_1 = this.component.labels.create();\r\n                this._label = label_1;\r\n                this.addSprite(label_1);\r\n                this._disposers.push(label_1);\r\n                label_1.parent = this.itemContainer;\r\n                this._disposers.push(new Disposer(function () {\r\n                    if ($type.hasValue(_this.component)) {\r\n                        _this.component.labels.removeValue(label_1);\r\n                    }\r\n                }));\r\n            }\r\n            return this._label;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LegendDataItem.prototype, \"color\", {\r\n        /**\r\n         * @return Main color\r\n         */\r\n        get: function () {\r\n            return this.properties.color;\r\n        },\r\n        /**\r\n         * Main color of legend data item.\r\n         *\r\n         * This is set by the target element this legend item represents, like\r\n         * a Series or a Slice.\r\n         *\r\n         * It can be used to derive a color in legend's sub-items, like label:\r\n         *\r\n         * ```TypeScript\r\n         * chart.legend.labels.template.text = \"[{color}]{name}[/]\";\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.legend.labels.template.text = \"[{color}]{name}[/]\";\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"legend\": {\r\n         *     // ...\r\n         *     \"labels\": {\r\n         *       \"text\": \"[{color}]{name}[/]\"\r\n         *     }\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/legend/#Legend_labels} For more information about configuring legend labels.\r\n         * @param value  Main color\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"color\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LegendDataItem.prototype, \"valueLabel\", {\r\n        /**\r\n         * A legend item's [[Label]] element for \"value label\".\r\n         *\r\n         * @return Label\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._valueLabel) {\r\n                var valueLabel_1 = this.component.valueLabels.create();\r\n                this._valueLabel = valueLabel_1;\r\n                this.addSprite(valueLabel_1);\r\n                this._disposers.push(valueLabel_1);\r\n                valueLabel_1.parent = this.itemContainer;\r\n                this._disposers.push(new Disposer(function () {\r\n                    if ($type.hasValue(_this.component)) {\r\n                        _this.component.valueLabels.removeValue(valueLabel_1);\r\n                    }\r\n                }));\r\n            }\r\n            return this._valueLabel;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LegendDataItem.prototype, \"itemContainer\", {\r\n        /**\r\n         * A reference to the main [[Container]] that holds legend item's elements:\r\n         * marker and labels.\r\n         *\r\n         * @return Item container\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._itemContainer) {\r\n                var component_1 = this.component;\r\n                var itemContainer_1 = component_1.itemContainers.create();\r\n                itemContainer_1.parent = component_1;\r\n                this._itemContainer = itemContainer_1;\r\n                this.addSprite(itemContainer_1);\r\n                this._disposers.push(itemContainer_1);\r\n                // Add click/tap event to toggle item\r\n                if (itemContainer_1.togglable) {\r\n                    itemContainer_1.events.on(\"toggled\", function (ev) {\r\n                        component_1.toggleDataItem(ev.target.dataItem);\r\n                    }, undefined, false);\r\n                }\r\n                // Add focus event so that we can track which object is currently in focus\r\n                // for keyboard toggling\r\n                if (itemContainer_1.focusable) {\r\n                    itemContainer_1.events.on(\"hit\", function (ev) {\r\n                        // We need this here in order to reset focused item when it is clicked\r\n                        // normally so that it is not toggled by ENTER afterwards\r\n                        component_1.focusedItem = undefined;\r\n                    }, undefined, false);\r\n                    itemContainer_1.events.on(\"focus\", function (ev) {\r\n                        component_1.focusedItem = ev.target.dataItem;\r\n                    }, undefined, false);\r\n                    itemContainer_1.events.on(\"blur\", function (ev) {\r\n                        component_1.focusedItem = undefined;\r\n                    }, undefined, false);\r\n                }\r\n                this._disposers.push(new Disposer(function () {\r\n                    if ($type.hasValue(_this.component)) {\r\n                        _this.component.itemContainers.removeValue(itemContainer_1);\r\n                    }\r\n                }));\r\n                if (this.dataContext.uidAttr) {\r\n                    itemContainer_1.readerControls = this.dataContext.uidAttr();\r\n                    itemContainer_1.readerLabelledBy = this.dataContext.uidAttr();\r\n                }\r\n                var sprite = this.dataContext;\r\n                if ((sprite instanceof DataItem || sprite instanceof Sprite) && !sprite.isDisposed()) {\r\n                    var visibilitychanged = function (ev) {\r\n                        itemContainer_1.readerChecked = ev.visible;\r\n                        itemContainer_1.events.disableType(\"toggled\");\r\n                        itemContainer_1.isActive = !ev.visible;\r\n                        itemContainer_1.events.enableType(\"toggled\");\r\n                    };\r\n                    sprite.addDisposer(new Disposer(function () {\r\n                        if (_this.component) {\r\n                            _this.component.dataItems.remove(_this);\r\n                        }\r\n                    }));\r\n                    if (sprite instanceof Sprite) {\r\n                        itemContainer_1.addDisposer(sprite.events.on(\"visibilitychanged\", visibilitychanged, undefined, false));\r\n                        itemContainer_1.addDisposer(sprite.events.on(\"hidden\", function (ev) {\r\n                            itemContainer_1.readerChecked = false;\r\n                            itemContainer_1.events.disableType(\"toggled\");\r\n                            itemContainer_1.isActive = true;\r\n                            itemContainer_1.events.enableType(\"toggled\");\r\n                        }, undefined, false));\r\n                        itemContainer_1.addDisposer(sprite.events.on(\"shown\", function (ev) {\r\n                            itemContainer_1.readerChecked = true;\r\n                            itemContainer_1.events.disableType(\"toggled\");\r\n                            itemContainer_1.isActive = false;\r\n                            itemContainer_1.events.enableType(\"toggled\");\r\n                        }, undefined, false));\r\n                    }\r\n                    else {\r\n                        itemContainer_1.addDisposer(sprite.events.on(\"visibilitychanged\", visibilitychanged, undefined, false));\r\n                    }\r\n                }\r\n            }\r\n            return this._itemContainer;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LegendDataItem.prototype, \"marker\", {\r\n        /**\r\n         * A [[Container]] that holds legend item's marker element.\r\n         *\r\n         * @return Marker\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._marker) {\r\n                var marker_1 = this.component.markers.create();\r\n                this._marker = marker_1;\r\n                marker_1.parent = this.itemContainer;\r\n                this.addSprite(marker_1);\r\n                this._disposers.push(marker_1);\r\n                this._disposers.push(new Disposer(function () {\r\n                    if ($type.hasValue(_this.component)) {\r\n                        _this.component.markers.removeValue(marker_1);\r\n                    }\r\n                }));\r\n            }\r\n            return this._marker;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return LegendDataItem;\r\n}(DataItem));\r\nexport { LegendDataItem };\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a class that carries legend settings.\r\n *\r\n * A legend might change its settings dynamically. Legend can also be shared\r\n * by several elements, requiring different settings.\r\n *\r\n * Having legend's settings in a separate object is a good way to \"hot swap\"\r\n * a set of settings for the legend.\r\n */\r\nvar LegendSettings = /** @class */ (function () {\r\n    function LegendSettings() {\r\n        /**\r\n         * Should marker be created for each legend item.\r\n         */\r\n        this.createMarker = true;\r\n    }\r\n    return LegendSettings;\r\n}());\r\nexport { LegendSettings };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * [[Legend]] class is used to create legend for the chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/legend/} for Legend documentation\r\n * @see {@link ILegendEvents} for a list of available events\r\n * @see {@link ILegendAdapters} for a list of available Adapters\r\n */\r\nvar Legend = /** @class */ (function (_super) {\r\n    __extends(Legend, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Legend() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Legend\";\r\n        // Set defaults\r\n        _this.layout = \"grid\";\r\n        _this.setPropertyValue(\"useDefaultMarker\", false);\r\n        _this.setPropertyValue(\"scrollable\", false);\r\n        _this.setPropertyValue(\"contentAlign\", \"center\");\r\n        // Create a template container and list for legend items\r\n        var itemContainer = new Container();\r\n        itemContainer.applyOnClones = true;\r\n        itemContainer.padding(8, 0, 8, 0);\r\n        itemContainer.margin(0, 10, 0, 10);\r\n        itemContainer.layout = \"horizontal\";\r\n        itemContainer.clickable = true;\r\n        itemContainer.focusable = true;\r\n        itemContainer.role = \"switch\";\r\n        itemContainer.togglable = true;\r\n        itemContainer.cursorOverStyle = MouseCursorStyle.pointer;\r\n        itemContainer.background.fillOpacity = 0; // creates hit area\r\n        // Create container list using item template we just created\r\n        _this.itemContainers = new ListTemplate(itemContainer);\r\n        _this._disposers.push(new ListDisposer(_this.itemContainers));\r\n        _this._disposers.push(_this.itemContainers.template);\r\n        // Set up global keyboard events for toggling elements\r\n        _this._disposers.push(getInteraction().body.events.on(\"keyup\", function (ev) {\r\n            if (keyboard.isKey(ev.event, \"enter\") && _this.focusedItem) {\r\n                var focusedItem = _this.focusedItem;\r\n                var target = focusedItem.itemContainer;\r\n                if (target.togglable) {\r\n                    _this.toggleDataItem(focusedItem);\r\n                }\r\n                else if (target.clickable && target.events.isEnabled(\"hit\")) {\r\n                    target.dispatchImmediately(\"hit\", { event: ev });\r\n                    // We need this here because \"hit\" event resets `this.focusedItem`\r\n                    // And we need it here\r\n                    _this.focusedItem = focusedItem;\r\n                }\r\n            }\r\n        }, _this));\r\n        var interfaceColors = new InterfaceColorSet();\r\n        // Create a template container and list for the a marker\r\n        var marker = new Container();\r\n        marker.width = 23;\r\n        marker.height = 23;\r\n        marker.interactionsEnabled = false;\r\n        marker.applyOnClones = true;\r\n        marker.setStateOnChildren = true;\r\n        marker.background.fillOpacity = 0;\r\n        marker.background.strokeOpacity = 0;\r\n        marker.propertyFields.fill = \"fill\";\r\n        marker.valign = \"middle\";\r\n        var disabledColor = interfaceColors.getFor(\"disabledBackground\");\r\n        marker.events.on(\"childadded\", function (event) {\r\n            var child = event.newValue;\r\n            var activeState = child.states.create(\"active\");\r\n            activeState.properties.stroke = disabledColor;\r\n            activeState.properties.fill = disabledColor;\r\n        });\r\n        _this.markers = new ListTemplate(marker);\r\n        _this._disposers.push(new ListDisposer(_this.markers));\r\n        _this._disposers.push(_this.markers.template);\r\n        // Create a legend background element\r\n        var rectangle = marker.createChild(RoundedRectangle);\r\n        rectangle.width = percent(100);\r\n        rectangle.height = percent(100);\r\n        rectangle.applyOnClones = true;\r\n        rectangle.propertyFields.fill = \"fill\";\r\n        rectangle.strokeOpacity = 0;\r\n        // Create a template container and list for item labels\r\n        var label = new Label();\r\n        label.text = \"{name}\";\r\n        label.margin(0, 5, 0, 5);\r\n        label.valign = \"middle\";\r\n        label.applyOnClones = true;\r\n        label.states.create(\"active\").properties.fill = interfaceColors.getFor(\"disabledBackground\");\r\n        _this.labels = new ListTemplate(label);\r\n        _this._disposers.push(new ListDisposer(_this.labels));\r\n        _this._disposers.push(_this.labels.template);\r\n        label.interactionsEnabled = false;\r\n        label.truncate = true;\r\n        label.fullWords = false;\r\n        // Create a template container and list for item value labels\r\n        var valueLabel = new Label();\r\n        valueLabel.margin(0, 5, 0, 0);\r\n        valueLabel.valign = \"middle\";\r\n        valueLabel.width = 50; // to avoid rearranging legend entries when value changes.\r\n        valueLabel.align = \"right\";\r\n        valueLabel.textAlign = \"end\";\r\n        valueLabel.applyOnClones = true;\r\n        valueLabel.states.create(\"active\").properties.fill = interfaceColors.getFor(\"disabledBackground\");\r\n        valueLabel.interactionsEnabled = false;\r\n        _this.valueLabels = new ListTemplate(valueLabel);\r\n        _this._disposers.push(new ListDisposer(_this.valueLabels));\r\n        _this._disposers.push(_this.valueLabels.template);\r\n        _this.position = \"bottom\"; // don't use setPropertyValue here!\r\n        // Create a state for disabled legend items\r\n        itemContainer.states.create(\"active\");\r\n        itemContainer.setStateOnChildren = true;\r\n        // Apply accessibility settings\r\n        _this.role = \"group\";\r\n        _this.events.on(\"layoutvalidated\", _this.handleScrollbar, _this, false);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    Legend.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Legend\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    Legend.prototype.createDataItem = function () {\r\n        return new LegendDataItem();\r\n    };\r\n    /**\r\n     * [validateDataElement description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem Data item\r\n     * @todo Description\r\n     * @todo Figure out how to update appearance of legend item without losing focus\r\n     * @todo Update legend marker appearance as apperance of related series changes\r\n     */\r\n    Legend.prototype.validateDataElement = function (dataItem) {\r\n        _super.prototype.validateDataElement.call(this, dataItem);\r\n        // Get data item (legend item's) container\r\n        var container = dataItem.itemContainer;\r\n        var marker = dataItem.marker;\r\n        $utils.used(dataItem.label);\r\n        var valueLabel = dataItem.valueLabel;\r\n        // Set parent and update current state\r\n        container.readerChecked = dataItem.dataContext.visible;\r\n        // Tell series its legend data item\r\n        dataItem.dataContext.legendDataItem = dataItem;\r\n        var tempMaxWidth = dataItem.label.maxWidth;\r\n        dataItem.label.width = undefined;\r\n        if (tempMaxWidth > 0) {\r\n            dataItem.label.maxWidth = tempMaxWidth;\r\n        }\r\n        if (valueLabel.align == \"right\") {\r\n            valueLabel.width = undefined;\r\n        }\r\n        var legendSettings = dataItem.dataContext.legendSettings;\r\n        // If we are not using default markers, create a unique legend marker based\r\n        // on the data item type\r\n        var dataContext = dataItem.dataContext;\r\n        if (dataContext.createLegendMarker && (!this.useDefaultMarker || !(dataContext instanceof Sprite))) {\r\n            if (!dataItem.childrenCreated) {\r\n                dataContext.createLegendMarker(marker);\r\n                dataItem.childrenCreated = true;\r\n            }\r\n        }\r\n        if (dataContext.updateLegendValue) {\r\n            dataContext.updateLegendValue(); // this solves issue with external legend, as legend is created after chart updates legend values\r\n        }\r\n        if (dataContext.component && dataContext.component.updateLegendValue) {\r\n            dataContext.component.updateLegendValue(dataContext);\r\n        }\r\n        if (valueLabel.invalid) {\r\n            valueLabel.validate();\r\n        }\r\n        if (valueLabel.text == \"\" || valueLabel.text == undefined) {\r\n            valueLabel.__disabled = true;\r\n        }\r\n        else {\r\n            valueLabel.__disabled = false;\r\n        }\r\n        if (legendSettings && (legendSettings.itemValueText != undefined || legendSettings.valueText != undefined)) {\r\n            valueLabel.__disabled = false;\r\n        }\r\n        var visible = dataItem.dataContext.visible;\r\n        if (visible === undefined) {\r\n            visible = true;\r\n        }\r\n        visible = $type.toBoolean(visible);\r\n        dataItem.dataContext.visible = visible;\r\n        container.events.disableType(\"toggled\");\r\n        container.isActive = !visible;\r\n        if (container.isActive) {\r\n            container.setState(\"active\", 0);\r\n        }\r\n        else {\r\n            container.setState(\"default\", 0);\r\n        }\r\n        container.events.enableType(\"toggled\");\r\n    };\r\n    Legend.prototype.afterDraw = function () {\r\n        var _this = this;\r\n        var maxWidth = this.getPropertyValue(\"maxWidth\");\r\n        var maxLabelWidth = 0;\r\n        this.labels.each(function (label) {\r\n            if (label.invalid) {\r\n                label.validate();\r\n            }\r\n            if (label.measuredWidth + label.pixelMarginLeft + label.pixelMarginRight > maxLabelWidth) {\r\n                maxLabelWidth = label.measuredWidth + label.pixelMarginLeft + label.pixelMarginRight;\r\n            }\r\n        });\r\n        var maxValueLabelWidth = 0;\r\n        this.valueLabels.each(function (label) {\r\n            if (label.invalid) {\r\n                label.validate();\r\n            }\r\n            if (label.measuredWidth + label.pixelMarginLeft + label.pixelMarginRight > maxValueLabelWidth) {\r\n                maxValueLabelWidth = label.measuredWidth + label.pixelMarginLeft + label.pixelMarginRight;\r\n            }\r\n        });\r\n        var maxMarkerWidth = 0;\r\n        this.markers.each(function (marker) {\r\n            if (marker.invalid) {\r\n                marker.validate();\r\n            }\r\n            if (marker.measuredWidth + marker.pixelMarginLeft + marker.pixelMarginRight > maxMarkerWidth) {\r\n                maxMarkerWidth = marker.measuredWidth + marker.pixelMarginLeft + marker.pixelMarginRight;\r\n            }\r\n        });\r\n        var itemContainer = this.itemContainers.template;\r\n        var margin = itemContainer.pixelMarginRight + itemContainer.pixelMarginLeft;\r\n        var maxAdjustedLabelWidth;\r\n        var trueMaxWidth = maxLabelWidth + maxValueLabelWidth + maxMarkerWidth;\r\n        if (!$type.isNumber(maxWidth)) {\r\n            maxAdjustedLabelWidth = maxLabelWidth;\r\n        }\r\n        else {\r\n            maxWidth = maxWidth - margin;\r\n            if (maxWidth > trueMaxWidth) {\r\n                maxWidth = trueMaxWidth;\r\n            }\r\n            maxAdjustedLabelWidth = maxWidth - maxMarkerWidth - maxValueLabelWidth;\r\n        }\r\n        this.labels.each(function (label) {\r\n            if (_this.valueLabels.template.align == \"right\" || label.measuredWidth > maxAdjustedLabelWidth) {\r\n                label.width = Math.min(label.maxWidth, maxAdjustedLabelWidth - label.pixelMarginLeft - label.pixelMarginRight);\r\n            }\r\n        });\r\n        if (this.valueLabels.template.align == \"right\") {\r\n            this.valueLabels.each(function (valueLabel) {\r\n                valueLabel.width = maxValueLabelWidth - valueLabel.pixelMarginRight - valueLabel.pixelMarginLeft;\r\n            });\r\n        }\r\n        _super.prototype.afterDraw.call(this);\r\n    };\r\n    Legend.prototype.handleScrollbar = function () {\r\n        var scrollbar = this.scrollbar;\r\n        if (this.scrollable && scrollbar) {\r\n            scrollbar.height = this.measuredHeight;\r\n            scrollbar.x = this.measuredWidth - scrollbar.pixelWidth - scrollbar.pixelMarginLeft;\r\n            if (this.contentHeight > this.measuredHeight) {\r\n                scrollbar.visible = true;\r\n                scrollbar.thumb.height = scrollbar.height * this.measuredHeight / this.contentHeight;\r\n                this.paddingRight = scrollbar.pixelWidth + scrollbar.pixelMarginLeft + +scrollbar.pixelMarginRight;\r\n            }\r\n            else {\r\n                scrollbar.visible = false;\r\n            }\r\n            this.updateMasks();\r\n        }\r\n    };\r\n    Object.defineProperty(Legend.prototype, \"position\", {\r\n        /**\r\n         * @return Position\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"position\");\r\n        },\r\n        /**\r\n         * Position of the legend.\r\n         *\r\n         * Options: \"left\", \"right\", \"top\", \"bottom\" (default), or \"absolute\".\r\n         *\r\n         * IMPORTANT: [[MapChart]] will ignore this setting, as it is using different\r\n         * layout structure than other charts.\r\n         *\r\n         * To position legend in [[MapChart]] set legend's `align` (`\"left\"` or\r\n         * `\"right\"`) and `valign` (`\"top\"` or `\"bottom\"`) properties instead.\r\n         *\r\n         * @default \"bottom\"\r\n         * @param value  Position\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"position\", value)) {\r\n                if (value == \"left\" || value == \"right\") {\r\n                    this.margin(10, 5, 10, 10);\r\n                    this.valign = \"middle\";\r\n                    this.contentAlign = \"none\";\r\n                    this.valueLabels.template.align = \"right\";\r\n                    if (!$type.isNumber(this.maxColumns)) {\r\n                        this.maxColumns = 1;\r\n                    }\r\n                    this.width = undefined;\r\n                    this.maxWidth = 220;\r\n                }\r\n                else {\r\n                    this.maxColumns = undefined;\r\n                    this.width = percent(100);\r\n                    this.valueLabels.template.align = \"left\";\r\n                }\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Legend.prototype, \"useDefaultMarker\", {\r\n        /**\r\n         * @return Use default marker?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"useDefaultMarker\");\r\n        },\r\n        /**\r\n         * Should legend try to mirror the look of the related item when building\r\n         * the marker for legend item?\r\n         *\r\n         * If set to `false` it will try to make the marker look like its related\r\n         * item.\r\n         *\r\n         * E.g. if an item is for a Line Series, it will display a line of the\r\n         * same thickness, color, and will use the same bullets if series have them.\r\n         *\r\n         * If set to `true`, all markers will be shown as squares, regardless of te\r\n         * series type.\r\n         *\r\n         * @default false\r\n         * @param value Use default marker?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"useDefaultMarker\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Legend.prototype, \"scrollable\", {\r\n        /**\r\n         * @return Legend Scrollable?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"scrollable\");\r\n        },\r\n        /**\r\n         * If set to `true` the Legend will display a scrollbar if its contents do\r\n         * not fit into its `maxHeight`.\r\n         *\r\n         * Please note that `maxHeight` is automatically set for Legend when its\r\n         * `position` is set to `\"left\"` or `\"right\"`.\r\n         *\r\n         * @default false\r\n         * @since 4.8.0\r\n         * @param  value  Legend Scrollable?\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"scrollable\", value, true)) {\r\n                if (value) {\r\n                    var scrollbar = this.createChild(Scrollbar);\r\n                    this.scrollbar = scrollbar;\r\n                    scrollbar.isMeasured = false;\r\n                    scrollbar.orientation = \"vertical\";\r\n                    scrollbar.endGrip.__disabled = true;\r\n                    scrollbar.startGrip.__disabled = true;\r\n                    scrollbar.visible = false;\r\n                    scrollbar.marginLeft = 5;\r\n                    this._mouseWheelDisposer = this.events.on(\"wheel\", this.handleWheel, this, false);\r\n                    this._disposers.push(this._mouseWheelDisposer);\r\n                    this._disposers.push(scrollbar.events.on(\"rangechanged\", this.updateMasks, this, false));\r\n                }\r\n                else {\r\n                    if (this._mouseWheelDisposer) {\r\n                        this._mouseWheelDisposer.dispose();\r\n                        if (this.scrollbar) {\r\n                            this.scrollbar.dispose();\r\n                            this.scrollbar = undefined;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Handles mouse wheel scrolling of legend.\r\n     *\r\n     * @param  event  Event\r\n     */\r\n    Legend.prototype.handleWheel = function (event) {\r\n        var shift = event.shift.y;\r\n        var scrollbar = this.scrollbar;\r\n        if (scrollbar) {\r\n            var ds = (shift / 1000 * this.measuredHeight / this.contentHeight);\r\n            var delta = scrollbar.end - scrollbar.start;\r\n            if (shift > 0) {\r\n                scrollbar.start = $math.max(0, scrollbar.start - ds);\r\n                scrollbar.end = scrollbar.start + delta;\r\n            }\r\n            else {\r\n                scrollbar.end = $math.min(1, scrollbar.end - ds);\r\n                scrollbar.start = scrollbar.end - delta;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Legend.prototype.updateMasks = function () {\r\n        var _this = this;\r\n        if (this.scrollbar) {\r\n            this.itemContainers.each(function (itemContainer) {\r\n                itemContainer.dy = -_this.scrollbar.thumb.pixelY * _this.contentHeight / _this.measuredHeight;\r\n                itemContainer.maskRectangle = { x: 0, y: -itemContainer.dy, width: _this.measuredWidth, height: _this.measuredHeight };\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Toggles a legend item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param item Legend item\r\n     * @todo Maybe do it with togglable instead\r\n     */\r\n    Legend.prototype.toggleDataItem = function (item) {\r\n        var dataContext = item.dataContext;\r\n        if (!dataContext.visible || dataContext.isHiding || (dataContext instanceof Sprite && dataContext.isHidden)) {\r\n            item.color = item.colorOrig;\r\n            item.itemContainer.isActive = false;\r\n            if (dataContext.hidden === true) {\r\n                dataContext.hidden = false;\r\n            }\r\n            if (dataContext.show) {\r\n                dataContext.show();\r\n            }\r\n            else {\r\n                dataContext.visible = true;\r\n            }\r\n            this.svgContainer.readerAlert(this.language.translate(\"%1 shown\", this.language.locale, item.label.readerTitle));\r\n        }\r\n        else {\r\n            item.itemContainer.isActive = true;\r\n            if (dataContext.hide) {\r\n                dataContext.hide();\r\n            }\r\n            else {\r\n                dataContext.visible = false;\r\n            }\r\n            this.svgContainer.readerAlert(this.language.translate(\"%1 hidden\", this.language.locale, item.label.readerTitle));\r\n            item.color = new InterfaceColorSet().getFor(\"disabledBackground\");\r\n        }\r\n    };\r\n    Object.defineProperty(Legend.prototype, \"preloader\", {\r\n        /**\r\n         * Override preloader method so that legend does not accidentally show its\r\n         * own preloader.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Always `undefined`\r\n         */\r\n        get: function () {\r\n            return;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * [handleDataItemPropertyChange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Legend.prototype.handleDataItemPropertyChange = function (dataItem, name) {\r\n        dataItem.valueLabel.invalidate();\r\n        dataItem.label.invalidate();\r\n    };\r\n    return Legend;\r\n}(Component));\r\nexport { Legend };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Legend\"] = Legend;\r\n/**\r\n * Add default responsive rules\r\n */\r\n/**\r\n * Move legend to below the chart if chart is narrow\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.widthXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof Legend && (target.position == \"left\" || target.position == \"right\")) {\r\n            var state = target.states.create(stateId);\r\n            state.properties.position = \"bottom\";\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n/**\r\n * Move legend to the right if chart is very short\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.heightXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof Legend && (target.position == \"top\" || target.position == \"bottom\")) {\r\n            var state = target.states.create(stateId);\r\n            state.properties.position = \"right\";\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n/**\r\n * Disable legend altogether on small charts\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.isXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof Legend) {\r\n            var state = target.states.create(stateId);\r\n            state.properties.disabled = true;\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n//# sourceMappingURL=Legend.js.map","/**\r\n * Functionality for any series-based elements, like Line Series (graphs),\r\n * Pie slice lists, etc.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Component } from \"../../core/Component\";\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { List, ListTemplate, ListDisposer } from \"../../core/utils/List\";\r\nimport { Dictionary, DictionaryDisposer } from \"../../core/utils/Dictionary\";\r\nimport { DataItem } from \"../../core/DataItem\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { Tooltip } from \"../../core/elements/Tooltip\";\r\nimport { Bullet } from \"../elements/Bullet\";\r\nimport { LegendSettings } from \"../Legend\";\r\nimport { options } from \"../../core/Options\";\r\nimport { Color } from \"../../core/utils/Color\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $ease from \"../../core/utils/Ease\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $object from \"../../core/utils/Object\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $array from \"../../core/utils/Array\";\r\nimport * as $colors from \"../../core/utils/Colors\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[Series]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar SeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(SeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function SeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"SeriesDataItem\";\r\n        //@todo Should we make `bullets` list disposable?\r\n        //this._disposers.push(new DictionaryDisposer(this.bullets));\r\n        _this.values.value = {};\r\n        _this.values.value = {};\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SeriesDataItem.prototype, \"bullets\", {\r\n        /**\r\n         * A dictionary of data items bullets, where key is uid of a bullet template.\r\n         */\r\n        get: function () {\r\n            if (!this._bullets) {\r\n                this._bullets = new Dictionary();\r\n                this._disposers.push(new DictionaryDisposer(this._bullets));\r\n            }\r\n            return this._bullets;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Destroys this object and all related data.\r\n     */\r\n    SeriesDataItem.prototype.dispose = function () {\r\n        this.bullets.clear();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    Object.defineProperty(SeriesDataItem.prototype, \"value\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.value.value;\r\n        },\r\n        /**\r\n         * data items's numeric value.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"value\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return SeriesDataItem;\r\n}(DataItem));\r\nexport { SeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines base class for any kind of serial data.\r\n *\r\n * @see {@link ISeriesEvents} for a list of available Events\r\n * @see {@link ISeriesAdapters} for a list of available Adapters\r\n * @todo Separate axis-related stuff to some other class so that MapSeries would not have unrelated stuff\r\n */\r\nvar Series = /** @class */ (function (_super) {\r\n    __extends(Series, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Series() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Should this series excluded from the axis scale calculations?\r\n         *\r\n         * @default false\r\n         */\r\n        _this._ignoreMinMax = false;\r\n        /**\r\n         * Should series' bullets?\r\n         *\r\n         * @default true\r\n         */\r\n        _this._showBullets = true;\r\n        /**\r\n         * Settings for the appearance of the related legend items.\r\n         */\r\n        _this.legendSettings = new LegendSettings();\r\n        /**\r\n         * Lowest overal values by type.\r\n         */\r\n        _this._tmin = new Dictionary();\r\n        /**\r\n         * Highest overal values by type.\r\n         */\r\n        _this._tmax = new Dictionary();\r\n        /**\r\n         * Lowest values in current selection by type.\r\n         */\r\n        _this._smin = new Dictionary();\r\n        /**\r\n         * Highest values in current selection by type.\r\n         */\r\n        _this._smax = new Dictionary();\r\n        /**\r\n         * [dataItemsByAxis description]\r\n         *\r\n         * Both by category and date.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         */\r\n        _this.dataItemsByAxis = new Dictionary();\r\n        /**\r\n         * Normally series items are focusable using keyboard, so that people can\r\n         * select them with a TAB key. However, if there are a lot of data points on\r\n         * screen it might be long and useless to tab through all o fthem.\r\n         *\r\n         * This is where `skipFocusThreshold` comes in. If there are more items than\r\n         * the value set here, we will not make those focusable and rather let screen\r\n         * reader software rely on the series summary, or authors provide alternative\r\n         * detailed information display, such as HTML table.\r\n         *\r\n         * Different series might have different threshold defaults.\r\n         */\r\n        _this.skipFocusThreshold = 20;\r\n        /**\r\n         * Used to indicate if `itemReaderText` was changed \"from the outside\".\r\n         */\r\n        _this._itemReaderTextChanged = false;\r\n        /**\r\n         * Most of the series use absolute values. However sometimes various\r\n         * calculated percent values are need, e.g. item's percent representation\r\n         * across all values in series, etc.\r\n         *\r\n         * It's a resource-intensive operation, so it is disabled by default.\r\n         *\r\n         * If you need percents to be calculated, e.g. for showing them in tooltips,\r\n         * or creating 100% stacks, this setting needs to be set to `true`.\r\n         *\r\n         * NOTE: `PieChart`, which relies on slice percentages, has this\r\n         * automatically set to `true`.\r\n         *\r\n         * @default false\r\n         */\r\n        _this.calculatePercent = false;\r\n        /**\r\n         * When `calculatePercent` is enabled and data item's percent value is\r\n         * calculated, last item's real value is used instead of its working value.\r\n         *\r\n         * This is done for the animations when last item in series (e.g. slice in\r\n         * a `PieSeries`) is hidden or shown. (if we would use real value, the\r\n         * calculated percent would always be 100%).\r\n         *\r\n         * Sometimes there is a need (e.g. for drill-down Sunburst) to disable this\r\n         * hack by setting `usePercentHack` to `false`.\r\n         *\r\n         * @since 4.9.13\r\n         * @default true\r\n         */\r\n        _this.usePercentHack = true;\r\n        /**\r\n         * Specifies if series should be automatically disposed when removing from\r\n         * chart's `series` list.\r\n         *\r\n         * @default true\r\n         */\r\n        _this.autoDispose = true;\r\n        /**\r\n         * When chart/series' data is processed, all kinds of derivative values are\r\n         * calculated. E.g. sum, min, max, change, etc. This is a potentially\r\n         * time-consuming operation, especially prominent in data-heavy charts.\r\n         *\r\n         * If your chart does not need those values, and you have a lot of data,\r\n         * setting this to `true` might give a dramatic increase in initial chart\r\n         * load speed.\r\n         *\r\n         * Please note, regular column and line series usage scenarios do not\r\n         * require derivative values. Those come into play only when you do advanced\r\n         * functionality like coloring segments of charts in different colors\r\n         * depending on change between open and close values, have stacked series, or\r\n         * display any of the derived values, like percent, in tooltips or bullets.\r\n         *\r\n         * @default false\r\n         */\r\n        _this.simplifiedProcessing = false;\r\n        if (_this.constructor === Series) {\r\n            throw new Error(\"'Series' cannot be instantiated directly. Please use a specific series type.\");\r\n        }\r\n        _this.className = \"Series\";\r\n        _this.isMeasured = false;\r\n        _this.layout = \"none\";\r\n        _this.shouldClone = false;\r\n        _this.setPropertyValue(\"hidden\", false);\r\n        _this.axisRanges = new List();\r\n        _this.axisRanges.events.on(\"inserted\", _this.processAxisRange, _this, false);\r\n        _this.minBulletDistance = 0; // otherwise we'll have a lot of cases when people won't see bullets and think it's a bug\r\n        _this.mainContainer = _this.createChild(Container);\r\n        _this.mainContainer.shouldClone = false;\r\n        _this.mainContainer.mask = _this.createChild(Sprite);\r\n        _this._disposers.push(_this.mainContainer);\r\n        // all bullets should go on top of lines/fills. So we add a separate container for bullets and later set it's parent to chart.bulletsContainer\r\n        var bulletsContainer = _this.mainContainer.createChild(Container);\r\n        _this._shouldBeReady.push(bulletsContainer);\r\n        bulletsContainer.shouldClone = false;\r\n        bulletsContainer.layout = \"none\";\r\n        bulletsContainer.virtualParent = _this;\r\n        _this._disposers.push(bulletsContainer);\r\n        _this.bulletsContainer = bulletsContainer;\r\n        _this.tooltip = new Tooltip();\r\n        _this.tooltip.virtualParent = _this;\r\n        _this._disposers.push(_this.tooltip);\r\n        _this.hiddenState.transitionEasing = $ease.cubicIn;\r\n        // this data item holds sums, averages, etc\r\n        _this.dataItem = _this.createDataItem();\r\n        _this._disposers.push(_this.dataItem);\r\n        _this.dataItem.component = _this;\r\n        // Apply accessibility\r\n        _this.role = \"group\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * We need this here so that class names can be applied to bullets container.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Series.prototype.applyTheme = function () {\r\n        _super.prototype.applyTheme.call(this);\r\n        if (options.autoSetClassName && this.bulletsContainer) {\r\n            this.bulletsContainer.className = this.className + \"-bullets\";\r\n            this.bulletsContainer.setClassName();\r\n        }\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    Series.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Series\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    Series.prototype.createDataItem = function () {\r\n        return new SeriesDataItem();\r\n    };\r\n    Object.defineProperty(Series.prototype, \"chart\", {\r\n        /**\r\n         * @return Chart\r\n         */\r\n        get: function () {\r\n            return this._chart;\r\n        },\r\n        /**\r\n         * Chart series is used on.\r\n         *\r\n         * @param value  Chart\r\n         */\r\n        set: function (value) {\r\n            this._chart = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Positions bullet.\r\n     *\r\n     * @param bullet  Sprite\r\n     */\r\n    Series.prototype.positionBullet = function (bullet) {\r\n        // Placeholder method for extending classes to override.\r\n    };\r\n    /**\r\n     * Decorates newly created bullet after it has been instert into the list.\r\n     *\r\n     * @param event  List event\r\n     * @todo investigate why itemReaderText is undefined\r\n     */\r\n    Series.prototype.processBullet = function (event) {\r\n        var _this = this;\r\n        var bullet = event.newValue;\r\n        bullet.isTemplate = true;\r\n        // Add accessibility options to bullet\r\n        // If there are relatively few bullets, make them focusable\r\n        this.events.once(\"datavalidated\", function (ev) {\r\n            if (_this.itemsFocusable()) {\r\n                bullet.focusable = true;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * removes bullets\r\n     *\r\n     * @param event  List event\r\n     */\r\n    Series.prototype.removeBullet = function (event) {\r\n        var bullet = event.oldValue;\r\n        this.dataItems.each(function (dataItem) {\r\n            var eachBullet = dataItem.bullets.getKey(bullet.uid);\r\n            if (eachBullet) {\r\n                eachBullet.dispose();\r\n            }\r\n        });\r\n        this.invalidate();\r\n    };\r\n    /**\r\n     * Validates data items.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Series.prototype.validateDataItems = function () {\r\n        _super.prototype.validateDataItems.call(this);\r\n        this.processValues(false);\r\n    };\r\n    /**\r\n     * Returns first value for the specific key in the series.\r\n     *\r\n     * @param key  Key\r\n     * @return Value\r\n     * @todo Description\r\n     * @todo Convert to propert object property iterator\r\n     */\r\n    Series.prototype.getFirstValue = function (key, startIndex) {\r\n        // find first\r\n        /*\r\n        return $iter.findMap(this.dataItems.iterator(), (dataItem) => {\r\n            for (let key in dataItem.values) {\r\n                if ($object.hasKey(dataItem.values, key)) {\r\n                    let value: number = dataItem.values[key].workingValue;\r\n                    if ($type.isNumber(value)) {\r\n                        return value;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return null;\r\n        });*/\r\n        //if (startIndex > 0 && startIndex < this.dataItems.length - 1) {\r\n        //startIndex++;\r\n        //}\r\n        for (var i = startIndex; i >= 0; i--) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            var value = dataItem.getActualWorkingValue(key);\r\n            if ($type.isNumber(value)) {\r\n                return value;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Returns first value for the specific key in the series.\r\n     *\r\n     * @param key  Key\r\n     * @return Value\r\n     * @todo Description\r\n     * @todo Convert to propert object property iterator\r\n     */\r\n    Series.prototype.getAbsoluteFirstValue = function (key) {\r\n        for (var i = 0; i < this.dataItems.length; i++) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            var value = dataItem.values[key].value;\r\n            if ($type.isNumber(value)) {\r\n                return value;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * [rangeChangeUpdate description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    Series.prototype.rangeChangeUpdate = function () {\r\n        _super.prototype.rangeChangeUpdate.call(this);\r\n        this.processValues(true);\r\n    };\r\n    /**\r\n     * [processValues description]\r\n     *\r\n     * @todo Description\r\n     * @todo Convert to propert object property iterator\r\n     * @param dataItems [description]\r\n     */\r\n    Series.prototype.processValues = function (working) {\r\n        var _this = this;\r\n        if (!this.simplifiedProcessing) {\r\n            var dataItems = this.dataItems;\r\n            var count_1 = {};\r\n            var sum_1 = {};\r\n            var absoluteSum_1 = {};\r\n            var low_1 = {};\r\n            var high_1 = {};\r\n            var open_1 = {};\r\n            var close_1 = {};\r\n            var previous_1 = {};\r\n            var first_1 = {};\r\n            var absoluteFirst_1 = {};\r\n            //let duration: number = 0; // todo: check if series uses selection.change or selection.change.percent and set duration to interpolationduration\r\n            var startIndex_1 = $math.max(0, this.startIndex);\r\n            startIndex_1 = $math.min(startIndex_1, this.dataItems.length);\r\n            var endIndex = $math.min(this.endIndex, this.dataItems.length);\r\n            if (!$type.isNumber(startIndex_1)) {\r\n                startIndex_1 = 0;\r\n            }\r\n            if (!$type.isNumber(endIndex)) {\r\n                endIndex = this.dataItems.length;\r\n            }\r\n            if (startIndex_1 > 0) {\r\n                var dataItem_1 = dataItems.getIndex(startIndex_1 - 1);\r\n                $object.each(dataItem_1.values, function (key, values) {\r\n                    var value = dataItem_1.getActualWorkingValue(key);\r\n                    if ($type.isNumber(value)) {\r\n                        // save previous\r\n                        previous_1[key] = value;\r\n                    }\r\n                });\r\n            }\r\n            var _loop_1 = function (i) {\r\n                var dataItem_2 = dataItems.getIndex(i);\r\n                $object.each(dataItem_2.values, function (key, values) {\r\n                    var value = dataItem_2.getActualWorkingValue(key);\r\n                    //if (i >= startIndex && i <= endIndex) { // do not add to count, sum etc if it is not within start/end index\r\n                    if ($type.isNumber(value)) {\r\n                        // count values\r\n                        if (!$type.isNumber(count_1[key])) {\r\n                            count_1[key] = 0;\r\n                        }\r\n                        count_1[key]++;\r\n                        // sum values\r\n                        if (!$type.isNumber(sum_1[key])) {\r\n                            sum_1[key] = 0;\r\n                        }\r\n                        sum_1[key] += value;\r\n                        // absolute sum values\r\n                        if (!$type.isNumber(absoluteSum_1[key])) {\r\n                            absoluteSum_1[key] = 0;\r\n                        }\r\n                        absoluteSum_1[key] += Math.abs(value);\r\n                        // open\r\n                        if (!$type.isNumber(open_1[key])) {\r\n                            open_1[key] = value;\r\n                        }\r\n                        // close\r\n                        close_1[key] = value;\r\n                        // low\r\n                        if (!$type.isNumber(low_1[key])) {\r\n                            low_1[key] = value;\r\n                        }\r\n                        else {\r\n                            if (low_1[key] > value) {\r\n                                low_1[key] = value;\r\n                            }\r\n                        }\r\n                        // high\r\n                        if (!$type.isNumber(high_1[key])) {\r\n                            high_1[key] = value;\r\n                        }\r\n                        else {\r\n                            if (high_1[key] < value) {\r\n                                high_1[key] = value;\r\n                            }\r\n                        }\r\n                        if (!$type.isNumber(first_1[key])) {\r\n                            first_1[key] = _this.getFirstValue(key, startIndex_1);\r\n                        }\r\n                        if (!$type.isNumber(absoluteFirst_1[key])) {\r\n                            absoluteFirst_1[key] = _this.getAbsoluteFirstValue(key);\r\n                        }\r\n                        // change\r\n                        dataItem_2.setCalculatedValue(key, value - first_1[key], \"change\");\r\n                        // change from start percent\r\n                        // will fail if first value is 0\r\n                        dataItem_2.setCalculatedValue(key, (value - first_1[key]) / first_1[key] * 100, \"changePercent\");\r\n                        dataItem_2.setCalculatedValue(key, (value - absoluteFirst_1[key]), \"startChange\");\r\n                        dataItem_2.setCalculatedValue(key, (value - absoluteFirst_1[key]) / absoluteFirst_1[key] * 100, \"startChangePercent\");\r\n                        // previous change\r\n                        var prevValue = previous_1[key];\r\n                        if (!$type.isNumber(prevValue)) {\r\n                            prevValue = value;\r\n                        }\r\n                        dataItem_2.setCalculatedValue(key, value - prevValue, \"previousChange\");\r\n                        // previous change percent\r\n                        dataItem_2.setCalculatedValue(key, (value - prevValue) / prevValue * 100, \"previousChangePercent\");\r\n                        // save previous\r\n                        previous_1[key] = value;\r\n                    }\r\n                });\r\n            };\r\n            for (var i = startIndex_1; i < endIndex; i++) {\r\n                _loop_1(i);\r\n            }\r\n            if (this.calculatePercent) {\r\n                var _loop_2 = function (i) {\r\n                    var dataItem_3 = dataItems.getIndex(i);\r\n                    $object.each(dataItem_3.values, function (key) {\r\n                        var ksum = absoluteSum_1[key];\r\n                        var value = dataItem_3.getActualWorkingValue(key);\r\n                        if ($type.isNumber(value)) {\r\n                            if (ksum > 0) {\r\n                                if (_this.usePercentHack) {\r\n                                    // this hack is made in order to make it possible to animate single slice to 0\r\n                                    // if there is only one slice left, percent value is always 100%, so it won't animate\r\n                                    // so we use real value of a slice instead of current value\r\n                                    if (value == ksum) {\r\n                                        ksum = dataItem_3.values[key].value;\r\n                                    }\r\n                                }\r\n                                var percent = value / ksum * 100;\r\n                                dataItem_3.setCalculatedValue(key, percent, \"percent\");\r\n                            }\r\n                            else {\r\n                                dataItem_3.setCalculatedValue(key, 0, \"percent\");\r\n                            }\r\n                        }\r\n                    });\r\n                };\r\n                for (var i = startIndex_1; i < endIndex; i++) {\r\n                    _loop_2(i);\r\n                }\r\n            }\r\n            // calculate one before first (cant do that in cycle, as we don't know open yet\r\n            // when drawing line chart we should draw line to the invisible data point to the left, otherwise the line will always look like it starts from the selected point\r\n            // so we do startIndex - 1\r\n            if (startIndex_1 > 0) {\r\n                var zeroItem_1 = dataItems.getIndex(startIndex_1 - 1);\r\n                $object.each(zeroItem_1.values, function (key) {\r\n                    var value = zeroItem_1.values[key].value;\r\n                    // change\r\n                    zeroItem_1.setCalculatedValue(key, value - open_1[key], \"change\");\r\n                    // change percent\r\n                    zeroItem_1.setCalculatedValue(key, (value - open_1[key]) / open_1[key] * 100, \"changePercent\");\r\n                });\r\n            }\r\n            // we save various data like sum, average to dataPoint of the series\r\n            var dataItem_4 = this.dataItem;\r\n            $object.each(dataItem_4.values, function (key) {\r\n                dataItem_4.setCalculatedValue(key, sum_1[key], \"sum\");\r\n                dataItem_4.setCalculatedValue(key, absoluteSum_1[key], \"absoluteSum\");\r\n                dataItem_4.setCalculatedValue(key, sum_1[key] / count_1[key], \"average\");\r\n                dataItem_4.setCalculatedValue(key, open_1[key], \"open\");\r\n                dataItem_4.setCalculatedValue(key, close_1[key], \"close\");\r\n                dataItem_4.setCalculatedValue(key, low_1[key], \"low\");\r\n                dataItem_4.setCalculatedValue(key, high_1[key], \"high\");\r\n                dataItem_4.setCalculatedValue(key, count_1[key], \"count\");\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * (Re)validates the whole series, effectively causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Series.prototype.validate = function () {\r\n        if ($utils.isIE()) {\r\n            this.filters.clear();\r\n        }\r\n        $iter.each(this.axisRanges.iterator(), function (axisRange) {\r\n            //axisRange.contents.disposeChildren(); // not good for columns, as they are reused\r\n            //\t\t\taxisRange.appendChildren();\r\n            axisRange.validate();\r\n        });\r\n        _super.prototype.validate.call(this);\r\n        var bulletsContainer = this.bulletsContainer;\r\n        bulletsContainer.fill = this.fill;\r\n        bulletsContainer.stroke = this.stroke;\r\n        bulletsContainer.x = this.pixelX;\r\n        bulletsContainer.y = this.pixelY;\r\n        if (this.bulletsContainer.children.length > 0) {\r\n            if (this._showBullets) {\r\n                for (var i = 0; i < this.startIndex; i++) {\r\n                    var dataItem = this.dataItems.getIndex(i);\r\n                    if (dataItem) {\r\n                        dataItem.bullets.each(function (key, bullet) {\r\n                            bullet.__disabled = true;\r\n                        });\r\n                    }\r\n                }\r\n                for (var i = this.dataItems.length - 1; i > this.endIndex; i--) {\r\n                    var dataItem = this.dataItems.getIndex(i);\r\n                    if (dataItem) {\r\n                        dataItem.bullets.each(function (key, bullet) {\r\n                            bullet.__disabled = true;\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this.bulletsContainer.children.each(function (bullet) {\r\n                    bullet.__disabled = true;\r\n                });\r\n            }\r\n        }\r\n        this.updateTooltipBounds();\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Series.prototype.updateTooltipBounds = function () {\r\n        if (this.topParent) {\r\n            var x = 0;\r\n            var y = 0;\r\n            var w = this.topParent.maxWidth;\r\n            var h = this.topParent.maxHeight;\r\n            var rect = { x: x, y: y, width: w, height: h };\r\n            this.tooltip.setBounds(rect);\r\n        }\r\n    };\r\n    Series.prototype.shouldCreateBullet = function (dataItem, bulletTemplate) {\r\n        return true;\r\n    };\r\n    /**\r\n     * Validates data item's element, effectively redrawing it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    Series.prototype.validateDataElement = function (dataItem) {\r\n        var _this = this;\r\n        _super.prototype.validateDataElement.call(this, dataItem);\r\n        if (this._showBullets) {\r\n            if (!this.isHidden) {\r\n                this.bulletsContainer.visible = true;\r\n            }\r\n            this.bullets.each(function (bulletTemplate) {\r\n                // always better to use the same, this helps to avoid redrawing\r\n                var bullet = dataItem.bullets.getKey(bulletTemplate.uid);\r\n                if (_this.shouldCreateBullet(dataItem, bulletTemplate)) {\r\n                    if (!bullet) {\r\n                        var disabledField = bulletTemplate.propertyFields.disabled;\r\n                        var dataContext = dataItem.dataContext;\r\n                        if (disabledField && dataContext && dataContext[disabledField] === false) {\r\n                            bulletTemplate.applyOnClones = false;\r\n                            bulletTemplate.disabled = false;\r\n                            bullet = bulletTemplate.clone();\r\n                            bulletTemplate.disabled = true;\r\n                            bulletTemplate.applyOnClones = true;\r\n                        }\r\n                        else {\r\n                            bullet = bulletTemplate.clone();\r\n                        }\r\n                        bullet.shouldClone = false;\r\n                        dataItem.addSprite(bullet);\r\n                        if (!_this.visible || _this.isHiding) {\r\n                            bullet.hide(0);\r\n                        }\r\n                    }\r\n                    var currentDataItem = bullet.dataItem;\r\n                    if (currentDataItem != dataItem) {\r\n                        // set to undefined in order not to reuse\r\n                        if (currentDataItem) {\r\n                            currentDataItem.bullets.setKey(bulletTemplate.uid, undefined);\r\n                        }\r\n                        var readerText_1 = _this.itemReaderText;\r\n                        if (bullet instanceof Bullet) {\r\n                            if (!readerText_1) {\r\n                                readerText_1 = (\"{\" + bullet.xField + \"}: {\" + bullet.yField + \"}\");\r\n                            }\r\n                            if (bullet.isDynamic) {\r\n                                dataItem.events.on(\"workingvaluechanged\", bullet.deepInvalidate, bullet, false);\r\n                                //dataItem.events.on(\"calculatedvaluechanged\", bullet.deepInvalidate, bullet, false);\r\n                                _this.dataItem.events.on(\"workingvaluechanged\", bullet.deepInvalidate, bullet, false);\r\n                            }\r\n                            bullet.deepInvalidate();\r\n                        }\r\n                        // Add accessibility to bullet\r\n                        if (bullet.focusable) {\r\n                            bullet.events.on(\"focus\", function (ev) {\r\n                                bullet.readerTitle = _this.populateString(readerText_1, bullet.dataItem);\r\n                            }, undefined, false);\r\n                            bullet.events.on(\"blur\", function (ev) {\r\n                                bullet.readerTitle = \"\";\r\n                            }, undefined, false);\r\n                        }\r\n                        if (bullet.hoverable) {\r\n                            bullet.events.on(\"over\", function (ev) {\r\n                                bullet.readerTitle = _this.populateString(readerText_1, bullet.dataItem);\r\n                            }, undefined, false);\r\n                            bullet.events.on(\"out\", function (ev) {\r\n                                bullet.readerTitle = \"\";\r\n                            }, undefined, false);\r\n                        }\r\n                    }\r\n                    bullet.parent = _this.bulletsContainer;\r\n                    dataItem.bullets.setKey(bulletTemplate.uid, bullet);\r\n                    // pass max w/h so we'd know if we should show/hide somethings\r\n                    bullet.maxWidth = dataItem.itemWidth;\r\n                    bullet.maxHeight = dataItem.itemHeight;\r\n                    bullet.__disabled = false;\r\n                    _this.positionBullet(bullet);\r\n                }\r\n                else {\r\n                    if (bullet) {\r\n                        bullet.__disabled = true;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.bulletsContainer.visible = false;\r\n        }\r\n    };\r\n    /**\r\n     * [handleDataItemWorkingValueChange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Series.prototype.handleDataItemWorkingValueChange = function (dataItem, name) {\r\n        if (!this.dataRangeInvalid) {\r\n            this.invalidateProcessedData();\r\n        }\r\n    };\r\n    Object.defineProperty(Series.prototype, \"ignoreMinMax\", {\r\n        /**\r\n         * @return Exclude from calculations?\r\n         */\r\n        get: function () {\r\n            return this._ignoreMinMax;\r\n        },\r\n        /**\r\n         * Should this series excluded from the axis scale calculations?\r\n         *\r\n         * @default false\r\n         * @param value  Exclude from calculations?\r\n         */\r\n        set: function (value) {\r\n            this._ignoreMinMax = value;\r\n            this.invalidateDataItems();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Create a mask for the series.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Series.prototype.createMask = function () {\r\n        // A placeholder method for extending classes to override.\r\n    };\r\n    /**\r\n     * Process axis range after it has been added to the list.\r\n     *\r\n     * @param event  Event\r\n     */\r\n    Series.prototype.processAxisRange = function (event) {\r\n        // create container if not existing\r\n        if (!this.rangesContainer) {\r\n            this.rangesContainer = this.createChild(Container);\r\n            this.rangesContainer.shouldClone = false;\r\n            this.rangesContainer.isMeasured = false;\r\n        }\r\n        var axisRange = event.newValue;\r\n        if (axisRange) {\r\n            axisRange.contents.parent = this.rangesContainer;\r\n            axisRange.isRange = true;\r\n            axisRange.events.on(\"valuechanged\", this.invalidateDataItems, this, false);\r\n        }\r\n    };\r\n    /**\r\n     * [getAxisField description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param axis  [description]\r\n     * @return [description]\r\n     */\r\n    Series.prototype.getAxisField = function (axis) {\r\n        return;\r\n    };\r\n    /**\r\n     * Shows the tooltip at specific position.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param xPosition  X\r\n     * @param yPosition  Y\r\n     */\r\n    Series.prototype.showTooltipAtPosition = function (xPosition, yPosition) {\r\n        // Placeholder method for extending classes to override.\r\n    };\r\n    Object.defineProperty(Series.prototype, \"minBulletDistance\", {\r\n        /**\r\n         * @return Distance (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"minBulletDistance\");\r\n        },\r\n        /**\r\n         * Minimal distance between data points in pixels.\r\n         *\r\n         * If distance gets smaller than this, bullets are turned off to avoid\r\n         * overlapping.\r\n         *\r\n         * `0` (zero) disables this behavior.\r\n         *\r\n         * IMPORTANT: This setting will work only when Series' base axis\r\n         * is [[CategoryAxis]] or [[DateAxis]]. If base axis is [[ValueAxis]] the\r\n         * setting will be ignored, because it would be a huge overhead to measure\r\n         * distance between each and every bullet.\r\n         *\r\n         * @default 0\r\n         * @param value  Distance (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"minBulletDistance\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Series.prototype, \"bullets\", {\r\n        /**\r\n         * A list of bullets that will be added to each and every items in the\r\n         * series.\r\n         *\r\n         * You can push any object that is a descendant of a [[Sprite]] here. All\r\n         * items added to this list will be copied and used as a bullet on all data\r\n         * items, including their properties, events, etc.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/bullets/} for more info about the concept of Bullets\r\n         * @return List of bullets.\r\n         */\r\n        get: function () {\r\n            if (!this._bullets) {\r\n                this._bullets = new ListTemplate(new Bullet());\r\n                this._bullets.template.virtualParent = this;\r\n                this._bullets.events.on(\"inserted\", this.processBullet, this, false);\r\n                this._bullets.events.on(\"removed\", this.removeBullet, this, false);\r\n                this._disposers.push(new ListDisposer(this._bullets));\r\n                this._disposers.push(this._bullets.template);\r\n            }\r\n            return this._bullets;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Binds related legend data item's visual settings to this series' visual\r\n     * settings.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param marker  Legend item container\r\n     */\r\n    Series.prototype.createLegendMarker = function (marker) {\r\n        // This is a placeholder method for extending classes to override.\r\n    };\r\n    Object.defineProperty(Series.prototype, \"hiddenInLegend\", {\r\n        /**\r\n         * @return Hidden in legend?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"hiddenInLegend\");\r\n        },\r\n        /**\r\n         * Should the series be hidden in legend?\r\n         *\r\n         * @param value Hidden in legend?\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"hiddenInLegend\", value)) {\r\n                if (this.chart) {\r\n                    this.chart.feedLegend();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Series.prototype, \"name\", {\r\n        /**\r\n         * @return Name\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"name\");\r\n        },\r\n        /**\r\n         * Series' name.\r\n         *\r\n         * @param value  Name\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"name\", value);\r\n            var legendDataItem = this.legendDataItem;\r\n            if (legendDataItem) {\r\n                legendDataItem.component.invalidate();\r\n                legendDataItem.component.invalidateRawData();\r\n            }\r\n            this.readerTitle = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Series.prototype, \"itemReaderText\", {\r\n        /**\r\n         * @return Screen reader text template\r\n         */\r\n        get: function () {\r\n            // Get explicitly set reader text\r\n            var readerText = this._itemReaderText;\r\n            // Not set? Let's try something else\r\n            if (!readerText) {\r\n                // Tooltip text?\r\n                if (this.tooltipText) {\r\n                    readerText = $utils.plainText(this.tooltipText);\r\n                }\r\n                else if (this.tooltipHTML) {\r\n                    readerText = $utils.plainText(this.tooltipHTML);\r\n                }\r\n            }\r\n            if (!this._adapterO) {\r\n                return readerText;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"itemReaderText\", readerText);\r\n            }\r\n        },\r\n        /**\r\n         * Screen reader text to be applied to each individual data item, such\r\n         * as bullets, columns or slices.\r\n         *\r\n         * The template can contain field reference meta codes, i.e. `{dateX}`,\r\n         * `{valueY}`, etc.\r\n         *\r\n         * Any text formatting options, e.g. `[bold]` will be ignored.\r\n         *\r\n         * @param value Screen reader text template\r\n         */\r\n        set: function (value) {\r\n            this._itemReaderText = value;\r\n            this._itemReaderTextChanged = true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns if number of data items in the series are beyond non-focusable\r\n     * count and should not be available for TAB-through.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Items focusable?\r\n     */\r\n    Series.prototype.itemsFocusable = function () {\r\n        return this.dataItems.length >= this.skipFocusThreshold ? false : true;\r\n    };\r\n    Object.defineProperty(Series.prototype, \"legendDataItem\", {\r\n        /**\r\n         * @return Data item\r\n         */\r\n        get: function () {\r\n            return this._legendDataItem;\r\n        },\r\n        /**\r\n         * Legend data item that corresponds to this series.\r\n         *\r\n         * @param value  Data item\r\n         */\r\n        set: function (value) {\r\n            this._legendDataItem = value;\r\n            this._legendDataItem.itemContainer.deepInvalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates corresponding legend data item with current values.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    Series.prototype.updateLegendValue = function (dataItem, notRange) {\r\n        // if this series has legend item\r\n        if (this.legendDataItem) {\r\n            var legendSettings = this.legendSettings;\r\n            var legendDataItem = this.legendDataItem;\r\n            var label = legendDataItem.label;\r\n            var valueLabel = legendDataItem.valueLabel;\r\n            // update legend\r\n            if (dataItem || notRange) {\r\n                if (valueLabel) {\r\n                    if (legendSettings.itemValueText) {\r\n                        valueLabel.text = legendSettings.itemValueText;\r\n                    }\r\n                    valueLabel.dataItem = dataItem;\r\n                }\r\n                if (label) {\r\n                    if (legendSettings.itemLabelText) {\r\n                        label.text = legendSettings.itemLabelText;\r\n                    }\r\n                    label.dataItem = dataItem;\r\n                }\r\n            }\r\n            else {\r\n                if (label) {\r\n                    // if itemLabelText is set, means we have to reset label even if labelText is not set\r\n                    if (legendSettings.labelText || legendSettings.itemLabelText != undefined) {\r\n                        label.text = legendSettings.labelText;\r\n                    }\r\n                    label.dataItem = this.dataItem;\r\n                }\r\n                if (valueLabel) {\r\n                    if (legendSettings.valueText || legendSettings.itemValueText != undefined) {\r\n                        valueLabel.text = legendSettings.valueText;\r\n                    }\r\n                    valueLabel.dataItem = this.dataItem;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Copies all properties from another instance of [[Series]].\r\n     *\r\n     * @param source  Source series\r\n     */\r\n    Series.prototype.copyFrom = function (source) {\r\n        this.bullets.copyFrom(source.bullets);\r\n        this.bulletsContainer.copyFrom(source.bulletsContainer);\r\n        this.calculatePercent = source.calculatePercent;\r\n        this.usePercentHack = source.usePercentHack;\r\n        this.simplifiedProcessing = source.simplifiedProcessing;\r\n        _super.prototype.copyFrom.call(this, source);\r\n    };\r\n    /**\r\n     * Displays a modal or console message with error, and halts any further\r\n     * processing of this element.\r\n     *\r\n     * @param e Error\r\n     */\r\n    Series.prototype.raiseCriticalError = function (e) {\r\n        if (this._chart && this._chart.modal) {\r\n            this._chart.modal.content = this._chart.adapter.apply(\"criticalError\", e).message;\r\n            this._chart.modal.closable = false;\r\n            if (!options.suppressErrors) {\r\n                this._chart.modal.open();\r\n            }\r\n            this._chart.disabled = true;\r\n        }\r\n        if (options.verbose) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    /**\r\n     * Applies filters to the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Series.prototype.applyFilters = function () {\r\n        var _this = this;\r\n        _super.prototype.applyFilters.call(this);\r\n        this.bulletsContainer.filters.clear();\r\n        // copyFrom of a list copies, does not clone\r\n        $iter.each(this.filters.iterator(), function (filter) {\r\n            _this.bulletsContainer.filters.push(filter.clone());\r\n        });\r\n    };\r\n    Object.defineProperty(Series.prototype, \"heatRules\", {\r\n        /**\r\n         * A list of heat rules to apply to series' elements based on the value\r\n         * of the data item.\r\n         *\r\n         * Heat rules can be any \"numeric\" (including `Color`) property, and can also\r\n         * be applied to child objects of series, like columns, bullets, etc.\r\n         *\r\n         * E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * series.heatRules.push({\r\n         *  \"target\": series.columns.template,\r\n         *  \"property\": \"fill\",\r\n         *  \"min\": am4core.color(\"#F5DBCB\"),\r\n         *  \"max\": am4core.color(\"#ED7B84\"),\r\n         *  \"dataField\": \"valueY\"\r\n         *});\r\n         *```\r\n         * ```Javacript\r\n         * series.heatRules.push({\r\n         *  \"target\": series.columns.template,\r\n         *  \"property\": \"fill\",\r\n         *  \"min\": am4core.color(\"#F5DBCB\"),\r\n         *  \"max\": am4core.color(\"#ED7B84\"),\r\n         *  \"dataField\": \"valueY\"\r\n         *});\r\n         *```\r\n         *```JSON\r\n         *{\r\n         *  // ...\r\n         *  \"series\": [{\r\n         *    \"type\": \"ColumnSeries\",\r\n         *    \"heatRules\": [{\r\n         *      \"target\": \"columns.template\",\r\n         *      \"property\": \"fill\",\r\n         *      \"min\": \"#F5DBCB\",\r\n         *      \"max\": \"#ED7B84\",\r\n         *      \"dataField\": \"valueY\"\r\n         *    }]\r\n         *  }]\r\n         *}\r\n         *```\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/series/#Heat_maps} for more about heat rules\r\n         * @return  Heat rules\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._heatRules) {\r\n                this._heatRules = new List();\r\n                this._heatRules.events.on(\"inserted\", function (event) {\r\n                    var heatRule = event.newValue;\r\n                    var target = heatRule.target;\r\n                    if (target) {\r\n                        var dataField_1 = heatRule.dataField;\r\n                        if (!$type.hasValue(dataField_1)) {\r\n                            dataField_1 = \"value\";\r\n                        }\r\n                        var seriesDataItem_1 = _this.dataItem;\r\n                        var property_1 = heatRule.property;\r\n                        var minValue = $type.toNumber(heatRule.minValue);\r\n                        var maxValue = $type.toNumber(heatRule.maxValue);\r\n                        if (!$type.isNumber(minValue) && !$type.isNumber(maxValue)) {\r\n                            _this.dataItem.events.on(\"calculatedvaluechanged\", function (event) {\r\n                                if (event.property == dataField_1) {\r\n                                    $iter.each(_this.dataItems.iterator(), function (dataItem) {\r\n                                        var foundSprite = false;\r\n                                        $array.each(dataItem.sprites, function (sprite) {\r\n                                            if (sprite.clonedFrom == target) {\r\n                                                var anySprite = sprite;\r\n                                                anySprite[property_1] = anySprite[property_1];\r\n                                                foundSprite = true;\r\n                                            }\r\n                                        });\r\n                                        if (!foundSprite) {\r\n                                            $array.each(dataItem.sprites, function (sprite) {\r\n                                                if (sprite instanceof Container) {\r\n                                                    $iter.each(sprite.children.iterator(), function (child) {\r\n                                                        if (child.className == target.className) {\r\n                                                            var anyChild = child;\r\n                                                            anyChild[property_1] = anyChild[property_1];\r\n                                                        }\r\n                                                        // giveup here\r\n                                                        else if (child instanceof Container) {\r\n                                                            child.deepInvalidate();\r\n                                                        }\r\n                                                    });\r\n                                                }\r\n                                            });\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                        _this.dataItems.template.events.on(\"workingvaluechanged\", function (event) {\r\n                            if (event.property == dataField_1) {\r\n                                var dataItem = event.target;\r\n                                var foundSprite_1 = false;\r\n                                $array.each(dataItem.sprites, function (sprite) {\r\n                                    if (sprite.clonedFrom == target) {\r\n                                        var anySprite = sprite;\r\n                                        anySprite[property_1] = anySprite[property_1];\r\n                                        foundSprite_1 = true;\r\n                                    }\r\n                                });\r\n                                if (!foundSprite_1) {\r\n                                    $array.each(dataItem.sprites, function (sprite) {\r\n                                        if (sprite instanceof Container) {\r\n                                            $iter.each(sprite.children.iterator(), function (child) {\r\n                                                if (child.className == target.className) {\r\n                                                    var anyChild = child;\r\n                                                    anyChild[property_1] = anyChild[property_1];\r\n                                                }\r\n                                                // givup here\r\n                                                else if (child instanceof Container) {\r\n                                                    child.deepInvalidate();\r\n                                                }\r\n                                            });\r\n                                        }\r\n                                    });\r\n                                }\r\n                            }\r\n                        });\r\n                        target.adapter.add(property_1, function (value, ruleTarget, property) {\r\n                            var minValue = $type.toNumber(heatRule.minValue);\r\n                            var maxValue = $type.toNumber(heatRule.maxValue);\r\n                            var min = heatRule.min;\r\n                            var max = heatRule.max;\r\n                            if (ruleTarget instanceof Sprite) {\r\n                                var anySprite = ruleTarget;\r\n                                var propertyField = anySprite.propertyFields[property];\r\n                                if (propertyField && ruleTarget.dataItem) {\r\n                                    var dataContext = ruleTarget.dataItem.dataContext;\r\n                                    if (dataContext && $type.hasValue(dataContext[propertyField])) {\r\n                                        return value;\r\n                                    }\r\n                                }\r\n                            }\r\n                            var dataItem = ruleTarget.dataItem;\r\n                            if (!$type.isNumber(minValue)) {\r\n                                minValue = seriesDataItem_1.values[dataField_1].low;\r\n                            }\r\n                            if (!$type.isNumber(maxValue)) {\r\n                                maxValue = seriesDataItem_1.values[dataField_1].high;\r\n                            }\r\n                            if (dataItem) {\r\n                                var fieldValues = dataItem.values[dataField_1];\r\n                                if (fieldValues) {\r\n                                    var workingValue = dataItem.getActualWorkingValue(dataField_1);\r\n                                    if ($type.hasValue(min) && $type.hasValue(max) && $type.isNumber(minValue) && $type.isNumber(maxValue) && $type.isNumber(workingValue)) {\r\n                                        var percent = void 0;\r\n                                        if (heatRule.logarithmic) {\r\n                                            percent = (Math.log(workingValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E) / ((Math.log(maxValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E));\r\n                                        }\r\n                                        else {\r\n                                            percent = (workingValue - minValue) / (maxValue - minValue);\r\n                                        }\r\n                                        if ($type.isNumber(workingValue) && !$type.isNumber(percent)) {\r\n                                            percent = 0.5;\r\n                                        }\r\n                                        // fixes problems if all values are the same\r\n                                        if ($type.isNumber(min)) {\r\n                                            return min + (max - min) * percent;\r\n                                        }\r\n                                        else if (min instanceof Color) {\r\n                                            return new Color($colors.interpolate(min.rgb, max.rgb, percent));\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            return value;\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            return this._heatRules;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    Series.prototype.processConfig = function (config) {\r\n        var heatRules;\r\n        if (config) {\r\n            // Set up bullets\r\n            if ($type.hasValue(config.bullets) && $type.isArray(config.bullets)) {\r\n                for (var i = 0, len = config.bullets.length; i < len; i++) {\r\n                    var bullets = config.bullets[i];\r\n                    if (!$type.hasValue(bullets.type)) {\r\n                        bullets.type = \"Bullet\";\r\n                    }\r\n                }\r\n            }\r\n            // Let's take heatRules out of the config, so that we can process\r\n            // them later, when bullets are already there\r\n            if ($type.hasValue(config.heatRules) && $type.isArray(config.heatRules)) {\r\n                heatRules = config.heatRules;\r\n                delete config.heatRules;\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n        // Process heat rules again, when all other elements are ready\r\n        if (heatRules) {\r\n            for (var i = 0, len = heatRules.length; i < len; i++) {\r\n                var rule = heatRules[i];\r\n                // Resolve target\r\n                var target = this;\r\n                if ($type.hasValue(rule.target) && $type.isString(rule.target)) {\r\n                    // Check if we can find this element by id\r\n                    if (this.map.hasKey(rule.target)) {\r\n                        target = this.map.getKey(rule.target);\r\n                    }\r\n                    else {\r\n                        var parts = rule.target.split(\".\");\r\n                        for (var x = 0; x < parts.length; x++) {\r\n                            if (target instanceof List) {\r\n                                var listitem = target.getIndex($type.toNumber(parts[x]));\r\n                                if (!listitem) {\r\n                                    target = target[parts[x]];\r\n                                }\r\n                                else {\r\n                                    target = listitem;\r\n                                }\r\n                            }\r\n                            else {\r\n                                var maybeIndex = parts[x].match(/^(.*)\\[([0-9]+)\\]/);\r\n                                if (maybeIndex) {\r\n                                    if (target[maybeIndex[1]] instanceof List) {\r\n                                        target = target[maybeIndex[1]].getIndex($type.toNumber(maybeIndex[2]));\r\n                                    }\r\n                                    else {\r\n                                        target = target[maybeIndex[1]][$type.toNumber(maybeIndex[2])];\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    target = target[parts[x]];\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                rule.target = target;\r\n                // Resolve colors and percents\r\n                if ($type.hasValue(rule.min)) {\r\n                    rule.min = this.maybeColorOrPercent(rule.min);\r\n                }\r\n                if ($type.hasValue(rule.max)) {\r\n                    rule.max = this.maybeColorOrPercent(rule.max);\r\n                }\r\n            }\r\n            _super.prototype.processConfig.call(this, {\r\n                heatRules: heatRules\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Returns visibility value\r\n     * @ignore\r\n     */\r\n    /*\r\n        protected getVisibility(): boolean {\r\n            let hidden = this.getPropertyValue(\"hidden\");\r\n            if (hidden) {\r\n                return false;\r\n            }\r\n            else {\r\n                return super.getVisibility();\r\n            }\r\n        }*/\r\n    /**\r\n     * This function is used to sort element's JSON config properties, so that\r\n     * some properties that absolutely need to be processed last, can be put at\r\n     * the end.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param a  Element 1\r\n     * @param b  Element 2\r\n     * @return Sorting number\r\n     */\r\n    Series.prototype.configOrder = function (a, b) {\r\n        if (a == b) {\r\n            return 0;\r\n        }\r\n        // Must come last\r\n        else if (a == \"heatRules\") {\r\n            return 1;\r\n        }\r\n        else if (b == \"heatRules\") {\r\n            return -1;\r\n        }\r\n        else {\r\n            return _super.prototype.configOrder.call(this, a, b);\r\n        }\r\n    };\r\n    /**\r\n     * Sets `visibility` property:\r\n     *\r\n     * * `true` - visible\r\n     * * `false` - hidden\r\n     *\r\n     * @param value  true - visible, false - hidden\r\n     * @return Current visibility\r\n     */\r\n    Series.prototype.setVisibility = function (value) {\r\n        _super.prototype.setVisibility.call(this, value);\r\n        this.bulletsContainer.visible = value;\r\n    };\r\n    return Series;\r\n}(Component));\r\nexport { Series };\r\n/**\r\n * Register class, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Series\"] = Series;\r\nregistry.registeredClasses[\"SeriesDataItem\"] = SeriesDataItem;\r\n//# sourceMappingURL=Series.js.map","/**\r\n * Serial chart module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Chart, ChartDataItem } from \"../Chart\";\r\nimport { ListTemplate, ListDisposer } from \"../../core/utils/List\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { Series } from \"../series/Series\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { ColorSet } from \"../../core/utils/ColorSet\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $array from \"../../core/utils/Array\";\r\nimport { Disposer } from \"../../core/utils/Disposer\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[SerialChart]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar SerialChartDataItem = /** @class */ (function (_super) {\r\n    __extends(SerialChartDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function SerialChartDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"SerialChartDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return SerialChartDataItem;\r\n}(ChartDataItem));\r\nexport { SerialChartDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A base class for all series-based charts, like XY, Pie, etc.\r\n *\r\n * Is not useful on its own.\r\n *\r\n * @see {@link ISerialChartEvents} for a list of available Events\r\n * @see {@link ISerialChartAdapters} for a list of available Adapters\r\n */\r\nvar SerialChart = /** @class */ (function (_super) {\r\n    __extends(SerialChart, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function SerialChart() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"SerialChart\";\r\n        _this.colors = new ColorSet();\r\n        _this._usesData = false;\r\n        // Create a container for series\r\n        var seriesContainer = _this.chartContainer.createChild(Container);\r\n        seriesContainer.shouldClone = false;\r\n        seriesContainer.width = percent(100);\r\n        seriesContainer.height = percent(100);\r\n        seriesContainer.isMeasured = false;\r\n        seriesContainer.layout = \"none\";\r\n        seriesContainer.zIndex = 2;\r\n        _this.seriesContainer = seriesContainer;\r\n        // Create a container for bullets\r\n        var bulletsContainer = _this.chartContainer.createChild(Container);\r\n        bulletsContainer.shouldClone = false;\r\n        bulletsContainer.width = percent(100);\r\n        bulletsContainer.height = percent(100);\r\n        bulletsContainer.isMeasured = false;\r\n        bulletsContainer.zIndex = 3;\r\n        bulletsContainer.layout = \"none\";\r\n        _this.bulletsContainer = bulletsContainer;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    SerialChart.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        if (this.colors) {\r\n            this.colors.dispose();\r\n        }\r\n        if (this.patterns) {\r\n            this.patterns.dispose();\r\n        }\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor\r\n     */\r\n    SerialChart.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Add a default screen reader title for accessibility\r\n        // This will be overridden in screen reader if there are any `titles` set\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Serial chart\");\r\n        }\r\n    };\r\n    Object.defineProperty(SerialChart.prototype, \"series\", {\r\n        /**\r\n         * A list of chart's series.\r\n         *\r\n         * @return Chart's series\r\n         */\r\n        get: function () {\r\n            if (!this._series) {\r\n                this._series = new ListTemplate(this.createSeries());\r\n                this._series.events.on(\"inserted\", this.handleSeriesAdded, this, false);\r\n                this._series.events.on(\"removed\", this.handleSeriesRemoved, this, false);\r\n                this._disposers.push(new ListDisposer(this._series, false));\r\n                this._disposers.push(this._series.template);\r\n            }\r\n            return this._series;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SerialChart.prototype.handleSeriesRemoved = function (event) {\r\n        var series = event.oldValue;\r\n        this.dataUsers.removeValue(series);\r\n        this.dataUsers.each(function (dataUser) {\r\n            dataUser.invalidateDataItems();\r\n        });\r\n        if (series.autoDispose) {\r\n            series.dispose();\r\n        }\r\n        else {\r\n            series.parent = undefined;\r\n            series.bulletsContainer.parent = undefined;\r\n        }\r\n        //this.feedLegend();\r\n        var legend = this.legend;\r\n        if (legend) {\r\n            var dataItems = this.legend.dataItems;\r\n            for (var i = dataItems.length - 1; i >= 0; i--) {\r\n                var dataItem = dataItems.getIndex(i);\r\n                if (dataItem && dataItem.dataContext == series) {\r\n                    legend.dataItems.remove(dataItem);\r\n                }\r\n            }\r\n            for (var i = legend.data.length - 1; i >= 0; i--) {\r\n                var di = legend.data[i];\r\n                if (di && di == series) {\r\n                    $array.remove(legend.data, di);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Decorates a new [[Series]] object with required parameters when it is\r\n     * added to the chart.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event  Event\r\n     */\r\n    SerialChart.prototype.handleSeriesAdded = function (event) {\r\n        var _this = this;\r\n        var series = event.newValue;\r\n        if (series.isDisposed()) {\r\n            return;\r\n        }\r\n        series.chart = this;\r\n        series.parent = this.seriesContainer;\r\n        series.bulletsContainer.parent = this.bulletsContainer;\r\n        this._dataUsers.moveValue(series);\r\n        series.addDisposer(new Disposer(function () {\r\n            _this.dataUsers.removeValue(series);\r\n        }));\r\n        this.handleSeriesAdded2(series);\r\n        if (!series.hiddenInLegend) {\r\n            if (this.legend) {\r\n                this.legend.addData(series);\r\n            }\r\n        }\r\n    };\r\n    SerialChart.prototype.handleSeriesAdded2 = function (series) {\r\n        var _this = this;\r\n        if (!this.dataInvalid) {\r\n            this._disposers.push(\r\n            // on exit only as data is usually passed after push\r\n            registry.events.once(\"exitframe\", function () {\r\n                if (!series.data || series.data.length == 0) {\r\n                    series.data = _this.data;\r\n                    if (series.showOnInit) {\r\n                        series.reinit();\r\n                        series.setPropertyValue(\"showOnInit\", false);\r\n                        series.showOnInit = true;\r\n                    }\r\n                    series.events.once(\"datavalidated\", function () {\r\n                        if (series.data == _this.data) {\r\n                            series._data = [];\r\n                        }\r\n                    });\r\n                }\r\n            }));\r\n        }\r\n    };\r\n    /**\r\n     * Setups the legend to use the chart's data.\r\n     * @ignore\r\n     */\r\n    SerialChart.prototype.feedLegend = function () {\r\n        var legend = this.legend;\r\n        if (legend) {\r\n            var legendData_1 = [];\r\n            $iter.each(this.series.iterator(), function (series) {\r\n                if (!series.hiddenInLegend) {\r\n                    legendData_1.push(series);\r\n                }\r\n            });\r\n            legend.dataFields.name = \"name\";\r\n            legend.data = legendData_1;\r\n        }\r\n    };\r\n    /**\r\n     * Creates and returns a new Series, suitable for this chart type.\r\n     *\r\n     * @return New series\r\n     */\r\n    SerialChart.prototype.createSeries = function () {\r\n        return new Series();\r\n    };\r\n    Object.defineProperty(SerialChart.prototype, \"colors\", {\r\n        /**\r\n         * @return Color list\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"colors\");\r\n        },\r\n        /**\r\n         * Chart's color list.\r\n         *\r\n         * This list can be used by a number of serial items, like applying a new\r\n         * color for each Series added. Or, applying a new color for each slice\r\n         * of a Pie chart.\r\n         *\r\n         * Please see [[ColorSet]] for information on how you can set up to generate\r\n         * unique colors.\r\n         *\r\n         * A theme you are using may override default pre-defined colors.\r\n         *\r\n         * @param value Color list\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"colors\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SerialChart.prototype, \"patterns\", {\r\n        /**\r\n         * @return Pattern set\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"patterns\");\r\n        },\r\n        /**\r\n         * A [[PatternSet]] to use when creating patterned fills for slices.\r\n         *\r\n         * @since 4.7.5\r\n         * @param value  Pattern set\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"patterns\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all parameters from another [[SerialChart]].\r\n     *\r\n     * @param source Source SerialChart\r\n     */\r\n    SerialChart.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.series.copyFrom(source.series);\r\n    };\r\n    /**\r\n     * Hides the chart instantly and then shows it. If defaultState.transitionDuration > 0, this will result an animation in which properties of hidden state will animate to properties of visible state.\r\n     */\r\n    SerialChart.prototype.appear = function () {\r\n        _super.prototype.appear.call(this);\r\n        this.series.each(function (series) {\r\n            if (series.showOnInit && series.inited) {\r\n                series.appear();\r\n            }\r\n        });\r\n    };\r\n    return SerialChart;\r\n}(Chart));\r\nexport { SerialChart };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"SerialChart\"] = SerialChart;\r\n//# sourceMappingURL=SerialChart.js.map","/**\r\n * Module that defines everything related to building ForceDirectedNodes.\r\n *\r\n * It is a container which has ForceDirectedNode element which is a RoundedRectangle.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../../core/Container\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { Circle } from \"../../core/elements/Circle\";\r\nimport { Label } from \"../../core/elements/Label\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { Dictionary, DictionaryDisposer } from \"../../core/utils/Dictionary\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Class used to creates [[ForceDirectedNode]] elements (circles).\r\n *\r\n * @see {@link IForceDirectedNodeEvents} for a list of available events\r\n * @see {@link IForceDirectedNodeAdapters} for a list of available Adapters\r\n * @since 4.3.8\r\n * @important\r\n */\r\nvar ForceDirectedNode = /** @class */ (function (_super) {\r\n    __extends(ForceDirectedNode, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ForceDirectedNode() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ForceDirectedNode\";\r\n        //this.isMeasured = true; // for correct position of the tooltip\r\n        _this.applyOnClones = true;\r\n        _this.togglable = true;\r\n        _this.draggable = true;\r\n        _this.setStateOnChildren = true;\r\n        _this.isActive = false;\r\n        _this.expandAll = true;\r\n        _this.paddingRadius = 0;\r\n        _this.linksWith = new Dictionary();\r\n        _this._disposers.push(new DictionaryDisposer(_this.linksWith));\r\n        _this.events.on(\"dragstart\", function () {\r\n            if (_this.dataItem.component) {\r\n                _this.dataItem.component.nodeDragStarted();\r\n            }\r\n        }, _this, false);\r\n        _this.events.on(\"drag\", function () {\r\n            _this.updateSimulation();\r\n        }, _this, false);\r\n        var outerCircle = _this.createChild(Circle);\r\n        outerCircle.shouldClone = false;\r\n        outerCircle.strokeWidth = 2;\r\n        var bgColor = new InterfaceColorSet().getFor(\"background\");\r\n        outerCircle.fill = bgColor;\r\n        _this.outerCircle = outerCircle;\r\n        var hoverState = outerCircle.states.create(\"hover\");\r\n        hoverState.properties.scale = 1.1;\r\n        var outerActiveState = outerCircle.states.create(\"active\");\r\n        outerActiveState.properties.scale = 1.1;\r\n        outerActiveState.properties.visible = true;\r\n        var activeHoverState = outerCircle.states.create(\"hoverActive\");\r\n        activeHoverState.properties.scale = 1;\r\n        var circle = _this.createChild(Circle);\r\n        var activeState = circle.states.create(\"active\");\r\n        activeState.properties.visible = true;\r\n        circle.shouldClone = false;\r\n        circle.interactionsEnabled = false;\r\n        circle.hiddenState.properties.radius = 0.01;\r\n        circle.events.on(\"validated\", _this.updateSimulation, _this, false);\r\n        circle.hiddenState.properties.visible = true;\r\n        _this.circle = circle;\r\n        _this.addDisposer(circle.events.on(\"validated\", _this.updateLabelSize, _this, false));\r\n        _this._disposers.push(_this.circle);\r\n        var label = _this.createChild(Label);\r\n        label.shouldClone = false;\r\n        label.horizontalCenter = \"middle\";\r\n        label.verticalCenter = \"middle\";\r\n        label.fill = bgColor;\r\n        label.strokeOpacity = 0;\r\n        label.interactionsEnabled = false;\r\n        label.textAlign = \"middle\";\r\n        label.textValign = \"middle\";\r\n        _this.label = label;\r\n        _this.adapter.add(\"tooltipY\", function (y, target) {\r\n            return -target.circle.pixelRadius;\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    ForceDirectedNode.prototype.updateLabelSize = function () {\r\n        if (this.label.text) {\r\n            var circle = this.circle;\r\n            var radius = circle.pixelRadius;\r\n            var ds = circle.defaultState;\r\n            var dsRadius = ds.properties.radius;\r\n            if ($type.isNumber(dsRadius)) {\r\n                radius = dsRadius;\r\n            }\r\n            this.label.width = 2 * radius;\r\n            this.label.height = 2 * radius;\r\n        }\r\n    };\r\n    /**\r\n     * Copies all parameters from another [[ForceDirectedNode]].\r\n     *\r\n     * @param source Source ForceDirectedNode\r\n     */\r\n    ForceDirectedNode.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (this.circle) {\r\n            this.circle.copyFrom(source.circle);\r\n        }\r\n        if (this.label) {\r\n            this.label.copyFrom(source.label);\r\n        }\r\n        if (this.outerCircle) {\r\n            this.outerCircle.copyFrom(source.outerCircle);\r\n        }\r\n    };\r\n    /**\r\n     * Sets node as \"active\" (expanded).\r\n     *\r\n     * @ignore\r\n     * @param  value  Active or not?\r\n     */\r\n    ForceDirectedNode.prototype.setActive = function (value) {\r\n        var _this = this;\r\n        _super.prototype.setActive.call(this, value);\r\n        var dataItem = this.dataItem;\r\n        if (dataItem) {\r\n            var children = dataItem.children;\r\n            var component = dataItem.component;\r\n            if (!component.dataItemsInvalid) {\r\n                if (value && children && !dataItem.childrenInited) {\r\n                    component.initNode(dataItem);\r\n                    component.updateNodeList();\r\n                }\r\n                if (value) {\r\n                    this.show();\r\n                    if (children) {\r\n                        children.each(function (child) {\r\n                            child.node.show();\r\n                            child.node.interactionsEnabled = true;\r\n                            if (child.parentLink) {\r\n                                child.parentLink.show();\r\n                            }\r\n                            if (_this.expandAll) {\r\n                                child.node.isActive = true;\r\n                            }\r\n                            else {\r\n                                child.node.isActive = false;\r\n                                //child.node.hide(0)\r\n                            }\r\n                        });\r\n                    }\r\n                    dataItem.dispatchVisibility(true);\r\n                }\r\n                else {\r\n                    if (children) {\r\n                        children.each(function (child) {\r\n                            if (child.parentLink) {\r\n                                child.parentLink.hide();\r\n                            }\r\n                            child.node.isActive = false;\r\n                            child.node.interactionsEnabled = false;\r\n                            child.node.hide();\r\n                        });\r\n                    }\r\n                    dataItem.dispatchVisibility(false);\r\n                }\r\n            }\r\n        }\r\n        this.updateSimulation();\r\n    };\r\n    /**\r\n     * @ignore\r\n     * @todo description\r\n     */\r\n    ForceDirectedNode.prototype.updateSimulation = function () {\r\n        var dataItem = this.dataItem;\r\n        if (dataItem && dataItem.component) {\r\n            dataItem.component.restartSimulation();\r\n        }\r\n    };\r\n    Object.defineProperty(ForceDirectedNode.prototype, \"expandAll\", {\r\n        /**\r\n         * @return Expand all?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"expandAll\");\r\n        },\r\n        /**\r\n         * If set to `true` (default) toggling a node on will automatically expand\r\n         * all nodes across the whole tree (all levels) of its descendants.\r\n         *\r\n         * Setting to `false` will only expand immediate children (one level).\r\n         *\r\n         * @default true\r\n         * @since 4.4.8\r\n         * @param  value  Expand all?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"expandAll\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates a new link between two nodes.\r\n     *\r\n     * Use this method to dynamically add links without requiring to revalidate\r\n     * whole of the data.\r\n     *\r\n     * @since 4.4.8\r\n     * @param   node      Target node\r\n     * @param   strength  Link strength\r\n     * @return            New link\r\n     */\r\n    ForceDirectedNode.prototype.linkWith = function (node, strength) {\r\n        var link = this.linksWith.getKey(node.uid);\r\n        if (!link) {\r\n            link = node.linksWith.getKey(this.uid);\r\n        }\r\n        if (!link) {\r\n            var dataItem = this.dataItem;\r\n            var component = dataItem.component;\r\n            link = component.links.create();\r\n            link.parent = component;\r\n            link.zIndex = -1;\r\n            link.source = this;\r\n            link.target = node;\r\n            link.stroke = dataItem.node.fill;\r\n            link.dataItem = node.dataItem;\r\n            if ($type.isNumber(strength)) {\r\n                link.strength = strength;\r\n            }\r\n            var nodeIndex = component.nodes.indexOf(dataItem.node);\r\n            var childIndex = component.nodes.indexOf(node);\r\n            component.forceLinks.push({ source: nodeIndex, target: childIndex });\r\n            component.updateNodeList();\r\n            dataItem.childLinks.push(link);\r\n            this.linksWith.setKey(node.uid, link);\r\n        }\r\n        return link;\r\n    };\r\n    /**\r\n     * Removes a link between two nodes.\r\n     *\r\n     * @since 4.4.8\r\n     * @param  node  Target node\r\n     */\r\n    ForceDirectedNode.prototype.unlinkWith = function (node) {\r\n        this.linksWith.removeKey(node.uid);\r\n    };\r\n    Object.defineProperty(ForceDirectedNode.prototype, \"paddingRadius\", {\r\n        /**\r\n         * @return Padding radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"paddingRadius\");\r\n        },\r\n        /**\r\n         * Padding of the nodes, in pixels.\r\n         *\r\n         * @since 4.6.7\r\n         * @default 0\r\n         * @param  value  padding radius\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"paddingRadius\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ForceDirectedNode;\r\n}(Container));\r\nexport { ForceDirectedNode };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ForceDirectedNode\"] = ForceDirectedNode;\r\n//# sourceMappingURL=ForceDirectedNode.js.map","export default function(x, y) {\n  var nodes;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = sx / n - x, sy = sy / n - y, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function() {\n  return (Math.random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(), l += x * x;\n            if (y === 0) y = jiggle(), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"missing: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n        y = target.y + target.vy - source.y - source.vy || jiggle();\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(), l += x * x;\n      if (y === 0) y = jiggle(), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { __extends } from \"tslib\";\r\nimport { Series, SeriesDataItem } from \"../../charts/series/Series\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { ListTemplate, ListDisposer, List } from \"../../core/utils/List\";\r\nimport { ForceDirectedNode } from \"./ForceDirectedNode\";\r\nimport { Disposer } from \"../../core/utils/Disposer\";\r\nimport { ForceDirectedLink } from \"./ForceDirectedLink\";\r\nimport { ColorSet } from \"../../core/utils/ColorSet\";\r\nimport * as d3force from \"d3-force\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $array from \"../../core/utils/Array\";\r\nimport { Percent, percent } from \"../../core/utils/Percent\";\r\nimport { MouseCursorStyle } from \"../../core/interaction/Mouse\";\r\nimport { RoundedRectangle } from \"../../core/elements/RoundedRectangle\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[ForceDirectedSeries]].\r\n *\r\n * @see {@link DataItem}\r\n * @since 4.3.8\r\n */\r\nvar ForceDirectedSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(ForceDirectedSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ForceDirectedSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Have all children already been initialized?\r\n         */\r\n        _this.childrenInited = false;\r\n        _this.className = \"ForceDirectedSeriesDataItem\";\r\n        _this.hasChildren.children = true;\r\n        _this.childLinks = new List();\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Shows the Data Item and related visual elements.\r\n     *\r\n     * @param duration  Animation duration (ms)\r\n     * @param delay     Delay animation (ms)\r\n     * @param fields    A list of fields to set values of\r\n     */\r\n    ForceDirectedSeriesDataItem.prototype.show = function (duration, delay, fields) {\r\n        this._visible = true;\r\n        if (this.node) {\r\n            this.node.isActive = true;\r\n        }\r\n        return;\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    ForceDirectedSeriesDataItem.prototype.dispatchVisibility = function (visible) {\r\n        if (this.events.isEnabled(\"visibilitychanged\")) {\r\n            var event_1 = {\r\n                type: \"visibilitychanged\",\r\n                target: this,\r\n                visible: visible\r\n            };\r\n            this.events.dispatchImmediately(\"visibilitychanged\", event_1);\r\n        }\r\n    };\r\n    /**\r\n     * Hides the Data Item and related visual elements.\r\n     *\r\n     * @param duration  Animation duration (ms)\r\n     * @param delay     Delay animation (ms)\r\n     * @param toValue   A value to set to `fields` when hiding\r\n     * @param fields    A list of data fields to set value to `toValue`\r\n     */\r\n    ForceDirectedSeriesDataItem.prototype.hide = function (duration, delay, toValue, fields) {\r\n        this._visible = false;\r\n        if (this.events.isEnabled(\"visibilitychanged\")) {\r\n            var event_2 = {\r\n                type: \"visibilitychanged\",\r\n                target: this,\r\n                visible: false\r\n            };\r\n            this.events.dispatchImmediately(\"visibilitychanged\", event_2);\r\n        }\r\n        if (this.node) {\r\n            this.node.isActive = false;\r\n        }\r\n        return;\r\n    };\r\n    Object.defineProperty(ForceDirectedSeriesDataItem.prototype, \"value\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            var value = this.values.value.value;\r\n            if (!$type.isNumber(value)) {\r\n                if (this.children) {\r\n                    value = 0;\r\n                    this.children.each(function (child) {\r\n                        value += child.value;\r\n                    });\r\n                }\r\n            }\r\n            return value;\r\n        },\r\n        /**\r\n         * Numeric value of the item.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"value\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeriesDataItem.prototype, \"node\", {\r\n        /**\r\n         * An element, related to this data item. (node)\r\n         *\r\n         * @readonly\r\n         * @return node element\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._node) {\r\n                var component_1 = this.component;\r\n                var node_1 = component_1.nodes.create();\r\n                node_1.draggable = true;\r\n                this._node = node_1;\r\n                this._disposers.push(node_1);\r\n                this._disposers.push(new Disposer(function () {\r\n                    component_1.nodes.removeValue(node_1);\r\n                }));\r\n                this.addSprite(node_1);\r\n                node_1.visible = this.visible;\r\n                node_1.hiddenState.properties.visible = true;\r\n                // Apply accessibility\r\n                if (component_1.itemsFocusable()) {\r\n                    this.component.role = \"menu\";\r\n                    node_1.role = \"menuitem\";\r\n                    node_1.focusable = true;\r\n                }\r\n                else {\r\n                    this.component.role = \"list\";\r\n                    node_1.role = \"listitem\";\r\n                    node_1.focusable = false;\r\n                }\r\n                // Apply screen reader label\r\n                if (node_1.focusable) {\r\n                    node_1.events.once(\"focus\", function (ev) {\r\n                        node_1.readerTitle = component_1.populateString(component_1.itemReaderText, _this);\r\n                    }, undefined, false);\r\n                    node_1.events.once(\"blur\", function (ev) {\r\n                        node_1.readerTitle = \"\";\r\n                    }, undefined, false);\r\n                }\r\n                if (node_1.hoverable) {\r\n                    node_1.events.once(\"over\", function (ev) {\r\n                        node_1.readerTitle = component_1.populateString(component_1.itemReaderText, _this);\r\n                    }, undefined, false);\r\n                    node_1.events.once(\"out\", function (ev) {\r\n                        node_1.readerTitle = \"\";\r\n                    }, undefined, false);\r\n                }\r\n            }\r\n            return this._node;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeriesDataItem.prototype, \"level\", {\r\n        /**\r\n         * Depth level in the series hierarchy.\r\n         *\r\n         * The top-level item will have level set at 0. Its children will have\r\n         * level 1, and so on.\r\n         *\r\n         * @readonly\r\n         * @return Level\r\n         */\r\n        get: function () {\r\n            if (!this.parent) {\r\n                return 0;\r\n            }\r\n            else {\r\n                return this.parent.level + 1;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeriesDataItem.prototype, \"percent\", {\r\n        /**\r\n         * Percent value of a node.\r\n         *\r\n         * @since 4.9.0\r\n         * @return Percent\r\n         */\r\n        get: function () {\r\n            if (this.parent) {\r\n                return this.value / this.parent.value * 100;\r\n            }\r\n            return 100;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeriesDataItem.prototype, \"color\", {\r\n        /**\r\n         * @return Color\r\n         */\r\n        get: function () {\r\n            var color = this.properties.color;\r\n            if (color == undefined) {\r\n                if (this.parent) {\r\n                    color = this.parent.color;\r\n                }\r\n            }\r\n            if (color == undefined) {\r\n                if (this.component) {\r\n                    color = this.component.colors.getIndex(this.component.colors.step * this.index);\r\n                }\r\n            }\r\n            return color;\r\n        },\r\n        /**\r\n         * Item's color.\r\n         *\r\n         * If not set, will use parent's color, or, if that is not set either,\r\n         * automatically assigned color from chart's color set. (`chart.colors`)\r\n         *\r\n         * @param value  : Color | LinearGradient | RadialGradient | Pattern\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"color\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeriesDataItem.prototype, \"linkWith\", {\r\n        /**\r\n         * @return Link list\r\n         */\r\n        get: function () {\r\n            return this.properties.linkWith;\r\n        },\r\n        /**\r\n         * An array of id's of other nodes outside of the child/parent tree to link\r\n         * with.\r\n         *\r\n         * @param  value  Link list\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"linkWith\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeriesDataItem.prototype, \"hiddenInLegend\", {\r\n        /**\r\n         * @return Hidden in legend?\r\n         */\r\n        get: function () {\r\n            return this.properties.hiddenInLegend;\r\n        },\r\n        /**\r\n         * Should dataItem (node) be hidden in legend?\r\n         *\r\n         * @param value Visible in legend?\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"hiddenInLegend\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeriesDataItem.prototype, \"collapsed\", {\r\n        /**\r\n         * @return Collapsed?\r\n         */\r\n        get: function () {\r\n            return this.properties.collapsed;\r\n        },\r\n        /**\r\n         * Indicates whether node should start off as collapsed.\r\n         *\r\n         * This can be used to specify whether node should start off as collapsed\r\n         * via data.\r\n         *\r\n         * To toggle actual node, use its `isActive` property instead.\r\n         *\r\n         * @param  value  Collapsed?\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"collapsed\", value);\r\n            this.node.isActive = !value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeriesDataItem.prototype, \"fixed\", {\r\n        /**\r\n         * @return Fixed?\r\n         */\r\n        get: function () {\r\n            return this.properties.fixed;\r\n        },\r\n        /**\r\n         * Is this node fixed (immovable)?\r\n         *\r\n         * @since 4.6.2\r\n         * @param  value  Fixed?\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"fixed\", value);\r\n            if (this.component) {\r\n                this.component.handleFixed(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeriesDataItem.prototype, \"children\", {\r\n        /**\r\n         * @return Item's children\r\n         */\r\n        get: function () {\r\n            return this.properties.children;\r\n        },\r\n        /**\r\n         * A list of item's sub-children.\r\n         *\r\n         * @param children  Item's children\r\n         */\r\n        set: function (children) {\r\n            this.setProperty(\"children\", children);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates a marker used in the legend for this slice.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param marker  Marker container\r\n     */\r\n    ForceDirectedSeriesDataItem.prototype.createLegendMarker = function (marker) {\r\n        this.component.createLegendMarker(marker, this);\r\n        if (!this.node.isActive) {\r\n            this.hide();\r\n        }\r\n    };\r\n    Object.defineProperty(ForceDirectedSeriesDataItem.prototype, \"legendDataItem\", {\r\n        /**\r\n         * @return Legend data item\r\n         */\r\n        get: function () {\r\n            return this._legendDataItem;\r\n        },\r\n        /**\r\n         * A legend's data item, that corresponds to this data item.\r\n         *\r\n         * @param value  Legend data item\r\n         */\r\n        set: function (value) {\r\n            this._legendDataItem = value;\r\n            if (value.label) {\r\n                value.label.dataItem = this;\r\n            }\r\n            if (value.valueLabel) {\r\n                value.valueLabel.dataItem = this;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ForceDirectedSeriesDataItem;\r\n}(SeriesDataItem));\r\nexport { ForceDirectedSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a [[ForceDirectedTree]] chart.\r\n *\r\n * @see {@link IForceDirectedSeriesEvents} for a list of available Events\r\n * @see {@link IForceDirectedSeriesAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/ForceDirectedTree/} For more information\r\n * @todo Example\r\n * @since 4.3.8\r\n * @important\r\n */\r\nvar ForceDirectedSeries = /** @class */ (function (_super) {\r\n    __extends(ForceDirectedSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ForceDirectedSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ForceDirectedSeries\";\r\n        _this.d3forceSimulation = d3force.forceSimulation();\r\n        _this.maxRadius = percent(8);\r\n        _this.minRadius = percent(1);\r\n        _this.width = percent(100);\r\n        _this.height = percent(100);\r\n        _this.colors = new ColorSet();\r\n        _this.colors.step = 2;\r\n        _this.width = percent(100);\r\n        _this.height = percent(100);\r\n        _this.manyBodyStrength = -15;\r\n        _this.centerStrength = 0.8;\r\n        _this.setPropertyValue(\"dragFixedNodes\", false);\r\n        _this.setPropertyValue(\"velocityDecay\", 0.4);\r\n        _this.events.on(\"maxsizechanged\", function () {\r\n            _this.updateRadiuses(_this.dataItems);\r\n            _this.updateLinksAndNodes();\r\n            _this.dataItems.each(function (dataItem) {\r\n                _this.handleFixed(dataItem);\r\n            });\r\n            var d3forceSimulation = _this.d3forceSimulation;\r\n            var w = $math.max(50, _this.innerWidth);\r\n            var h = $math.max(50, _this.innerHeight);\r\n            if (d3forceSimulation) {\r\n                d3forceSimulation.force(\"x\", d3force.forceX().x(w / 2).strength(_this.centerStrength * 100 / w));\r\n                d3forceSimulation.force(\"y\", d3force.forceY().y(h / 2).strength(_this.centerStrength * 100 / h));\r\n                if (d3forceSimulation.alpha() < 0.4) {\r\n                    d3forceSimulation.alpha(0.4);\r\n                    d3forceSimulation.restart();\r\n                }\r\n            }\r\n        });\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Returns maximum value from all supplied data items.\r\n     *\r\n     * @ignore\r\n     * @param   dataItems  List of data items\r\n     * @param   max        Default max\r\n     * @return             Max\r\n     */\r\n    ForceDirectedSeries.prototype.getMaxValue = function (dataItems, max) {\r\n        var _this = this;\r\n        dataItems.each(function (dataItem) {\r\n            if (dataItem.value > max) {\r\n                max = dataItem.value;\r\n            }\r\n            if (dataItem.children) {\r\n                var cmax = _this.getMaxValue(dataItem.children, max);\r\n                if (cmax > max) {\r\n                    max = cmax;\r\n                }\r\n            }\r\n        });\r\n        return max;\r\n    };\r\n    /**\r\n     * Validates (processes) data items.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ForceDirectedSeries.prototype.validateDataItems = function () {\r\n        var _this = this;\r\n        if (this.chart.__disabled) {\r\n            _super.prototype.validateDataItems.call(this);\r\n            return;\r\n        }\r\n        this._dataDisposers.push(new ListDisposer(this.links));\r\n        this._maxValue = this.getMaxValue(this.dataItems, 0);\r\n        this.forceLinks = [];\r\n        this.colors.reset();\r\n        var index = 0;\r\n        var radius = Math.min(this.innerHeight / 3, this.innerWidth / 3);\r\n        if (this.dataItems.length <= 1) {\r\n            radius = 0;\r\n        }\r\n        this.dataItems.each(function (dataItem) {\r\n            var angle = index / _this.dataItems.length * 360;\r\n            var node = dataItem.node;\r\n            var xField = node.propertyFields.x;\r\n            var yField = node.propertyFields.y;\r\n            if (xField && $type.hasValue(dataItem.dataContext[xField])) {\r\n                node.x = dataItem.dataContext[xField];\r\n            }\r\n            else {\r\n                node.x = _this.innerWidth / 2 + radius * $math.cos(angle);\r\n            }\r\n            if (yField && $type.hasValue(dataItem.dataContext[yField])) {\r\n                node.y = dataItem.dataContext[yField];\r\n            }\r\n            else {\r\n                node.y = _this.innerHeight / 2 + radius * $math.sin(angle);\r\n            }\r\n            dataItem.node.fill = dataItem.color;\r\n            dataItem.node.stroke = dataItem.color;\r\n            index++;\r\n            _this.initNode(dataItem);\r\n        });\r\n        if (this.dataFields.linkWith) {\r\n            this.dataItems.each(function (dataItem) {\r\n                _this.processLinkWith(dataItem);\r\n            });\r\n        }\r\n        var d3forceSimulation = this.d3forceSimulation;\r\n        d3forceSimulation.on(\"tick\", function () {\r\n            _this.updateLinksAndNodes();\r\n        });\r\n        // helps to avoid initial scatter\r\n        for (var i = 0; i < 10; i++) {\r\n            d3forceSimulation.tick();\r\n        }\r\n        d3forceSimulation.alphaDecay(1 - Math.pow(0.001, 1 / 600));\r\n        this.chart.feedLegend();\r\n        _super.prototype.validateDataItems.call(this);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    ForceDirectedSeries.prototype.handleFixed = function (dataItem) {\r\n        var _this = this;\r\n        var node = dataItem.node;\r\n        var xField = node.propertyFields.x;\r\n        var yField = node.propertyFields.y;\r\n        if (xField && $type.hasValue(dataItem.dataContext[xField])) {\r\n            node.x = dataItem.dataContext[xField];\r\n        }\r\n        if (yField && $type.hasValue(dataItem.dataContext[yField])) {\r\n            node.y = dataItem.dataContext[yField];\r\n        }\r\n        if (dataItem.fixed) {\r\n            if (node.x instanceof Percent) {\r\n                node.fx = $utils.relativeToValue(node.x, this.innerWidth);\r\n            }\r\n            else {\r\n                node.fx = node.x;\r\n            }\r\n            if (node.y instanceof Percent) {\r\n                node.fy = $utils.relativeToValue(node.y, this.innerHeight);\r\n            }\r\n            else {\r\n                node.fy = node.y;\r\n            }\r\n            node.draggable = this.dragFixedNodes;\r\n            node.validate(); // for links to redraw\r\n        }\r\n        else {\r\n            node.fx = undefined;\r\n            node.fy = undefined;\r\n            node.draggable = true;\r\n        }\r\n        if (dataItem && dataItem.children) {\r\n            dataItem.children.each(function (di) {\r\n                _this.handleFixed(di);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     * @todo description\r\n     */\r\n    ForceDirectedSeries.prototype.updateNodeList = function () {\r\n        var d3forceSimulation = this.d3forceSimulation;\r\n        d3forceSimulation.nodes(this.nodes.values);\r\n        this._linkForce = d3force.forceLink(this.forceLinks);\r\n        d3forceSimulation.force(\"link\", this._linkForce);\r\n        this._collisionForce = d3force.forceCollide();\r\n        d3forceSimulation.force(\"collision\", this._collisionForce);\r\n        var w = $math.max(50, this.innerWidth);\r\n        var h = $math.max(50, this.innerHeight);\r\n        d3forceSimulation.force(\"x\", d3force.forceX().x(w / 2).strength(this.centerStrength * 100 / w));\r\n        d3forceSimulation.force(\"y\", d3force.forceY().y(h / 2).strength(this.centerStrength * 100 / h));\r\n    };\r\n    /**\r\n     * @ignore\r\n     * @todo description\r\n     */\r\n    ForceDirectedSeries.prototype.updateLinksAndNodes = function () {\r\n        var _this = this;\r\n        if (this._linkForce) {\r\n            this._linkForce.distance(function (linkDatum) {\r\n                return _this.getDistance(linkDatum);\r\n            });\r\n            this._linkForce.strength(function (linkDatum) {\r\n                return _this.getStrength(linkDatum);\r\n            });\r\n        }\r\n        if (this._collisionForce) {\r\n            this._collisionForce.radius(function (node) {\r\n                if (node instanceof ForceDirectedNode) {\r\n                    var radius = node.circle.pixelRadius;\r\n                    if (!node.outerCircle.__disabled && !node.outerCircle.disabled && node.outerCircle.visible) {\r\n                        radius = (radius + 3) * node.outerCircle.scale;\r\n                    }\r\n                    return radius + node.paddingRadius;\r\n                }\r\n                return 1;\r\n            });\r\n        }\r\n        this.d3forceSimulation.force(\"manybody\", d3force.forceManyBody().strength(function (node) {\r\n            if (node instanceof ForceDirectedNode) {\r\n                return node.circle.pixelRadius * _this.manyBodyStrength;\r\n            }\r\n            return _this.manyBodyStrength;\r\n        }));\r\n    };\r\n    /**\r\n     * @ignore\r\n     * @todo description\r\n     */\r\n    ForceDirectedSeries.prototype.getDistance = function (linkDatum) {\r\n        var source = linkDatum.source;\r\n        var target = linkDatum.target;\r\n        var distance = 0;\r\n        if (target.dataItem && source.dataItem) {\r\n            var link = source.linksWith.getKey(target.uid);\r\n            if (link) {\r\n                distance = link.distance;\r\n            }\r\n            if (!source.isActive) {\r\n                distance = 1;\r\n            }\r\n            if (target.isHidden) {\r\n                return 0;\r\n            }\r\n            return (distance * (source.circle.pixelRadius + target.circle.pixelRadius));\r\n        }\r\n        return distance;\r\n    };\r\n    /**\r\n     * @ignore\r\n     * @todo description\r\n     */\r\n    ForceDirectedSeries.prototype.getStrength = function (linkDatum) {\r\n        var source = linkDatum.source;\r\n        var target = linkDatum.target;\r\n        var strength = 0;\r\n        var link = source.linksWith.getKey(target.uid);\r\n        if (link) {\r\n            strength = link.strength;\r\n        }\r\n        if (target.isHidden) {\r\n            return 0;\r\n        }\r\n        return strength;\r\n    };\r\n    /**\r\n     * Handler for drag end event.\r\n     *\r\n     * @ignore\r\n     */\r\n    ForceDirectedSeries.prototype.nodeDragEnded = function () {\r\n        this.d3forceSimulation.alphaTarget(0);\r\n    };\r\n    /**\r\n     * Handler for drag start event.\r\n     *\r\n     * @ignore\r\n     */\r\n    ForceDirectedSeries.prototype.nodeDragStarted = function () {\r\n        this.d3forceSimulation.alpha(0.1);\r\n        this.d3forceSimulation.restart();\r\n    };\r\n    /**\r\n     * Resets positions of whole tree.\r\n     *\r\n     * @ignore\r\n     */\r\n    ForceDirectedSeries.prototype.restartSimulation = function () {\r\n        if (this.d3forceSimulation.alpha() <= 0.3) {\r\n            this.d3forceSimulation.alpha(0.3);\r\n            this.d3forceSimulation.restart();\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    ForceDirectedSeries.prototype.updateRadiuses = function (dataItems) {\r\n        var _this = this;\r\n        dataItems.each(function (dataItem) {\r\n            _this.updateRadius(dataItem);\r\n            if (dataItem.childrenInited) {\r\n                _this.updateRadiuses(dataItem.children);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    ForceDirectedSeries.prototype.updateRadius = function (dataItem) {\r\n        var node = dataItem.node;\r\n        var minSide = (this.innerWidth + this.innerHeight) / 2;\r\n        var minRadius = $utils.relativeToValue(this.minRadius, minSide);\r\n        var maxRadius = $utils.relativeToValue(this.maxRadius, minSide);\r\n        var radius = minRadius + dataItem.value / this._maxValue * (maxRadius - minRadius);\r\n        if (!$type.isNumber(radius)) {\r\n            radius = minRadius;\r\n        }\r\n        //if(!node.circle.isHidden){\r\n        node.circle.radius = radius;\r\n        //}\r\n        node.outerCircle.radius = radius + 3;\r\n        node.circle.states.getKey(\"active\").properties.radius = radius;\r\n        node.circle.defaultState.properties.radius = radius;\r\n    };\r\n    /**\r\n     * Initializes node.\r\n     *\r\n     * @ignore\r\n     */\r\n    ForceDirectedSeries.prototype.initNode = function (dataItem) {\r\n        var _this = this;\r\n        var node = dataItem.node;\r\n        node.parent = this;\r\n        this.updateRadius(dataItem);\r\n        //let nodeIndex = this.nodes.indexOf(dataItem.node);\r\n        if (!dataItem.children || dataItem.children.length == 0) {\r\n            node.outerCircle.disabled = true;\r\n            node.circle.interactionsEnabled = true;\r\n            node.cursorOverStyle = MouseCursorStyle.default;\r\n        }\r\n        else {\r\n            node.cursorOverStyle = MouseCursorStyle.pointer;\r\n        }\r\n        if (this.dataItemsInvalid && (dataItem.level >= this.maxLevels - 1 || dataItem.collapsed)) {\r\n            node.isActive = false;\r\n            this.updateNodeList();\r\n            return;\r\n        }\r\n        if (!node.isActive) {\r\n            node.hide(0);\r\n        }\r\n        this.handleFixed(dataItem);\r\n        if (dataItem.children) {\r\n            var index_1 = 0;\r\n            dataItem.childrenInited = true;\r\n            if (this.dataItems.length == 1 && dataItem.level == 0) {\r\n                this.colors.next();\r\n            }\r\n            dataItem.children.each(function (child) {\r\n                /*\r\n                let link = this.links.create();\r\n                link.parent = this;\r\n                link.zIndex = -1;\r\n                dataItem.childLinks.push(link);\r\n                link.source = dataItem.node;\r\n                let childIndex = this.nodes.indexOf(child.node);\r\n                link.target = child.node;\r\n                child.parentLink = link;\r\n\r\n                this._forceLinks.push({ source: nodeIndex, target: childIndex });\r\n                */\r\n                var link = node.linkWith(child.node);\r\n                child.parentLink = link;\r\n                var radius = 2 * node.circle.pixelRadius + child.node.circle.pixelRadius;\r\n                var angle = index_1 / dataItem.children.length * 360;\r\n                child.node.x = node.pixelX + radius * $math.cos(angle);\r\n                child.node.y = node.pixelY + radius * $math.sin(angle);\r\n                child.node.circle.radius = 0;\r\n                var color;\r\n                var diColor = child.properties.color;\r\n                if ($type.hasValue(diColor)) {\r\n                    color = diColor;\r\n                }\r\n                else {\r\n                    if (_this.dataItems.length == 1 && dataItem.level == 0) {\r\n                        color = _this.colors.next();\r\n                    }\r\n                    else {\r\n                        color = dataItem.color;\r\n                    }\r\n                }\r\n                child.color = color;\r\n                child.node.fill = color;\r\n                child.node.stroke = color;\r\n                child.parentLink.stroke = color;\r\n                child.node.fill = child.node.fill;\r\n                child.node.stroke = child.node.stroke;\r\n                _this.initNode(child);\r\n                index_1++;\r\n            });\r\n        }\r\n        node.isActive = true;\r\n        node.show();\r\n        this.updateNodeList();\r\n    };\r\n    /**\r\n     * @ignore\r\n     * @todo description\r\n     */\r\n    ForceDirectedSeries.prototype.processLinkWith = function (dataItem) {\r\n        var _this = this;\r\n        if (dataItem.linkWith) {\r\n            $array.each(dataItem.linkWith, function (id, index) {\r\n                var dataItemToConnect = _this.getDataItemById(_this.dataItems, id);\r\n                if (dataItemToConnect) {\r\n                    dataItem.node.linkWith(dataItemToConnect.node, _this.linkWithStrength);\r\n                }\r\n            });\r\n        }\r\n        if (dataItem.children) {\r\n            dataItem.children.each(function (child) {\r\n                _this.processLinkWith(child);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Returns a [[ForceDirectedSeriesDataItem]] related to node by specific id.\r\n     *\r\n     * @param   dataItems  List of data items to search in\r\n     * @param   id         Id to search for\r\n     * @return             Data item\r\n     */\r\n    ForceDirectedSeries.prototype.getDataItemById = function (dataItems, id) {\r\n        for (var i = dataItems.length - 1; i >= 0; i--) {\r\n            var dataItem = dataItems.getIndex(i);\r\n            if (dataItem.id == id) {\r\n                return dataItem;\r\n            }\r\n            if (dataItem.children) {\r\n                var di = this.getDataItemById(dataItem.children, id);\r\n                if (di) {\r\n                    return di;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    ForceDirectedSeries.prototype.createDataItem = function () {\r\n        return new ForceDirectedSeriesDataItem();\r\n    };\r\n    Object.defineProperty(ForceDirectedSeries.prototype, \"nodes\", {\r\n        /**\r\n         * A list of nodes in series.\r\n         *\r\n         * @return  Node list\r\n         */\r\n        get: function () {\r\n            if (!this._nodes) {\r\n                var node = this.createNode();\r\n                node.applyOnClones = true;\r\n                this._disposers.push(node);\r\n                this._nodes = new ListTemplate(node);\r\n                this._disposers.push(new ListDisposer(this._nodes));\r\n            }\r\n            return this._nodes;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeries.prototype, \"links\", {\r\n        /**\r\n         * A list of links between nodes.\r\n         *\r\n         * @return  Link list\r\n         */\r\n        get: function () {\r\n            if (!this._links) {\r\n                var link = this.createLink();\r\n                link.applyOnClones = true;\r\n                this._disposers.push(link);\r\n                this._links = new ListTemplate(link);\r\n                this._disposers.push(new ListDisposer(this._links));\r\n            }\r\n            return this._links;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates a new node.\r\n     */\r\n    ForceDirectedSeries.prototype.createNode = function () {\r\n        return new ForceDirectedNode();\r\n    };\r\n    /**\r\n     * Creates a new link.\r\n     */\r\n    ForceDirectedSeries.prototype.createLink = function () {\r\n        return new ForceDirectedLink();\r\n    };\r\n    Object.defineProperty(ForceDirectedSeries.prototype, \"minRadius\", {\r\n        /**\r\n         * @return Minimum radius (px or percent)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"minRadius\");\r\n        },\r\n        /**\r\n         * Smallest possible radius in pixels of the node circle.\r\n         *\r\n         * If set in percent, it radius will be calculated from average width and\r\n         * height of series.\r\n         *\r\n         * @default Percent(1)\r\n         * @param  value  Minimum radius (px or percent)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"minRadius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeries.prototype, \"maxRadius\", {\r\n        /**\r\n         * @return Maximum radius (px or Percent)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maxRadius\");\r\n        },\r\n        /**\r\n         * Biggest possible radius in pixels of the node circle.\r\n         *\r\n         * If set in percent, it radius will be calculated from average width and\r\n         * height of series.\r\n         *\r\n         * @default Percent(8)\r\n         * @param  value  Maximum radius (px or Percent)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"maxRadius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeries.prototype, \"colors\", {\r\n        /**\r\n         * @return Color set\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"colors\");\r\n        },\r\n        /**\r\n         * A color set to be used for nodes.\r\n         *\r\n         * iIt works like this:\r\n         *\r\n         * The first level with more than one node, assigns different colors to all\r\n         * nodes in this list. Their child nodes inherit the color.\r\n         *\r\n         * For example, if the top level has one node with three children, the top\r\n         * node will get first color, the first child will get second color, etc.\r\n         *\r\n         * If there are two top nodes, the first top node gets first color, the\r\n         * second top node gets the second color. Their subsequent children inherit\r\n         * colors.\r\n         *\r\n         * @param value  Color set\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"colors\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeries.prototype, \"maxLevels\", {\r\n        /**\r\n         * @return Number of levels\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maxLevels\");\r\n        },\r\n        /**\r\n         * Number of levels to be displayed initially.\r\n         *\r\n         * @param  value  Number of levels\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"maxLevels\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeries.prototype, \"manyBodyStrength\", {\r\n        /**\r\n         * @return  Body push/attrack strength\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"manyBodyStrength\");\r\n        },\r\n        /**\r\n         * Relative strength each node pushes (or attracts) other nodes (it is\r\n         * multiplied by `node.circle.radius` for big nodes to push stronger).\r\n         *\r\n         * Positive value will make nodes attract each other, while negative will\r\n         * push away each other. The bigger the negative number is, the more\r\n         * scattered nodes will be.\r\n         *\r\n         * Available value range: `-XX` to `XX`.\r\n         *\r\n         * @default -15\r\n         * @param  value  Body push/attrack strength\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"manyBodyStrength\", value)) {\r\n                this.restartSimulation();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeries.prototype, \"centerStrength\", {\r\n        /**\r\n         * @return  Stregth of attraction to center\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"centerStrength\");\r\n        },\r\n        /**\r\n         * Relative strength each child node is pushes (or attracted) to the center\r\n         * of the chart.\r\n         *\r\n         * Positive value will make nodes to be attracted to center, while negative\r\n         * will push them away.\r\n         *\r\n         * Available value range: `-50` to `50`.\r\n         *\r\n         * @default 0.8\r\n         * @param  value  Stregth of attraction to center\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"centerStrength\", value)) {\r\n                this.restartSimulation();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeries.prototype, \"linkWithStrength\", {\r\n        /**\r\n         * @return Strength\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"linkWithStrength\");\r\n        },\r\n        /**\r\n         * Relative attraction strength between the nodes connected with `linkWith`.\r\n         *\r\n         * @since 4.4.8\r\n         * @param  value  Strength\r\n         * @default undefined\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"linkWithStrength\", value)) {\r\n                this.restartSimulation();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeries.prototype, \"velocityDecay\", {\r\n        /**\r\n         * @return Velocity decay\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"velocityDecay\");\r\n        },\r\n        /**\r\n         * The bigger the number the more slowly the nodes will move. Think of it as\r\n         * friction.\r\n         *\r\n         * @since 4.9.2\r\n         * @param  value  Velocity decay\r\n         * @default 0.4\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"velocityDecay\", value)) {\r\n                this.d3forceSimulation.velocityDecay(value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ForceDirectedSeries.prototype, \"dragFixedNodes\", {\r\n        /**\r\n         * @return Allow drag fixed nodes?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"dragFixedNodes\");\r\n        },\r\n        /**\r\n         * Specifies if user can drag fixed nodes.\r\n         *\r\n         * @since 4.9.0\r\n         * @default false\r\n         * @param  value  Allow drag fixed nodes?\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            if (this.setPropertyValue(\"dragFixedNodes\", value)) {\r\n                this.dataItems.each(function (dataItem) {\r\n                    _this.handleFixed(dataItem);\r\n                });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Binds related legend data item's visual settings to this series' visual\r\n     * settings.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param marker    Container\r\n     * @param dataItem  Data item\r\n     */\r\n    ForceDirectedSeries.prototype.createLegendMarker = function (marker, dataItem) {\r\n        marker.children.each(function (child) {\r\n            var node = dataItem.node;\r\n            if (child instanceof RoundedRectangle) {\r\n                child.cornerRadius(40, 40, 40, 40);\r\n            }\r\n            child.defaultState.properties.fill = node.fill;\r\n            child.defaultState.properties.stroke = node.stroke;\r\n            child.defaultState.properties.fillOpacity = node.fillOpacity;\r\n            child.defaultState.properties.strokeOpacity = node.strokeOpacity;\r\n            child.fill = node.fill;\r\n            child.stroke = node.stroke;\r\n            child.fillOpacity = node.fillOpacity;\r\n            child.strokeOpacity = node.strokeOpacity;\r\n            if (child.fill == undefined) {\r\n                child.__disabled = true;\r\n            }\r\n            var legendDataItem = marker.dataItem;\r\n            legendDataItem.color = node.fill;\r\n            legendDataItem.colorOrig = node.fill;\r\n            node.events.on(\"propertychanged\", function (ev) {\r\n                if (ev.property == \"fill\") {\r\n                    child.__disabled = false;\r\n                    if (!child.isActive) {\r\n                        child.fill = node.fill;\r\n                    }\r\n                    child.defaultState.properties.fill = node.fill;\r\n                    legendDataItem.color = node.fill;\r\n                    legendDataItem.colorOrig = node.fill;\r\n                }\r\n                if (ev.property == \"stroke\") {\r\n                    if (!child.isActive) {\r\n                        child.stroke = node.stroke;\r\n                    }\r\n                    child.defaultState.properties.stroke = node.stroke;\r\n                }\r\n            }, undefined, false);\r\n        });\r\n    };\r\n    return ForceDirectedSeries;\r\n}(Series));\r\nexport { ForceDirectedSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ForceDirectedSeries\"] = ForceDirectedSeries;\r\nregistry.registeredClasses[\"ForceDirectedSeriesDataItem\"] = ForceDirectedSeriesDataItem;\r\n//# sourceMappingURL=ForceDirectedSeries.js.map","/**\r\n * ForceDirectedTree chart module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { SerialChart, SerialChartDataItem } from \"../../charts/types/SerialChart\";\r\nimport { ForceDirectedSeries } from \"./ForceDirectedSeries\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[ForceDirectedTree]].\r\n *\r\n * @since 4.3.8\r\n * @see {@link DataItem}\r\n */\r\nvar ForceDirectedTreeDataItem = /** @class */ (function (_super) {\r\n    __extends(ForceDirectedTreeDataItem, _super);\r\n    function ForceDirectedTreeDataItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ForceDirectedTreeDataItem;\r\n}(SerialChartDataItem));\r\nexport { ForceDirectedTreeDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A main class for [[ForceDirectedTree]] chart type.\r\n *\r\n * @see {@link IForceDirectedTreeEvents} for a list of available Events\r\n * @see {@link IForceDirectedTreeAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/force-directed/} For more information\r\n * @since 4.3.8\r\n * @important\r\n */\r\nvar ForceDirectedTree = /** @class */ (function (_super) {\r\n    __extends(ForceDirectedTree, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ForceDirectedTree() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"ForceDirectedTree\";\r\n        _this.seriesContainer.isMeasured = true;\r\n        _this.seriesContainer.layout = \"absolute\";\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Creates and returns a new series of the suitable type.\r\n     *\r\n     * @return New series\r\n     */\r\n    ForceDirectedTree.prototype.createSeries = function () {\r\n        return new ForceDirectedSeries();\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    ForceDirectedTree.prototype.createDataItem = function () {\r\n        return new ForceDirectedTreeDataItem();\r\n    };\r\n    /**\r\n     * Setups the legend to use the chart's data.\r\n     *\r\n     * @ignore\r\n     */\r\n    ForceDirectedTree.prototype.feedLegend = function () {\r\n        var legend = this.legend;\r\n        if (legend) {\r\n            var legendData_1 = [];\r\n            this.series.each(function (series) {\r\n                if (!series.hiddenInLegend) {\r\n                    var dataItems = series.dataItems;\r\n                    if (dataItems.length == 1) {\r\n                        var children = series.dataItems.getIndex(0).children;\r\n                        if (children && children.length > 0) {\r\n                            dataItems = children;\r\n                        }\r\n                    }\r\n                    dataItems.each(function (dataItem) {\r\n                        if (!dataItem.hiddenInLegend) {\r\n                            legendData_1.push(dataItem);\r\n                            var legendSettings = series.legendSettings;\r\n                            if (legendSettings) {\r\n                                if (legendSettings.labelText) {\r\n                                    legend.labels.template.text = legendSettings.labelText;\r\n                                }\r\n                                if (legendSettings.itemLabelText) {\r\n                                    legend.labels.template.text = legendSettings.itemLabelText;\r\n                                }\r\n                                if (legendSettings.valueText) {\r\n                                    legend.valueLabels.template.text = legendSettings.valueText;\r\n                                }\r\n                                if (legendSettings.itemValueText) {\r\n                                    legend.valueLabels.template.text = legendSettings.itemValueText;\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            legend.data = legendData_1;\r\n            legend.dataFields.name = \"name\";\r\n        }\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    ForceDirectedTree.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Add a default screen reader title for accessibility\r\n        // This will be overridden in screen reader if there are any `titles` set\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Force directed tree\");\r\n        }\r\n    };\r\n    /**\r\n     * Since this chart uses hierarchical data, we need to remove childrent\r\n     * dataField from export of non-hierarchical formats such as CSV and XSLX.\r\n     *\r\n     * @return Export\r\n     */\r\n    ForceDirectedTree.prototype.getExporting = function () {\r\n        var _this = this;\r\n        var exporting = _super.prototype.getExporting.call(this);\r\n        exporting.adapter.add(\"formatDataFields\", function (info) {\r\n            if (info.format == \"csv\" || info.format == \"xlsx\") {\r\n                _this.series.each(function (series) {\r\n                    if ($type.hasValue(series.dataFields.children)) {\r\n                        delete info.dataFields[series.dataFields.children];\r\n                    }\r\n                });\r\n            }\r\n            return info;\r\n        });\r\n        return exporting;\r\n    };\r\n    return ForceDirectedTree;\r\n}(SerialChart));\r\nexport { ForceDirectedTree };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ForceDirectedTree\"] = ForceDirectedTree;\r\nregistry.registeredClasses[\"ForceDirectedTreeDataItem\"] = ForceDirectedTreeDataItem;\r\n//# sourceMappingURL=ForceDirectedTree.js.map","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","/**\r\n * A collection of network-related functions\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Loads an external file via its URL.\r\n *\r\n * Please note that this is an asynchronous function.\r\n *\r\n * It will not return the result, but rather a `Promise`.\r\n *\r\n * You can use the `await` notion, or `then()`.\r\n *\r\n * ```TypeScript\r\n * // Using await\r\n * let response = await Net.load( \"http://www.my.com/data.json\" );\r\n * console.log( response.response );\r\n *\r\n * // Using then()\r\n * Net.load( \"http://www.my.com/data.json\" ).then( ( response ) => {\r\n *   console.log( response.response );\r\n * } );\r\n * ```\r\n * ```JavaScript\r\n * // Using then()\r\n * Net.load( \"http://www.my.com/data.json\" ).then( function( response ) {\r\n *   console.log( response.response );\r\n * } );\r\n * ```\r\n *\r\n * @async\r\n * @param url      URL for the file to load\r\n * @param target   A target element that is requesting the net load\r\n * @param options  Request options\r\n * @return Result (Promise)\r\n */\r\nexport function load(url, target, options) {\r\n    return new Promise(function (success, error) {\r\n        // Is return type Blob?\r\n        var isBlob = $type.hasValue(options) && options.responseType == \"blob\";\r\n        // Create request and set up handlers\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.onload = function () {\r\n            if (xhr.status === 200) {\r\n                var response = void 0;\r\n                var blob_1;\r\n                if (isBlob) {\r\n                    blob_1 = xhr.response;\r\n                    readBlob(blob_1).then(function (response) {\r\n                        var output = {\r\n                            xhr: xhr,\r\n                            error: false,\r\n                            response: response,\r\n                            blob: blob_1,\r\n                            type: xhr.getResponseHeader(\"Content-Type\"),\r\n                            target: target\r\n                        };\r\n                        success(output);\r\n                    });\r\n                    return;\r\n                }\r\n                else {\r\n                    response = xhr.responseText || xhr.response;\r\n                }\r\n                var output = {\r\n                    xhr: xhr,\r\n                    error: false,\r\n                    response: response,\r\n                    blob: blob_1,\r\n                    type: xhr.getResponseHeader(\"Content-Type\"),\r\n                    target: target\r\n                };\r\n                success(output);\r\n            }\r\n            else {\r\n                error({\r\n                    xhr: xhr,\r\n                    error: true,\r\n                    type: xhr.getResponseHeader(\"Content-Type\"),\r\n                    target: target\r\n                });\r\n            }\r\n        };\r\n        xhr.onerror = function () {\r\n            error({\r\n                xhr: xhr,\r\n                error: true,\r\n                type: xhr.getResponseHeader(\"Content-Type\"),\r\n                target: target\r\n            });\r\n        };\r\n        // Open request\r\n        xhr.open(\"GET\", url, true);\r\n        if (options && options.withCredentials) {\r\n            xhr.withCredentials = true;\r\n        }\r\n        // Process options\r\n        if ($type.hasValue(options)) {\r\n            if ($type.hasValue(options.requestHeaders)) {\r\n                for (var i = 0; i < options.requestHeaders.length; i++) {\r\n                    var header = options.requestHeaders[i];\r\n                    xhr.setRequestHeader(header.key, header.value);\r\n                }\r\n            }\r\n            if ($type.hasValue(options.responseType)) {\r\n                xhr.responseType = options.responseType;\r\n            }\r\n        }\r\n        // Send request\r\n        xhr.send();\r\n    });\r\n}\r\n/**\r\n * Returns textual representation of a Blob object.\r\n *\r\n * @param   blob  Target blob\r\n * @return        Text promise\r\n */\r\nexport function readBlob(blob) {\r\n    return new Promise(function (success, error) {\r\n        var reader = new FileReader();\r\n        reader.onload = function (event) {\r\n            success(reader.result);\r\n        };\r\n        reader.onerror = function (e) {\r\n            error(e);\r\n        };\r\n        reader.readAsText(blob);\r\n    });\r\n}\r\n//# sourceMappingURL=Net.js.map","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","/**\r\n * Resize button module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Button } from \"./Button\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $path from \"../rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a draggable resize/grip button.\r\n *\r\n * @see {@link IResizeButtonEvents} for a list of available events\r\n * @see {@link IResizeButtonAdapters} for a list of available Adapters\r\n */\r\nvar ResizeButton = /** @class */ (function (_super) {\r\n    __extends(ResizeButton, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ResizeButton() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"ResizeButton\";\r\n        // Set defaults\r\n        _this.orientation = \"horizontal\";\r\n        _this.layout = \"absolute\";\r\n        _this.horizontalCenter = \"middle\";\r\n        _this.verticalCenter = \"middle\";\r\n        _this.draggable = true;\r\n        _this.padding(8, 8, 8, 8);\r\n        _this.background.cornerRadius(20, 20, 20, 20);\r\n        // Create an icon\r\n        var icon = new Sprite();\r\n        icon.element = _this.paper.add(\"path\");\r\n        var path = $path.moveTo({ x: -2, y: -6 });\r\n        path += $path.lineTo({ x: -2, y: 6 });\r\n        path += $path.moveTo({ x: 2, y: -6 });\r\n        path += $path.lineTo({ x: 2, y: 6 });\r\n        icon.path = path;\r\n        icon.pixelPerfect = true;\r\n        icon.padding(0, 4, 0, 4);\r\n        icon.stroke = new InterfaceColorSet().getFor(\"alternativeText\");\r\n        icon.strokeOpacity = 0.7;\r\n        //icon.align = \"center\";\r\n        //icon.valign = \"middle\";\r\n        _this.icon = icon;\r\n        _this.label.dispose();\r\n        _this.label = undefined;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ResizeButton.prototype, \"orientation\", {\r\n        /**\r\n         * Use for setting of direction (orientation) of the resize button.\r\n         *\r\n         * Available options: \"horizontal\", \"vertical\".\r\n         *\r\n         * @param value Orientation\r\n         */\r\n        set: function (value) {\r\n            var icon = this.icon;\r\n            if (icon) {\r\n                if (value == \"horizontal\") {\r\n                    icon.rotation = 0;\r\n                }\r\n                else {\r\n                    icon.rotation = -90;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ResizeButton;\r\n}(Button));\r\nexport { ResizeButton };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ResizeButton\"] = ResizeButton;\r\n//# sourceMappingURL=ResizeButton.js.map","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","/**\r\n * Responsive functionality module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObjectEvents } from \"../Base\";\r\nimport { List } from \"../utils/List\";\r\nimport { Adapter } from \"../utils/Adapter\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $iter from \"../utils/Iterator\";\r\nimport * as $array from \"../utils/Array\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $object from \"../utils/Object\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Responsive is responsible for overriding certain properties when conditions\r\n * are met.\r\n *\r\n * This class is used to dynamically apply and change certain chart properties\r\n * based on the current values of properties.\r\n *\r\n * Mainly, this is used with [[Sprite]]'s dimensional properties, like\r\n * `pixelWidth` and `pixelHeight`. However, it can be used to dynamically\r\n * change any property, based on any other property's value.\r\n *\r\n * A default responsive rules are disabled.\r\n *\r\n * To enable, set `enabled = false`. E.g.:\r\n *\r\n * ```TypeScript\r\n * chart.responsive.enabled = true;\r\n * ```\r\n * ```JavaScript\r\n * chart.responsive.enabled = true;\r\n * ```\r\n *\r\n * @see {@link IResponsiveEvents} for a list of available events\r\n * @see {@link IResponsiveAdapters} for a list of available Adapters\r\n * @todo Add default rules\r\n * @todo Watch for rule modification\r\n * @important\r\n */\r\nvar Responsive = /** @class */ (function (_super) {\r\n    __extends(Responsive, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Responsive() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Holds a list of responsive rules organized by object type.\r\n         */\r\n        _this._rules = new List();\r\n        /**\r\n         * Holds the list of the default responsive rules.\r\n         * @deprecated\r\n         */\r\n        //protected _defaultRules = new List<IResponsiveRule>();\r\n        /**\r\n         * Holds the list of currently applied rules.\r\n         */\r\n        _this._appliedRules = {};\r\n        /**\r\n         * Used to keep track of objects that have rules applied at the moment.\r\n         */\r\n        _this._appliedTargets = [];\r\n        /**\r\n         * Use default rules in addition to the user-defined ones?\r\n         */\r\n        _this._useDefault = true;\r\n        /**\r\n         * Adapter.\r\n         */\r\n        _this.adapter = new Adapter(_this);\r\n        /**\r\n         * Indicates of responsive rules application is enabled.\r\n         */\r\n        _this._enabled = false;\r\n        /**\r\n         * Holds disposers for all events added by this class.\r\n         */\r\n        _this._responsiveDisposers = [];\r\n        /**\r\n         * Collection of objects and state ids that do not have any properties set.\r\n         */\r\n        _this._noStates = [];\r\n        _this.className = \"Responsive\";\r\n        // Set up rules list events\r\n        _this.rules.events.on(\"inserted\", function () { _this.checkRules(); }, true);\r\n        _this.rules.events.on(\"removed\", function () { _this.checkRules(); }, true);\r\n        _this._disposers.push(_this.rules.events);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Responsive.prototype, \"component\", {\r\n        /**\r\n         * @return Target object\r\n         */\r\n        get: function () {\r\n            return this._component;\r\n        },\r\n        /**\r\n         * A target object that responsive rules will need to be applied to.\r\n         *\r\n         * @param value  Target object\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            // Check if it's the same\r\n            if (value == this._component) {\r\n                return;\r\n            }\r\n            // Check if we already have a set up component and remove its events\r\n            this.disposeResponsiveHandlers();\r\n            // Set\r\n            this._component = value;\r\n            // Set up resize monitoring events\r\n            this._responsiveDisposers.push($type.getValue(this.component).events.on(\"sizechanged\", function () { _this.checkRules(); }, this));\r\n            this._responsiveDisposers.push($type.getValue(this.component).events.on(\"datavalidated\", function () {\r\n                if (_this._component.isReady()) {\r\n                    _this.checkRules(true);\r\n                }\r\n            }, this));\r\n            // Enable resoponsive\r\n            this.enabled = true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Responsive.prototype, \"enabled\", {\r\n        /**\r\n         * @return Apply responsive rules?\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"enabled\", this._enabled);\r\n        },\r\n        /**\r\n         * Should responsive rules be checked against and applied?\r\n         *\r\n         * @default false\r\n         * @param value  Apply responsive rules?\r\n         */\r\n        set: function (value) {\r\n            if (this._enabled != value) {\r\n                this._enabled = value;\r\n                // Run `applyRules` so that any currently applied rules can be reset\r\n                this.applyRules();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Responsive.prototype, \"useDefault\", {\r\n        /**\r\n         * @return Use default rules?\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"useDefault\", this._useDefault);\r\n        },\r\n        /**\r\n         * Should default responsive rules be applied in addition to user-defined\r\n         * ones.\r\n         *\r\n         * User-defined rules will take precedence over default rules whenever they\r\n         * produce conflicting settings.\r\n         *\r\n         * @default true\r\n         * @param value  Use default rules?\r\n         */\r\n        set: function (value) {\r\n            if (this._useDefault != value) {\r\n                this._useDefault = value;\r\n                // Run `applyRules` so that any currently applied rules can be reset\r\n                this.applyRules();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Responsive.prototype, \"rules\", {\r\n        /**\r\n         * @return User-defined rules\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"rules\", this._rules);\r\n        },\r\n        /**\r\n         * User-defined responsive rules.\r\n         *\r\n         * User-defined rules will take precedence over default rules whenever they\r\n         * produce conflicting settings.\r\n         *\r\n         * Use `allRules` to get all applicable rules including default and\r\n         * user-defined ones.\r\n         *\r\n         * @param value  User-defined rules\r\n         */\r\n        set: function (value) {\r\n            this._rules = value;\r\n            this._enabled = true;\r\n            this.applyRules();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Responsive.prototype, \"defaultRules\", {\r\n        /**\r\n         * Default responsive rules.\r\n         *\r\n         * @readonly\r\n         * @return List of responsive rules\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"defaultRules\", defaultRules);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Responsive.prototype, \"allRules\", {\r\n        /**\r\n         * Returns all rules: default rules (if not disabled) combined with\r\n         * user-defined ones.\r\n         *\r\n         * @readonly\r\n         * @return List of all applicable rules\r\n         */\r\n        get: function () {\r\n            // Create empty list\r\n            var rules = new List();\r\n            // Add default rules if not disabled\r\n            // A code, requesting `allRules` must ensure loading of default rules\r\n            // by calling `loadDefaultRules()`\r\n            if (this.useDefault) {\r\n                rules.copyFrom(this.defaultRules);\r\n            }\r\n            // Add user-defined ones\r\n            rules.copyFrom(this.rules);\r\n            return this.adapter.apply(\"allRules\", rules);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if rule by the particular id currently applied.\r\n     *\r\n     * @param ruleId  Rule ID\r\n     * @return Is currently applied?\r\n     */\r\n    Responsive.prototype.isApplied = function (ruleId) {\r\n        var rule = this._appliedRules[ruleId];\r\n        return $type.hasValue(rule) ? rule : false;\r\n    };\r\n    /**\r\n     * Checks which responsive rules currently satisfy their conditions and\r\n     * should be applied, or unapplied.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Responsive.prototype.checkRules = function (force) {\r\n        var _this = this;\r\n        if (force === void 0) { force = false; }\r\n        // Check if there are any rules\r\n        var rules = this.allRules;\r\n        if (!rules || rules.length == 0) {\r\n            return;\r\n        }\r\n        // Init a list of rules to be applied\r\n        var rulesChanged = false;\r\n        var component = $type.getValue(this.component);\r\n        // Check which rules match\r\n        $iter.each(rules.iterator(), function (rule) {\r\n            // Check if rule has an id\r\n            if (!rule.id) {\r\n                rule.id = registry.getUniqueId();\r\n            }\r\n            // Init indicator if this rule should be applied\r\n            var apply = rule.relevant(component);\r\n            // Let's check if this rule needs to be applied\r\n            if ((apply && !_this.isApplied(rule.id)) || (!apply && _this.isApplied(rule.id))) {\r\n                rulesChanged = true;\r\n            }\r\n            _this._appliedRules[rule.id] = apply;\r\n        });\r\n        if (force) {\r\n            rulesChanged = true;\r\n        }\r\n        // Check if we need to re-apply the rules\r\n        if (rulesChanged) {\r\n            if (!this.component.isReady()) {\r\n                // The chart is not yet ready (built)\r\n                // We will hide the chart and delay application of rules\r\n                // until \"ready\" event kicks in\r\n                //component.hide(0);\r\n                component.hidden = true;\r\n                component.events.once(\"ready\", function (ev) {\r\n                    ev.target.show(0);\r\n                    _this.applyRules();\r\n                });\r\n                return;\r\n            }\r\n            this.dispatchImmediately(\"ruleschanged\");\r\n            this.applyRules();\r\n        }\r\n    };\r\n    /**\r\n     * Applies current rules to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param target Target object\r\n     * @todo Better type check\r\n     */\r\n    Responsive.prototype.applyRules = function (target) {\r\n        var _this = this;\r\n        // If no target supplied, we assume the top-level element\r\n        var newTarget = ($type.hasValue(target)\r\n            ? target\r\n            : $type.getValue(this.component));\r\n        // Check each rule\r\n        var defaultStateApplied = false;\r\n        if (this.enabled) {\r\n            var isApplied_1 = false;\r\n            $iter.each(this.allRules.iterator(), function (rule) {\r\n                // Get relevant state\r\n                var state = _this.getState(rule, newTarget);\r\n                // If there's a state, it means it needs to be applied\r\n                if (state) {\r\n                    // Check if default state was already applied to this element.\r\n                    // We don't want to go resetting default states to ALL element,\r\n                    // if they don't have responsive states.\r\n                    if (!defaultStateApplied) {\r\n                        // Nope, reset states (instantly).\r\n                        if ($array.indexOf(_this._appliedTargets, newTarget.uid) !== -1) {\r\n                            // But only if this element has any rules applied, otherwise no\r\n                            // point in setting current state\r\n                            newTarget.setState(_this.getDefaultState(newTarget), 0);\r\n                        }\r\n                        defaultStateApplied = true;\r\n                    }\r\n                    // Is this rule currently applied?\r\n                    if (_this.isApplied($type.getValue(rule.id))) {\r\n                        // Yes. Apply the responsive state\r\n                        state.transitionDuration = 0;\r\n                        _this.setTargetState(newTarget, state);\r\n                        _this.dispatchImmediately(\"ruleapplied\", {\r\n                            rule: rule\r\n                        });\r\n                        isApplied_1 = true;\r\n                    }\r\n                }\r\n            });\r\n            if (isApplied_1) {\r\n                $array.replace(this._appliedTargets, newTarget.uid);\r\n            }\r\n            else {\r\n                $array.remove(this._appliedTargets, newTarget.uid);\r\n            }\r\n        }\r\n        // Apply rules to the children\r\n        if (newTarget.children) {\r\n            $iter.each(newTarget.children.iterator(), function (child) {\r\n                _this.applyRules(child);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Returns a relative state for the rule/target, or `undefined` if no state is\r\n     * needed.\r\n     *\r\n     * @param rule    [description]\r\n     * @param target  [description]\r\n     * @return [description]\r\n     */\r\n    Responsive.prototype.getState = function (rule, target) {\r\n        var stateId = \"responsive-\" + rule.id;\r\n        var tmpId = target.uid + \"_\" + stateId;\r\n        if ($array.indexOf(this._noStates, tmpId) !== -1) {\r\n            return;\r\n        }\r\n        else if (!target.states.hasKey(stateId)) {\r\n            var state = rule.state(target, stateId);\r\n            if (!state) {\r\n                this._noStates.push(tmpId);\r\n            }\r\n            return state;\r\n        }\r\n        else {\r\n            return target.states.getKey(stateId);\r\n        }\r\n    };\r\n    /**\r\n     * Creates and returns default responsive rule for the target.\r\n     *\r\n     * This rule will be used to \"reset\" to non-responsive values.\r\n     * @param   target  Target Sprite\r\n     * @return          State\r\n     */\r\n    Responsive.prototype.getDefaultState = function (target) {\r\n        if (target.states.hasKey(\"responsive-default\")) {\r\n            return target.states.getKey(\"responsive-default\");\r\n        }\r\n        return target.states.create(\"responsive-default\");\r\n    };\r\n    /**\r\n     * Sets state on the target element and updates default state with the\r\n     * overwritten values if needed.\r\n     *\r\n     * @param  target  Target\r\n     * @param  state   State\r\n     */\r\n    Responsive.prototype.setTargetState = function (target, state) {\r\n        var _this = this;\r\n        // Update default state\r\n        var defaultState = this.getDefaultState(target);\r\n        $object.each(state.properties, function (key, val) {\r\n            if (!$type.hasValue(defaultState.properties[key])) {\r\n                defaultState.properties[key] = _this.getValue(target, key);\r\n            }\r\n        });\r\n        target.setState(state);\r\n    };\r\n    /**\r\n     * Gets a value from an element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param target    Target object\r\n     * @param property  Property\r\n     * @return Property value\r\n     */\r\n    Responsive.prototype.getValue = function (target, property) {\r\n        // This is a bit hacky, first we check if the property exist.\r\n        // If it doesn't we try accessing target's property directly\r\n        var value = target.getPropertyValue(property);\r\n        if (!$type.hasValue(value) && $type.hasValue(target[property])) {\r\n            value = target[property];\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    Responsive.prototype.dispose = function () {\r\n        this.disposeResponsiveHandlers();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    /**\r\n     * Disposes all event handlers.\r\n     */\r\n    Responsive.prototype.disposeResponsiveHandlers = function () {\r\n        var disposer = this._responsiveDisposers.pop();\r\n        while (disposer) {\r\n            disposer.dispose();\r\n            disposer = this._responsiveDisposers.pop();\r\n        }\r\n    };\r\n    return Responsive;\r\n}(BaseObjectEvents));\r\nexport { Responsive };\r\n/**\r\n * [defaultRules description]\r\n *\r\n * @todo description\r\n */\r\nexport var defaultRules = new List();\r\ndefaultRules.events.on(\"inserted\", function (ev) {\r\n    ev.newValue.id = registry.getUniqueId();\r\n});\r\n/**\r\n *\r\n * @todo description\r\n */\r\nvar ResponsiveBreakpoints = /** @class */ (function () {\r\n    function ResponsiveBreakpoints() {\r\n    }\r\n    // Breakpoint functions (for use in `relevant` clause of the responsive rules)\r\n    ResponsiveBreakpoints.widthXXS = function (container) {\r\n        return container.pixelWidth <= ResponsiveBreakpoints.XXS;\r\n    };\r\n    ResponsiveBreakpoints.widthXS = function (container) {\r\n        return container.pixelWidth <= ResponsiveBreakpoints.XS;\r\n    };\r\n    ResponsiveBreakpoints.widthS = function (container) {\r\n        return container.pixelWidth <= ResponsiveBreakpoints.S;\r\n    };\r\n    ResponsiveBreakpoints.widthM = function (container) {\r\n        return container.pixelWidth <= ResponsiveBreakpoints.M;\r\n    };\r\n    ResponsiveBreakpoints.widthL = function (container) {\r\n        return container.pixelWidth <= ResponsiveBreakpoints.L;\r\n    };\r\n    ResponsiveBreakpoints.widthXL = function (container) {\r\n        return container.pixelWidth <= ResponsiveBreakpoints.XL;\r\n    };\r\n    ResponsiveBreakpoints.widthXXL = function (container) {\r\n        return container.pixelWidth <= ResponsiveBreakpoints.XXL;\r\n    };\r\n    ResponsiveBreakpoints.heightXXS = function (container) {\r\n        return container.pixelHeight <= ResponsiveBreakpoints.XXS;\r\n    };\r\n    ResponsiveBreakpoints.heightXS = function (container) {\r\n        return container.pixelHeight <= ResponsiveBreakpoints.XS;\r\n    };\r\n    ResponsiveBreakpoints.heightS = function (container) {\r\n        return container.pixelHeight <= ResponsiveBreakpoints.S;\r\n    };\r\n    ResponsiveBreakpoints.heightM = function (container) {\r\n        return container.pixelHeight <= ResponsiveBreakpoints.M;\r\n    };\r\n    ResponsiveBreakpoints.heightL = function (container) {\r\n        return container.pixelHeight <= ResponsiveBreakpoints.L;\r\n    };\r\n    ResponsiveBreakpoints.heightXL = function (container) {\r\n        return container.pixelHeight <= ResponsiveBreakpoints.XL;\r\n    };\r\n    ResponsiveBreakpoints.heightXXL = function (container) {\r\n        return container.pixelHeight <= ResponsiveBreakpoints.XXL;\r\n    };\r\n    ResponsiveBreakpoints.isXXS = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.XXS) && (container.pixelHeight <= ResponsiveBreakpoints.XXS);\r\n    };\r\n    ResponsiveBreakpoints.isXS = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.XS) && (container.pixelHeight <= ResponsiveBreakpoints.XS);\r\n    };\r\n    ResponsiveBreakpoints.isS = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.S) && (container.pixelHeight <= ResponsiveBreakpoints.S);\r\n    };\r\n    ResponsiveBreakpoints.isM = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.M) && (container.pixelHeight <= ResponsiveBreakpoints.M);\r\n    };\r\n    ResponsiveBreakpoints.isL = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.L) && (container.pixelHeight <= ResponsiveBreakpoints.L);\r\n    };\r\n    ResponsiveBreakpoints.isXL = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.XL) && (container.pixelHeight <= ResponsiveBreakpoints.XL);\r\n    };\r\n    ResponsiveBreakpoints.isXXL = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.XXL) && (container.pixelHeight <= ResponsiveBreakpoints.XXL);\r\n    };\r\n    ResponsiveBreakpoints.maybeXXS = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.XXS) || (container.pixelHeight <= ResponsiveBreakpoints.XXS);\r\n    };\r\n    ResponsiveBreakpoints.maybeXS = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.XS) || (container.pixelHeight <= ResponsiveBreakpoints.XS);\r\n    };\r\n    ResponsiveBreakpoints.maybeS = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.S) || (container.pixelHeight <= ResponsiveBreakpoints.S);\r\n    };\r\n    ResponsiveBreakpoints.maybeM = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.M) || (container.pixelHeight <= ResponsiveBreakpoints.M);\r\n    };\r\n    ResponsiveBreakpoints.maybeL = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.L) || (container.pixelHeight <= ResponsiveBreakpoints.L);\r\n    };\r\n    ResponsiveBreakpoints.maybeXL = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.XL) || (container.pixelHeight <= ResponsiveBreakpoints.XL);\r\n    };\r\n    ResponsiveBreakpoints.maybeXXL = function (container) {\r\n        return (container.pixelWidth <= ResponsiveBreakpoints.XXL) || (container.pixelHeight <= ResponsiveBreakpoints.XXL);\r\n    };\r\n    // Named pixel breakpoints\r\n    ResponsiveBreakpoints.XXS = 100;\r\n    ResponsiveBreakpoints.XS = 200;\r\n    ResponsiveBreakpoints.S = 300;\r\n    ResponsiveBreakpoints.M = 400;\r\n    ResponsiveBreakpoints.L = 600;\r\n    ResponsiveBreakpoints.XL = 800;\r\n    ResponsiveBreakpoints.XXL = 1000;\r\n    return ResponsiveBreakpoints;\r\n}());\r\nexport { ResponsiveBreakpoints };\r\n//# sourceMappingURL=Responsive.js.map","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'params', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'url', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress',\n    'maxContentLength', 'validateStatus', 'maxRedirects', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath'\n  ];\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, function mergeDeepProperties(prop) {\n    if (utils.isObject(config2[prop])) {\n      config[prop] = utils.deepMerge(config1[prop], config2[prop]);\n    } else if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (utils.isObject(config1[prop])) {\n      config[prop] = utils.deepMerge(config1[prop]);\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys);\n\n  var otherKeys = Object\n    .keys(config2)\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, function otherKeysDefaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  return config;\n};\n","import { StyleRule } from \"../utils/DOM\";\r\nimport { InterfaceColorSet } from \"../utils/InterfaceColorSet\";\r\nimport { Dictionary } from \"../utils/Dictionary\";\r\nimport { MultiDisposer, CounterDisposer } from \"../utils/Disposer\";\r\nvar rules = new Dictionary();\r\n/**\r\n * A dynamically-loadable CSS module for Export menu.\r\n *\r\n * @ignore Exclude from docs\r\n * @param prefix  Prefix to addtach to class names\r\n * @return A MultiDisposer with style rules\r\n */\r\nexport default function (element, prefix) {\r\n    var newPrefix = (prefix ? prefix : \"amexport\");\r\n    var colorSet = new InterfaceColorSet();\r\n    var counter = rules.insertKeyIfEmpty(newPrefix, function () {\r\n        var disposer = new MultiDisposer([\r\n            /*new StyleRule(`.${newPrefix}-menu`, {\r\n                \"opacity\": \"0.3\",\r\n                \"transition\": \"all 100ms ease-in-out\",\r\n            }),\r\n\r\n            new StyleRule(`div:hover .${newPrefix}-menu, .${newPrefix}-menu.active`, {\r\n                \"opacity\": \"0.9\",\r\n            }),*/\r\n            new StyleRule(element, \".\" + newPrefix + \"-menu *\", {\r\n                \"box-sizing\": \"border-box\"\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-menu-level-0\", {\r\n                \"position\": \"absolute\",\r\n                \"top\": \"5px\",\r\n                \"right\": \"5px\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-menu-level-0.\" + newPrefix + \"-left\", {\r\n                \"right\": \"auto\",\r\n                \"left\": \"5px\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-menu-level-0.\" + newPrefix + \"-right\", {\r\n                \"right\": \"5px\",\r\n                \"left\": \"auto\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-menu-level-0.\" + newPrefix + \"-top\", {\r\n                \"top\": \"5px\",\r\n                \"bottom\": \"auto\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-menu-level-0.\" + newPrefix + \"-bottom\", {\r\n                \"top\": \"auto\",\r\n                \"bottom\": \"5px\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-item.\" + newPrefix + \"-item-level-0\", {\r\n                \"opacity\": \"0.3\",\r\n                \"width\": \"30px\",\r\n                \"min-height\": \"30px\",\r\n                \"transition\": \"all 100ms ease-in-out\",\r\n            }),\r\n            new StyleRule(element, \"div:hover .\" + newPrefix + \"-item.\" + newPrefix + \"-item-level-0, .\" + newPrefix + \"-item.\" + newPrefix + \"-item-level-0.active\", {\r\n                \"opacity\": \"0.9\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-item.\" + newPrefix + \"-item-level-0 > a\", {\r\n                \"padding\": \"0\",\r\n                \"text-align\": \"center\",\r\n                \"overflow\": \"hidden\"\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-item.\" + newPrefix + \"-item-level-0:before\", {\r\n                \"display\": \"block\"\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-item\", {\r\n                \"position\": \"relative\",\r\n                \"display\": \"block\",\r\n                \"opacity\": \"0\",\r\n                \"z-index\": \"1\",\r\n                \"border-radius\": \"3px\",\r\n                \"background-color\": colorSet.getFor(\"secondaryButton\").hex,\r\n                \"padding\": \"0\",\r\n                \"margin\": \"1px 1px 0 0\",\r\n                \"color\": colorSet.getFor(\"secondaryButton\").alternative.hex,\r\n                \"transition\": \"all 100ms ease-in-out, opacity 0.5s ease 0.5s\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-left .\" + newPrefix + \"-item\", {\r\n                \"margin\": \"1px 0 0 1px\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-item:hover, .\" + newPrefix + \"-item.active\", {\r\n                \"background\": colorSet.getFor(\"secondaryButtonHover\").hex,\r\n                \"color\": colorSet.getFor(\"secondaryButtonText\").hex,\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-item > .\" + newPrefix + \"-menu\", {\r\n                \"position\": \"absolute\",\r\n                \"top\": \"-1px\",\r\n                \"right\": \"0\",\r\n                \"margin-right\": \"100%\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-left .\" + newPrefix + \"-item > .\" + newPrefix + \"-menu\", {\r\n                \"left\": \"0\",\r\n                \"right\": \"auto\",\r\n                \"margin-left\": \"100%\",\r\n                \"margin-right\": \"auto\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-right .\" + newPrefix + \"-item > .\" + newPrefix + \"-menu\", {\r\n                \"left\": \"auto\",\r\n                \"right\": \"0\",\r\n                \"margin-left\": \"auto\",\r\n                \"margin-right\": \"100%\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-top .\" + newPrefix + \"-item > .\" + newPrefix + \"-menu\", {\r\n                \"top\": \"-1px\",\r\n                \"bottom\": \"auto\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-bottom .\" + newPrefix + \"-item > .\" + newPrefix + \"-menu\", {\r\n                \"top\": \"auto\",\r\n                \"bottom\": \"0\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-item > .\" + newPrefix + \"-menu\", {\r\n                \"display\": \"none\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-item:hover > .\" + newPrefix + \"-menu, .\" + newPrefix + \"-item.active > .\" + newPrefix + \"-menu\", {\r\n                \"display\": \"block\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-item:hover > .\" + newPrefix + \"-menu > .\" + newPrefix + \"-item, .\" + newPrefix + \"-item.active > .\" + newPrefix + \"-menu > .\" + newPrefix + \"-item\", {\r\n                \"opacity\": \"1\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-menu\", {\r\n                \"display\": \"block\",\r\n                \"list-style\": \"none\",\r\n                \"margin\": \"0\",\r\n                \"padding\": \"0\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-label\", {\r\n                \"display\": \"block\",\r\n                \"cursor\": \"default\",\r\n                \"padding\": \"0.5em 1em\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-icon\", {\r\n                \"display\": \"block\",\r\n                \"cursor\": \"default\",\r\n                \"padding\": \"0.2em 0.4em\",\r\n                \"width\": \"1.2em\",\r\n                \"height\": \"1.2em\",\r\n                \"min-width\": \"32px\",\r\n                \"min-height\": \"32px\",\r\n                \"margin\": \"auto auto\",\r\n                \"border-radius\": \"3px\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-item-level-0 > .\" + newPrefix + \"-icon\", {\r\n                \"padding\": \"0.1em 0.2em\",\r\n            }),\r\n            new StyleRule(element, \".\" + newPrefix + \"-clickable\", {\r\n                \"cursor\": \"pointer\",\r\n            }),\r\n        ]);\r\n        return new CounterDisposer(function () {\r\n            rules.removeKey(newPrefix);\r\n            disposer.dispose();\r\n        });\r\n    });\r\n    return counter.increment();\r\n}\r\n//# sourceMappingURL=ExportCSS.js.map","/**\r\n * ExportMenu provides functionality for building Export menu\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport exportCSS from \"./ExportCSS\";\r\nimport { Adapter } from \"../utils/Adapter\";\r\nimport { List } from \"../utils/List\";\r\nimport { getInteraction } from \"../interaction/Interaction\";\r\nimport { MutableValueDisposer } from \"../utils/Disposer\";\r\nimport { Language } from \"../utils/Language\";\r\nimport { Validatable } from \"../utils/Validatable\";\r\nimport { keyboard } from \"../utils/Keyboard\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $iter from \"../utils/Iterator\";\r\nimport * as $dom from \"../utils/DOM\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a menu for Export operations.\r\n *\r\n * To add an export menu to a chart, set this to a new instance of\r\n * [[ExportMenu]].\r\n *\r\n * ```TypeScript\r\n * chart.exporting.menu = new am4core.ExportMenu();\r\n * ```\r\n * ```JavaScript\r\n * chart.exporting.menu = new am4core.ExportMenu();\r\n * ```\r\n * ```JSON\r\n * {\r\n *   // ...\r\n *   \"exporting\": {\r\n *     \"menu\": {}\r\n *   }\r\n * }\r\n * ```\r\n * @important\r\n */\r\nvar ExportMenu = /** @class */ (function (_super) {\r\n    __extends(ExportMenu, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ExportMenu() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * An [[Adapter]].\r\n         */\r\n        _this.adapter = new Adapter(_this);\r\n        /**\r\n         * How many milliseconds to hold menu/sub-menu open after it loses focus or\r\n         * hover, before auto-closing it.\r\n         *\r\n         * @default 1000\r\n         */\r\n        _this.closeDelay = 1000;\r\n        /**\r\n         * Close the menu automatically when some export operation is triggered.\r\n         *\r\n         * @default true\r\n         * @since 4.2.2\r\n         */\r\n        _this.closeOnClick = true;\r\n        /**\r\n         * An instance of [[Language]].\r\n         */\r\n        _this._language = new MutableValueDisposer();\r\n        /**\r\n         * What HTML tags to use to build menu.\r\n         */\r\n        _this._menuTag = \"ul\";\r\n        /**\r\n         * Which tag to use to enclose individual menu items.\r\n         */\r\n        _this._itemTag = \"li\";\r\n        /**\r\n         * Tag to wrap menu item labels in.\r\n         */\r\n        _this._labelTag = \"a\";\r\n        /**\r\n         * Tag to use for icons\r\n         */\r\n        _this._iconTag = \"img\";\r\n        /**\r\n         * Prefix for class names applied to menu elements.\r\n         */\r\n        _this._classPrefix = \"amexport\";\r\n        /**\r\n         * If set to `true` [[ExportMenu]] will load it's own external CSS when\r\n         * instantiated.\r\n         */\r\n        _this._defaultStyles = true;\r\n        /**\r\n         * Horizontal positioning.\r\n         */\r\n        _this._align = \"right\";\r\n        /**\r\n         * Vertical positioning.\r\n         */\r\n        _this._verticalAlign = \"top\";\r\n        /**\r\n         * A tabindex to apply to Export Menu.\r\n         */\r\n        _this._tabindex = 0;\r\n        /**\r\n         * Whether next menu close event should be ignored.\r\n         */\r\n        _this._ignoreNextClose = false;\r\n        /**\r\n         * Default menu items.\r\n         */\r\n        _this._items = [\r\n            {\r\n                \"label\": \"...\",\r\n                \"menu\": [\r\n                    {\r\n                        \"label\": \"Image\",\r\n                        \"menu\": [\r\n                            { \"type\": \"png\", \"label\": \"PNG\" },\r\n                            { \"type\": \"jpg\", \"label\": \"JPG\" },\r\n                            { \"type\": \"svg\", \"label\": \"SVG\" },\r\n                            { \"type\": \"pdf\", \"label\": \"PDF\" }\r\n                        ]\r\n                    }, {\r\n                        \"label\": \"Data\",\r\n                        \"menu\": [\r\n                            { \"type\": \"json\", \"label\": \"JSON\" },\r\n                            { \"type\": \"csv\", \"label\": \"CSV\" },\r\n                            { \"type\": \"xlsx\", \"label\": \"XLSX\" },\r\n                            { \"type\": \"html\", \"label\": \"HTML\" },\r\n                            { \"type\": \"pdfdata\", \"label\": \"PDF\" }\r\n                        ]\r\n                    }, {\r\n                        \"label\": \"Print\", \"type\": \"print\"\r\n                    }\r\n                ]\r\n            }\r\n        ];\r\n        _this.className = \"ExportMenu\";\r\n        _this._disposers.push(_this._language);\r\n        _this.invalidate();\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * (Re)draws the Export menu.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ExportMenu.prototype.validate = function () {\r\n        this.draw();\r\n        _super.prototype.validate.call(this);\r\n    };\r\n    /**\r\n     * Draws the menu based on current items.\r\n     *\r\n     * Normally, there's no need to call this explicitly. The chart, if it has\r\n     * export menu enabled, will automatically draw the menu.\r\n     */\r\n    ExportMenu.prototype.draw = function () {\r\n        var _this = this;\r\n        // Create top-level menu item, or clear it\r\n        if (!this._element) {\r\n            this._element = this.createMenuElement(0);\r\n        }\r\n        else {\r\n            this._element.innerHTML = \"\";\r\n            this._element.className = this.getMenuItemClass(0);\r\n        }\r\n        // See if we're loading external CSS\r\n        // Hide it until CSS is loaded\r\n        if (this.defaultStyles) {\r\n            this._element.style.display = \"none\";\r\n        }\r\n        // Append to container\r\n        $type.getValue(this._container).appendChild(this._element);\r\n        // Apply adapter to menu items before processing\r\n        var items = this.adapter.apply(\"items\", {\r\n            items: this._items\r\n        }).items;\r\n        for (var len = items.length, i = 0; i < len; i++) {\r\n            this.drawBranch(this._element, items[i], 0);\r\n        }\r\n        // Apply adapter to finalized menu element\r\n        this._element = this.adapter.apply(\"menuElement\", {\r\n            menuElement: this._element\r\n        }).menuElement;\r\n        // Set up global \"down\" event\r\n        this._disposers.push(getInteraction().body.events.on(\"down\", function (ev) {\r\n            if (!ev.pointer.touch) {\r\n                _this._ignoreNextClose = false;\r\n            }\r\n            _this.close();\r\n        }));\r\n        // Set up global event on ESC press to close the menu\r\n        this._disposers.push(getInteraction().body.events.on(\"keyup\", function (ev) {\r\n            var key = keyboard.getEventKey(ev.event);\r\n            switch (key) {\r\n                case \"esc\":\r\n                    _this.close();\r\n                    break;\r\n                case \"up\":\r\n                case \"down\":\r\n                case \"left\":\r\n                case \"right\":\r\n                    _this.moveSelection(key);\r\n                    break;\r\n            }\r\n        }));\r\n        if (this.defaultStyles) {\r\n            this.loadDefaultCSS();\r\n        }\r\n    };\r\n    /**\r\n     * Creates a new branch in export menu. This function is recursive for\r\n     * building multi-level menus.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param container Container to put branch elements in\r\n     * @param branch    Menu item\r\n     * @param level     Current nesting level\r\n     */\r\n    ExportMenu.prototype.drawBranch = function (container, branch, level) {\r\n        var _this = this;\r\n        // Apply adapter\r\n        branch = this.adapter.apply(\"branch\", {\r\n            branch: branch,\r\n            level: level\r\n        }).branch;\r\n        // Unsupported?\r\n        // ExportMenu does not check or know for specific browser/system\r\n        // capabilities. It must happen in some other code and applied via Adapter.\r\n        // Export itself will check compatibility, but there might be other plugins\r\n        // that influence it or even add any specific export functionality.\r\n        if (branch.unsupported === true) {\r\n            return;\r\n        }\r\n        // Init ascendants\r\n        if (!branch.ascendants) {\r\n            branch.ascendants = new List();\r\n        }\r\n        // Get type\r\n        var type = branch.type;\r\n        // Create an item\r\n        var element = this.createItemElement(level, type);\r\n        // Create label\r\n        var label;\r\n        // Create icon\r\n        if (branch.icon) {\r\n            label = this.createIconElement(level, type);\r\n            label.src = branch.icon;\r\n            if (branch.label || branch.title) {\r\n                label.title = branch.title || branch.label;\r\n            }\r\n        }\r\n        else if (branch.svg) {\r\n            label = this.createSvgElement(level, type, branch.svg);\r\n            if (branch.label || branch.title) {\r\n                label.title = branch.title || branch.label;\r\n            }\r\n        }\r\n        else {\r\n            label = this.createLabelElement(level, type);\r\n            label.innerHTML = (branch.label ? this.language.translate(branch.label) : \"\");\r\n            if (branch.title) {\r\n                label.title = branch.title;\r\n            }\r\n        }\r\n        // Apply reader text to label\r\n        var readerLabel = this.getReaderLabel(branch, label.innerHTML);\r\n        label.setAttribute(\"aria-label\", readerLabel);\r\n        // Add Label\r\n        element.appendChild(label);\r\n        // Create interaction object\r\n        // TODO clean this up when it's disposed\r\n        branch.interactions = getInteraction().getInteraction(label);\r\n        branch.element = element;\r\n        // Create interaction manager we can set event listeners to\r\n        if (this.typeClickable(type)) {\r\n            //branch.interactions.clickable = true;\r\n            // TODO clean this up when it's disposed\r\n            branch.interactions.events.on(\"hit\", function (ev) {\r\n                if (_this.events.isEnabled(\"hit\")) {\r\n                    var event_1 = {\r\n                        \"type\": \"hit\",\r\n                        \"event\": ev.event,\r\n                        \"target\": _this,\r\n                        \"branch\": branch\r\n                    };\r\n                    _this.events.dispatchImmediately(\"hit\", event_1);\r\n                }\r\n            });\r\n            // TODO clean this up when it's disposed\r\n            branch.interactions.events.on(\"keyup\", function (ev) {\r\n                if (keyboard.isKey(ev.event, \"enter\")) {\r\n                    if (_this.events.isEnabled(\"enter\")) {\r\n                        var event_2 = {\r\n                            \"type\": \"enter\",\r\n                            \"event\": ev.event,\r\n                            \"target\": _this,\r\n                            \"branch\": branch\r\n                        };\r\n                        _this.events.dispatchImmediately(\"enter\", event_2);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        {\r\n            var submenu_1 = this.getSubMenu(branch);\r\n            // Add ENTER event to open sub-menus\r\n            if (submenu_1 != null) {\r\n                // TODO clean this up when it's disposed\r\n                branch.interactions.events.on(\"keyup\", function (ev) {\r\n                    if (keyboard.isKey(ev.event, \"enter\")) {\r\n                        // This is item has sub-menu, activate the first child on ENTER\r\n                        _this.selectBranch(submenu_1[0]);\r\n                        // Attempt to set focus\r\n                        _this.setFocus(submenu_1[0]);\r\n                    }\r\n                });\r\n                branch.interactions.events.on(\"hit\", function (ev) {\r\n                    _this.selectBranch(branch);\r\n                });\r\n            }\r\n        }\r\n        // Add events\r\n        // TODO clean this up when it's disposed\r\n        branch.interactions.events.on(\"over\", function (ev) {\r\n            if (ev.pointer.touch) {\r\n                // Cancel pending menu closure\r\n                _this._ignoreNextClose = true;\r\n            }\r\n            _this.selectBranch(branch);\r\n            if (_this.events.isEnabled(\"over\")) {\r\n                var event_3 = {\r\n                    \"type\": \"over\",\r\n                    \"event\": ev.event,\r\n                    \"target\": _this,\r\n                    \"branch\": branch\r\n                };\r\n                _this.events.dispatchImmediately(\"over\", event_3);\r\n            }\r\n        });\r\n        // TODO clean this up when it's disposed\r\n        branch.interactions.events.on(\"out\", function (ev) {\r\n            if (!ev.pointer.touch) {\r\n                _this.delayUnselectBranch(branch);\r\n            }\r\n            if (_this.events.isEnabled(\"out\")) {\r\n                var event_4 = {\r\n                    \"type\": \"out\",\r\n                    \"event\": ev.event,\r\n                    \"target\": _this,\r\n                    \"branch\": branch\r\n                };\r\n                _this.events.dispatchImmediately(\"out\", event_4);\r\n            }\r\n        });\r\n        // TODO clean this up when it's disposed\r\n        branch.interactions.events.on(\"focus\", function (ev) {\r\n            _this.selectBranch(branch);\r\n        });\r\n        // TODO clean this up when it's disposed\r\n        branch.interactions.events.on(\"blur\", function (ev) {\r\n            _this.delayUnselectBranch(branch);\r\n        });\r\n        // Increment level\r\n        var local_level = level + 1;\r\n        // Has sub-menu?\r\n        if (branch.menu) {\r\n            var submenu = this.createMenuElement(local_level);\r\n            for (var len = branch.menu.length, i = 0; i < len; i++) {\r\n                var ascendants = new List();\r\n                branch.menu[i].ascendants = ascendants;\r\n                if (branch.ascendants.length) {\r\n                    ascendants.copyFrom(branch.ascendants);\r\n                }\r\n                ascendants.push(branch);\r\n                this.drawBranch(submenu, branch.menu[i], local_level);\r\n            }\r\n            // Sub-menu is empty (all items are not supported)\r\n            // Do not draw this menu item at all\r\n            if (submenu.innerHTML == \"\") {\r\n                return;\r\n            }\r\n            element.appendChild(submenu);\r\n        }\r\n        // Should this item be hidden?\r\n        if (branch.hidden) {\r\n            this.hideBranch(branch);\r\n        }\r\n        // Add id?\r\n        if (branch.id) {\r\n            element.setAttribute(\"id\", branch.id);\r\n        }\r\n        // Background color?\r\n        if (branch.color) {\r\n            element.style.backgroundColor = branch.color.hex;\r\n        }\r\n        // Append to container\r\n        container.appendChild(element);\r\n    };\r\n    /**\r\n     * Creates a menu element to hold its elements in. Usually it's an `<ul>`\r\n     * tag.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param level  Current nesting level\r\n     * @return HTML element reference\r\n     */\r\n    ExportMenu.prototype.createMenuElement = function (level) {\r\n        var element = document.createElement(this.menuTag);\r\n        element.className = this.getMenuItemClass(level);\r\n        // Accessibility\r\n        if (level === 0) {\r\n            element.setAttribute(\"role\", \"menu\");\r\n        }\r\n        return element;\r\n    };\r\n    /**\r\n     * Generates a class name for the menu element based on its nesting level.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param level  Current nesting level\r\n     * @return Class name(s)\r\n     */\r\n    ExportMenu.prototype.getMenuItemClass = function (level) {\r\n        var className = this.classPrefix + \"-menu \" + this.classPrefix + \"-menu-level-\" + level;\r\n        if (level === 0) {\r\n            className += \" \" + this.classPrefix + \"-menu-root \" +\r\n                this.classPrefix + \"-\" + this.align + \" \" +\r\n                this.classPrefix + \"-\" + this.verticalAlign;\r\n        }\r\n        return this.adapter.apply(\"menuClass\", {\r\n            className: className,\r\n            level: level\r\n        }).className;\r\n    };\r\n    /**\r\n     * Creates menu item. Usually `<li>` tag. Its label and sub-elements will go\r\n     * into this element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param level  Current nesting level\r\n     * @param type   Type of the menu item\r\n     * @return HTML element reference\r\n     */\r\n    ExportMenu.prototype.createItemElement = function (level, type) {\r\n        var element = document.createElement(this.itemTag);\r\n        var className = this.classPrefix + \"-item \" + this.classPrefix\r\n            + \"-item-level-\" + level\r\n            + \" \" + this.classPrefix + \"-item-\" + (type || \"blank\");\r\n        element.className = this.adapter.apply(\"itemClass\", {\r\n            className: className,\r\n            level: level,\r\n            type: type\r\n        }).className;\r\n        element.setAttribute(\"role\", \"menuitem\");\r\n        return element;\r\n    };\r\n    /**\r\n     * Creates a \"label\" part of the menu item. It could be text or any HTML\r\n     * content.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param level  Current nesting level\r\n     * @param type   Type of the menu item\r\n     * @return An HTML Element\r\n     */\r\n    ExportMenu.prototype.createLabelElement = function (level, type) {\r\n        var element = document.createElement(this.labelTag);\r\n        var className = this.classPrefix + \"-label \" + this.classPrefix\r\n            + \"-label-level-\" + level\r\n            + \" \" + this.classPrefix + \"-item-\" + (type || \"blank\");\r\n        if (this.typeClickable(type)) {\r\n            className += \" \" + this.classPrefix + \"-clickable\";\r\n        }\r\n        element.className = this.adapter.apply(\"labelClass\", {\r\n            className: className,\r\n            level: level,\r\n            type: type\r\n        }).className;\r\n        // Accessible navigation\r\n        element.setAttribute(\"tabindex\", this.tabindex.toString());\r\n        element.setAttribute(\"role\", \"menuitem\");\r\n        return element;\r\n    };\r\n    /**\r\n     * Creates a \"icon\" part of the menu item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param level  Current nesting level\r\n     * @param type   Type of the menu item\r\n     * @return An HTML Element\r\n     */\r\n    ExportMenu.prototype.createIconElement = function (level, type) {\r\n        var element = document.createElement(this.iconTag);\r\n        var className = this.classPrefix + \"-icon \" + this.classPrefix\r\n            + \"-icon-level-\" + level\r\n            + \" \" + this.classPrefix + \"-item-\" + (type || \"blank\");\r\n        if (this.typeClickable(type)) {\r\n            className += \" \" + this.classPrefix + \"-clickable\";\r\n        }\r\n        element.className = this.adapter.apply(\"labelClass\", {\r\n            className: className,\r\n            level: level,\r\n            type: type\r\n        }).className;\r\n        // Accessible navigation\r\n        element.setAttribute(\"tabindex\", this.tabindex.toString());\r\n        element.setAttribute(\"role\", \"menuitem\");\r\n        return element;\r\n    };\r\n    /**\r\n     * Creates a a custom element out of raw HTML.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param level  Current nesting level\r\n     * @param type   Type of the menu item\r\n     * @return An HTML Element\r\n     */\r\n    ExportMenu.prototype.createSvgElement = function (level, type, svg) {\r\n        var parser = new DOMParser();\r\n        var element = parser.parseFromString(svg, \"image/svg+xml\").documentElement;\r\n        var className = this.classPrefix + \"-icon \" + this.classPrefix\r\n            + \"-icon-level-\" + level\r\n            + \" \" + this.classPrefix + \"-item-\" + (type || \"blank\");\r\n        if (this.typeClickable(type)) {\r\n            className += \" \" + this.classPrefix + \"-clickable\";\r\n        }\r\n        element.setAttribute(\"class\", this.adapter.apply(\"labelClass\", {\r\n            className: className,\r\n            level: level,\r\n            type: type\r\n        }).className);\r\n        // Accessible navigation\r\n        element.setAttribute(\"tabindex\", this.tabindex.toString());\r\n        element.setAttribute(\"role\", \"menuitem\");\r\n        return element;\r\n    };\r\n    /**\r\n     * Destroys the menu and all its elements.\r\n     */\r\n    ExportMenu.prototype.dispose = function () {\r\n        if (!this._disposed) {\r\n            _super.prototype.dispose.call(this);\r\n            if (this._element && this._element.parentNode) {\r\n                this._element.parentNode.removeChild(this._element);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Checks whether menu item type is supposed to be clickable.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param type  Menu item type\r\n     * @return Is clickable?\r\n     */\r\n    ExportMenu.prototype.typeClickable = function (type) {\r\n        return $type.hasValue(type);\r\n    };\r\n    /**\r\n     * Checks whether menu item has any sub-items.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param branch  A menu item\r\n     * @return Has sub-items?\r\n     */\r\n    ExportMenu.prototype.hasSubMenu = function (branch) {\r\n        return (branch.menu && branch.menu.length) ? true : false;\r\n    };\r\n    /**\r\n     * Returns sub-items (if they exist).\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param branch  A menu item\r\n     * @return Submenus\r\n     */\r\n    ExportMenu.prototype.getSubMenu = function (branch) {\r\n        if (branch.menu && branch.menu.length) {\r\n            return branch.menu;\r\n        }\r\n    };\r\n    /**\r\n     * Generates and returns an applicable label to be used for screen readers.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param item   A menu item instance\r\n     * @param label  Current label\r\n     * @return Reader text\r\n     */\r\n    ExportMenu.prototype.getReaderLabel = function (branch, label) {\r\n        // Strip any HTML from the label\r\n        label = $utils.stripTags(label);\r\n        // Add textual note if the branch is clickable\r\n        if (this.hasSubMenu(branch)) {\r\n            label += \" [\" + this.language.translate(\"Click, tap or press ENTER to open\") + \"]\";\r\n        }\r\n        else if (branch.type == \"print\") {\r\n            label = this.language.translate(\"Click, tap or press ENTER to print.\");\r\n        }\r\n        else if (this.typeClickable(branch.type)) {\r\n            label = this.language.translate(\"Click, tap or press ENTER to export as %1.\", undefined, label);\r\n        }\r\n        return this.adapter.apply(\"rederLabel\", {\r\n            label: label,\r\n            branch: branch\r\n        }).label;\r\n    };\r\n    Object.defineProperty(ExportMenu.prototype, \"container\", {\r\n        /**\r\n         * @return Container\r\n         */\r\n        get: function () {\r\n            return this._container;\r\n        },\r\n        /**\r\n         * Getters and setters\r\n         */\r\n        /**\r\n         * An HTML container to place the Menu in.\r\n         *\r\n         * A container must be an HTML element, because menu itself is HTML, and\r\n         * cannot be placed into SVG.\r\n         *\r\n         * @param container Reference to container element\r\n         * @todo Check if menu is already build. If it is, just move it to a new container\r\n         */\r\n        set: function (container) {\r\n            this._container = container;\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ExportMenu.prototype, \"items\", {\r\n        /**\r\n         * @return Menu items\r\n         */\r\n        get: function () {\r\n            return this._items;\r\n        },\r\n        /**\r\n         * A list of menu items. Can be nested.\r\n         *\r\n         * @param items  Menu items\r\n         */\r\n        set: function (items) {\r\n            this._items = items;\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ExportMenu.prototype, \"tag\", {\r\n        /**\r\n         * Sets main menu tag to place menu in.\r\n         *\r\n         * This also sets up how menu items are built.\r\n         *\r\n         * If you set this to \"ul\", menu items will be wrapped into `<li>` tags.\r\n         *\r\n         * If set to \"div\", menu items will be wrapped in `<div>` tags.\r\n         *\r\n         * @default \"ul\"\r\n         * @param tag Tag to use for menu\r\n         */\r\n        set: function (tag) {\r\n            this._menuTag = tag;\r\n            this._itemTag = tag == \"ul\" ? \"li\" : \"div\";\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ExportMenu.prototype, \"menuTag\", {\r\n        /**\r\n         * Returns current menu tag.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Menu tag (item that contains sub-items)\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"menuTag\", {\r\n                tag: this._menuTag\r\n            }).tag;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ExportMenu.prototype, \"itemTag\", {\r\n        /**\r\n         * Returns tag to wrap items into.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Item tag\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"itemTag\", {\r\n                tag: this._itemTag\r\n            }).tag;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ExportMenu.prototype, \"labelTag\", {\r\n        /**\r\n         * Returns menu label tag.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Label tag\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"labelTag\", {\r\n                tag: this._labelTag\r\n            }).tag;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ExportMenu.prototype, \"iconTag\", {\r\n        /**\r\n         * Returns icon tag.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Icon tag\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"iconTag\", {\r\n                tag: this._iconTag\r\n            }).tag;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ExportMenu.prototype, \"align\", {\r\n        /**\r\n         * @return Horizontal alignment\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"align\", {\r\n                align: this._align\r\n            }).align;\r\n        },\r\n        /**\r\n         * A horizontal alignment for the menu placement.\r\n         *\r\n         * @param value Horizontal alignment\r\n         */\r\n        set: function (value) {\r\n            this._align = value;\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ExportMenu.prototype, \"verticalAlign\", {\r\n        /**\r\n         * @return Vertical alignment\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"verticalAlign\", {\r\n                verticalAlign: this._verticalAlign\r\n            }).verticalAlign;\r\n        },\r\n        /**\r\n         * A vertical alignment for the menu placement.\r\n         *\r\n         * @param value Vertical alignment\r\n         */\r\n        set: function (value) {\r\n            this._verticalAlign = value;\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ExportMenu.prototype, \"classPrefix\", {\r\n        /**\r\n         * @return Class name prefix\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"classPrefix\", {\r\n                classPrefix: this._classPrefix\r\n            }).classPrefix;\r\n        },\r\n        /**\r\n         * Class name prefix.\r\n         *\r\n         * @default \"amexport\"\r\n         * @param value Class name prefix\r\n         */\r\n        set: function (value) {\r\n            this._classPrefix = value;\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ExportMenu.prototype, \"defaultStyles\", {\r\n        /**\r\n         * @return Should ExportMenu load its own CSS?\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"defaultStyles\", {\r\n                defaultStyles: this._defaultStyles\r\n            }).defaultStyles;\r\n        },\r\n        /**\r\n         * Indicates whether [[ExportMenu]] should load external CSS to style itself.\r\n         *\r\n         * If set to `false`, the menu will not be styled, and will rely on some\r\n         * external CSS.\r\n         *\r\n         * @default true\r\n         * @param Should ExportMenu load its own CSS?\r\n         */\r\n        set: function (value) {\r\n            if (this._defaultStyles != value) {\r\n                this._defaultStyles = value;\r\n                if (value) {\r\n                    this.loadDefaultCSS();\r\n                }\r\n            }\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Loads the default CSS.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ExportMenu.prototype.loadDefaultCSS = function () {\r\n        this._disposers.push(exportCSS($dom.getShadowRoot(this.container), this.classPrefix));\r\n        if (this._element) {\r\n            this._element.style.display = \"\";\r\n        }\r\n    };\r\n    Object.defineProperty(ExportMenu.prototype, \"tabindex\", {\r\n        /**\r\n         * @return Tab index\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"tabindex\", {\r\n                tabindex: this._tabindex\r\n            }).tabindex;\r\n        },\r\n        /**\r\n         * A tab index for the menu.\r\n         *\r\n         * Tab index will influence the order in which elements on the chart and\r\n         * the whole page are selected when pressing TAB key.\r\n         *\r\n         * @param value Tab index\r\n         */\r\n        set: function (value) {\r\n            this._tabindex = value;\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ExportMenu.prototype, \"language\", {\r\n        /**\r\n         * @return A [[Language]] instance to be used\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            var language = this._language.get();\r\n            if (language == null) {\r\n                language = new Language();\r\n                // TODO code duplication with `set language()`\r\n                this._language.set(language, language.events.on(\"localechanged\", function (ev) {\r\n                    _this.invalidate();\r\n                }));\r\n            }\r\n            return language;\r\n        },\r\n        /**\r\n         * A [[Language]] instance.\r\n         *\r\n         * @param value An instance of [[Language]]\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            this._language.set(value, value.events.on(\"localechanged\", function (ev) {\r\n                _this.invalidate();\r\n            }));\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Controlling the menu\r\n     */\r\n    /**\r\n     * Removes all active classes from menu items. Useful on touch devices and\r\n     * keyboard navigation where open menu can be closed instantly by clicking or\r\n     * tapping outside it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ExportMenu.prototype.close = function () {\r\n        var _this = this;\r\n        if (this._ignoreNextClose) {\r\n            this._ignoreNextClose = false;\r\n            return;\r\n        }\r\n        if (this.closeOnClick) {\r\n            this._element.style.pointerEvents = \"none\";\r\n            setTimeout(function () {\r\n                _this._element.style.pointerEvents = \"auto\";\r\n            }, 100);\r\n        }\r\n        if (this._currentSelection) {\r\n            this.setBlur(this._currentSelection);\r\n            this._currentSelection = undefined;\r\n        }\r\n        if (this._element) {\r\n            var items = this._element.getElementsByClassName(\"active\");\r\n            for (var len = items.length, i = len - 1; i >= 0; i--) {\r\n                if (items[i]) {\r\n                    $dom.removeClass(items[i], \"active\");\r\n                }\r\n            }\r\n        }\r\n        this.events.dispatchImmediately(\"closed\", {\r\n            type: \"closed\",\r\n            target: this\r\n        });\r\n    };\r\n    /**\r\n     * Selects a branch in the menu.\r\n     *\r\n     * Handles closing of currently open branch.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param branch Branch to select\r\n     */\r\n    ExportMenu.prototype.selectBranch = function (branch) {\r\n        var _this = this;\r\n        // Cancel previous closure\r\n        if (branch.closeTimeout) {\r\n            this.removeDispose(branch.closeTimeout);\r\n            branch.closeTimeout = undefined;\r\n        }\r\n        // Add active class\r\n        $dom.addClass(branch.interactions.element.parentElement, \"active\");\r\n        // Remove current selection\r\n        if (this._currentSelection && this._currentSelection !== branch && this._currentSelection.ascendants) {\r\n            $iter.each($iter.concat($iter.fromArray([this._currentSelection]), this._currentSelection.ascendants.iterator()), function (ascendant) {\r\n                if (!branch.ascendants.contains(ascendant) && branch !== ascendant) {\r\n                    _this.unselectBranch(ascendant, true);\r\n                }\r\n            });\r\n        }\r\n        // Select and/or cancel timeout for current ascendants\r\n        $iter.each(branch.ascendants.iterator(), function (ascendant) {\r\n            if (ascendant.closeTimeout) {\r\n                _this.removeDispose(ascendant.closeTimeout);\r\n                ascendant.closeTimeout = undefined;\r\n            }\r\n            $dom.addClass(ascendant.interactions.element.parentElement, \"active\");\r\n        });\r\n        // Log current selection\r\n        this._currentSelection = branch;\r\n        // Invoke event\r\n        if (this.events.isEnabled(\"branchselected\")) {\r\n            var event_5 = {\r\n                type: \"branchselected\",\r\n                target: this,\r\n                branch: branch\r\n            };\r\n            this.events.dispatchImmediately(\"branchselected\", event_5);\r\n        }\r\n    };\r\n    /**\r\n     * Unselects a branch. Also selects a branch one level up if necessary.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param branch Branch to unselect\r\n     * @param simple If `true`, only the branch will be unselected without selecting parent branch\r\n     */\r\n    ExportMenu.prototype.unselectBranch = function (branch, simple) {\r\n        // Remove active class\r\n        $dom.removeClass(branch.interactions.element.parentElement, \"active\");\r\n        // Remove current selection\r\n        if (this._currentSelection == branch) {\r\n            this._currentSelection = undefined;\r\n        }\r\n        // Invoke event\r\n        if (this.events.isEnabled(\"branchunselected\")) {\r\n            var event_6 = {\r\n                type: \"branchunselected\",\r\n                target: this,\r\n                branch: branch\r\n            };\r\n            this.events.dispatchImmediately(\"branchunselected\", event_6);\r\n        }\r\n    };\r\n    /**\r\n     * Delay unselection of a branch. This can still be cancelled in some other\r\n     * place if the branch or its children regain focus.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param branch Branch to unselect\r\n     * @param simple If `true`, only the branch will be unselected without selecting parent branch\r\n     */\r\n    ExportMenu.prototype.delayUnselectBranch = function (branch, simple) {\r\n        var _this = this;\r\n        // Schedule branch unselection\r\n        if (branch.closeTimeout) {\r\n            this.removeDispose(branch.closeTimeout);\r\n            branch.closeTimeout = undefined;\r\n        }\r\n        branch.closeTimeout = this.setTimeout(function () {\r\n            _this.unselectBranch(branch, simple);\r\n        }, this.closeDelay);\r\n        // Schedule unselection of all ascendants\r\n        // In case focus went away from the export menu altogether, this will ensure\r\n        // that all items will be closed.\r\n        // In case we're jumping to other menu item, those delayed unselections will\r\n        // be cancelled by `selectBranch`\r\n        if (simple !== true && branch.ascendants) {\r\n            $iter.each(branch.ascendants.iterator(), function (ascendant) {\r\n                _this.delayUnselectBranch(ascendant, true);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Navigates the menu based on which direction kayboard key was pressed.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param key A key that was pressed\r\n     */\r\n    ExportMenu.prototype.moveSelection = function (key) {\r\n        // Check if there's a current selection\r\n        if (!this._currentSelection) {\r\n            return;\r\n        }\r\n        var newSelection;\r\n        if (key == \"up\") {\r\n            // Try moving up in current menu list, or to the last item if already\r\n            // at the top\r\n            newSelection = this.getPrevSibling(this._currentSelection);\r\n        }\r\n        else if (key == \"down\") {\r\n            // Try moving down in current menu list, or to the top item if already\r\n            // at the bottom\r\n            newSelection = this.getNextSibling(this._currentSelection);\r\n        }\r\n        else if ((key == \"left\" && this.align == \"right\") || (key == \"right\" && this.align == \"left\")) {\r\n            var menu = this.getSubMenu(this._currentSelection);\r\n            // Go one level-deeper\r\n            if (menu != null) {\r\n                newSelection = menu[0];\r\n            }\r\n        }\r\n        else if ((key == \"right\" && this.align == \"right\") || (key == \"left\" && this.align == \"left\")) {\r\n            // Go one level-deeper\r\n            newSelection = this.getParentItem(this._currentSelection);\r\n        }\r\n        if (newSelection && newSelection !== this._currentSelection) {\r\n            this.selectBranch(newSelection);\r\n            this.setFocus(newSelection);\r\n            this._currentSelection = newSelection;\r\n        }\r\n    };\r\n    /**\r\n     * Returns all siblings of a menu item, including this same menu item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param branch  Menu item\r\n     * @return List of sibling menu items\r\n     */\r\n    ExportMenu.prototype.getSiblings = function (branch) {\r\n        var parent = this.getParentItem(branch);\r\n        if (parent && parent.menu) {\r\n            return parent.menu;\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    };\r\n    /**\r\n     * Returns menu items parent item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param branch  Menu item\r\n     * @return Parent menu item\r\n     */\r\n    ExportMenu.prototype.getParentItem = function (branch) {\r\n        if (branch.ascendants && branch.ascendants.length) {\r\n            return branch.ascendants.getIndex(branch.ascendants.length - 1);\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Returns next sibling in the same menu branch. If there is no next sibling,\r\n     * the first one is returned. If there is just one item, that item is\r\n     * returned. Unsupported menu items are skipped.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param branch  Menu item to search siblings for\r\n     * @return Menu item\r\n     */\r\n    ExportMenu.prototype.getNextSibling = function (branch) {\r\n        var siblings = this.getSiblings(branch);\r\n        if (siblings.length > 1) {\r\n            var next = siblings.indexOf(branch) + 1;\r\n            next = siblings.length == next ? 0 : next;\r\n            return siblings[next].unsupported ? this.getNextSibling(siblings[next]) : siblings[next];\r\n        }\r\n        else {\r\n            return branch;\r\n        }\r\n    };\r\n    /**\r\n     * Returns previous sibling in the same menu branch. If there is no next\r\n     * sibling, the first one is returned. If there is just one item, that item is\r\n     * returned. Unsupported menu items are skipped.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param branch  Menu item to search siblings for\r\n     * @return Menu item\r\n     */\r\n    ExportMenu.prototype.getPrevSibling = function (branch) {\r\n        var siblings = this.getSiblings(branch);\r\n        if (siblings.length > 1) {\r\n            var prev = siblings.indexOf(branch) - 1;\r\n            prev = prev == -1 ? siblings.length - 1 : prev;\r\n            return siblings[prev].unsupported ? this.getPrevSibling(siblings[prev]) : siblings[prev];\r\n        }\r\n        else {\r\n            return branch;\r\n        }\r\n    };\r\n    /**\r\n     * Attempts to set focus on particular menu element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param branch Menu item\r\n     */\r\n    ExportMenu.prototype.setFocus = function (branch) {\r\n        if (branch.interactions) {\r\n            try {\r\n                branch.interactions.element.focus();\r\n            }\r\n            catch (e) {\r\n                // nothing\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Attempts to remove focus from the menu element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param branch Menu item\r\n     */\r\n    ExportMenu.prototype.setBlur = function (branch) {\r\n        if (branch.interactions) {\r\n            try {\r\n                branch.interactions.element.blur();\r\n            }\r\n            catch (e) {\r\n                // nothing\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Hides the whole branch of menu.\r\n     *\r\n     * @param  branch  branch\r\n     */\r\n    ExportMenu.prototype.hideBranch = function (branch) {\r\n        branch.element.style.display = \"none\";\r\n    };\r\n    /**\r\n     * Show the branch of menu.\r\n     *\r\n     * @param  branch  branch\r\n     */\r\n    ExportMenu.prototype.showBranch = function (branch) {\r\n        branch.element.style.display = \"\";\r\n    };\r\n    return ExportMenu;\r\n}(Validatable));\r\nexport { ExportMenu };\r\n//# sourceMappingURL=ExportMenu.js.map","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","/**\r\n * Functionality related to inertia\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../Base\";\r\nimport { getInteraction } from \"./Interaction\";\r\nimport { AnimationDisposer } from \"../utils/Animation\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * A point of inertia is to simulate gradually drecreasing motion even after\r\n * actual interaction by user, that caused it, has already ended.\r\n *\r\n * [[Inertia]] object will continue triggering the same [[Sprite]] handlers\r\n * as if the interaction was still happening, gradually reducing\r\n * shift/angle/scale values until full stop.\r\n *\r\n * Basically, from the target element's point of view, while inertia is\r\n * playing, it is still being interacted with by user, albeit with a\r\n * decreasing speed.\r\n */\r\nvar Inertia = /** @class */ (function (_super) {\r\n    __extends(Inertia, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Inertia(interaction, type, point, startPoint) {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * List of animations currently playing.\r\n         */\r\n        _this.animations = [];\r\n        _this.className = \"Inertia\";\r\n        _this.interaction = interaction;\r\n        _this.type = type;\r\n        _this.point = point;\r\n        _this.startPoint = startPoint;\r\n        // Make animations disposable\r\n        _this._disposers.push(new AnimationDisposer(_this.animations));\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Inertia.prototype, \"x\", {\r\n        /**\r\n         * Returns current X coordinate.\r\n         *\r\n         * @return X\r\n         */\r\n        get: function () {\r\n            return this.point.x;\r\n        },\r\n        /**\r\n         * Sets current X coordinate.\r\n         *\r\n         * Will trigger \"drag\" event for the target element.\r\n         *\r\n         * @param value X\r\n         */\r\n        set: function (value) {\r\n            if ($type.isNumber(value)) {\r\n                this.point.x = value;\r\n                this.handleMove();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Inertia.prototype, \"y\", {\r\n        /**\r\n         * Returns current Y coordinate.\r\n         *\r\n         * @return Y\r\n         */\r\n        get: function () {\r\n            return this.point.y;\r\n        },\r\n        /**\r\n         * Sets current Y coordinate.\r\n         *\r\n         * Will trigger \"drag\" event for the target element.\r\n         *\r\n         * @param value Y\r\n         */\r\n        set: function (value) {\r\n            if ($type.isNumber(value)) {\r\n                this.point.y = value;\r\n                this.handleMove();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Simulates dragging of element.\r\n     */\r\n    Inertia.prototype.handleMove = function () {\r\n        // Prepare {InteractionEvent} object\r\n        if (this.interaction.events.isEnabled(\"drag\")) {\r\n            var imev = {\r\n                type: \"drag\",\r\n                target: this.interaction,\r\n                shift: {\r\n                    x: this.x - this.startPoint.x,\r\n                    y: this.y - this.startPoint.y\r\n                },\r\n                startPoint: this.startPoint,\r\n                point: {\r\n                    x: this.x,\r\n                    y: this.y\r\n                },\r\n                touch: false\r\n            };\r\n            // Call handler\r\n            this.interaction.events.dispatchImmediately(\"drag\", imev);\r\n        }\r\n    };\r\n    /**\r\n     * Finishes up the inertia animation. (removes reference to this animation\r\n     * object)\r\n     */\r\n    Inertia.prototype.done = function () {\r\n        // Remove inertia animation from the object\r\n        this.interaction.inertias.removeKey(this.type);\r\n        // Move ended\r\n        if (this.type === \"move\") {\r\n            getInteraction().processDragStop(this.interaction);\r\n        }\r\n        // Destroy\r\n        this.dispose();\r\n    };\r\n    return Inertia;\r\n}(BaseObject));\r\nexport { Inertia };\r\n//# sourceMappingURL=Inertia.js.map","/**\r\n * Pointed shape module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../Sprite\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a shape with a pointer.\r\n *\r\n * @see {@link IPointedShapeEvents} for a list of available events\r\n * @see {@link IPointedShapeAdapters} for a list of available Adapters\r\n */\r\nvar PointedShape = /** @class */ (function (_super) {\r\n    __extends(PointedShape, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PointedShape() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PointedShape\";\r\n        _this.pointerBaseWidth = 15;\r\n        _this.pointerLength = 10;\r\n        _this.pointerY = 0;\r\n        _this.pointerX = 0;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PointedShape.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        if (!$type.isNumber(this.pointerX)) {\r\n            this.pointerX = this.pixelWidth / 2;\r\n        }\r\n        if (!$type.isNumber(this.pointerY)) {\r\n            this.pointerY = this.pixelHeight + 10;\r\n        }\r\n    };\r\n    Object.defineProperty(PointedShape.prototype, \"pointerBaseWidth\", {\r\n        /**\r\n         * @return Width (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"pointerBaseWidth\");\r\n        },\r\n        /**\r\n         * A width of the pinter's (stem's) thick end (base) in pixels.\r\n         *\r\n         * @default 15\r\n         * @param value  Width (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"pointerBaseWidth\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PointedShape.prototype, \"pointerLength\", {\r\n        /**\r\n         * @return Length (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"pointerLength\");\r\n        },\r\n        /**\r\n         * A length of the pinter (stem) in pixels.\r\n         *\r\n         * @default 10\r\n         * @param value  Length (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"pointerLength\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PointedShape.prototype, \"pointerX\", {\r\n        /**\r\n         * @return X\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"pointerX\");\r\n        },\r\n        /**\r\n         * X coordinate the shape is pointing to.\r\n         *\r\n         * @param value  X\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"pointerX\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PointedShape.prototype, \"pointerY\", {\r\n        /**\r\n         * @return Y\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"pointerY\");\r\n        },\r\n        /**\r\n         * Y coordinate the shape is pointing to.\r\n         *\r\n         * @param value  Y\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"pointerY\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PointedShape;\r\n}(Sprite));\r\nexport { PointedShape };\r\n//# sourceMappingURL=PointedShape.js.map","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","/**\r\n * A collection of DOM-related functions.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Disposer } from \"./Disposer\";\r\nimport { readFrame, writeFrame } from \"./AsyncPending\";\r\nimport { options } from \"../Options\";\r\nimport * as $object from \"./Object\";\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * SVG namespace.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var SVGNS = \"http://www.w3.org/2000/svg\";\r\n/**\r\n * XML namespace.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var XMLNS = \"http://www.w3.org/2000/xmlns/\";\r\n/**\r\n * XLINK namespace.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var XLINK = \"http://www.w3.org/1999/xlink\";\r\n/**\r\n * Function that adds a disposable event listener directly to a DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param dom       A DOM element to add event to\r\n * @param type      Event type\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nexport function addEventListener(dom, type, listener, options) {\r\n    //@todo proper type check for options: EventListenerOptions | boolean (TS for some reason gives error on passive parameter)\r\n    //console.log(type, dom);\r\n    dom.addEventListener(type, listener, options || false);\r\n    return new Disposer(function () {\r\n        dom.removeEventListener(type, listener, options || false);\r\n    });\r\n}\r\n/**\r\n * Finds and returns an element reference using following logic:\r\n * * If we pass in an element instance, we just return it back.\r\n * * If we pass in a string, the function looks for an element with such id.\r\n * * If no element with such id is found, we grab the first element with a tag name like this.\r\n *\r\n * @ignore Exclude from docs\r\n * @param el  Element definition (reference, or id, or tag name)\r\n * @return Element reference\r\n * @todo Review this function as it seems pretty fuzzy and hacky\r\n */\r\nexport function getElement(el) {\r\n    if ($type.isString(el)) {\r\n        var e = document.getElementById(el);\r\n        if (e == null) {\r\n            e = document.getElementsByClassName(el)[0];\r\n        }\r\n        if (e instanceof HTMLElement) {\r\n            return e;\r\n        }\r\n    }\r\n    else if (el instanceof HTMLElement) {\r\n        return el;\r\n    }\r\n}\r\n/**\r\n * Adds a class name to an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function addClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        element.classList.add(className);\r\n    }\r\n    else {\r\n        var currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter(function (item) {\r\n                return item !== className;\r\n            }).join(\" \") + \" \" + className);\r\n        }\r\n        else {\r\n            element.setAttribute(\"class\", className);\r\n        }\r\n        //element.className = element.className.replace(new RegExp(\"^\" + className + \"| \" + className), \"\") + \" \" + className;\r\n    }\r\n}\r\n/**\r\n * Removes a class name from an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function removeClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        element.classList.remove(className);\r\n    }\r\n    else {\r\n        var currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter(function (item) {\r\n                return item !== className;\r\n            }).join(\" \"));\r\n        }\r\n        //element.className = element.className.replace(new RegExp(\"^\" + className + \"| \" + className), \"\");\r\n    }\r\n}\r\n/**\r\n * Sets style property on DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Still needed?\r\n */\r\nexport function setStyle(element, property, value) {\r\n    element.style[property] = value;\r\n}\r\n/**\r\n * Gets the computed style value for an element.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport function getComputedStyle(element, property) {\r\n    if (element.currentStyle) {\r\n        return element.currentStyle[property];\r\n    }\r\n    return document.defaultView.getComputedStyle(element, null).getPropertyValue(property);\r\n}\r\n/**\r\n * Removes focus from any element by shifting focus to body.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport function blur() {\r\n    var input = document.createElement(\"input\");\r\n    input.style.position = \"fixed\";\r\n    input.style.top = \"0px\";\r\n    input.style.left = \"-10000px\";\r\n    document.body.appendChild(input);\r\n    input.focus();\r\n    input.blur();\r\n    document.body.removeChild(input);\r\n}\r\n/**\r\n * Tries to focus the element.\r\n *\r\n * @ignore Exlude from docs\r\n * @param element  Element to focus\r\n */\r\nexport function focus(element) {\r\n    if (element instanceof HTMLElement) {\r\n        element.focus();\r\n    }\r\n    else {\r\n        var input = document.createElement(\"input\");\r\n        var fo = document.createElementNS(SVGNS, \"foreignObject\");\r\n        fo.appendChild(input);\r\n        element.appendChild(fo);\r\n        input.focus();\r\n        input.disabled = true;\r\n        fo.remove();\r\n    }\r\n    /*if ((<any>element).focus != undefined) {\r\n        (<any>element).focus();\r\n    }\r\n    else if (element instanceof SVGSVGElement) {\r\n        // Not implemented\r\n        // @todo implement focus fallback\r\n    }*/\r\n}\r\n/**\r\n * Returns markup for the element including the element tag itself.\r\n * SVG elements do not support `outerHTML` so this functions applies of\r\n * a workaround which creates a new temporary wrapper, clones element and uses\r\n * wrapper's `innerHTML`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element  Element to get full markup for\r\n * @return Markup\r\n * @deprecated Not in use anywhere\r\n */\r\nexport function outerHTML(element) {\r\n    if (element.outerHTML) {\r\n        return element.outerHTML;\r\n    }\r\n    else {\r\n        var twrap = document.createElement(\"div\");\r\n        var tnode = element.cloneNode(true);\r\n        twrap.appendChild(tnode);\r\n        var content = twrap.innerHTML;\r\n        return content;\r\n    }\r\n}\r\n/**\r\n * Checks if element is a valid DOM node.\r\n *\r\n * @ignore Exclude from docs\r\n * @param el  Element\r\n * @return `true` if element is a valid DOM node\r\n */\r\nexport function isElement(el) {\r\n    return el instanceof Object && el && el.nodeType === 1;\r\n}\r\n/**\r\n * Checks of element `a` contains element `b`.\r\n *\r\n * @param a  Aleged ascendant\r\n * @param b  Aleged descendant\r\n * @return Contains?\r\n */\r\nexport function contains(a, b) {\r\n    var cursor = b;\r\n    while (true) {\r\n        if (a === cursor) {\r\n            return true;\r\n        }\r\n        else if (cursor.parentNode == null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host == null) {\r\n                return false;\r\n            }\r\n            else {\r\n                cursor = cursor.host;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Returns the shadow root of the element or null\r\n *\r\n * @param a  Node\r\n * @return Root\r\n */\r\nexport function getShadowRoot(a) {\r\n    var cursor = a;\r\n    while (true) {\r\n        if (cursor.parentNode == null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host != null) {\r\n                return cursor;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Returns the root of the element (either the Document or the ShadowRoot)\r\n *\r\n * @param a  Node\r\n * @return Root\r\n */\r\nexport function getRoot(a) {\r\n    // TODO replace with Node.prototype.getRootNode\r\n    var owner = a.ownerDocument;\r\n    var cursor = a;\r\n    while (true) {\r\n        if (cursor.parentNode == null) {\r\n            // If the cursor is the document, or it is a ShadowRoot\r\n            // TODO better ShadowRoot detection\r\n            if (cursor === owner || cursor.host != null) {\r\n                return cursor;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Gets the true target of the Event.\r\n *\r\n * This is needed to make events work with the shadow DOM.\r\n *\r\n * @param event  Event\r\n * @return EventTarget\r\n */\r\nexport function eventTarget(event) {\r\n    if (typeof event.composedPath === \"function\") {\r\n        return event.composedPath()[0];\r\n    }\r\n    else {\r\n        return event.target;\r\n    }\r\n}\r\n/**\r\n * Copies attributes from one element to another.\r\n *\r\n * @ignore Exclude from docs\r\n * @param source  Element to copy attributes from\r\n * @param target  Element to copy attributes to\r\n */\r\nexport function copyAttributes(source, target) {\r\n    $array.each(source.attributes, function (attr) {\r\n        // TODO what if it's null ?\r\n        if (attr.value != null) {\r\n            target.setAttribute(attr.name, attr.value);\r\n        }\r\n    });\r\n}\r\n/**\r\n * [fixPixelPerfect description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param el  Element\r\n */\r\nexport function fixPixelPerfect(el) {\r\n    readFrame(function () {\r\n        // sometimes IE doesn't like this\r\n        // TODO figure out a way to remove this\r\n        try {\r\n            var rect = el.getBoundingClientRect();\r\n            var left_1 = rect.left - Math.round(rect.left);\r\n            var top_1 = rect.top - Math.round(rect.top);\r\n            if (left_1 !== 0) {\r\n                writeFrame(function () {\r\n                    el.style.left = left_1 + \"px\";\r\n                });\r\n            }\r\n            if (top_1 !== 0) {\r\n                writeFrame(function () {\r\n                    el.style.top = top_1 + \"px\";\r\n                });\r\n            }\r\n        }\r\n        catch (e) { }\r\n    });\r\n}\r\n/**\r\n * [rootStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar rootStylesheet;\r\n/**\r\n * [getStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @return [description]\r\n */\r\nfunction getStylesheet(element) {\r\n    if (element == null) {\r\n        if (!$type.hasValue(rootStylesheet)) {\r\n            // TODO use createElementNS ?\r\n            var e = document.createElement(\"style\");\r\n            e.type = \"text/css\";\r\n            if (options.nonce != \"\") {\r\n                e.setAttribute(\"nonce\", options.nonce);\r\n            }\r\n            document.head.appendChild(e);\r\n            rootStylesheet = e.sheet;\r\n        }\r\n        return rootStylesheet;\r\n    }\r\n    else {\r\n        // TODO use createElementNS ?\r\n        var e = document.createElement(\"style\");\r\n        e.type = \"text/css\";\r\n        if (options.nonce != \"\") {\r\n            e.setAttribute(\"nonce\", options.nonce);\r\n        }\r\n        element.appendChild(e);\r\n        return e.sheet;\r\n    }\r\n}\r\n/**\r\n * [makeStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param selector  [description]\r\n * @return [description]\r\n */\r\nfunction appendStylesheet(root, selector) {\r\n    var index = root.cssRules.length;\r\n    root.insertRule(selector + \"{}\", index);\r\n    return root.cssRules[index];\r\n}\r\n/**\r\n * Defines a class for a CSS rule.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nvar StyleRule = /** @class */ (function (_super) {\r\n    __extends(StyleRule, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param selector  CSS selector\r\n     * @param styles    An object of style attribute - value pairs\r\n     */\r\n    function StyleRule(element, selector, styles) {\r\n        var _this = this;\r\n        var root = getStylesheet(element);\r\n        // TODO test this\r\n        _this = _super.call(this, function () {\r\n            // TODO a bit hacky\r\n            var index = $array.indexOf(root.cssRules, _this._rule);\r\n            if (index === -1) {\r\n                throw new Error(\"Could not dispose StyleRule\");\r\n            }\r\n            else {\r\n                // TODO if it's empty remove it from the DOM ?\r\n                root.deleteRule(index);\r\n            }\r\n        }) || this;\r\n        _this._rule = appendStylesheet(root, selector);\r\n        $object.each(styles, function (key, value) {\r\n            _this.setStyle(key, value);\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(StyleRule.prototype, \"selector\", {\r\n        /**\r\n         * @return CSS selector\r\n         */\r\n        get: function () {\r\n            return this._rule.selectorText;\r\n        },\r\n        /**\r\n         * A CSS selector text.\r\n         *\r\n         * E.g.: `.myClass p`\r\n         *\r\n         * @param selector  CSS selector\r\n         */\r\n        set: function (selector) {\r\n            this._rule.selectorText = selector;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets the same style properties with browser-specific prefixes.\r\n     *\r\n     * @param name   Attribute name\r\n     * @param value  Attribute value\r\n     */\r\n    StyleRule.prototype._setVendorPrefixName = function (name, value) {\r\n        var style = this._rule.style;\r\n        style.setProperty(\"-webkit-\" + name, value, \"\");\r\n        style.setProperty(\"-moz-\" + name, value, \"\");\r\n        style.setProperty(\"-ms-\" + name, value, \"\");\r\n        style.setProperty(\"-o-\" + name, value, \"\");\r\n        style.setProperty(name, value, \"\");\r\n    };\r\n    /**\r\n     * Sets a value for specific style attribute.\r\n     *\r\n     * @param name   Attribute\r\n     * @param value  Value\r\n     */\r\n    StyleRule.prototype.setStyle = function (name, value) {\r\n        if (name === \"transition\") {\r\n            this._setVendorPrefixName(name, value);\r\n        }\r\n        else {\r\n            this._rule.style.setProperty(name, value, \"\");\r\n        }\r\n    };\r\n    return StyleRule;\r\n}(Disposer));\r\nexport { StyleRule };\r\n/**\r\n * An internal counter for unique style ids.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar styleId = 0;\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar StyleClass = /** @class */ (function (_super) {\r\n    __extends(StyleClass, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param styles  An object of style attribute - value pairs\r\n     * @param name    Class name\r\n     */\r\n    function StyleClass(element, styles, name) {\r\n        var _this = this;\r\n        var className = (!$type.hasValue(name)\r\n            // TODO generate the classname randomly\r\n            ? \"__style_\" + (++styleId) + \"__\"\r\n            : name);\r\n        _this = _super.call(this, element, \".\" + className, styles) || this;\r\n        _this._className = className;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(StyleClass.prototype, \"className\", {\r\n        /**\r\n         * @return Class name\r\n         */\r\n        get: function () {\r\n            return this._className;\r\n        },\r\n        /**\r\n         * Class name.\r\n         *\r\n         * @param name  Class name\r\n         */\r\n        set: function (name) {\r\n            this._className = name;\r\n            this.selector = \".\" + name;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Converts the whole class to\r\n     * @ignore Exclude from docs\r\n     */\r\n    StyleClass.prototype.toString = function () {\r\n        return this._className;\r\n    };\r\n    return StyleClass;\r\n}(StyleRule));\r\nexport { StyleClass };\r\nexport function ready(f) {\r\n    if (document.readyState !== \"loading\") {\r\n        f();\r\n    }\r\n    else {\r\n        var listener_1 = function () {\r\n            if (document.readyState !== \"loading\") {\r\n                document.removeEventListener(\"readystatechange\", listener_1);\r\n                f();\r\n            }\r\n        };\r\n        document.addEventListener(\"readystatechange\", listener_1);\r\n    }\r\n}\r\n/**\r\n * Returns a font fmaily name for the element (directly set or\r\n * computed/inherited).\r\n *\r\n * @ignore Exclude from docs\r\n * @param element  Element\r\n * @return Font family\r\n */\r\nexport function findFont(element) {\r\n    // Check if element has styles set\r\n    var font = getComputedStyle(element, \"font-family\");\r\n    if (!font) {\r\n        // Completely transparent. Look for a parent\r\n        var parent_1 = element.parentElement || element.parentNode;\r\n        if (parent_1) {\r\n            return findFont(parent_1);\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n    else {\r\n        return font;\r\n    }\r\n}\r\n/**\r\n * Returns a font fmaily name for the element (directly set or\r\n * computed/inherited).\r\n *\r\n * @ignore Exclude from docs\r\n * @param element  Element\r\n * @return Font family\r\n */\r\nexport function findFontSize(element) {\r\n    // Check if element has styles set\r\n    var font = getComputedStyle(element, \"font-size\");\r\n    if (!font) {\r\n        // Completely transparent. Look for a parent\r\n        var parent_2 = element.parentElement || element.parentNode;\r\n        if (parent_2) {\r\n            return findFontSize(parent_2);\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n    else {\r\n        return font;\r\n    }\r\n}\r\n/**\r\n * Checks whether element is not visible, whether directly or via its\r\n * ascendants.\r\n *\r\n * @param   element  Target element\r\n * @return           Hidden?\r\n */\r\nexport function isHidden(element) {\r\n    return (element.offsetParent === null);\r\n}\r\n/**\r\n * Checks wthether element is in the current viewport.\r\n *\r\n * @since 2.5.5\r\n * @param   el Element\r\n * @return     Within viewport?\r\n */\r\nexport function isElementInViewport(el, viewportTarget) {\r\n    // Get position data of the element\r\n    var rect = el.getBoundingClientRect();\r\n    // Convert to array\r\n    var targets = $type.isArray(viewportTarget) ? viewportTarget : viewportTarget ? [viewportTarget] : [];\r\n    // Should we measure against specific viewport element?\r\n    if (targets.length) {\r\n        for (var i = 0; i < targets.length; i++) {\r\n            var target = targets[i];\r\n            // Check if viewport itself is visible\r\n            if (!isElementInViewport(target)) {\r\n                return false;\r\n            }\r\n            // Check if element is visible within the viewport\r\n            var viewportRect = target.getBoundingClientRect();\r\n            if (rect.top >= 0 &&\r\n                rect.left >= 0 &&\r\n                rect.top <= (viewportRect.top + viewportRect.height) &&\r\n                rect.left <= (viewportRect.left + viewportRect.width)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    return (rect.top >= 0 &&\r\n        rect.left >= 0 &&\r\n        rect.top <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n        rect.left <= (window.innerWidth || document.documentElement.clientWidth));\r\n}\r\n//# sourceMappingURL=DOM.js.map","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","/**\r\n * Global options.\r\n */\r\nexport var options = {\r\n    verbose: true,\r\n    commercialLicense: false,\r\n    classNamePrefix: \"amcharts-\",\r\n    autoSetClassName: false,\r\n    minPolylineStep: 0.5,\r\n    onlyShowOnViewport: false,\r\n    queue: false,\r\n    autoDispose: false,\r\n    licenses: [],\r\n    suppressErrors: false,\r\n    suppressWarnings: false,\r\n    animationsEnabled: true,\r\n    nonce: \"\"\r\n};\r\n//# sourceMappingURL=Options.js.map","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","/**\r\n * Mouse-related functionality\r\n */\r\n/**\r\n * Defines static methods that hold style list for various mouse cursor styles,\r\n * maintaining browser compatibility.\r\n */\r\nvar MouseCursorStyle = /** @class */ (function () {\r\n    function MouseCursorStyle() {\r\n    }\r\n    /**\r\n     * Styles for \"grab\" mouse cursor.\r\n     */\r\n    MouseCursorStyle.grab = [{\r\n            \"property\": \"cursor\",\r\n            \"value\": \"move\"\r\n        }, {\r\n            \"property\": \"cursor\",\r\n            \"value\": \"grab\"\r\n        }, {\r\n            \"property\": \"cursor\",\r\n            \"value\": \"-webkit-grab\"\r\n        }];\r\n    /**\r\n     * Styles for \"grabbing\" mouse cursor.\r\n     */\r\n    MouseCursorStyle.grabbing = [{\r\n            \"property\": \"cursor\",\r\n            \"value\": \"move\"\r\n        }, {\r\n            \"property\": \"cursor\",\r\n            \"value\": \"grabbing\"\r\n        }, {\r\n            \"property\": \"cursor\",\r\n            \"value\": \"-webkit-grabbing\"\r\n        }];\r\n    /**\r\n     * Styles for \"pointer\" mouse cursor. (usually used for links)\r\n     */\r\n    MouseCursorStyle.pointer = [{\r\n            \"property\": \"cursor\",\r\n            \"value\": \"pointer\"\r\n        }];\r\n    /**\r\n     * Styles for default mouse cursor. (browser determines style)\r\n     */\r\n    MouseCursorStyle.default = [{\r\n            \"property\": \"cursor\",\r\n            \"value\": \"default\"\r\n        }];\r\n    /**\r\n     * Styles for horizontal bi-directional resize mouse cursor.\r\n     */\r\n    MouseCursorStyle.horizontalResize = [{\r\n            \"property\": \"cursor\",\r\n            \"value\": \"ew-resize\"\r\n        }];\r\n    /**\r\n     * Styles for vertical bi-directional mouse cursor.\r\n     */\r\n    MouseCursorStyle.verticalResize = [{\r\n            \"property\": \"cursor\",\r\n            \"value\": \"ns-resize\"\r\n        }];\r\n    /**\r\n     * Styles for \"no-allowed\" cursor.\r\n     * @since 4.7.15\r\n     */\r\n    MouseCursorStyle.notAllowed = [{\r\n            \"property\": \"cursor\",\r\n            \"value\": \"not-allowed\"\r\n        }];\r\n    /**\r\n     * Styles for \"text\" cursor.\r\n     * @since 4.9.12\r\n     */\r\n    MouseCursorStyle.text = [{\r\n            \"property\": \"cursor\",\r\n            \"value\": \"text\"\r\n        }];\r\n    return MouseCursorStyle;\r\n}());\r\nexport { MouseCursorStyle };\r\n//# sourceMappingURL=Mouse.js.map","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","/**\r\n * Number formatting-related functionality.\r\n */\r\nimport { __extends } from \"tslib\";\r\nimport { Language } from \"../utils/Language\";\r\nimport { BaseObject } from \"../Base\";\r\nimport { getTextFormatter } from \"../formatters/TextFormatter\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $strings from \"../utils/Strings\";\r\nimport * as $object from \"../utils/Object\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $math from \"../utils/Math\";\r\n/**\r\n * NumberFormatter class. Formats numbers according to specified formats.\r\n *\r\n * @todo Apply translations to suffixes/prefixes\r\n */\r\nvar NumberFormatter = /** @class */ (function (_super) {\r\n    __extends(NumberFormatter, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function NumberFormatter() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * A base value for negative numbers. Will treat all numbers below this value\r\n         * as negative numbers.\r\n         */\r\n        _this._negativeBase = 0;\r\n        /**\r\n         * Holds number format.\r\n         *\r\n         * @default #,###.#####\r\n         */\r\n        _this._numberFormat = \"#,###.#####\";\r\n        /**\r\n         * Output format to produce. If the format calls for applying color to the\r\n         * formatted value, this setting will determine what markup to use: SVG or\r\n         * HTML.\r\n         *\r\n         * Available options: svg, html.\r\n         *\r\n         * @default \"svg\"\r\n         */\r\n        _this._outputFormat = \"svg\";\r\n        /**\r\n         * Any number smaller than this will be considered \"small\" number, which will\r\n         * trigger special formatting if \"a\" format modifier is used.\r\n         */\r\n        _this._smallNumberThreshold = 1.00;\r\n        _this.className = \"NumberFormatter\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    NumberFormatter.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        if (this.language) {\r\n            this.language.dispose();\r\n        }\r\n    };\r\n    Object.defineProperty(NumberFormatter.prototype, \"language\", {\r\n        /**\r\n         * @return Language\r\n         */\r\n        get: function () {\r\n            if (!this._language) {\r\n                if (this.sprite) {\r\n                    this._language = this.sprite.language;\r\n                }\r\n                else {\r\n                    this._language = new Language;\r\n                }\r\n            }\r\n            return this._language;\r\n        },\r\n        /**\r\n         * A reference to [[Language]] instance.\r\n         *\r\n         * Formatter will use language to translate various items, like number\r\n         * suffixes, etc.\r\n         *\r\n         * @param value  Language\r\n         */\r\n        set: function (value) {\r\n            this._language = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Formats the number according to specific format.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @return Formatted number\r\n     */\r\n    NumberFormatter.prototype.format = function (value, format, precision) {\r\n        // no format passed in or \"Number\"\r\n        if (typeof format === \"undefined\" || ($type.isString(format) && format.toLowerCase() === \"number\")) {\r\n            format = this._numberFormat;\r\n        }\r\n        // Init return value\r\n        var formatted;\r\n        // Cast to number just in case\r\n        // TODO: maybe use better casting\r\n        var source = Number(value);\r\n        // Is it a built-in format or Intl.NumberFormatOptions\r\n        if (format instanceof Object) {\r\n            try {\r\n                if (this.intlLocales) {\r\n                    return new Intl.NumberFormat(this.intlLocales, format).format(source);\r\n                }\r\n                else {\r\n                    return new Intl.NumberFormat(undefined, format).format(source);\r\n                }\r\n            }\r\n            catch (e) {\r\n                return \"Invalid\";\r\n            }\r\n        }\r\n        else {\r\n            // Clean format\r\n            format = $utils.cleanFormat(format);\r\n            // Get format info (it will also deal with parser caching)\r\n            var info = this.parseFormat(format, this.language);\r\n            // format and replace the number\r\n            var details = void 0;\r\n            if (source > this._negativeBase) {\r\n                details = info.positive;\r\n            }\r\n            else if (source < this._negativeBase) {\r\n                details = info.negative;\r\n            }\r\n            else {\r\n                details = info.zero;\r\n            }\r\n            // Adjust precision\r\n            if ($type.hasValue(precision) && !details.mod) {\r\n                details = $object.clone(details);\r\n                details.decimals.active = source == 0 ? 0 : precision;\r\n            }\r\n            // Format\r\n            formatted = details.template.split($strings.PLACEHOLDER).join(this.applyFormat(source, details));\r\n        }\r\n        return formatted;\r\n    };\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format Format string, i.e. \"#,###.00\"\r\n     * @param language Language\r\n     */\r\n    NumberFormatter.prototype.parseFormat = function (format, language) {\r\n        var _this = this;\r\n        // Check cache\r\n        var cached = this.getCache(format);\r\n        if ($type.hasValue(cached)) {\r\n            return cached;\r\n        }\r\n        // init format parse info holder\r\n        var info = {\r\n            \"positive\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": language.translateEmpty(\"_thousandSeparator\")\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": language.translateEmpty(\"_decimalSeparator\")\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            },\r\n            \"negative\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": language.translateEmpty(\"_thousandSeparator\")\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": language.translateEmpty(\"_decimalSeparator\")\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            },\r\n            \"zero\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": language.translateEmpty(\"_thousandSeparator\")\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": language.translateEmpty(\"_decimalSeparator\")\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            }\r\n        };\r\n        // Escape double vertical bars (that mean display one vertical bar)\r\n        format = format.replace(\"||\", $strings.PLACEHOLDER2);\r\n        // Split it up and deal with different formats\r\n        var parts = format.split(\"|\");\r\n        info.positive.source = parts[0];\r\n        if (typeof parts[2] === \"undefined\") {\r\n            info.zero = info.positive;\r\n        }\r\n        else {\r\n            info.zero.source = parts[2];\r\n        }\r\n        if (typeof parts[1] === \"undefined\") {\r\n            info.negative = info.positive;\r\n        }\r\n        else {\r\n            info.negative.source = parts[1];\r\n        }\r\n        // Parse each\r\n        $object.each(info, function (part, item) {\r\n            // Already parsed\r\n            if (item.parsed) {\r\n                return;\r\n            }\r\n            // Check cached\r\n            if (typeof _this.getCache(item.source) !== \"undefined\") {\r\n                info[part] = _this.getCache(item.source);\r\n                return;\r\n            }\r\n            // Begin parsing\r\n            var partFormat = item.source;\r\n            // Just \"Number\"?\r\n            if (partFormat.toLowerCase() === \"number\") {\r\n                partFormat = $type.isString(_this._numberFormat) ? _this._numberFormat : \"#,###.#####\";\r\n            }\r\n            // Let TextFormatter split into chunks\r\n            var chunks = getTextFormatter().chunk(partFormat, true);\r\n            for (var i = 0; i < chunks.length; i++) {\r\n                var chunk = chunks[i];\r\n                // replace back double vertical bar\r\n                chunk.text = chunk.text.replace($strings.PLACEHOLDER2, \"|\");\r\n                if (chunk.type === \"value\") {\r\n                    // Parse format\r\n                    // Look for codes\r\n                    var matches = chunk.text.match(/[#0.,]+[ ]?[abesABES%!]?[abesABES!]?/);\r\n                    if (matches) {\r\n                        if (matches === null || matches[0] === \"\") {\r\n                            // no codes here - assume string\r\n                            // nothing to do here\r\n                            item.template += chunk.text;\r\n                        }\r\n                        else {\r\n                            // look for the format modifiers at the end\r\n                            var mods = matches[0].match(/[abesABES%!]{2}|[abesABES%]{1}$/);\r\n                            if (mods) {\r\n                                item.mod = mods[0].toLowerCase();\r\n                                item.modSpacing = matches[0].match(/[ ]{1}[abesABES%!]{1}$/) ? true : false;\r\n                            }\r\n                            // break the format up\r\n                            var a = matches[0].split(\".\");\r\n                            // Deal with thousands\r\n                            if (a[0] === \"\") {\r\n                                // No directives for thousands\r\n                                // Leave default settings (no formatting)\r\n                            }\r\n                            else {\r\n                                // Counts\r\n                                item.thousands.active = (a[0].match(/0/g) || []).length;\r\n                                item.thousands.passive = (a[0].match(/\\#/g) || []).length + item.thousands.active;\r\n                                // Separator interval\r\n                                var b = a[0].split(\",\");\r\n                                if (b.length === 1) {\r\n                                    // No thousands separators\r\n                                    // Do nothing\r\n                                }\r\n                                else {\r\n                                    // Use length fo the last chunk as thousands length\r\n                                    item.thousands.interval = $type.getValue(b.pop()).length;\r\n                                    if (item.thousands.interval === 0) {\r\n                                        item.thousands.interval = -1;\r\n                                    }\r\n                                }\r\n                            }\r\n                            // Deal with decimals\r\n                            if (typeof (a[1]) === \"undefined\") {\r\n                                // No directives for decimals\r\n                                // Leave at defaults (no formatting)\r\n                            }\r\n                            else {\r\n                                // Counts\r\n                                item.decimals.active = (a[1].match(/0/g) || []).length;\r\n                                item.decimals.passive = (a[1].match(/\\#/g) || []).length + item.decimals.active;\r\n                            }\r\n                            // Add special code to template\r\n                            item.template += chunk.text.split(matches[0]).join($strings.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    // Quoted string - take it as it is\r\n                    item.template += chunk.text;\r\n                }\r\n            }\r\n            // Apply style formatting\r\n            //item.template = getTextFormatter().format(item.template, this.outputFormat);\r\n            // Save cache\r\n            _this.setCache(item.source, item);\r\n            // Mark this as parsed\r\n            item.parsed = true;\r\n        });\r\n        // Save cache (the whole thing)\r\n        this.setCache(format, info);\r\n        return info;\r\n    };\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by parseFormat()\r\n     * @return Formatted number\r\n     */\r\n    NumberFormatter.prototype.applyFormat = function (value, details) {\r\n        // Use absolute values\r\n        var negative = value < 0;\r\n        value = Math.abs(value);\r\n        // Recalculate according to modifier\r\n        var prefix = \"\", suffix = \"\";\r\n        var mods = details.mod ? details.mod.split(\"\") : [];\r\n        if (mods.indexOf(\"b\") !== -1) {\r\n            var a_1 = this.applyPrefix(value, this.bytePrefixes, mods.indexOf(\"!\") !== -1);\r\n            value = a_1[0];\r\n            prefix = a_1[1];\r\n            suffix = a_1[2];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"a\") !== -1) {\r\n            var a_2 = this.applyPrefix(value, value < this.smallNumberThreshold ? this.smallNumberPrefixes : this.bigNumberPrefixes, mods.indexOf(\"!\") !== -1);\r\n            value = a_2[0];\r\n            prefix = a_2[1];\r\n            suffix = a_2[2];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"%\") !== -1) {\r\n            var ol = $math.min(value.toString().length + 2, 21);\r\n            value *= 100;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            suffix = \"%\";\r\n        }\r\n        else if (mods.indexOf(\"\") !== -1) {\r\n            var ol = $math.min(value.toString().length + 3, 21);\r\n            value *= 1000;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            suffix = \"\";\r\n        }\r\n        // Round to passive\r\n        if (mods.indexOf(\"e\") !== -1) {\r\n            // convert the value to exponential\r\n            var exp = void 0;\r\n            if (details.decimals.passive >= 0) {\r\n                exp = value.toExponential(details.decimals.passive).split(\"e\");\r\n            }\r\n            else {\r\n                exp = value.toExponential().split(\"e\");\r\n            }\r\n            value = Number(exp[0]);\r\n            suffix = \"e\" + exp[1];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (details.decimals.passive === 0) {\r\n            value = Math.round(value);\r\n        }\r\n        else if (details.decimals.passive > 0) {\r\n            var d = Math.pow(10, details.decimals.passive);\r\n            value = Math.round(value * d) / d;\r\n        }\r\n        // Init return value\r\n        var res = \"\";\r\n        // Calc integer and decimal parts\r\n        var a = $utils.numberToString(value).split(\".\");\r\n        // Format integers\r\n        var ints = a[0];\r\n        // Pad integers to active length\r\n        if (ints.length < details.thousands.active) {\r\n            ints = Array(details.thousands.active - ints.length + 1).join(\"0\") + ints;\r\n        }\r\n        // Insert thousands separators\r\n        if (details.thousands.interval > 0) {\r\n            var ip = [];\r\n            var intsr = ints.split(\"\").reverse().join(\"\");\r\n            for (var i = 0, len = ints.length; i <= len; i += details.thousands.interval) {\r\n                var c = intsr.substr(i, details.thousands.interval).split(\"\").reverse().join(\"\");\r\n                if (c !== \"\") {\r\n                    ip.unshift(c);\r\n                }\r\n            }\r\n            ints = ip.join(details.thousands.separator);\r\n        }\r\n        // Add integers\r\n        res += ints;\r\n        // Add decimals\r\n        if (a.length === 1) {\r\n            a.push(\"\");\r\n        }\r\n        var decs = a[1];\r\n        // Fill zeros?\r\n        if (decs.length < details.decimals.active) {\r\n            decs += Array(details.decimals.active - decs.length + 1).join(\"0\");\r\n        }\r\n        if (decs !== \"\") {\r\n            res += details.decimals.separator + decs;\r\n        }\r\n        // Can't have empty return value\r\n        if (res === \"\") {\r\n            res = \"0\";\r\n        }\r\n        // Add minus sign back\r\n        if (value !== 0 && negative && (mods.indexOf(\"s\") === -1)) {\r\n            res = \"-\" + res;\r\n        }\r\n        // Add suffixes/prefixes\r\n        if (prefix) {\r\n            res = prefix + res;\r\n        }\r\n        if (suffix) {\r\n            res += suffix;\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Chooses appropriate prefix and suffix based on the passed in rules.\r\n     *\r\n     * @param  value     Value\r\n     * @param  prefixes  Prefix array\r\n     * @param  force     Force application of a first prefix (@sice 4.5.4)\r\n     * @return Result\r\n     */\r\n    NumberFormatter.prototype.applyPrefix = function (value, prefixes, force) {\r\n        if (force === void 0) { force = false; }\r\n        var newvalue = value;\r\n        var prefix = \"\";\r\n        var suffix = \"\";\r\n        var applied = false;\r\n        var k = 1;\r\n        for (var i = 0, len = prefixes.length; i < len; i++) {\r\n            if (prefixes[i].number <= value) {\r\n                if (prefixes[i].number === 0) {\r\n                    newvalue = 0;\r\n                }\r\n                else {\r\n                    newvalue = value / prefixes[i].number;\r\n                    k = prefixes[i].number;\r\n                }\r\n                prefix = prefixes[i].prefix;\r\n                suffix = prefixes[i].suffix;\r\n                applied = true;\r\n            }\r\n        }\r\n        if (!applied && force && prefixes.length && value != 0) {\r\n            // Prefix was not applied. Use the first prefix.\r\n            newvalue = value / prefixes[0].number;\r\n            prefix = prefixes[0].prefix;\r\n            suffix = prefixes[0].suffix;\r\n            applied = true;\r\n        }\r\n        if (applied) {\r\n            newvalue = parseFloat(newvalue.toPrecision($math.min(k.toString().length + Math.floor(newvalue).toString().replace(/[^0-9]*/g, \"\").length, 21)));\r\n        }\r\n        return [newvalue, prefix, suffix];\r\n    };\r\n    /**\r\n     * Invalidates the parent [[Sprite]] object.\r\n     */\r\n    NumberFormatter.prototype.invalidateSprite = function () {\r\n        if (this.sprite) {\r\n            this.sprite.invalidate();\r\n        }\r\n    };\r\n    Object.defineProperty(NumberFormatter.prototype, \"numberFormat\", {\r\n        /**\r\n         * @return A format to use for number formatting\r\n         */\r\n        get: function () {\r\n            return this._numberFormat;\r\n        },\r\n        /**\r\n         * Number format.\r\n         *\r\n         * @default \"#,###.#####\"\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-numbers/} Tutorial on number formatting\r\n         * @param format  A format to use for number formatting\r\n         */\r\n        set: function (format) {\r\n            this._numberFormat = format;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(NumberFormatter.prototype, \"intlLocales\", {\r\n        /**\r\n         * @return Date format\r\n         */\r\n        get: function () {\r\n            return this._intlLocales;\r\n        },\r\n        /**\r\n         * Locales if you are using date formats in `Intl.NumberFormatOptions` syntax.\r\n         *\r\n         * @see (@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat) about using Intl for number formatting\r\n         * @param value Locales\r\n         */\r\n        set: function (value) {\r\n            this._intlLocales = value;\r\n            this.invalidateSprite();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(NumberFormatter.prototype, \"negativeBase\", {\r\n        /**\r\n         * @return A format to use for number formatting\r\n         */\r\n        get: function () {\r\n            return this._negativeBase;\r\n        },\r\n        /**\r\n         * Negative base for negative numbers.\r\n         *\r\n         * @default 0\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-numbers/} Tutorial on number formatting\r\n         * @param format  A format to use for number formatting\r\n         */\r\n        set: function (value) {\r\n            this._negativeBase = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(NumberFormatter.prototype, \"bigNumberPrefixes\", {\r\n        /**\r\n         * @return Prefixes for big numbers\r\n         */\r\n        get: function () {\r\n            if (!$type.hasValue(this._bigNumberPrefixes)) {\r\n                this._bigNumberPrefixes = [\r\n                    { \"number\": 1e+3, \"suffix\": this.language.translate(\"_big_number_suffix_3\") },\r\n                    { \"number\": 1e+6, \"suffix\": this.language.translate(\"_big_number_suffix_6\") },\r\n                    { \"number\": 1e+9, \"suffix\": this.language.translate(\"_big_number_suffix_9\") },\r\n                    { \"number\": 1e+12, \"suffix\": this.language.translate(\"_big_number_suffix_12\") },\r\n                    { \"number\": 1e+15, \"suffix\": this.language.translate(\"_big_number_suffix_15\") },\r\n                    { \"number\": 1e+18, \"suffix\": this.language.translate(\"_big_number_suffix_18\") },\r\n                    { \"number\": 1e+21, \"suffix\": this.language.translate(\"_big_number_suffix_21\") },\r\n                    { \"number\": 1e+24, \"suffix\": this.language.translate(\"_big_number_suffix_24\") }\r\n                ];\r\n            }\r\n            return this._bigNumberPrefixes;\r\n        },\r\n        /**\r\n         * Prefixes for big numbers.\r\n         *\r\n         * It's an array of objects of number/prefix pairs.\r\n         *\r\n         * ```JSON\r\n         * [\r\n         *   { \"number\": 1e+3, \"suffix\": \"K\" },\r\n         *   { \"number\": 1e+6, \"suffix\": \"M\" },\r\n         *   { \"number\": 1e+9, \"suffix\": \"G\" },\r\n         *   { \"number\": 1e+12, \"suffix\": \"T\" },\r\n         *   { \"number\": 1e+15, \"suffix\": \"P\" },\r\n         *   { \"number\": 1e+18, \"suffix\": \"E\" },\r\n         *   { \"number\": 1e+21, \"suffix\": \"Z\" },\r\n         *   { \"number\": 1e+24, \"suffix\": \"Y\" }\r\n         * ]\r\n         * ```\r\n         *\r\n         * If the number is bigger than the `number` ir will be converted to the\r\n         * appropriate bigger number with prefix.\r\n         *\r\n         * E.g. as per above `1500` will be converted to `1.5K`.\r\n         *\r\n         * Please note that for this transformation to be enabled, you need to\r\n         * enable it specific modifier in your format setting.\r\n         *\r\n         * The modifier for big/small number modification is \"a\":\r\n         *\r\n         * ```Text\r\n         * {myfield.formatNumber(\"#,###.00a\")}\r\n         * ```\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-numbers/} Tutorial on number formatting\r\n         * @param prefixes  Prefixes for big numbers\r\n         */\r\n        set: function (prefixes) {\r\n            this._bigNumberPrefixes = prefixes;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(NumberFormatter.prototype, \"smallNumberPrefixes\", {\r\n        /**\r\n         * @return Prefixes for small numbers\r\n         */\r\n        get: function () {\r\n            if (!$type.hasValue(this._smallNumberPrefixes)) {\r\n                this._smallNumberPrefixes = [\r\n                    { \"number\": 1e-24, \"suffix\": this.language.translate(\"_small_number_suffix_24\") },\r\n                    { \"number\": 1e-21, \"suffix\": this.language.translate(\"_small_number_suffix_21\") },\r\n                    { \"number\": 1e-18, \"suffix\": this.language.translate(\"_small_number_suffix_18\") },\r\n                    { \"number\": 1e-15, \"suffix\": this.language.translate(\"_small_number_suffix_15\") },\r\n                    { \"number\": 1e-12, \"suffix\": this.language.translate(\"_small_number_suffix_12\") },\r\n                    { \"number\": 1e-9, \"suffix\": this.language.translate(\"_small_number_suffix_9\") },\r\n                    { \"number\": 1e-6, \"suffix\": this.language.translate(\"_small_number_suffix_6\") },\r\n                    { \"number\": 1e-3, \"suffix\": this.language.translate(\"_small_number_suffix_3\") }\r\n                ];\r\n            }\r\n            return this._smallNumberPrefixes;\r\n        },\r\n        /**\r\n         * Prefixes for big numbers.\r\n         *\r\n         * It's an array of objects of number/prefix pairs.\r\n         *\r\n         * ```JSON\r\n         * [\r\n         *   { \"number\": 1e-24, \"suffix\": \"y\" },\r\n         *   { \"number\": 1e-21, \"suffix\": \"z\" },\r\n         *   { \"number\": 1e-18, \"suffix\": \"a\" },\r\n         *   { \"number\": 1e-15, \"suffix\": \"f\" },\r\n         *   { \"number\": 1e-12, \"suffix\": \"p\" },\r\n         *   { \"number\": 1e-9, \"suffix\": \"n\" },\r\n         *   { \"number\": 1e-6, \"suffix\": \"\" },\r\n         *   { \"number\": 1e-3, \"suffix\": \"m\" }\r\n         * ]\r\n         * ```\r\n         *\r\n         * If the number is smaller than the `number` ir will be converted to the\r\n         * appropriate smaller number with prefix.\r\n         *\r\n         * E.g. as per above `0.0015` will be converted to `1.5m`.\r\n         *\r\n         * Please note that for this transformation to be enabled, you need to\r\n         * enable it specific modifier in your format setting.\r\n         *\r\n         * The modifier for big/small number modification is \"a\":\r\n         *\r\n         * ```Text\r\n         * {myfield.formatNumber(\"#,###.00a\")}\r\n         * ```\r\n         *\r\n         * IMPORTANT: The order of the suffixes is important. The list must start\r\n         * from the smallest number and work towards bigger ones.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-numbers/} Tutorial on number formatting\r\n         * @param prefixes  Prefixes for small numbers\r\n         */\r\n        set: function (prefixes) {\r\n            this._smallNumberPrefixes = prefixes;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(NumberFormatter.prototype, \"smallNumberThreshold\", {\r\n        /**\r\n         * @return Small number threshold\r\n         */\r\n        get: function () {\r\n            return this._smallNumberThreshold;\r\n        },\r\n        /**\r\n         * Any number smaller than this will be considered \"small\" number, which will\r\n         * trigger special formatting if \"a\" format modifier is used.\r\n         *\r\n         * @since 4.6.8\r\n         * @param  value  Small number threshold\r\n         */\r\n        set: function (value) {\r\n            this._smallNumberThreshold = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(NumberFormatter.prototype, \"bytePrefixes\", {\r\n        /**\r\n         * @return Prefixes for byte-size formatting\r\n         */\r\n        get: function () {\r\n            if (!$type.hasValue(this._bytePrefixes)) {\r\n                this._bytePrefixes = [\r\n                    { \"number\": 1, suffix: this.language.translate(\"_byte_suffix_B\") },\r\n                    { \"number\": 1024, suffix: this.language.translate(\"_byte_suffix_KB\") },\r\n                    { \"number\": 1048576, suffix: this.language.translate(\"_byte_suffix_MB\") },\r\n                    { \"number\": 1073741824, suffix: this.language.translate(\"_byte_suffix_GB\") },\r\n                    { \"number\": 1099511627776, suffix: this.language.translate(\"_byte_suffix_TB\") },\r\n                    { \"number\": 1125899906842624, suffix: this.language.translate(\"_byte_suffix_PB\") }\r\n                ];\r\n            }\r\n            return this._bytePrefixes;\r\n        },\r\n        /**\r\n         * Basically the same as `bigNumberPrefixes`, except base for calculation\r\n         * is not thousand but byte (1024).\r\n         *\r\n         * The modifier is \"b\".\r\n         *\r\n         *  ```Text\r\n         * {myfield.formatNumber(\"#,###.00b\")}\r\n         * ```\r\n         *\r\n         * The above `2048` will change to `2K`.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-numbers/} Tutorial on number formatting\r\n         * @param prefixes  Prefixes for byte-size formatting\r\n         */\r\n        set: function (prefixes) {\r\n            this._bytePrefixes = prefixes;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(NumberFormatter.prototype, \"outputFormat\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Output format\r\n         */\r\n        get: function () {\r\n            return this._outputFormat;\r\n        },\r\n        /**\r\n         * Ooutput format: \"svg\" or \"html\".\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value  Output format\r\n         */\r\n        set: function (outputFormat) {\r\n            this._outputFormat = outputFormat.toLowerCase();\r\n            this.invalidateSprite();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    NumberFormatter.prototype.escape = function (text) {\r\n        return text.replace(\"||\", $strings.PLACEHOLDER2);\r\n    };\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    NumberFormatter.prototype.unescape = function (text) {\r\n        return text.replace($strings.PLACEHOLDER2, \"|\");\r\n    };\r\n    return NumberFormatter;\r\n}(BaseObject));\r\nexport { NumberFormatter };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"NumberFormatter\"] = NumberFormatter;\r\n//# sourceMappingURL=NumberFormatter.js.map","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","/**\r\n * This is the main class that encapsulates every object on the chart.\r\n *\r\n * If it's an element that is to be displayed on the screen at some point, its\r\n * class must extend [[Sprite]] class.\r\n */\r\nimport { __extends, __values } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { SpriteState } from \"./SpriteState\";\r\nimport { SpriteEventDispatcher } from \"./SpriteEvents\";\r\nexport { SpriteEventDispatcher };\r\nimport { BaseObjectEvents } from \"./Base\";\r\nimport { Adapter, globalAdapter } from \"./utils/Adapter\";\r\nimport { Dictionary, DictionaryTemplate, DictionaryDisposer } from \"./utils/Dictionary\";\r\nimport { ListDisposer, List } from \"./utils/List\";\r\nimport { MultiDisposer, Disposer, MutableValueDisposer } from \"./utils/Disposer\";\r\nimport { Animation, AnimationDisposer } from \"./utils/Animation\";\r\nimport { getGhostPaper } from \"./rendering/Paper\";\r\nimport { Container } from \"./Container\";\r\nimport { Pattern } from \"./rendering/fills/Pattern\";\r\nimport { LinearGradient } from \"./rendering/fills/LinearGradient\";\r\nimport { RadialGradient } from \"./rendering/fills/RadialGradient\";\r\nimport { Color, color, toColor } from \"./utils/Color\";\r\nimport { getInteraction } from \"./interaction/Interaction\";\r\nimport { MouseCursorStyle } from \"./interaction/Mouse\";\r\nimport { options } from \"./Options\";\r\nimport { registry } from \"./Registry\";\r\nimport { NumberFormatter } from \"./formatters/NumberFormatter\";\r\nimport { DateFormatter } from \"./formatters/DateFormatter\";\r\nimport { DurationFormatter } from \"./formatters/DurationFormatter\";\r\nimport { getTextFormatter } from \"./formatters/TextFormatter\";\r\nimport { Language } from \"./utils/Language\";\r\nimport { Export } from \"./export/Export\";\r\nimport * as $utils from \"./utils/Utils\";\r\nimport * as $math from \"./utils/Math\";\r\nimport * as $strings from \"./utils/Strings\";\r\nimport * as $array from \"./utils/Array\";\r\nimport * as $object from \"./utils/Object\";\r\nimport * as $type from \"./utils/Type\";\r\nimport * as $iter from \"./utils/Iterator\";\r\nimport { system } from \"./System\";\r\nimport { Percent, percent } from \"./utils/Percent\";\r\n/**\r\n * Defines list ofvisual properties\r\n */\r\nexport var visualProperties = [\"fill\", \"fillOpacity\", \"stroke\", \"strokeOpacity\", \"strokeWidth\", \"strokeDasharray\", \"strokeDashoffset\", \"strokeLinecap\", \"strokeLinejoin\"]; // do not add opacity here, as it is used for showing/hiding\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Sprite represents any displayable element.\r\n *\r\n * This is the main class that encapsulates every object on the chart.\r\n *\r\n * If it's an element that is to be displayed on the screen at some point, its\r\n * class must extend [[Sprite]] class.\r\n *\r\n * [[Sprite]] class represents the a hierarchical structure. Every object that\r\n * extends [[Sprite]] can have children, that would inherit their properties,\r\n * such as language, formatters, etc.\r\n *\r\n * @see {@link SpriteState}\r\n * @see {@link ISpriteEvents} for a list of available events\r\n * @see {@link ISpriteAdapters} for a list of available Adapters\r\n *\r\n * @todo Review child elements that need to go into `_disposers`\r\n * @important\r\n */\r\nvar Sprite = /** @class */ (function (_super) {\r\n    __extends(Sprite, _super);\r\n    /**\r\n     * Constructor:\r\n     * * Creates initial node\r\n     * * Sets default properties\r\n     * * Creates required default states\r\n     * * Inits accessibility\r\n     */\r\n    function Sprite() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Holds values for Sprite's properties.\r\n         */\r\n        _this.properties = {};\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this._eventDispatcher = new SpriteEventDispatcher(_this);\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         */\r\n        _this._bindings = {};\r\n        /**\r\n         * Holds indicator if this Sprite is a \"template\" to be used for creating\r\n         * other Sprites from and should not be treated as full-fledged element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._isTemplate = false;\r\n        _this._isPath = false;\r\n        /**\r\n         * Holds indicator whether this sprite was already initialized.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._inited = false;\r\n        /**\r\n         * Holds indicator whether this sprite was already initialized and ready.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._ready = false;\r\n        /**\r\n         * If `sprite.hide()` is called and we have \"hidden\" state and\r\n         * `transitionDuration > 0`, we set `isHiding` flag to `true` in order to\r\n         * avoid restarting animations in case `hide()` method is called multiple\r\n         * times.\r\n         */\r\n        _this.isHiding = false;\r\n        /**\r\n         * If `sprite.hide()` is called, we set isHidden to true when sprite is hidden.\r\n         * This was added becaus hidden state might have visibility set to true and so\r\n         * there would not be possible to find out if a sprite is technically hidden or not.\r\n         */\r\n        _this._isHidden = false;\r\n        /**\r\n         * This property indicates if Sprite is currently being revealed from hidden\r\n         * state. This is used to prevent multiple calls to `sprite.show()` to\r\n         * restart reveal animation. (if enabled)\r\n         */\r\n        _this.isShowing = false;\r\n        /**\r\n         * Indicates if this element is a standalone instance. A \"standalone\r\n         * instance\" means this is a autonomous object which maintains its own\r\n         * set of controls like Preloader, Export, etc.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.isStandaloneInstance = false;\r\n        /**\r\n         * Indicates if togglable Sprite is currently active (toggled on).\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._isActive = false;\r\n        /**\r\n         * A Sprite element to use as a mask for this Sprite.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._mask = new MutableValueDisposer();\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         */\r\n        _this._positionPrecision = 3;\r\n        /**\r\n         * An instance of [[Language]].\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._language = new MutableValueDisposer();\r\n        /**\r\n         * Holds [[Export]] object.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._exporting = new MutableValueDisposer();\r\n        /**\r\n         * Should this Sprite be included when exporting?\r\n         */\r\n        _this._exportable = true;\r\n        /**\r\n         * Defines bounding box (square) for this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._bbox = { x: 0, y: 0, width: 0, height: 0 };\r\n        /**\r\n         * Indicates if this element is invalid and should be re-validated (redrawn).\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.invalid = false;\r\n        /**\r\n         * Indicates if this elements position is invalid and should be repositioned\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.positionInvalid = false;\r\n        /**\r\n         * A collection of key/value pairs that can be used to bind specific Sprite\r\n         * properties to [[DataItem]].\r\n         *\r\n         * For example: `fill` property can be bound to `myCustomColor` field in\r\n         * DataItem. The Sprite will automatically get the value for `fill` from its\r\n         * DataItem.\r\n         *\r\n         * Can be set for each [[SpriteState]] individually to override default\r\n         * bindings.\r\n         *\r\n         * @see {@link SpriteState}\r\n         */\r\n        _this.propertyFields = {};\r\n        /**\r\n         * Specifies if property changes on this object should be propagated to the\r\n         * objects cloned from this object.\r\n         *\r\n         * This setting affects property changes *after* cloning, since at the moment\r\n         * of cloning all of properties from source object are copied to the clone\r\n         * anyway.\r\n         *\r\n         * @default false\r\n         */\r\n        _this.applyOnClones = false;\r\n        // unrotated unscaled\r\n        _this._measuredWidthSelf = 0;\r\n        _this._measuredHeightSelf = 0;\r\n        // read only, sprite extreme coordinates\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.maxLeft = 0;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.maxRight = 0;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.maxTop = 0;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.maxBottom = 0;\r\n        // not rotated and not scaled\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.maxLeftSelf = 0;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.maxRightSelf = 0;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.maxTopSelf = 0;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.maxBottomSelf = 0;\r\n        _this._isDragged = false;\r\n        _this._isResized = false;\r\n        /**\r\n         * @deprecated Moved to [[SpriteProperties]]\r\n         */\r\n        _this._disabled = false;\r\n        _this._internalDisabled = false;\r\n        _this._updateDisabled = false;\r\n        _this._internalDefaultsApplied = false;\r\n        /**\r\n         * Time in milliseconds after which rollout event happens when user rolls-out of the sprite. This helps to avoid flickering in some cases.\r\n         */\r\n        _this.rollOutDelay = 0;\r\n        /**\r\n         * This flag is set to `true` for the initial sprite you create and place\r\n         * to the div so that we could clear all additional\r\n         * sprites/containers when this sprite is disposed.\r\n         *\r\n         * @ignore\r\n         */\r\n        _this.isBaseSprite = false;\r\n        /**\r\n         * Indicates whether this sprite should be cloned when cloning its parent\r\n         * container. We set this to `false` in those cases when a sprite is created\r\n         * by the class, so that when cloning a duplicate sprite would not appear.\r\n         */\r\n        _this.shouldClone = true;\r\n        /**\r\n         * A read-only flag which indicates if a sprite has completed its initial\r\n         * animation (if `showOnInit = true`).\r\n         *\r\n         * In case `showOnInit = false`, `appeared` is set to `true` on init.\r\n         *\r\n         * @readonly\r\n         */\r\n        _this.appeared = false;\r\n        /**\r\n         * [ex description]\r\n         *\r\n         * @todo Description\r\n         * @ignore\r\n         */\r\n        _this.ex = 0;\r\n        /**\r\n         * [ey description]\r\n         *\r\n         * @todo Description\r\n         * @ignore\r\n         */\r\n        _this.ey = 0;\r\n        /**\r\n         * Indicates if the sprite can be moved around when resizing it with two fingers (will only work if draggable = false)\r\n         * @ignore\r\n         */\r\n        _this.dragWhileResize = false;\r\n        /**\r\n         *  @ignore\r\n         */\r\n        _this.measureFailed = false;\r\n        /**\r\n         * If this flag is set to true, calling show() will not reveal the sprite.\r\n         *\r\n         * @ignore\r\n         */\r\n        _this.preventShow = false;\r\n        /**\r\n         * When cloning a sprite, if the template has it's own tooltip assigned, this tooltip is also cloned by default.\r\n         * This is not good for cpu and sometimes you might only need one single tooltip for all clones. Set this to false in order not to clone tooltip.\r\n         */\r\n        _this.cloneTooltip = true;\r\n        _this.className = \"Sprite\";\r\n        _this._disposers.push(_this._eventDispatcher);\r\n        // Generate a unique ID\r\n        $utils.used(_this.uid);\r\n        // Create SVG group to hold everything in\r\n        _this.group = _this.paper.addGroup(\"g\");\r\n        // Set defaults\r\n        // it is better to set defauls like this in order to save invaliation calls and events\r\n        _this.setPropertyValue(\"scale\", 1);\r\n        _this.setPropertyValue(\"rotation\", 0);\r\n        _this.setPropertyValue(\"align\", \"none\");\r\n        _this.setPropertyValue(\"valign\", \"none\");\r\n        _this.setPropertyValue(\"pixelPerfect\", false);\r\n        _this.setPropertyValue(\"visible\", true);\r\n        _this.setPropertyValue(\"tooltipPosition\", \"fixed\");\r\n        _this.setPropertyValue(\"verticalCenter\", \"none\");\r\n        _this.setPropertyValue(\"horizontalCenter\", \"none\");\r\n        _this.setPropertyValue(\"tooltipX\", percent(50));\r\n        _this.setPropertyValue(\"tooltipX\", percent(50));\r\n        _this.setPropertyValue(\"marginTop\", 0);\r\n        _this.setPropertyValue(\"marginBottom\", 0);\r\n        _this.setPropertyValue(\"marginLeft\", 0);\r\n        _this.setPropertyValue(\"marginRight\", 0);\r\n        _this.setPropertyValue(\"dx\", 0);\r\n        _this.setPropertyValue(\"dy\", 0);\r\n        _this.setPropertyValue(\"paddingTop\", 0);\r\n        _this.setPropertyValue(\"paddingBottom\", 0);\r\n        _this.setPropertyValue(\"paddingRight\", 0);\r\n        _this.setPropertyValue(\"paddingLeft\", 0);\r\n        _this.setPropertyValue(\"togglable\", false);\r\n        _this.setPropertyValue(\"hidden\", false);\r\n        _this.setPropertyValue(\"urlTarget\", \"_self\");\r\n        _this.setPropertyValue(\"alwaysShowTooltip\", false);\r\n        _this.setPropertyValue(\"showTooltipOn\", \"hover\");\r\n        _this._prevMeasuredWidth = 0;\r\n        _this._prevMeasuredHeight = 0;\r\n        _this._measuredWidth = 0;\r\n        _this._measuredHeight = 0;\r\n        _this._isMeasured = true;\r\n        // Invalidate the Sprite so that renderer knows it needs to be drawn\r\n        _this.invalidate();\r\n        //this.states.create(\"default\").properties.opacity = 1;\r\n        // Apply the theme\r\n        _this.applyTheme();\r\n        //this._disposers.push(this._clickable);\r\n        // Decorate adapter with events so that we can apply its settings whenever\r\n        // it is modified\r\n        // @todo Think what to do here. We can't just apply the adapter value to\r\n        // property since not all of those are for properties. Commented out for\r\n        // now.\r\n        /*this.adapter.events.on(\"inserted\", (ev: any) => {\r\n            (<any>this)[ev.newValue.key] = (<any>this)[ev.newValue.key];\r\n        });\r\n        this.adapter.events.on(\"removed\", (ev: any) => {\r\n            (<any>this)[ev.newValue.key] = (<any>this)[ev.newValue.key];\r\n        });*/\r\n        // Add disposable dependencies to `_disposers` so they are automatically\r\n        // disposed of when this object is disposed\r\n        _this._disposers.push(_this.events);\r\n        _this._disposers.push(_this.group);\r\n        _this._disposers.push(_this._mask);\r\n        _this._disposers.push(_this._language);\r\n        _this._disposers.push(_this._exporting);\r\n        //this._disposers.push(this._parent);\r\n        //this._disposers.push(this._modal);\r\n        _this._disposers.push(new Disposer(function () {\r\n            $object.each(_this._bindings, function (key, value) {\r\n                value.dispose();\r\n            });\r\n        }));\r\n        _this.setPropertyValue(\"interactionsEnabled\", true);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Sprite.prototype, \"events\", {\r\n        /**\r\n         * Event dispatcher.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/event-listeners/} for more info about Events\r\n         */\r\n        get: function () {\r\n            return this._eventDispatcher;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"adapter\", {\r\n        /**\r\n         * Holds Adapter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/adapters/} for more info about Adapters\r\n         */\r\n        get: function () {\r\n            if (!this._adapterO) {\r\n                this._adapterO = new Adapter(this);\r\n            }\r\n            return this._adapterO;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * ==========================================================================\r\n     * ELEMENT VALIDATION, INIT, AND DRAWING STUFF\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Applies properties from all assigned themes.\r\n     *\r\n     * We do this here so that we can apply class names as well.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.applyTheme = function () {\r\n        _super.prototype.applyTheme.call(this);\r\n        if (options.autoSetClassName) {\r\n            this.setClassName();\r\n        }\r\n    };\r\n    /**\r\n     * Returns theme(s) used by this object either set explicitly on this\r\n     * element, inherited from parent, or inherited from [[System]].\r\n     *\r\n     * @return An array of theme references\r\n     */\r\n    Sprite.prototype.getCurrentThemes = function () {\r\n        var themes = this._themes;\r\n        if (themes) {\r\n            return themes;\r\n        }\r\n        else {\r\n            var parent_1 = this._parent;\r\n            if (parent_1) {\r\n                return parent_1.getCurrentThemes();\r\n            }\r\n            else {\r\n                return registry.themes;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Called just before element's validation, this function allows setting\r\n     * defaults.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.applyInternalDefaults = function () {\r\n        // Nothing here, but extending classes might override this function\r\n        // so that they can set their defaults\r\n        this._internalDefaultsApplied = true;\r\n    };\r\n    /**\r\n     * Invalidates element.\r\n     *\r\n     * Object will be redrawn during the next update cycle.\r\n     *\r\n     * Please note that in most cases elements will auto-invalidate when needed. If\r\n     * everything works, DO NOT use this method. Use it only if some changes do\r\n     * not take otherwise.\r\n     */\r\n    Sprite.prototype.invalidate = function () {\r\n        if (this.disabled || this._isTemplate) {\r\n            return;\r\n        }\r\n        // We no longer reset this on each invalidate, so that they are applied\r\n        // only once, and do not overwrite user-defined settings\r\n        //this._internalDefaultsApplied = false;\r\n        if (!this.invalid) {\r\n            this.invalid = true;\r\n            registry.addToInvalidSprites(this);\r\n            system.requestFrame();\r\n        }\r\n    };\r\n    /**\r\n     * Validates element:\r\n     * * Triggers events\r\n     * * Redraws the element\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.validate = function () {\r\n        this.dispatchImmediately(\"beforevalidated\");\r\n        // prevents from drawing if topparent is 0x0\r\n        /*\r\n        let topParent = this.topParent;\r\n\r\n        if (topParent) {\r\n            if (!topParent.maxWidth || !topParent.maxHeight) {\r\n                this._disposers.push(topParent.events.once(\"maxsizechanged\", this.invalidate, this));\r\n            }\r\n        }*/\r\n        // Set internal defaults\r\n        if (!this._internalDefaultsApplied) {\r\n            this.applyInternalDefaults();\r\n        }\r\n        this.beforeDraw();\r\n        this.draw();\r\n        this.invalid = false;\r\n        registry.removeFromInvalidSprites(this);\r\n        this.afterDraw();\r\n    };\r\n    /**\r\n     * Invalidates element's position.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.invalidatePosition = function () {\r\n        if (this.disabled || this._isTemplate) {\r\n            return;\r\n        }\r\n        if (!this.positionInvalid) {\r\n            this.positionInvalid = true;\r\n            registry.addToInvalidPositions(this);\r\n            system.requestFrame();\r\n        }\r\n    };\r\n    /**\r\n     * Transforms the element.\r\n     *\r\n     * @todo Description (review)\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.validatePosition = function () {\r\n        var pixelX = this.pixelX;\r\n        var pixelY = this.pixelY;\r\n        var dx = this.dx;\r\n        var dy = this.dy;\r\n        var x = pixelX + dx;\r\n        var y = pixelY + dy;\r\n        if (this._updateDisabled) {\r\n            if (this._internalDisabled) {\r\n                this.group.attr({ \"display\": \"none\" });\r\n            }\r\n            else {\r\n                if (!this.disabled) {\r\n                    this.removeSVGAttribute(\"display\");\r\n                }\r\n            }\r\n            this._updateDisabled = false;\r\n        }\r\n        var sizeChanged = this.measure();\r\n        //if (!this.invalid) {\r\n        var prevGroupTransform = this.group.transformString;\r\n        this.group.moveTo({ x: x, y: y });\r\n        this.group.rotation = this.rotation;\r\n        if (this.nonScaling) {\r\n            this.group.scale = this.scale / this.globalScale;\r\n        }\r\n        else {\r\n            this.group.scale = this.scale;\r\n        }\r\n        if (prevGroupTransform != this.group.transformString || sizeChanged) {\r\n            // not yet sure, this is to avoid many transforms=>container layout invalidation on initial buid\r\n            if (prevGroupTransform == null) {\r\n                this.dispatch(\"transformed\");\r\n            }\r\n            else {\r\n                this.dispatchImmediately(\"transformed\");\r\n            }\r\n            // TODO clear existing positionchanged dispatches ?\r\n            this.dispatch(\"positionchanged\");\r\n            if (this.showTooltipOn == \"hit\" || this.showTooltipOn == \"always\") {\r\n                this.updateTooltipPosition();\r\n            }\r\n        }\r\n        //}\r\n        // it might happen that x and y changed again, so we only remove if they didn't\r\n        if (pixelX + dx == x && pixelY + dy == y) {\r\n            registry.removeFromInvalidPositions(this);\r\n            this.positionInvalid = false;\r\n        }\r\n        var maskRectangle = this._maskRectangle;\r\n        // todo: verify this\r\n        if (maskRectangle) {\r\n            this._clipElement.moveTo({ x: maskRectangle.x - pixelX, y: maskRectangle.y - pixelY });\r\n        }\r\n    };\r\n    /**\r\n     * A placeholder method that is called **before** element begins to be drawn.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.beforeDraw = function () {\r\n    };\r\n    /**\r\n     * A placeholder method that draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.draw = function () {\r\n    };\r\n    /**\r\n     * A placeholder method that is called **after** element finishes drawing\r\n     * itself.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.afterDraw = function () {\r\n        var e_1, _a;\r\n        if (this.isMeasured || this.horizontalCenter !== \"none\" || this.verticalCenter !== \"none\") {\r\n            this.measureElement();\r\n        }\r\n        //this.applyMask();\r\n        if (!this._inited) {\r\n            if (this._adapterO) {\r\n                try {\r\n                    // used to be applySVGAttrbutes here, this is more efficient\r\n                    for (var _b = __values(this._adapterO.keys()), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                        var key = _c.value;\r\n                        switch (key) {\r\n                            case \"mask\":\r\n                            case \"fill\":\r\n                            case \"opacity\":\r\n                            case \"fillOpacity\":\r\n                            case \"stroke\":\r\n                            case \"strokeOpacity\":\r\n                            case \"strokeWidth\":\r\n                            case \"shapeRendering\":\r\n                            case \"strokeDasharray\":\r\n                            case \"strokeDashoffset\":\r\n                            case \"strokeLinecap\":\r\n                            case \"strokeLinejoin\":\r\n                            case \"textDecoration\":\r\n                            case \"fontSize\":\r\n                            case \"fontFamily\":\r\n                            case \"fontWeight\":\r\n                                //case \"focusable\":\r\n                                //case \"tabindex\":\r\n                                //case \"role\":\r\n                                this[key] = this[key];\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                    }\r\n                    finally { if (e_1) throw e_1.error; }\r\n                }\r\n            }\r\n            this.applyFilters();\r\n            this.visible = this.visible;\r\n            this.interactionsEnabled = this.getPropertyValue(\"interactionsEnabled\"); // can't use .interactionsEnabled as it get's parent's\r\n            this._inited = true;\r\n            if (!this.showOnInit) {\r\n                this.appeared = true;\r\n            }\r\n            if (this.hidden) {\r\n                this.hide(0);\r\n            }\r\n            this.applyMask();\r\n            this.dispatch(\"validated\");\r\n            this.dispatch(\"inited\");\r\n            this.dispatchReady();\r\n        }\r\n        else {\r\n            this.dispatch(\"validated\");\r\n        }\r\n        if (this.showTooltipOn == \"always\") {\r\n            if (this.visible && !this.disabled && !this.__disabled) {\r\n                this.showTooltip();\r\n            }\r\n            else {\r\n                this.hideTooltip(0);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Dispatches `\"ready\"` event. Sprite dispatches it right after `\"inited\"` event.\r\n     *\r\n     * @ignore\r\n     */\r\n    Sprite.prototype.dispatchReady = function () {\r\n        if (!this.isReady()) {\r\n            this._ready = true;\r\n            this.dispatch(\"ready\");\r\n        }\r\n    };\r\n    /**\r\n     * Triggers a re-initialization of this element.\r\n     *\r\n     * Will result in complete redrawing of the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.reinit = function () {\r\n        this._inited = false;\r\n        this.setState(this.defaultState);\r\n        this.invalidate();\r\n    };\r\n    /**\r\n     * Handles the situation where parent element is resized.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.handleGlobalScale = function () {\r\n        this.dispatch(\"globalscalechanged\");\r\n        if (this.nonScalingStroke) {\r\n            this.strokeWidth = this.strokeWidth;\r\n        }\r\n        if (this.nonScaling) {\r\n            this.validatePosition();\r\n        }\r\n        this.updateFilterScale();\r\n    };\r\n    /**\r\n     * Updates filter properties which might depend on scale\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.updateFilterScale = function () {\r\n        var _this = this;\r\n        $iter.each(this.filters.iterator(), function (filter) {\r\n            filter.scale = _this.globalScale;\r\n        });\r\n    };\r\n    /**\r\n     * Removes itself from system's invalid lists.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.removeFromInvalids = function () {\r\n        registry.removeFromInvalidSprites(this);\r\n        registry.removeFromInvalidPositions(this);\r\n    };\r\n    /**\r\n     * Copies all parameters from another [[Sprite]].\r\n     *\r\n     * @param source Source Sprite\r\n     */\r\n    Sprite.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.isMeasured = source.isMeasured;\r\n        this.states.copyFrom(source.states);\r\n        if (source.filters.length > 0) {\r\n            source.filters.each(function (filter) {\r\n                _this.filters.push(filter.clone());\r\n            });\r\n        }\r\n        if (source._adapterO) {\r\n            this.adapter.copyFrom(source._adapterO);\r\n        }\r\n        //helps to avoid calling getter which creates instance\r\n        if (source[\"_interaction\"]) {\r\n            this.interactions.copyFrom(source.interactions);\r\n        }\r\n        if (source[\"_plugins\"]) {\r\n            this.plugins.copyFrom(source.plugins);\r\n        }\r\n        this.configField = source.configField;\r\n        this.applyOnClones = source.applyOnClones;\r\n        // this.numberFormatter = source.numberFormatter; // todo: this creates loose number formatter and copies it to all clones. somehow we need to know if source had numberFormatter explicitly created and not just because a getter was called.\r\n        //this.mask = source.mask; need to think about this, generally this causes a lot of problems\r\n        this.disabled = source.disabled;\r\n        this.virtualParent = source.virtualParent;\r\n        this.exportable = source.exportable;\r\n        //@todo: create tooltip if it's on source but not on this?\r\n        //const tooltip = this._tooltip;\r\n        //if (tooltip) {\r\n        //\ttooltip.copyFrom(source.tooltip);\r\n        //}\r\n        if (source._tooltip) {\r\n            if (this._tooltip) {\r\n                this._tooltip.copyFrom(source.tooltip);\r\n            }\r\n            else {\r\n                if (source.cloneTooltip) {\r\n                    this.tooltip = source.tooltip.clone();\r\n                }\r\n                else {\r\n                    this._tooltip = source.tooltip;\r\n                }\r\n            }\r\n        }\r\n        //if ((<any>source)[\"_tooltip\"] && !this._tooltip) {\r\n        //\tthis._tooltip = (<any>source)[\"_tooltip\"];\r\n        //}\r\n        this._showSystemTooltip = source.showSystemTooltip;\r\n        $utils.copyProperties(source.propertyFields, this.propertyFields);\r\n        $utils.copyProperties(source.properties, this);\r\n        if (source.fillModifier) {\r\n            this.fillModifier = source.fillModifier.clone();\r\n        }\r\n        if (source.strokeModifier) {\r\n            this.strokeModifier = source.strokeModifier.clone();\r\n        }\r\n    };\r\n    /**\r\n     * Destroys this object and all related data.\r\n     */\r\n    Sprite.prototype.dispose = function () {\r\n        if (!this.isDisposed()) {\r\n            if (this.showTooltipOn == \"always\" && this.tooltip) {\r\n                this.tooltip.hide();\r\n            }\r\n            this.dispatchImmediately(\"beforedisposed\");\r\n            if (this.isBaseSprite) {\r\n                if (this.htmlContainer) {\r\n                    while (this.htmlContainer.childNodes.length > 0) {\r\n                        this.htmlContainer.removeChild(this.htmlContainer.firstChild);\r\n                    }\r\n                }\r\n                this.isBaseSprite = false;\r\n            }\r\n            _super.prototype.dispose.call(this);\r\n            // Clear adapters\r\n            if (this._adapterO) {\r\n                this._adapterO.clear();\r\n            }\r\n            if (this.applyOnClones) {\r\n                if (this._clones) {\r\n                    for (var i = this._clones.length - 1; i >= 0; i--) {\r\n                        var clone = this._clones.getIndex(i);\r\n                        clone.dispose();\r\n                    }\r\n                }\r\n            }\r\n            if (this._svgContainer) {\r\n                this._svgContainer.dispose();\r\n            }\r\n            if (this._interactionDisposer) {\r\n                this._interactionDisposer.dispose();\r\n                this._interactionDisposer = undefined;\r\n            }\r\n            if (this._urlDisposer) {\r\n                this._urlDisposer.dispose();\r\n            }\r\n            this.removeFromInvalids();\r\n            if (this.element) {\r\n                this.element.dispose();\r\n            }\r\n            if (this.group) {\r\n                this.group.dispose();\r\n            }\r\n            if (this._numberFormatter) {\r\n                this._numberFormatter.dispose();\r\n            }\r\n            if (this._focusFilter) {\r\n                this._focusFilter.dispose();\r\n            }\r\n            var stroke = this.stroke;\r\n            if (stroke && !(stroke instanceof Color) && stroke.dispose) {\r\n                if (this.clonedFrom && this.clonedFrom.stroke == stroke) {\r\n                    // do nothing\r\n                }\r\n                else {\r\n                    stroke.dispose();\r\n                }\r\n            }\r\n            // TODO a bit hacky\r\n            var fill = this.fill;\r\n            if (fill && !(fill instanceof Color) && fill.dispose) {\r\n                if (this.clonedFrom && this.clonedFrom.fill == fill) {\r\n                    // do nothing\r\n                }\r\n                else {\r\n                    fill.dispose();\r\n                }\r\n            }\r\n            // remove from map\r\n            if ($type.hasValue(this.id)) {\r\n                this.map.removeKey(this.id);\r\n            }\r\n            this.parent = undefined;\r\n            if (this._filters) {\r\n                while (this._filters.length > 0) {\r\n                    var filter = this._filters.getIndex(0);\r\n                    filter.dispose();\r\n                    this._filters.removeValue(filter);\r\n                }\r\n            }\r\n            this._alwaysShowDisposers = undefined;\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"isTemplate\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Is template?\r\n         */\r\n        get: function () {\r\n            return this._isTemplate;\r\n        },\r\n        /**\r\n         * Indicates if this element is a \"template\".\r\n         *\r\n         * Template Sprites act only as a holders for config for other \"real\"\r\n         * elements to be cloned from.\r\n         *\r\n         * Templates are treated differently, as they are not validated, redrawn, or\r\n         * otherwise are processed.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Is template?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this._isTemplate != value) {\r\n                this._isTemplate = value;\r\n                if (this instanceof Container) {\r\n                    $iter.each(this.children.iterator(), function (child) {\r\n                        child.isTemplate = value;\r\n                    });\r\n                }\r\n                if (value) {\r\n                    this.parent = this._parent;\r\n                    this.removeFromInvalids();\r\n                }\r\n                else {\r\n                    this.invalidate();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"showSystemTooltip\", {\r\n        /**\r\n         * @return Show system tooltip?\r\n         */\r\n        get: function () {\r\n            if (!$type.hasValue(this._showSystemTooltip)) {\r\n                if (this.virtualParent) {\r\n                    return this.virtualParent.showSystemTooltip;\r\n                }\r\n                else if (this._parent) {\r\n                    return this._parent.showSystemTooltip;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n            return this._showSystemTooltip;\r\n        },\r\n        /**\r\n         * Indicates whether the element should attempt to construct itself in a way\r\n         * so that system tooltip is shown if its `readerTitle` is set.\r\n         *\r\n         * @param value Show system tooltip?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this._showSystemTooltip != value) {\r\n                this._showSystemTooltip = value;\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"topParent\", {\r\n        /**\r\n         * ==========================================================================\r\n         * HIERARCHY AND STRUCTURE RELATED STUFF\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Sprites's top-level [[Container]].\r\n         *\r\n         * Please note that in most cases it won't be the chart element.\r\n         *\r\n         * To access base chart element, use `baseSprite` instead.\r\n         *\r\n         * @return Top-level ascendant\r\n         */\r\n        get: function () {\r\n            if (this._topParent) {\r\n                return this._topParent;\r\n            }\r\n            else {\r\n                if (this._parent) {\r\n                    return this._parent.topParent;\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * @ignore\r\n         * @param value {Container} top parent of a sprite\r\n         */\r\n        set: function (value) {\r\n            this._topParent = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"parent\", {\r\n        /**\r\n         * @return Parent container\r\n         */\r\n        get: function () {\r\n            return this._parent;\r\n        },\r\n        /**\r\n         * Elements' parent [[Container]].\r\n         *\r\n         * @param parent  Parent container\r\n         */\r\n        set: function (parent) {\r\n            if (this._isTemplate) {\r\n                return;\r\n            }\r\n            // TODO is this needed ?\r\n            $utils.used(this.paper);\r\n            var oldParent = this._parent;\r\n            if (oldParent != parent) {\r\n                if (oldParent) {\r\n                    oldParent.children.removeValue(this);\r\n                }\r\n                this._parent = parent;\r\n                if (parent) {\r\n                    this.topParent = parent.topParent;\r\n                    if (parent.isTemplate) {\r\n                        this.isTemplate = true;\r\n                    }\r\n                    this.baseId = parent.baseId;\r\n                    parent.children.push(this);\r\n                    // insert handler at Container invalidates +  invalidatesLayout + adds to group\r\n                    if (this._tooltip && !this._tooltipContainer) {\r\n                        this._tooltip.parent = parent.tooltipContainer;\r\n                    }\r\n                    if (!this._dataItem) {\r\n                        this.dataItem = parent.dataItem;\r\n                    }\r\n                    this.handleAlwaysShowTooltip();\r\n                    this.dispatchImmediately(\"parentset\");\r\n                }\r\n                else {\r\n                    this.topParent = undefined;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Sprite.prototype.handleAlwaysShow = function () {\r\n        this.showTooltip();\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Sprite.prototype.handleAlwaysShowTooltip = function () {\r\n        var sprite = this;\r\n        var oldDisposers = this._alwaysShowDisposers;\r\n        if (oldDisposers) {\r\n            $array.each(oldDisposers, function (oldDisposer) {\r\n                oldDisposer.dispose();\r\n            });\r\n        }\r\n        this._alwaysShowDisposers = [];\r\n        if (this.showTooltipOn == \"always\") {\r\n            while (sprite != undefined) {\r\n                var disposer = sprite.events.on(\"visibilitychanged\", this.handleAlwaysShow, this, false);\r\n                this.addDisposer(disposer);\r\n                this._alwaysShowDisposers.push(disposer);\r\n                sprite = sprite.parent;\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"virtualParent\", {\r\n        /**\r\n         * @return Virtual parent\r\n         */\r\n        get: function () {\r\n            return this._virtualParent;\r\n        },\r\n        /**\r\n         * Element's \"virtual\" parent.\r\n         *\r\n         * This is required in ordere to maintain proper inheritance (like\r\n         * formatters).\r\n         *\r\n         * Sometimes an element is a \"logical\" parent, even though it's not a direct\r\n         * ascendant.\r\n         *\r\n         * Example: a bullet is not a child of the axis, but it would make sense\r\n         * for it to inherit series' formatters.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value  Virtual parent\r\n         */\r\n        set: function (value) {\r\n            this._virtualParent = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Moves `<defs>` to correct place in DOM.\r\n     *\r\n     * Some elements are initially created in \"ghost\" container. When moving\r\n     * those into proper place in DOM, their respective `<defs>` need to be moved\r\n     * as well.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.appendDefs = function () {\r\n        if (this.filterElement) {\r\n            this.paper.appendDef(this.filterElement);\r\n        }\r\n        var fill = this.fill;\r\n        if (fill && fill.element) {\r\n            this.paper.appendDef(fill.element);\r\n        }\r\n        var stroke = this.stroke;\r\n        if (stroke && stroke.element) {\r\n            this.paper.appendDef(stroke.element);\r\n        }\r\n        if (this.fillModifier && this.fill instanceof Color) {\r\n            var fill_1 = this.fillModifier.modify(this.fill);\r\n            if (fill_1 && fill_1.element) {\r\n                this.paper.appendDef(fill_1.element);\r\n            }\r\n        }\r\n        if (this.strokeModifier && this.stroke instanceof Color) {\r\n            var stroke_1 = this.strokeModifier.modify(this.stroke);\r\n            if (stroke_1 && stroke_1.element) {\r\n                this.paper.appendDef(stroke_1.element);\r\n            }\r\n        }\r\n        if (this._clipPath) {\r\n            this.paper.appendDef(this._clipPath);\r\n        }\r\n        if (this._exportable === false) {\r\n            this.exportable = false;\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"map\", {\r\n        /**\r\n         * Returns a [[Dictionary]] which maps object ids with their respective\r\n         * objects.\r\n         *\r\n         * Can be used to retrieve any object by id, e.g.:\r\n         *\r\n         * ```TypeScript\r\n         * console.log(mySprite.map.getKey(\"myid\"));\r\n         * ```\r\n         * ```JavaScript\r\n         * console.log(mySprite.map.getKey(\"myid\"));\r\n         * ```\r\n         *\r\n         * @return Map collection\r\n         */\r\n        get: function () {\r\n            var top = this.topParent;\r\n            if (top) {\r\n                return top.map;\r\n            }\r\n            else if (!this._map) {\r\n                this._map = new Dictionary();\r\n            }\r\n            return this._map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"delayedMap\", {\r\n        /**\r\n         * @ignore\r\n         * @return Map collection\r\n         */\r\n        get: function () {\r\n            var top = this.topParent;\r\n            if (top) {\r\n                return top.delayedMap;\r\n            }\r\n            else if (!this._delayedMap) {\r\n                this._delayedMap = new Dictionary();\r\n            }\r\n            return this._delayedMap;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"id\", {\r\n        /**\r\n         * @return ID\r\n         */\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        /**\r\n         * Element's user-defined ID.\r\n         *\r\n         * Will throw an Error if there already is an object with the same ID.\r\n         *\r\n         * Please note that above check will be performed withing the scope of the\r\n         * current chart instance. It will not do checks across other chart instances\r\n         * or in globally in DOM.\r\n         *\r\n         * Make sure the IDs are unique.\r\n         *\r\n         * @param value ID\r\n         */\r\n        set: function (value) {\r\n            if (this._id != value) {\r\n                this._id = value;\r\n                if (this.map.hasKey(value)) {\r\n                    throw Error(\"Duplicate id (\" + value + \") used on multiple objects.\");\r\n                }\r\n                else {\r\n                    this.map.setKey(value, this);\r\n                }\r\n                if (options.autoSetClassName) {\r\n                    this.setClassName();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"dom\", {\r\n        /**\r\n         * ==========================================================================\r\n         * ELEMENT AND DOM TREE MANIPULATION AND MEASURING\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Returns DOM element reference associated with this element.\r\n         *\r\n         * @readonly\r\n         * @return DOM element\r\n         */\r\n        get: function () {\r\n            return this.group.node;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"paper\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Paper\r\n         */\r\n        get: function () {\r\n            if (this._paper) {\r\n                return this._paper;\r\n            }\r\n            else {\r\n                var parent_2 = this._parent;\r\n                if (parent_2) {\r\n                    return parent_2.paper;\r\n                }\r\n            }\r\n            return getGhostPaper();\r\n        },\r\n        /**\r\n         * A [[Paper]] instance to place elements on.\r\n         *\r\n         * If there's no Paper set for this element, it goes up the ascendant tree\r\n         * until it finds one.\r\n         *\r\n         * This method is used by important `addChild()` method, so it's essential\r\n         * to have a [[Paper]] instance.\r\n         *\r\n         * If this element has a separate `htmlContainer` set, it will have a\r\n         * [[Paper]] instance itself.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param paper  Paper\r\n         */\r\n        set: function (paper) {\r\n            this.setPaper(paper);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets [[Paper]] instance to use to draw elements.\r\n     * @ignore\r\n     * @param paper Paper\r\n     * @return true if paper was changed, false, if it's the same\r\n     */\r\n    Sprite.prototype.setPaper = function (paper) {\r\n        var oldPaper = this._paper;\r\n        if (oldPaper != paper) {\r\n            this._paper = paper;\r\n            this.appendDefs();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"htmlContainer\", {\r\n        /**\r\n         * @return HTML element\r\n         */\r\n        get: function () {\r\n            if (this._htmlContainer) {\r\n                return this._htmlContainer;\r\n            }\r\n            else {\r\n                var parent_3 = this._parent;\r\n                if (parent_3) {\r\n                    return parent_3.htmlContainer;\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * An HTML element to be used when placing wrapper element (`<div>`)\r\n         * for the whole chart.\r\n         *\r\n         * This is the same for **all** elements within the same chart.\r\n         *\r\n         * @param htmlContainer HTML element\r\n         */\r\n        set: function (htmlContainer) {\r\n            this._htmlContainer = htmlContainer;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"titleElement\", {\r\n        /**\r\n         * Creates (if not yet created) and returns element's `<title>` element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Title element\r\n         */\r\n        get: function () {\r\n            if (!this._titleElement) {\r\n                this._titleElement = this.paper.add(\"title\");\r\n                this.group.add(this._titleElement);\r\n            }\r\n            return this._titleElement;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"descriptionElement\", {\r\n        /**\r\n         * Creates (if not yet created) and returns element's `<desc>` element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Desc element\r\n         */\r\n        get: function () {\r\n            if (!this._descriptionElement) {\r\n                this._descriptionElement = this.paper.add(\"desc\");\r\n                this.group.add(this._descriptionElement);\r\n            }\r\n            return this._descriptionElement;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"filters\", {\r\n        /**\r\n         * Returns list of SVG filters (effects) applied to element. If the filter\r\n         * list is not yet initilized, creates and returns an empty one.\r\n         * Note, not all filters combine well with one another. We recommend using one filter per sprite.\r\n         *\r\n         * @return List of filters\r\n         */\r\n        get: function () {\r\n            if (!this._filters) {\r\n                this._filters = new List();\r\n                // TODO only add certain events ?\r\n                this._disposers.push(this._filters.events.onAll(this.applyFilters, this));\r\n                this._disposers.push(new ListDisposer(this._filters));\r\n            }\r\n            return this._filters;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets required SVG attributes. Must be called every time an element is\r\n     * redrawn so that attributes are (re)applied.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.setSVGAttributes = function () {\r\n        this.fill = this.fill;\r\n        this.opacity = this.opacity;\r\n        this.fillOpacity = this.fillOpacity;\r\n        this.stroke = this.stroke;\r\n        this.strokeOpacity = this.strokeOpacity;\r\n        this.shapeRendering = this.shapeRendering;\r\n        this.strokeDasharray = this.strokeDasharray;\r\n        this.strokeDashoffset = this.strokeDashoffset;\r\n        this.strokeLinecap = this.strokeLinecap;\r\n        this.strokeLinejoin = this.strokeLinejoin;\r\n        this.focusable = this.focusable;\r\n        this.tabindex = this.tabindex;\r\n        this.role = this.role;\r\n    };\r\n    /**\r\n     * Sets an attribute directly on an SVG element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param attribute Attribute object\r\n     */\r\n    Sprite.prototype.setSVGAttribute = function (attribute) {\r\n        this.group.attr(attribute);\r\n    };\r\n    /**\r\n     * Removes an attribute directly from SVG element.\r\n     *\r\n     * @param attribute Attribute key to remove\r\n     */\r\n    Sprite.prototype.removeSVGAttribute = function (attribute) {\r\n        this.group.removeAttr(attribute);\r\n    };\r\n    /**\r\n     * Sets `class` attribute of the elements SVG node.\r\n     *\r\n     * Uses `am4core.options.classNamePrefix`.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.setClassName = function () {\r\n        var className = this.className;\r\n        var classNamePrefix = options.classNamePrefix;\r\n        if (this.element) {\r\n            this.element.addClass(classNamePrefix + className);\r\n        }\r\n        this.group.addClass(classNamePrefix + className + \"-group\");\r\n        if ($type.hasValue(this.id)) {\r\n            this.group.addClass(classNamePrefix + this.id);\r\n        }\r\n        if (this.userClassName) {\r\n            this.group.addClass(this.userClassName);\r\n        }\r\n    };\r\n    /**\r\n     * Adds an `id` attribute the the element and returns the id.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Element's ID\r\n     */\r\n    Sprite.prototype.uidAttr = function () {\r\n        this.setSVGAttribute({ \"id\": this.uid });\r\n        return this.uid;\r\n    };\r\n    /**\r\n     * [updateClipPath description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    Sprite.prototype.updateClipPath = function () {\r\n        var element = this._clipElement;\r\n        if (element) {\r\n            element.moveTo({ x: this.mask.pixelX, y: this.mask.pixelY });\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Sprite.prototype.createClipPath = function () {\r\n        if (!this._clipPath) {\r\n            this._clipPath = this.paper.addGroup(\"clipPath\");\r\n            this.paper.appendDef(this._clipPath);\r\n            this._disposers.push(this._clipPath);\r\n            var id = registry.getUniqueId();\r\n            this._clipPath.attr({ \"id\": id });\r\n            this.group.attr({ \"clip-path\": \"url(\\\"\" + $utils.getBaseURI() + id + \"\\\")\" });\r\n        }\r\n    };\r\n    /**\r\n     * Applies the mask Sprite.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.applyMask = function () {\r\n        var mask = this.mask;\r\n        if (this._clipPath && mask) {\r\n            // Container\r\n            if (mask instanceof Container) {\r\n                this._clipElement.attr({ \"width\": $math.max(0, mask.pixelWidth), \"height\": $math.max(0, mask.pixelHeight) });\r\n                var point = $utils.spritePointToSprite({ x: mask.pixelX, y: mask.pixelY }, mask.parent, this);\r\n                this._clipPath.x = point.x;\r\n                this._clipPath.y = point.y;\r\n            }\r\n            // Sprite\r\n            else {\r\n                if (mask.element && mask.element != this._clipElement) {\r\n                    this._clipElement = mask.element;\r\n                    this._clipPath.add(this._clipElement);\r\n                }\r\n                this._clipPath.scale = mask.scale;\r\n                this._clipPath.x = mask.pixelX;\r\n                this._clipPath.y = mask.pixelY;\r\n                this._clipPath.rotation = mask.rotation;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Applies filters to the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.applyFilters = function () {\r\n        var _this = this;\r\n        // we create a separate filter for each sprite as otherwise it would be impossible to animate filter.\r\n        // svg doesn't support multiple filters applied to one element, so we put all the primitives to one filterElement of a sprite.\r\n        if (this._filters && this._filters.length > 0) {\r\n            var width_1 = 100;\r\n            var height_1 = 100;\r\n            if (!this.filterElement) {\r\n                this.filterElement = this.paper.addGroup(\"filter\");\r\n                this._disposers.push(this.filterElement);\r\n            }\r\n            else {\r\n                this.filterElement.removeChildNodes();\r\n            }\r\n            this.paper.appendDef(this.filterElement);\r\n            var id = \"filter-\" + this.uid;\r\n            this.filterElement.attr({ \"id\": id });\r\n            $iter.each(this.filters.iterator(), function (filter) {\r\n                filter.sprite = _this;\r\n                filter.paper = _this.paper;\r\n                _this.filterElement.attr({ filterUnits: filter.filterUnits });\r\n                filter.appendPrimitives(_this.filterElement);\r\n                if (filter.width > width_1) {\r\n                    width_1 = filter.width;\r\n                }\r\n                if (filter.height > height_1) {\r\n                    height_1 = filter.height;\r\n                }\r\n                filter.scale = _this.globalScale;\r\n            });\r\n            var w = width_1 + \"%\";\r\n            var h = height_1 + \"%\";\r\n            /* temporarily removed as it is breaking tooltips on Safari @todo come back to this\r\n            if (this._measuredHeight <= 1) {\r\n                h = height + \"\";\r\n            }\r\n\r\n            if (this._measuredWidth <= 1) {\r\n                h = width + \"\";\r\n            }*/\r\n            this.filterElement.attr({ \"width\": w, \"height\": h, \"x\": -(width_1 - 100) / 2 + \"%\", \"y\": -(height_1 - 100) / 2 + \"%\" });\r\n            this.group.attr({ \"filter\": \"url(\\\"\" + $utils.getBaseURI() + id + \"\\\")\" });\r\n        }\r\n        else if (this.filterElement) {\r\n            this.group.removeAttr(\"filter\");\r\n            this.filterElement.removeChildNodes();\r\n        }\r\n    };\r\n    /**\r\n     * [removeClipPath description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     */\r\n    Sprite.prototype.removeClipPath = function () {\r\n        if (this._clipPath) {\r\n            //this._clipPath.dispose();\r\n            this.removeDispose(this._clipPath);\r\n            this._clipPath = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * [setElement description]\r\n     *\r\n     * @ignore\r\n     * @todo Description\r\n     * @param element [description]\r\n     */\r\n    Sprite.prototype.setElement = function (element) {\r\n        this.element = element;\r\n        this.setSVGAttributes();\r\n        this.applyAccessibility();\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"element\", {\r\n        /**\r\n         * @return Element\r\n         */\r\n        get: function () {\r\n            return this._element;\r\n        },\r\n        /**\r\n         * The main element for this Sprite, usually an SVG `<g>`.\r\n         *\r\n         * All other sub-elements are created in it.\r\n         *\r\n         * @param element  Element\r\n         */\r\n        set: function (element) {\r\n            // Destroy previous element if there was one before\r\n            this.removeElement();\r\n            // Set new element\r\n            this._element = element;\r\n            // Add element to group\r\n            // Since we are adding Element to group, which is already in the\r\n            // `.disposers` it will be removed automatically when Sprite is disposed\r\n            // of\r\n            this.group.add(element);\r\n            if (element.node instanceof SVGPathElement) {\r\n                this._isPath = true;\r\n            }\r\n            // This is needed if someone is setting element not in draw method but\r\n            // from outside\r\n            if (!this.invalid) {\r\n                this.validate();\r\n            }\r\n            if (options.autoSetClassName) {\r\n                this.setClassName();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"svgContainer\", {\r\n        /**\r\n         * HTML container (`<div>`) which is used to place chart's `<svg>` element\r\n         * in.\r\n         *\r\n         * @return Container for chart elements\r\n         */\r\n        get: function () {\r\n            if (this._svgContainer) {\r\n                return this._svgContainer;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.svgContainer;\r\n            }\r\n        },\r\n        /**\r\n         * Sets HTML container to add SVG and other chart elements to.\r\n         *\r\n         * @param svgContainer Container for chart elements\r\n         */\r\n        set: function (svgContainer) {\r\n            this._svgContainer = svgContainer;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Measures main element.\r\n     *\r\n     * Saves measurements into private `_bbox` property.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.measureElement = function () {\r\n        if (this.element) {\r\n            if (this.definedBBox) {\r\n                this._bbox = this.definedBBox;\r\n            }\r\n            else {\r\n                var svgBBox = this.element.getBBox();\r\n                this._bbox = { x: svgBBox.x, y: svgBBox.y, width: svgBBox.width, height: svgBBox.height };\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Positions element according its center settings.\r\n     *\r\n     * @todo Description (review)\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.updateCenter = function () {\r\n        if (this.element) {\r\n            var prevElementTransform = this.element.transformString;\r\n            var bbox = this.bbox;\r\n            var ex = 0;\r\n            var ey = 0;\r\n            var elementX = bbox.x;\r\n            var elementY = bbox.y;\r\n            var elementWidth = bbox.width;\r\n            var elementHeigth = bbox.height;\r\n            var pixelPaddingLeft = this.pixelPaddingLeft;\r\n            var pixelPaddingRight = this.pixelPaddingRight;\r\n            var pixelPaddingTop = this.pixelPaddingTop;\r\n            var pixelPaddingBottom = this.pixelPaddingBottom;\r\n            // add padding to the measured size\r\n            var measuredWidth = $math.max(elementWidth + pixelPaddingLeft + pixelPaddingRight, this.pixelWidth);\r\n            var measuredHeight = $math.max(elementHeigth + pixelPaddingTop + pixelPaddingBottom, this.pixelHeight);\r\n            // extremes\r\n            var left = bbox.x;\r\n            var right = bbox.x + measuredWidth;\r\n            var top_1 = bbox.y;\r\n            var bottom = bbox.y + measuredHeight;\r\n            var horizontalCenter = this.horizontalCenter;\r\n            var verticalCenter = this.verticalCenter;\r\n            switch (horizontalCenter) {\r\n                case \"none\":\r\n                    ex = elementX + pixelPaddingLeft;\r\n                    break;\r\n                case \"left\":\r\n                    ex = pixelPaddingLeft;\r\n                    break;\r\n                case \"middle\":\r\n                    ex = pixelPaddingLeft - (elementWidth + pixelPaddingRight + pixelPaddingLeft) / 2;\r\n                    break;\r\n                case \"right\":\r\n                    ex = -pixelPaddingRight - elementWidth;\r\n                    break;\r\n            }\r\n            switch (verticalCenter) {\r\n                case \"none\":\r\n                    ey = elementY + pixelPaddingTop;\r\n                    break;\r\n                case \"top\":\r\n                    ey = pixelPaddingTop;\r\n                    break;\r\n                case \"middle\":\r\n                    ey = pixelPaddingTop - (elementHeigth + pixelPaddingBottom + pixelPaddingTop) / 2;\r\n                    break;\r\n                case \"bottom\":\r\n                    ey = -pixelPaddingBottom - elementHeigth;\r\n                    break;\r\n            }\r\n            this._measuredHeight = measuredHeight;\r\n            this._measuredWidth = measuredWidth;\r\n            var x = $math.round(ex - elementX, this._positionPrecision, true);\r\n            var y = $math.round(ey - elementY, this._positionPrecision, true);\r\n            this.ex = x - pixelPaddingLeft;\r\n            this.ey = y - pixelPaddingTop;\r\n            this.maxLeft = left + x - pixelPaddingLeft;\r\n            this.maxRight = right + x - pixelPaddingLeft;\r\n            this.maxTop = top_1 + y - pixelPaddingTop;\r\n            this.maxBottom = bottom + y - pixelPaddingTop;\r\n            if (this.pixelPerfect) {\r\n                x -= 0.5;\r\n                y -= 0.5;\r\n            }\r\n            this.element.moveTo({ x: x, y: y });\r\n            if (prevElementTransform != this.element.transformString) {\r\n                this.dispatchImmediately(\"transformed\");\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Measures the whole element.\r\n     *\r\n     * Returns `true` if the size has changed from the last measurement.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Did the size changed from the last measurement?\r\n     */\r\n    Sprite.prototype.measure = function () {\r\n        this.updateCenter();\r\n        var measuredWidth = this._measuredWidth;\r\n        var measuredHeight = this._measuredHeight;\r\n        // extremes\r\n        var left = this.maxLeft;\r\n        var right = this.maxRight;\r\n        var top = this.maxTop;\r\n        var bottom = this.maxBottom;\r\n        // non-parent wise size\r\n        this._measuredWidthSelf = measuredWidth;\r\n        this._measuredHeightSelf = measuredHeight;\r\n        var positionPrecision = this._positionPrecision;\r\n        this.maxLeftSelf = this.maxLeft;\r\n        this.maxRightSelf = this.maxRight;\r\n        this.maxTopSelf = this.maxTop;\r\n        this.maxBottomSelf = this.maxBottom;\r\n        // if a sprite is rotated or scaled, calculate measured size after transformations\r\n        if (this.rotation !== 0 || this.scale !== 1 || this.nonScaling) {\r\n            // not good to handleGlobalScale here.\r\n            if (this.nonScalingStroke) {\r\n                this.strokeWidth = this.strokeWidth;\r\n            }\r\n            var svg = this.paper.svg;\r\n            var matrix = svg.createSVGMatrix();\r\n            var rotation = this.rotation;\r\n            var scale = this.scale;\r\n            if (this.nonScaling) {\r\n                scale = this.scale / this.globalScale;\r\n            }\r\n            matrix.a = $math.cos(rotation) * scale;\r\n            matrix.c = -$math.sin(rotation) * scale;\r\n            matrix.e = 0;\r\n            matrix.b = $math.sin(rotation) * scale;\r\n            matrix.d = $math.cos(rotation) * scale;\r\n            matrix.f = 0;\r\n            var p1 = svg.createSVGPoint();\r\n            p1.x = left;\r\n            p1.y = top;\r\n            var p2 = svg.createSVGPoint();\r\n            p2.x = right;\r\n            p2.y = top;\r\n            var p3 = svg.createSVGPoint();\r\n            p3.x = right;\r\n            p3.y = bottom;\r\n            var p4 = svg.createSVGPoint();\r\n            p4.x = left;\r\n            p4.y = bottom;\r\n            var pt1 = p1.matrixTransform(matrix);\r\n            var pt2 = p2.matrixTransform(matrix);\r\n            var pt3 = p3.matrixTransform(matrix);\r\n            var pt4 = p4.matrixTransform(matrix);\r\n            left = Math.min(pt1.x, pt2.x, pt3.x, pt4.x);\r\n            right = Math.max(pt1.x, pt2.x, pt3.x, pt4.x);\r\n            top = Math.min(pt1.y, pt2.y, pt3.y, pt4.y);\r\n            bottom = Math.max(pt1.y, pt2.y, pt3.y, pt4.y);\r\n            measuredWidth = right - left;\r\n            measuredHeight = bottom - top;\r\n            this.maxLeft = $math.round(left, positionPrecision, true);\r\n            this.maxRight = $math.round(right, positionPrecision, true);\r\n            this.maxTop = $math.round(top, positionPrecision, true);\r\n            this.maxBottom = $math.round(bottom, positionPrecision, true);\r\n        }\r\n        this._measuredWidth = $math.round(measuredWidth, positionPrecision, true);\r\n        this._measuredHeight = $math.round(measuredHeight, positionPrecision, true);\r\n        // dispatch event\r\n        if (this._measuredWidth != this._prevMeasuredWidth || this._measuredHeight != this._prevMeasuredHeight) {\r\n            this._prevMeasuredHeight = this._measuredHeight;\r\n            this._prevMeasuredWidth = this._measuredWidth;\r\n            // TODO clear existing sizechanged dispatches ?\r\n            this.dispatch(\"sizechanged\");\r\n            if ((this.isHover || this.showTooltipOn == \"hit\" || this.showTooltipOn == \"always\") && this.tooltip && this.tooltip.visible && ($type.hasValue(this.tooltipText) || $type.hasValue(this.tooltipHTML))) {\r\n                this.updateTooltipPosition();\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Insert this element before sibling element.\r\n     *\r\n     * @param sprite  Target element\r\n     * @return This element\r\n     */\r\n    Sprite.prototype.insertBefore = function (sprite) {\r\n        var parent = this._parent;\r\n        if (parent) {\r\n            var index = parent.children.indexOf(sprite);\r\n            if (index !== -1) {\r\n                parent.children.moveValue(this, index);\r\n                parent.sortChildren();\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Insert this element after sibling element.\r\n     *\r\n     * @param sprite  Target element\r\n     * @return This element\r\n     */\r\n    Sprite.prototype.insertAfter = function (sprite) {\r\n        var parent = this._parent;\r\n        if (parent) {\r\n            var index = parent.children.indexOf(sprite);\r\n            if (index !== -1) {\r\n                parent.children.moveValue(this, index + 1);\r\n                parent.sortChildren();\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Removes the main SVG element.\r\n     *\r\n     * This does not destroy the whole Sprite element. To do that use\r\n     * `dispose()` instead.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.removeElement = function () {\r\n        // remove visual element\r\n        if (this._element) {\r\n            this.removeDispose(this._element);\r\n            this._element = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Returns relative (percent) value of the X coordindate within this element.\r\n     *\r\n     * A relative value is a hundredth of a percent. So 100% would result in a 1\r\n     * as relative value.\r\n     *\r\n     * @param value  Absolute or relative X coordinate\r\n     * @return Relative value\r\n     */\r\n    Sprite.prototype.getRelativeX = function (value) {\r\n        if (value instanceof Percent) {\r\n            return value.value;\r\n        }\r\n        else if (this._parent) {\r\n            return value / this._parent.innerWidth;\r\n        }\r\n        return 0;\r\n    };\r\n    /**\r\n     * Returns relative (percent) value of the Y coordindate within this element.\r\n     *\r\n     * A relative value is a hundredth of a percent. So 100% would result in a 1\r\n     * as relative value.\r\n     *\r\n     * @param value  Absolute or relative Y coordinate\r\n     * @return Relative value\r\n     */\r\n    Sprite.prototype.getRelativeY = function (value) {\r\n        if (value instanceof Percent) {\r\n            return value.value;\r\n        }\r\n        else if (this._parent) {\r\n            return value / this._parent.innerHeight;\r\n        }\r\n        return 0;\r\n    };\r\n    /**\r\n     * Returns an X coordinate in pixel within the element.\r\n     *\r\n     * If number is passed in as parameter, the same number will be returned\r\n     * back.\r\n     *\r\n     * If [[Percent]] is passed in, it will be recalculated to pixels.\r\n     *\r\n     * @param value  Absolute or relative X coordinate\r\n     * @return X coordinate in pixels\r\n     */\r\n    Sprite.prototype.getPixelX = function (value) {\r\n        // we don't use $utils.valueToRelative as this would mean that we should access parent.innerWidth\r\n        // all the time and this would result chain of the same actions and will slow down the system a lot\r\n        var pixel = 0;\r\n        if ($type.isNumber(value)) {\r\n            pixel = value;\r\n        }\r\n        else if (value instanceof Percent) {\r\n            var relative = value.value;\r\n            if (this._parent) {\r\n                pixel = $math.round(this._parent.innerWidth * relative, this._positionPrecision, true);\r\n            }\r\n        }\r\n        return pixel;\r\n    };\r\n    /**\r\n     * Returns an Y coordinate in pixel within the element.\r\n     *\r\n     * If number is passed in as parameter, the same number will be returned\r\n     * back.\r\n     *\r\n     * If [[Percent]] is passed in, it will be recalculated to pixels.\r\n     *\r\n     * @param value  Absolute or relative Y coordinate\r\n     * @return Y coordinate in pixels\r\n     */\r\n    Sprite.prototype.getPixelY = function (value) {\r\n        // we don't use $utils.valueToRelative as this would mean that we should access parent.innerWidth\r\n        // all the time and this would result chain of the same actions and will slow down the system a lot\r\n        var pixel = 0;\r\n        if ($type.isNumber(value)) {\r\n            pixel = value;\r\n        }\r\n        else if (value instanceof Percent) {\r\n            var relative = value.value;\r\n            if (this._parent) {\r\n                pixel = $math.round(this._parent.innerHeight * relative, this._positionPrecision, true);\r\n            }\r\n        }\r\n        return pixel;\r\n    };\r\n    /**\r\n     * Moves the element to a specified coordinates.\r\n     *\r\n     * Using this method is preferred method of moving element, as it saves some\r\n     * CPU processing power over setting `x` and `y` properties separately.\r\n     *\r\n     * The method respects element's center settings. The element will be\r\n     * positioned so that `point` coordinates come in whatever \"center\" of the\r\n     * element is, as set in `horizontalCenter` and `verticalCenter`.\r\n     *\r\n     * Besides moving the element, you can also at the same time scale and\r\n     * rotate the element.\r\n     *\r\n     * @param point     New coordinates\r\n     * @param rotation  New rotation\r\n     * @param scale     New Scale\r\n     */\r\n    Sprite.prototype.moveTo = function (point, rotation, scale, isDragged) {\r\n        if (this.isDragged && !isDragged) {\r\n            return;\r\n        }\r\n        if (point) {\r\n            if ($type.isNumber(point.x)) {\r\n                this.setPropertyValue(\"x\", $math.round(point.x, this._positionPrecision, true));\r\n            }\r\n            if ($type.isNumber(point.y)) {\r\n                this.setPropertyValue(\"y\", $math.round(point.y, this._positionPrecision, true));\r\n            }\r\n        }\r\n        if ($type.isNumber(rotation)) {\r\n            this.rotation = rotation;\r\n        }\r\n        if ($type.isNumber(scale)) {\r\n            this.scale = scale;\r\n        }\r\n        // must leave this\r\n        this.invalidatePosition();\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"mask\", {\r\n        /**\r\n         * Returns [[Sprite]] element currently used as mask for this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return A [[Sprite]] to use as mask\r\n         */\r\n        get: function () {\r\n            if (!this._adapterO) {\r\n                return this._mask.get();\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"mask\", this._mask.get());\r\n            }\r\n        },\r\n        /**\r\n         * Sets another [[Sprite]] element as this elements mask.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param mask A [[Sprite]] to use as mask\r\n         */\r\n        set: function (mask) {\r\n            var _this = this;\r\n            if (this._mask.get() !== mask) {\r\n                // this is good\r\n                if (mask) {\r\n                    this.createClipPath();\r\n                    if (!(mask instanceof Container)) {\r\n                        mask.isMeasured = false;\r\n                        if (mask.element) {\r\n                            this._clipElement = mask.element;\r\n                        }\r\n                    }\r\n                    else {\r\n                        this._clipElement = this.paper.add(\"rect\");\r\n                    }\r\n                    if (this._clipElement) {\r\n                        this._clipPath.add(this._clipElement);\r\n                    }\r\n                    this._mask.set(mask, new MultiDisposer([\r\n                        //mask.addEventListener(SpriteEvent.TRANSFORMED, this.applyMask, false, this);\r\n                        mask.events.on(\"maxsizechanged\", function () { if (_this.inited) {\r\n                            _this.applyMask();\r\n                        } }, undefined, false),\r\n                        mask.events.on(\"validated\", this.applyMask, this, false),\r\n                        mask.events.on(\"positionchanged\", this.applyMask, this, false)\r\n                    ]));\r\n                    this.applyMask();\r\n                }\r\n                else {\r\n                    this._mask.reset();\r\n                    this.group.removeAttr(\"clip-path\");\r\n                    this.removeClipPath();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"maskRectangle\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Mask Rectangle\r\n         */\r\n        get: function () {\r\n            return this._maskRectangle;\r\n        },\r\n        // you can set IRectangle as a mask instead o a sprite. Note, the changes of the object won't be monitored\r\n        /**\r\n         * Instead of creating a [[Sprite]] for mask, you can just use a\r\n         * [[Rectangle]] by setting this accessor.\r\n         *\r\n         * Please note that the element will not monitor any changes to the mask\r\n         * rectangle.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param rect Mask Rectangle\r\n         */\r\n        set: function (rect) {\r\n            if (rect) {\r\n                this.createClipPath();\r\n                if (!this._clipElement) {\r\n                    this._clipElement = this.paper.add(\"rect\");\r\n                    this._clipPath.add(this._clipElement);\r\n                }\r\n                this._clipElement.attr({ \"width\": rect.width, \"height\": rect.height });\r\n            }\r\n            else {\r\n                this.removeClipPath();\r\n                this._clipElement = undefined;\r\n            }\r\n            this._maskRectangle = rect;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"isMeasured\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Was element already measured?\r\n         */\r\n        get: function () {\r\n            return this._isMeasured;\r\n        },\r\n        /**\r\n         * Indicates if this element was already measured.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Was element already measured?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (!value) {\r\n                this._measuredWidth = 0;\r\n                this._measuredHeight = 0;\r\n                //this._pixelHeight = 0;\r\n                //this._pixelWidth = 0;\r\n            }\r\n            if (this._isMeasured != value) {\r\n                this._isMeasured = value;\r\n                this.invalidatePosition();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if the this element has any of its parts overlapping with another\r\n     * element.\r\n     *\r\n     * @todo Description (review)\r\n     * @param sprite  Second element to test again\r\n     * @return Overlapping?\r\n     */\r\n    Sprite.prototype.hitTest = function (sprite) {\r\n        // validate, otherwise we will not know measuredWidth and measuredHeight\r\n        if (this.invalid) {\r\n            this.validate();\r\n        }\r\n        if (sprite.invalid) {\r\n            sprite.validate();\r\n        }\r\n        var ax1 = this.pixelX + this.maxLeft;\r\n        var ay1 = this.pixelY + this.maxTop;\r\n        var ax2 = ax1 + this.maxRight;\r\n        var ay2 = ay1 + this.maxBottom;\r\n        var bx1 = sprite.pixelX + sprite.maxLeft;\r\n        var by1 = sprite.pixelY + sprite.maxTop;\r\n        var bx2 = bx1 + sprite.maxRight;\r\n        var by2 = by1 + sprite.maxBottom;\r\n        return !(bx1 > ax2 || bx2 < ax1 || by1 > ay2 || by2 < ay1);\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"inited\", {\r\n        /**\r\n         * ==========================================================================\r\n         * STATE-RELATED\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Returns `true` if Sprite has already finished initializing.\r\n         *\r\n         * @return Initialized?\r\n         */\r\n        get: function () {\r\n            return this._inited;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns `true` if Sprite has already finished initializing and is ready.\r\n     *\r\n     * If this object is a [[Container]] it will wait for all of its children\r\n     * are ready before becoming ready itself and firing a `\"ready\"` event.\r\n     *\r\n     * @return is ready?\r\n     */\r\n    Sprite.prototype.isReady = function () {\r\n        return this._ready;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"states\", {\r\n        /**\r\n         * Returns a collection of element's available [[SpriteState]] entries.\r\n         *\r\n         * @see {@link SpriteState}\r\n         * @return States\r\n         */\r\n        get: function () {\r\n            if (!this._states) {\r\n                var state = new SpriteState();\r\n                // works\r\n                this._states = new DictionaryTemplate(state);\r\n                // TODO what about removeKey ?\r\n                this._disposers.push(this._states.events.on(\"insertKey\", this.processState, this, false));\r\n                this._disposers.push(this._states.events.on(\"setKey\", this.processState, this, false));\r\n                this._disposers.push(new DictionaryDisposer(this._states));\r\n                this._disposers.push(state);\r\n            }\r\n            return this._states;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"hiddenState\", {\r\n        /**\r\n         * Returns a [[SpriteState]] object for \"hidden\" state.\r\n         *\r\n         * This is a shortcut to `this.states.getKey(\"hidden\")`.\r\n         *\r\n         * @return Hidden state\r\n         */\r\n        get: function () {\r\n            if (!this.states.getKey(\"hidden\")) {\r\n                var hiddenState = this.states.create(\"hidden\");\r\n                hiddenState.properties.opacity = 0;\r\n                hiddenState.properties.visible = false;\r\n            }\r\n            return this.states.getKey(\"hidden\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"defaultState\", {\r\n        /**\r\n         * Returns a [[SpriteState]] object for \"default\" state.\r\n         *\r\n         * This is a shortcut to `this.states.getKey(\"default\")`.\r\n         *\r\n         * @return Hidden state\r\n         */\r\n        get: function () {\r\n            if (!this.states.getKey(\"default\")) {\r\n                var defaultState = this.states.create(\"default\");\r\n                defaultState.properties.opacity = 1;\r\n            }\r\n            return this.states.getKey(\"default\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if some key states are defined and updates Sprite properties\r\n     * accordingly.\r\n     *\r\n     * For example if there's a state \"down\" defined for Sprite, we automatically\r\n     * make it \"clickable\".\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event An event which caused state list update\r\n     */\r\n    Sprite.prototype.processState = function (event) {\r\n        var state = event.newValue;\r\n        state.sprite = this;\r\n        state.name = event.key;\r\n        if (this.states.hasKey(\"hover\") || (this.showTooltipOn == \"hover\" && ($type.hasValue(this.tooltipHTML) || $type.hasValue(this.tooltipText)))) {\r\n            this.hoverable = true;\r\n        }\r\n        if (this.states.hasKey(\"down\") || (this.showTooltipOn == \"hover\" && ($type.hasValue(this.tooltipHTML) || $type.hasValue(this.tooltipText)))) {\r\n            this.clickable = true;\r\n        }\r\n        if (this.states.hasKey(\"focus\")) {\r\n            this.focusable = true;\r\n        }\r\n        // Propagate the new state to clones\r\n        if (this.applyOnClones) {\r\n            var clones = this.clones.values;\r\n            var length_1 = clones.length;\r\n            for (var i = 0; i < length_1; ++i) {\r\n                var clone = clones[i];\r\n                if (!clone.isDisposed()) {\r\n                    clone.states.setKey(state.name, state);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"animations\", {\r\n        /**\r\n         * Returns a list elements's animations currently being played.\r\n         *\r\n         * If the list has not been initialized it is created.\r\n         *\r\n         * @return List of animations\r\n         */\r\n        get: function () {\r\n            if (!this._animations) {\r\n                this._animations = [];\r\n                this._disposers.push(new AnimationDisposer(this._animations));\r\n            }\r\n            return this._animations;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Converts element's local coordinates to the coordinates within the main\r\n     * chart container.\r\n     *\r\n     * @param point  Local point\r\n     * @return Global point\r\n     */\r\n    Sprite.prototype.getSvgPoint = function (point) {\r\n        try {\r\n            // Calculate SVG point\r\n            var bbox = this.htmlContainer.getBoundingClientRect();\r\n            return {\r\n                \"x\": point.x - bbox.left,\r\n                \"y\": point.y - bbox.top\r\n            };\r\n        }\r\n        catch (e) {\r\n            return point;\r\n        }\r\n    };\r\n    /**\r\n     * Creates and starts an [[Animation]] with given `animationOptions`.\r\n     *\r\n     * @see {@link Animation} for additional information about available options\r\n     * @param animationOptions  Animation options\r\n     * @param duration          Duration in milliseconds\r\n     * @param easing            Easing function\r\n     * @return Animation instance\r\n     */\r\n    Sprite.prototype.animate = function (animationOptions, duration, easing) {\r\n        return new Animation(this, animationOptions, duration, easing).start();\r\n    };\r\n    /**\r\n     * Applies a [[SpriteState]] on this element.\r\n     *\r\n     * The first parameter can either be a name state or a [[SpriteState]]\r\n     * instance.\r\n     *\r\n     * When run, this method will apply SVG properties defined in a\r\n     * [[SpriteState]], but only those that are relevant to this particular\r\n     * element, i.e. are in the `properties` array.\r\n     *\r\n     * @see {@link SpriteState}\r\n     * @param value               A state - name key or instance\r\n     * @param transitionDuration  Duration of the transition between current and new state\r\n     * @param easing              An easing function\r\n     */\r\n    Sprite.prototype.setState = function (value, transitionDuration, easing) {\r\n        var state;\r\n        if (value instanceof SpriteState) {\r\n            this.states.setKey(value.name, value);\r\n            state = value;\r\n        }\r\n        else {\r\n            state = this.states.getKey(value);\r\n            if (!state) {\r\n                return;\r\n            }\r\n        }\r\n        // stop previous transition\r\n        // not good - foe expample, we are animating to some \"active\" state and in them middle \"hover\" state happens. then \"active\" stat won't be applied\r\n        //if (this._transition) {\r\n        //this._transition.stop();\r\n        //}\r\n        if (state.name == \"hover\") {\r\n            if (this.isHidden) {\r\n                return;\r\n            }\r\n            this.isHover = true;\r\n        }\r\n        if (state.name == \"hidden\") {\r\n            this.isHiding = true;\r\n        }\r\n        else {\r\n            if (!this.visible) {\r\n                this.setVisibility(state.properties.visible || this.defaultState.properties.visible);\r\n            }\r\n        }\r\n        if (state.name == \"active\") {\r\n            this.isActive = true;\r\n        }\r\n        // we do not set isActive = false here if it's not active, but container does that if setStateOnChildren = true\r\n        if (!$type.isNumber(transitionDuration)) {\r\n            transitionDuration = state.transitionDuration;\r\n        }\r\n        if (!$type.hasValue(easing)) {\r\n            easing = state.transitionEasing;\r\n        }\r\n        return this.transitTo(state, transitionDuration, easing);\r\n    };\r\n    /**\r\n     * Applies proper state based on the condition of the element. A condition is\r\n     * deducted in this order:\r\n     * * \"hover\" if Sprite has currently any pointers over it\r\n     * * \"down\" if Sprite has any pointers (touch or mouse) currently pressed over it\r\n     * * \"focus\" if Sprite has currently got focus (accessibility)\r\n     * * \"hidden\" if Sprite is currently hidden\r\n     *\r\n     * Returns an [[Animation]] object, which is handling gradual transition from\r\n     * current values of properties, to the new target state(s).\r\n     *\r\n     * @param duration  Duration for the animation (ms)\r\n     * @return [[Animation]] object which is handling the transition\r\n     */\r\n    Sprite.prototype.applyCurrentState = function (duration) {\r\n        //if (!this.isHidden) { // this was done for hover state not to take effect if \"hidden\" is actually visible, need to think about it.\r\n        var animation = this.setState(this.defaultState, duration);\r\n        if (this.isHover) {\r\n            animation = this.setState(\"hover\", duration);\r\n        }\r\n        if (this.isDown && this.interactions.downPointers.length) {\r\n            animation = this.setState(\"down\", duration);\r\n        }\r\n        this.isFocused = this.isFocused;\r\n        if (this.isActive) {\r\n            animation = this.setState(\"active\", duration);\r\n            if (this.isHover && this.states.hasKey(\"hoverActive\")) {\r\n                animation = this.setState(\"hoverActive\", duration);\r\n            }\r\n        }\r\n        return animation;\r\n        //}\r\n    };\r\n    /**\r\n     * Starts an [[Animation]] of the properties to specific values as they are\r\n     * set in `state`.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param state     Target State\r\n     * @param duration  Duration in milliseconds\r\n     * @param easing    Easing function\r\n     * @return Transition Animation\r\n     */\r\n    Sprite.prototype.transitTo = function (state, duration, easing) {\r\n        var _this = this;\r\n        // Init\r\n        var options = [], propValues = state.allValues, transition;\r\n        // todo: do this for numeric/color properties only?\r\n        // @todo use state.getPropertyValue instead\r\n        $object.each(propValues, function (propertyName, finalValue) {\r\n            var currentValue = _this[propertyName];\r\n            // save current value to default state. this solves a big problem where values must be set both on sprite and default state\r\n            if (finalValue != currentValue && _this.defaultState.properties[propertyName] == undefined) {\r\n                _this.defaultState.properties[propertyName] = currentValue;\r\n            }\r\n            //if (finalValue != currentValue && $type.hasValue(finalValue)) {\r\n            if (finalValue != \"__unset\") {\r\n                var option = { from: currentValue, to: finalValue, property: propertyName };\r\n                options.push(option);\r\n            }\r\n        });\r\n        if (options.length > 0) {\r\n            transition = this.animate(options, duration, easing);\r\n            if (transition && !transition.isFinished()) {\r\n                // TODO should this use events.once ?\r\n                // TODO push onto _disposers array ?\r\n                this._disposers.push(transition.events.on(\"animationended\", function () {\r\n                    _this.dispatchImmediately(\"transitionended\");\r\n                }));\r\n            }\r\n            else {\r\n                this.dispatchImmediately(\"transitionended\");\r\n            }\r\n        }\r\n        // apply filters if set\r\n        if (state.filters.length > 0) {\r\n            var newFilters_1 = [];\r\n            // check for the same filters\r\n            $iter.each(state.filters.iterator(), function (stateFilter) {\r\n                var newFilter = stateFilter.clone();\r\n                newFilters_1.push(newFilter);\r\n                var animationOptions = [];\r\n                $iter.each(_this.filters.iterator(), function (currentFilter) {\r\n                    // if we have the same filters\r\n                    if (currentFilter.className == newFilter.className) {\r\n                        if (!$iter.contains(_this.defaultState.filters.iterator(), function (x) { return x.className === newFilter.className; })) {\r\n                            _this.defaultState.filters.push(currentFilter);\r\n                        }\r\n                        $object.each(newFilter.properties, function (propertyName, newValue) {\r\n                            var currentValue = currentFilter.properties[propertyName];\r\n                            // if values are not the same, push to animation options array\r\n                            if (currentValue != newValue) {\r\n                                animationOptions.push({ property: propertyName, from: currentValue, to: newValue });\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n                // animate to new value\r\n                newFilter.animate(animationOptions, duration, easing);\r\n            });\r\n            this.filters.clear();\r\n            this.filters.pushAll(newFilters_1);\r\n        }\r\n        return transition;\r\n    };\r\n    /**\r\n     * Returns `true` if Sprite is currently transiting from one state/value to\r\n     * another.\r\n     *\r\n     * @return Is in transition?\r\n     */\r\n    Sprite.prototype.isInTransition = function () {\r\n        return this.animations.length > 0;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"isHover\", {\r\n        /**\r\n         * @return Is hovered?\r\n         */\r\n        get: function () {\r\n            if (this.isInteractive()) {\r\n                return this.interactions.isHover;\r\n            }\r\n            return false;\r\n        },\r\n        /**\r\n         * Indicates if this element has a mouse pointer currently hovering\r\n         * over it, or if it has any touch pointers pressed on it.\r\n         *\r\n         * You can force element to be \"hovered\" manually, by setting this property\r\n         * to `true`.\r\n         *\r\n         * @param value Is hovered?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (value !== this.isHover) {\r\n                if (this.isInteractive()) {\r\n                    this.interactions.isHover = value;\r\n                    if (value) {\r\n                        this.handleOver();\r\n                    }\r\n                    else {\r\n                        this.interactions.isRealHover = false;\r\n                        this.handleOut();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"isDragged\", {\r\n        /**\r\n         * Returns indicator if this element is being dragged at the moment.\r\n         *\r\n         * @return Is dragged?\r\n         */\r\n        get: function () {\r\n            return this._isDragged;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"isResized\", {\r\n        /**\r\n         * Returns indicator if this element is being resized at the moment.\r\n         *\r\n         * @return Is resized?\r\n         */\r\n        get: function () {\r\n            return this._isResized;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"isDown\", {\r\n        /**\r\n         * @return Is down?\r\n         */\r\n        get: function () {\r\n            if (this.isInteractive()) {\r\n                return this.interactions.isDown;\r\n            }\r\n            return false;\r\n        },\r\n        /**\r\n         * Indicates if this element has any pointers (mouse or touch) pressing down\r\n         * on it.\r\n         *\r\n         * @param value Is down?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this.isInteractive() && this.isDown != value) {\r\n                this.interactions.isDown = value;\r\n                if (value) {\r\n                    this.handleDown();\r\n                }\r\n                else {\r\n                    this.handleUp();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"isFocused\", {\r\n        /**\r\n         * @return Is focused?\r\n         */\r\n        get: function () {\r\n            if (this.isInteractive()) {\r\n                return this.interactions.isFocused;\r\n            }\r\n            return false;\r\n        },\r\n        /**\r\n         * Indicates if this element is focused (possibly by tab navigation).\r\n         *\r\n         * @param value Is focused?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this.focusable && this.isFocused != value) {\r\n                if (this.isInteractive()) {\r\n                    this.interactions.isFocused = value;\r\n                    if (value === true) {\r\n                        this.handleFocus();\r\n                    }\r\n                    else {\r\n                        this.handleBlur();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"isActive\", {\r\n        /**\r\n         * @return Is active?\r\n         */\r\n        get: function () {\r\n            return this._isActive;\r\n        },\r\n        /**\r\n         * Indicates if this element is currently active (toggled on) or not\r\n         * (toggled off).\r\n         *\r\n         * @param value Is active?\r\n         */\r\n        set: function (value) {\r\n            this.setActive(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Sprite.prototype.setActive = function (value) {\r\n        value = $type.toBoolean(value);\r\n        if (this._isActive !== value) {\r\n            this._isActive = value;\r\n            if (value && this.states.hasKey(\"active\")) {\r\n                this.setState(\"active\");\r\n                if (this.isHover && this.states.hasKey(\"hoverActive\")) {\r\n                    this.setState(\"hoverActive\");\r\n                }\r\n            }\r\n            else {\r\n                this.applyCurrentState();\r\n            }\r\n            this.dispatchImmediately(\"toggled\");\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"disabled\", {\r\n        /**\r\n         * @return Disabled?\r\n         */\r\n        get: function () {\r\n            //if(this._internalDisabled){\r\n            //\treturn true;\r\n            //}\r\n            var current = this.getPropertyValue(\"disabled\");\r\n            if ($type.hasValue(current)) {\r\n                return current;\r\n            }\r\n            else {\r\n                if (this.virtualParent) {\r\n                    return this.virtualParent.disabled;\r\n                }\r\n                if (this._parent) {\r\n                    return this._parent.disabled;\r\n                }\r\n            }\r\n            return false;\r\n        },\r\n        /**\r\n         * Controls if element is disabled.\r\n         *\r\n         * A disabled element is hidden, and is removed from any processing, layout\r\n         * calculations, and generally treated as if it does not exist.\r\n         *\r\n         * The element itself is not destroyed, though. Setting this back to `false`,\r\n         * will \"resurrect\" the element.\r\n         *\r\n         * @param value  Disabled?\r\n         */\r\n        set: function (value) {\r\n            this.setDisabled(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Sprite.prototype.setDisabled = function (value) {\r\n        value = $type.toBoolean(value);\r\n        var current = this.getPropertyValue(\"disabled\");\r\n        if (current != value) {\r\n            this.setPropertyValue(\"disabled\", value, true);\r\n            if (value) {\r\n                this.parent = this._parent;\r\n                this.removeFromInvalids();\r\n                this.group.attr({ \"display\": \"none\" });\r\n                this.dispatch(\"disabled\");\r\n            }\r\n            else {\r\n                if (this._parent) {\r\n                    var group = this._parent.element;\r\n                    if (!group.hasChild(this.group)) {\r\n                        group.add(this.group);\r\n                    }\r\n                }\r\n                if (this instanceof Container) {\r\n                    this.deepInvalidate();\r\n                    if (this._background) {\r\n                        this._background.invalidate();\r\n                    }\r\n                }\r\n                else {\r\n                    this.invalidate();\r\n                }\r\n                if (!this.__disabled) {\r\n                    this.removeSVGAttribute(\"display\");\r\n                }\r\n                this.dispatch(\"enabled\");\r\n            }\r\n            this.dispatch(\"transformed\");\r\n            system.requestFrame();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"__disabled\", {\r\n        /**\r\n         * @ignore\r\n         * @return Disabled?\r\n         */\r\n        get: function () {\r\n            return this._internalDisabled;\r\n        },\r\n        /**\r\n         * Internal disable method.\r\n         *\r\n         * Do not use it for disabling elements. Use `disabled` accessor instead.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Disabled?\r\n         */\r\n        set: function (value) {\r\n            if (this._internalDisabled != value) {\r\n                this._internalDisabled = value;\r\n                this._updateDisabled = true;\r\n                this.invalidatePosition(); // better use this instead of invalidate()\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"numberFormatter\", {\r\n        /**\r\n         * @return A [[NumberFormatter]] instance to be used\r\n         */\r\n        get: function () {\r\n            if (this._numberFormatter) {\r\n                return this._numberFormatter;\r\n            }\r\n            else if (this.virtualParent) {\r\n                return this.virtualParent.numberFormatter;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.numberFormatter;\r\n            }\r\n            this._numberFormatter = new NumberFormatter();\r\n            this._numberFormatter.language = this.language;\r\n            return this.numberFormatter;\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * FORMATTERS AND OTHER EXTERNAL HELPERS\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * A [[NumberFormatter]] instance.\r\n         *\r\n         * This is used to format numbers.\r\n         *\r\n         * ```TypeScript\r\n         * chart.numberFormatter.numberFormat = \"#,###.#####\";\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.numberFormatter.numberFormat = \"#,###.#####\";\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"numberFormatter\": {\r\n         *     \"numberFormat\": \"#,###.#####\"\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * You can set a separate instance of formatter for each\r\n         * individual element. However that would be unnecessary overhead as\r\n         * all elements would automatically inherit formatter from their parents,\r\n         * all the way up to the chart itself.\r\n         *\r\n         *\r\n         * @see {@link NumberFormatter} for more info on formatting numbers\r\n         * @param value  An instance of NumberFormatter\r\n         */\r\n        set: function (value) {\r\n            this._numberFormatter = value;\r\n            this._numberFormatter.language = this.language;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"dateFormatter\", {\r\n        /**\r\n         * @return An instance of DateFormatter\r\n         */\r\n        get: function () {\r\n            if (this._dateFormatter) {\r\n                return this._dateFormatter;\r\n            }\r\n            else if (this.virtualParent) {\r\n                return this.virtualParent.dateFormatter;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.dateFormatter;\r\n            }\r\n            this._dateFormatter = new DateFormatter();\r\n            this._dateFormatter.language = this.language;\r\n            return this.dateFormatter;\r\n        },\r\n        /**\r\n         * A [[DateFormatter]] instance.\r\n         *\r\n         * This is used to format dates, e.g. on a date axes, balloons, etc.\r\n         *\r\n         * ```TypeScript\r\n         * chart.dateFormatter.dateFormat = \"yyyy-MM-dd\";\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.dateFormatter.dateFormat = \"yyyy-MM-dd\";\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"dateFormatter\": {\r\n         *     \"dateFormat\": \"yyyy-MM-dd\"\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * You can set a separate instance of formatter for each\r\n         * individual element. However that would be unnecessary overhead as\r\n         * all elements would automatically inherit formatter from their parents,\r\n         * all the way up to the chart itself.\r\n         *\r\n         * @see {@link DateFormatter} for more info on dates formatting\r\n         * @param value  An instance of DateFormatter\r\n         */\r\n        set: function (value) {\r\n            this._dateFormatter = value;\r\n            this._dateFormatter.language = this.language;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"durationFormatter\", {\r\n        /**\r\n         * @return An instance of DurationFormatter\r\n         */\r\n        get: function () {\r\n            if (this._durationFormatter) {\r\n                return this._durationFormatter;\r\n            }\r\n            else if (this.virtualParent) {\r\n                return this.virtualParent.durationFormatter;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.durationFormatter;\r\n            }\r\n            this._durationFormatter = new DurationFormatter();\r\n            this._durationFormatter.language = this.language;\r\n            return this.durationFormatter;\r\n        },\r\n        /**\r\n         * A [[DurationFormatter]] instance.\r\n         *\r\n         * This is used to format numbers as durations, e.g. on a value axes.\r\n         *\r\n         * You can set a separate instance of formatter for each\r\n         * individual element. However that would be unnecessary overhead as\r\n         * all elements would automatically inherit formatter from their parents,\r\n         * all the way up to the chart itself.\r\n         *\r\n         * @see {@link DurationFormatter} for more info on durations\r\n         * @param value  An instance of DurationFormatter\r\n         */\r\n        set: function (value) {\r\n            this._durationFormatter = value;\r\n            this._durationFormatter.language = this.language;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"language\", {\r\n        /**\r\n         * @return An instance of Language\r\n         */\r\n        get: function () {\r\n            var language = this._language.get();\r\n            if (language) {\r\n                return language;\r\n            }\r\n            else if (this.virtualParent) {\r\n                return this.virtualParent.language;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.language;\r\n            }\r\n            language = new Language();\r\n            this.language = language;\r\n            return language;\r\n        },\r\n        /**\r\n         * A [[Language]] instance to use for translations.\r\n         *\r\n         * Normally it is enough to set language for the top-most element - chart.\r\n         *\r\n         * All other element child elements will automatically re-use that language\r\n         * object.\r\n         *\r\n         * @param value  An instance of Language\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            if (this._language.get() !== value) {\r\n                this._language.set(value, value.events.on(\"localechanged\", function (ev) {\r\n                    if (_this._numberFormatter) {\r\n                        _this._numberFormatter.language = _this.language;\r\n                    }\r\n                    if (_this._dateFormatter) {\r\n                        _this._dateFormatter.language = _this.language;\r\n                    }\r\n                    if (_this._durationFormatter) {\r\n                        _this._durationFormatter.language = _this.language;\r\n                    }\r\n                    if (_this._exporting.get()) {\r\n                        var exporting = _this._exporting.get();\r\n                        exporting.numberFormatter.language = _this.language;\r\n                        exporting.dateFormatter.language = _this.language;\r\n                        exporting.durationFormatter.language = _this.language;\r\n                        exporting.language = _this.language;\r\n                    }\r\n                    if (_this instanceof Container) {\r\n                        _this.deepInvalidate();\r\n                    }\r\n                }));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * ==========================================================================\r\n     * DATA-RELATED STUFF\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Parses the string for meta tags `{tag}` and replaces them with a real\r\n     * value. Supports straight up tags referring to the field in data, i.e.\r\n     * `{value}` or tags with additional formatting info. E.g.:\r\n     *\r\n     * ```Text\r\n     * {myfield.formatDate(\"yyyy-MM-dd\")}\r\n     * {myfield.formatDate()}\r\n     * {myfield.formatNumber(\"#,####.00\")}\r\n     * {myfield.formatNumber()}\r\n     * {myField.formatDuration(\"mm:ss\")}\r\n     * ```\r\n     *\r\n     * Etc.\r\n     *\r\n     * This method Will automatically detect and use proper formatter for the\r\n     * value.\r\n     *\r\n     * The source value will be looked up in various places: (in order)\r\n     * * Sprite's own `dataItem`\r\n     * * Sprite's properties\r\n     * * Parent's `dataItem`\r\n     * * Parent's properties\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param string            A string to format\r\n     * @param dataItem          DataItem\r\n     * @return Formatted string\r\n     */\r\n    Sprite.prototype.populateString = function (string, dataItem) {\r\n        if ($type.hasValue(string)) {\r\n            string = $type.castString(string);\r\n            string = getTextFormatter().escape(string);\r\n            var tags = string.match(/\\{([^}]+)\\}/g);\r\n            var i = void 0;\r\n            if (tags) {\r\n                for (i = 0; i < tags.length; i++) {\r\n                    var tag = tags[i].replace(/\\{([^}]+)\\}/, \"$1\");\r\n                    var value = this.getTagValue(tag, \"\", dataItem);\r\n                    if (!$type.hasValue(value)) {\r\n                        value = \"\";\r\n                    }\r\n                    string = string.split(tags[i]).join(value);\r\n                }\r\n            }\r\n            string = getTextFormatter().unescape(string);\r\n        }\r\n        else {\r\n            string = \"\";\r\n        }\r\n        if (!this._adapterO) {\r\n            return string;\r\n        }\r\n        else {\r\n            return this._adapterO.apply(\"populateString\", string);\r\n        }\r\n    };\r\n    /**\r\n     * Gets the value from data item and formats it according to specified format.\r\n     *\r\n     * If `format` is specified, it will use its contents to choose formatter for\r\n     * the value. Otherwise it will select formatter accordingly to actual value\r\n     * type.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Ability to force certain formatter on known numeric and date values\r\n     * @see {@link NumberFormatter}\r\n     * @see {@link DateFormatter}\r\n     * @see {@link DurationFormatter}\r\n     * @param tagName           Tag name to replace\r\n     * @param format            Format to use\r\n     * @param dataItem          DataItem\r\n     * @return Formatted value\r\n     */\r\n    Sprite.prototype.getTagValue = function (tagName, format, dataItem) {\r\n        var value;\r\n        if (!$type.hasValue(dataItem)) {\r\n            dataItem = this.dataItem;\r\n        }\r\n        // Parse parts\r\n        var parts = [];\r\n        var reg = /([^.]+)\\(([^)]*)\\)|([^.]+)/g;\r\n        ;\r\n        var matches;\r\n        while (true) {\r\n            matches = reg.exec(tagName);\r\n            if (matches === null) {\r\n                break;\r\n            }\r\n            if (matches[3]) {\r\n                // Simple property\r\n                parts.push({\r\n                    prop: matches[3]\r\n                });\r\n            }\r\n            else {\r\n                // Method\r\n                // Parse parameters\r\n                var params = [];\r\n                if ($utils.trim(matches[2]) != \"\") {\r\n                    var reg2 = /'([^']*)'|\"([^\"]*)\"|([0-9\\-]+)/g;\r\n                    var matches2 = void 0;\r\n                    while (true) {\r\n                        matches2 = reg2.exec(matches[2]);\r\n                        if (matches2 === null) {\r\n                            break;\r\n                        }\r\n                        params.push(matches2[1] || matches2[2] || matches2[3]);\r\n                    }\r\n                }\r\n                parts.push({\r\n                    method: matches[1],\r\n                    params: params\r\n                });\r\n            }\r\n        }\r\n        // Check if we can retrieve the value from data item\r\n        if (dataItem) {\r\n            // Check values\r\n            value = this.getTagValueFromObject(parts, dataItem.values);\r\n            // Check properties\r\n            if (!$type.hasValue(value) || $type.isObject(value)) { // isObject helps to solve problem with date axis, as for example dateX will get dateX from values object and wont't get to the dateX date.\r\n                value = this.getTagValueFromObject(parts, dataItem);\r\n            }\r\n            // Check data context\r\n            var dataContext = dataItem.dataContext;\r\n            if (!$type.hasValue(value) && dataContext) {\r\n                value = this.getTagValueFromObject(parts, dataItem.dataContext);\r\n                // scond data context level sometimes exist (tree map)\r\n                if (!$type.hasValue(value) && dataContext.dataContext) {\r\n                    value = this.getTagValueFromObject(parts, dataContext.dataContext);\r\n                }\r\n            }\r\n            // Check component's data item\r\n            if (!$type.hasValue(value) && dataItem.component && dataItem.component.dataItem !== dataItem) {\r\n                value = dataItem.component.getTagValue(tagName, format);\r\n            }\r\n        }\r\n        // Check sprite's properties\r\n        if (!$type.hasValue(value)) {\r\n            value = this.getTagValueFromObject(parts, this.populateStringFrom || this);\r\n        }\r\n        // Finally, check the parent\r\n        if (!$type.hasValue(value) && this._parent) {\r\n            value = this._parent.getTagValue(tagName, format);\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Tries to retrieve values from properties of any object, then applies\r\n     * proper formatting to it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (improve)\r\n     * @param parts   Properties ant methods to access\r\n     * @param object  Source object\r\n     * @param format  A specific format to apply\r\n     * @return Formatted value\r\n     */\r\n    Sprite.prototype.getTagValueFromObject = function (parts, object, format) {\r\n        var current = object;\r\n        var formatApplied = false;\r\n        for (var i = 0, len = parts.length; i < len; i++) {\r\n            var part = parts[i];\r\n            if (part.prop) {\r\n                // Regular property\r\n                current = current[part.prop];\r\n                if (!$type.hasValue(current)) {\r\n                    // Not set, return undefined\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                // Method\r\n                switch (part.method) {\r\n                    case \"formatNumber\":\r\n                        var numberValue = $utils.anyToNumber(current);\r\n                        if ($type.hasValue(numberValue)) {\r\n                            current = this.numberFormatter.format(numberValue, format || part.params[0] || undefined);\r\n                            formatApplied = true;\r\n                        }\r\n                        break;\r\n                    case \"formatDate\":\r\n                        var dateValue = void 0;\r\n                        if ($type.isString(current)) {\r\n                            dateValue = this.dateFormatter.parse(current);\r\n                        }\r\n                        else {\r\n                            dateValue = $utils.anyToDate(current);\r\n                        }\r\n                        if (!$type.isDate(dateValue) || $type.isNaN(dateValue.getTime())) {\r\n                            // Was not able to get date out of value, quitting and letting\r\n                            // calling method try another value\r\n                            return;\r\n                        }\r\n                        if ($type.hasValue(dateValue)) {\r\n                            current = this.dateFormatter.format(dateValue, format || part.params[0] || undefined);\r\n                            formatApplied = true;\r\n                        }\r\n                        break;\r\n                    case \"formatDuration\":\r\n                        var durationValue = $utils.anyToNumber(current);\r\n                        if ($type.hasValue(durationValue)) {\r\n                            current = this.durationFormatter.format(durationValue, format || part.params[0] || undefined, part.params[1] || undefined);\r\n                            formatApplied = true;\r\n                        }\r\n                        break;\r\n                    case \"urlEncode\":\r\n                    case \"encodeURIComponent\":\r\n                        current = encodeURIComponent(current);\r\n                        break;\r\n                    default:\r\n                        if (current[part.method]) {\r\n                            current[part.method].apply(this, part.params);\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        // Apply default format if it wasn't applied explicitly\r\n        if (!formatApplied) {\r\n            var formatParts = [{\r\n                    method: \"\",\r\n                    params: format\r\n                }];\r\n            if (!$type.hasValue(format)) {\r\n                // Format is not set\r\n                // Determine from the type of the value\r\n                if ($type.isNumber(current)) {\r\n                    formatParts[0].method = \"formatNumber\";\r\n                    formatParts[0].params = \"\";\r\n                }\r\n                else if ($type.isDate(current)) {\r\n                    formatParts[0].method = \"formatDate\";\r\n                    formatParts[0].params = \"\";\r\n                }\r\n            }\r\n            else {\r\n                // Format set\r\n                // Try to determine formatter based on the format\r\n                var formatterType = $utils.getFormat(format);\r\n                // format\r\n                if (formatterType === $strings.NUMBER) {\r\n                    formatParts[0].method = \"formatNumber\";\r\n                }\r\n                else if (formatterType === $strings.DATE) {\r\n                    formatParts[0].method = \"formatDate\";\r\n                }\r\n                else if (formatterType === $strings.DURATION) {\r\n                    formatParts[0].method = \"formatDuration\";\r\n                }\r\n            }\r\n            // Apply format\r\n            if (formatParts[0].method) {\r\n                current = this.getTagValueFromObject(formatParts, current);\r\n            }\r\n        }\r\n        return current;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"dataItem\", {\r\n        /**\r\n         * @return [[DataItem]]\r\n         */\r\n        get: function () {\r\n            if (!this._dataItem) {\r\n                if (this.virtualParent) {\r\n                    return this.virtualParent.dataItem;\r\n                }\r\n                if (this._parent) {\r\n                    return this._parent.dataItem;\r\n                }\r\n            }\r\n            return this._dataItem;\r\n        },\r\n        /**\r\n         * A [[DataItem]] to use as element's data source.\r\n         *\r\n         * @todo Review type\r\n         * @param dataItem  DataItem\r\n         */\r\n        set: function (dataItem) {\r\n            //an not use this[\"_dataItem\"] here, as we return parent data item if this sprite doesn't have one.\r\n            // @todo:think about it\r\n            this.setDataItem(dataItem);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets currently used [[DataItem]].\r\n     *\r\n     * If the element has also `configField` set, it will also look for any\r\n     * config in DataItem's data context to apply to this element.\r\n     *\r\n     * @param dataItem DataItem\r\n     */\r\n    Sprite.prototype.setDataItem = function (dataItem) {\r\n        var _this = this;\r\n        if (this._dataItem != dataItem) {\r\n            this._dataItem = dataItem;\r\n            if (dataItem) {\r\n                if (this.configField) {\r\n                    var dataContext_1 = dataItem.dataContext;\r\n                    if (dataContext_1) {\r\n                        this.config = dataContext_1[this.configField];\r\n                        if (!this.config && dataContext_1.dataContext) {\r\n                            this.config = dataContext_1.dataContext[this.configField];\r\n                        }\r\n                    }\r\n                }\r\n                var dataContext_2 = dataItem.dataContext;\r\n                if (dataContext_2) {\r\n                    var dataContext2_1 = dataContext_2.dataContext;\r\n                    $object.each(this.propertyFields, function (propertyName, fieldValue) {\r\n                        if ($type.hasValue(dataContext_2[fieldValue])) {\r\n                            var anyThis = _this;\r\n                            anyThis[propertyName] = dataContext_2[fieldValue];\r\n                        }\r\n                        else {\r\n                            if (dataContext2_1) {\r\n                                var value = dataContext2_1[fieldValue];\r\n                                if ($type.hasValue(value)) {\r\n                                    var anyThis = _this;\r\n                                    anyThis[propertyName] = value;\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            this.invalidate();\r\n        }\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * PROPERTY UTILITIES\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Returns element's property value.\r\n     *\r\n     * Will check if there are any bindings with [[DataItem]].\r\n     *\r\n     * Will also apply any adapters bound to `propertyName`.\r\n     *\r\n     * @param propertyName  Property name\r\n     * @return Property value\r\n     */\r\n    Sprite.prototype.getPropertyValue = function (propertyName) {\r\n        var propValue = this.properties[propertyName];\r\n        // Apply adapter\r\n        if (!this._isTemplate) {\r\n            if (this._adapterO) {\r\n                propValue = this._adapterO.apply(propertyName, propValue);\r\n            }\r\n            propValue = globalAdapter.applyAll(this, propertyName, propValue);\r\n        }\r\n        return propValue;\r\n    };\r\n    Sprite.prototype.setColorProperty = function (property, value, invalidate) {\r\n        var currentValue = this.properties[property];\r\n        if (value instanceof Color && currentValue instanceof Color && value.toString() == currentValue.toString()) {\r\n            return false;\r\n        }\r\n        else {\r\n            return this.setPropertyValue(property, value, invalidate);\r\n        }\r\n    };\r\n    Sprite.prototype.setPercentProperty = function (property, value, invalidate, transform, precision, floor) {\r\n        value = $type.toNumberOrPercent(value);\r\n        if ($type.isNumber(value)) {\r\n            if ($type.isNumber(precision)) {\r\n                value = $math.round(value, precision, floor);\r\n            }\r\n            return this.setPropertyValue(property, value, invalidate, transform);\r\n        }\r\n        else {\r\n            var currentValue = this.properties[property];\r\n            if (value instanceof Percent && currentValue instanceof Percent && value.value == currentValue.value) {\r\n                return false;\r\n            }\r\n            else {\r\n                return this.setPropertyValue(property, value, invalidate, transform);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets elements's property value. Will also propagate the same property value\r\n     * on all element's clones.\r\n     *\r\n     * @param property    Property\r\n     * @param value       Value\r\n     * @param invalidate  Should the sprite be invalidated, cause it's re-rendering\r\n     * @param transform   Re-apply positioning of the element\r\n     * @return Did the value change? It will return `true` if the new value and the old value of the property are not the same\r\n     * @todo Review propagation to clones. Right now we simply check if clone is disposed before setting the same property on it. It's better to remove from clone list altogether.\r\n     */\r\n    Sprite.prototype.setPropertyValue = function (property, value, invalidate, transform) {\r\n        if (this.properties[property] !== value && !this.isDisposed()) {\r\n            this.properties[property] = value;\r\n            if (this.events.isEnabled(\"propertychanged\")) {\r\n                var event_1 = {\r\n                    type: \"propertychanged\",\r\n                    target: this,\r\n                    property: property\r\n                };\r\n                this.events.dispatchImmediately(\"propertychanged\", event_1);\r\n            }\r\n            if (invalidate) {\r\n                this.invalidate();\r\n            }\r\n            if (transform) {\r\n                this.invalidatePosition();\r\n            }\r\n            if (this.applyOnClones) {\r\n                var clones = this.clones.values;\r\n                var length_2 = clones.length;\r\n                for (var i = 0; i < length_2; ++i) {\r\n                    var clone = clones[i];\r\n                    if (!clone.isDisposed()) {\r\n                        //(<Sprite>clone).setPropertyValue(<any>property, value, invalidate, transform);\r\n                        clone[property] = value;\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Sprite.prototype.bind = function (property, source, bindToProperty, modifier) {\r\n        var _this = this;\r\n        if (bindToProperty === void 0) { bindToProperty = property; }\r\n        if ($type.hasValue(this._bindings[property])) {\r\n            this._bindings[property].dispose();\r\n        }\r\n        // set current value\r\n        this[property] = source[bindToProperty];\r\n        //source.addEventListener(AMEvent.PROPERTY_CHANGED, this.handleBindings, false, this);\r\n        this._bindings[property] = source.events.on(\"propertychanged\", function (event) {\r\n            if (event.property === bindToProperty) {\r\n                var value = source[bindToProperty];\r\n                if (modifier) {\r\n                    value = modifier(value);\r\n                }\r\n                // TODO clonesById\r\n                _this[property] = value;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Sets up and obeserver function to monitor changes in particular property\r\n     * or properties.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param property  Element's property name\r\n     * @param listener  Handler function\r\n     * @param context   Context for handler function\r\n     * @returns Event Disposer\r\n     */\r\n    Sprite.prototype.observe = function (property, listener, context, shouldClone) {\r\n        var _this = this;\r\n        return new MultiDisposer($array.map($array.toArray(property), function (prop) {\r\n            return _this.events.on(\"propertychanged\", function (e) {\r\n                if (e.property === prop) {\r\n                    listener.call(context, e);\r\n                }\r\n            }, context, shouldClone);\r\n        }));\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * ACCESSIBILITY-RELATED PROPERTIES\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Applies accessibility to the SVG element.\r\n     *\r\n     * Adds `<title>` and `<description>` elements as well as `aria-labelledby`\r\n     * and `role` properties.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.applyAccessibility = function () {\r\n        // Check if we need to add label and description\r\n        var title = this.readerTitle, description = this.readerDescription, role = this.role, hidden = this.readerHidden, checked = this.readerChecked, controls = this.readerControls, live = this.readerLive, orientation = this.readerOrientation, valueNow = this.readerValueNow, valueText = this.readerValueText;\r\n        // Init label/describe ids\r\n        var labelledByIds = [], describedByIds = [];\r\n        var labelledBy = this.readerLabelledBy;\r\n        if (labelledBy) {\r\n            labelledByIds.push(labelledBy);\r\n        }\r\n        var describedBy = this.readerDescribedBy;\r\n        if (describedBy) {\r\n            describedByIds.push(describedBy);\r\n        }\r\n        // Consolidate title and description if system tooltip is disabled\r\n        if (!this.showSystemTooltip && title) {\r\n            if (description) {\r\n                description = title + \" -- \" + description;\r\n            }\r\n            else {\r\n                description = title;\r\n            }\r\n            title = undefined;\r\n        }\r\n        // If we have only label, we use `aria-label` attribute.\r\n        // If there are both label and description, we'll go with separate tags and\r\n        // use `aria-labelledby`\r\n        if (title && !description && !this.showSystemTooltip) {\r\n            // Only label is set, use attribute\r\n            this.setSVGAttribute({\r\n                \"aria-label\": title\r\n            });\r\n            // Remove previous elements\r\n            this.removeSVGAttribute(\"aria-description\");\r\n            if (this._titleElement) {\r\n                this.group.removeElement(this._titleElement);\r\n                this._titleElement = undefined;\r\n            }\r\n            if (this._descriptionElement) {\r\n                this.group.removeElement(this._descriptionElement);\r\n                this._descriptionElement = undefined;\r\n            }\r\n        }\r\n        else {\r\n            if (title) {\r\n                var titleElement = this.titleElement;\r\n                var titleId = this.uid + \"-title\";\r\n                if (titleElement.node.textContent != title) {\r\n                    titleElement.node.textContent = title;\r\n                    titleElement.attr({ id: titleId });\r\n                }\r\n                labelledByIds.push(titleId);\r\n            }\r\n            else if (this._titleElement) {\r\n                this.group.removeElement(this._titleElement);\r\n                this._titleElement = undefined;\r\n            }\r\n            var descriptionId = this.uid + \"-description\";\r\n            if (description) {\r\n                var descriptionElement = this.descriptionElement;\r\n                if (descriptionElement.node.textContent != description) {\r\n                    descriptionElement.node.textContent = description;\r\n                    descriptionElement.attr({ id: descriptionId });\r\n                }\r\n                describedByIds.push(descriptionId);\r\n            }\r\n            else if (this._descriptionElement) {\r\n                this.group.removeElement(this._descriptionElement);\r\n                this._descriptionElement = undefined;\r\n                $array.remove(describedByIds, descriptionId);\r\n            }\r\n        }\r\n        // Add label and described properties\r\n        if (labelledByIds.length) {\r\n            this.setSVGAttribute({ \"aria-labelledby\": labelledByIds.join(\" \") });\r\n        }\r\n        else {\r\n            this.removeSVGAttribute(\"aria-labelledby\");\r\n        }\r\n        if (describedByIds.length) {\r\n            this.setSVGAttribute({ \"aria-describedby\": describedByIds.join(\" \") });\r\n        }\r\n        else {\r\n            this.removeSVGAttribute(\"aria-describedby\");\r\n        }\r\n        // Apply role\r\n        if (role) {\r\n            this.setSVGAttribute({ \"role\": role });\r\n        }\r\n        else {\r\n            this.removeSVGAttribute(\"role\");\r\n        }\r\n        // Apply aria-hidden\r\n        if (hidden) {\r\n            this.setSVGAttribute({ \"aria-hidden\": \"true\" });\r\n        }\r\n        else {\r\n            this.removeSVGAttribute(\"aria-hidden\");\r\n        }\r\n        // Apply aria-checked\r\n        if (checked) {\r\n            this.setSVGAttribute({ \"aria-checked\": \"true\" });\r\n        }\r\n        else if (checked === false) {\r\n            this.setSVGAttribute({ \"aria-checked\": \"false\" });\r\n        }\r\n        else {\r\n            this.removeSVGAttribute(\"aria-checked\");\r\n        }\r\n        // Apply aria-controls\r\n        if (controls) {\r\n            this.setSVGAttribute({ \"aria-controls\": controls });\r\n        }\r\n        else {\r\n            this.removeSVGAttribute(\"aria-controls\");\r\n        }\r\n        // Apply aria-live\r\n        if (live) {\r\n            this.setSVGAttribute({ \"aria-live\": live });\r\n        }\r\n        else {\r\n            this.removeSVGAttribute(\"aria-live\");\r\n        }\r\n        // Apply aria-orientation\r\n        if (orientation) {\r\n            this.setSVGAttribute({ \"aria-orientation\": orientation });\r\n        }\r\n        else {\r\n            this.removeSVGAttribute(\"aria-orientation\");\r\n        }\r\n        // Apply aria-valuenow\r\n        if (valueNow) {\r\n            this.setSVGAttribute({ \"aria-valuenow\": valueNow });\r\n        }\r\n        else {\r\n            this.removeSVGAttribute(\"aria-valuenow\");\r\n        }\r\n        // Apply aria-valuetext\r\n        if (valueText) {\r\n            this.setSVGAttribute({ \"aria-valuetext\": valueText });\r\n        }\r\n        else {\r\n            this.removeSVGAttribute(\"aria-valuetext\");\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"readerTitle\", {\r\n        /**\r\n         * @return Title\r\n         */\r\n        get: function () {\r\n            var title = this.getPropertyValue(\"readerTitle\");\r\n            if ($type.hasValue(title) && this.dataItem) {\r\n                return this.populateString(title);\r\n            }\r\n            return title;\r\n        },\r\n        /**\r\n         * Screen reader title of the element.\r\n         *\r\n         * @param value Title\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"readerTitle\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"readerDescription\", {\r\n        /**\r\n         * @return Description\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"readerDescription\");\r\n        },\r\n        /**\r\n         * Screen reader description of the element.\r\n         *\r\n         * @param value Description\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"readerDescription\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"role\", {\r\n        /**\r\n         * @return Role\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"role\");\r\n        },\r\n        /**\r\n         * A WAI-ARIA role for the element.\r\n         *\r\n         * @see {@link https://www.w3.org/TR/wai-aria-1.1/#role_definitions} for more information on WAI-ARIA roles\r\n         * @param value  Role\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"role\", value)) {\r\n                this.applyAccessibility();\r\n                if (value == \"slider\") {\r\n                    this.setSVGAttribute({ \"aria-valuemin\": \"0\" });\r\n                    this.setSVGAttribute({ \"aria-valuemax\": \"100\" });\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"readerHidden\", {\r\n        /**\r\n         * @return Hidden?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"readerHidden\");\r\n        },\r\n        /**\r\n         * Controls if element should be hidden from screen readers.\r\n         *\r\n         * @see {@link https://www.w3.org/TR/wai-aria-1.1/#aria-hidden} for more information\r\n         * @param value  Hidden?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"readerHidden\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"readerChecked\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Checked?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"readerChecked\");\r\n        },\r\n        /**\r\n         * Controls if element is currently marked as \"checked\".\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @see {@link https://www.w3.org/TR/wai-aria-1.1/#aria-checked} for more information\r\n         * @param value Checked?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"readerChecked\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"readerControls\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Setting value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"readerControls\");\r\n        },\r\n        /**\r\n         * A `uid` of an element this element controls.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @see {@link https://www.w3.org/TR/wai-aria-1.1/#aria-controls} for more information\r\n         * @param value Setting value\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"readerControls\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"readerLive\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Setting value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"readerLive\");\r\n        },\r\n        /**\r\n         * Controls accessibility setting \"aria-live\" for the element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @see {@link https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions} for more information\r\n         * @param value Setting value\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"readerLive\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"readerLabelledBy\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Target element\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"readerLabelledBy\");\r\n        },\r\n        /**\r\n         * A `uid` of an element that describes this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @see {@link https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby} for more information\r\n         * @param value Target element\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"readerLabelledBy\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"readerDescribedBy\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Target element\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"readerDescribedBy\");\r\n        },\r\n        /**\r\n         * A `uid` of an element that describes this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @see {@link https://www.w3.org/TR/wai-aria-1.1/#aria-describedby} for more information\r\n         * @param value Target element\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"readerDescribedBy\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"readerOrientation\", {\r\n        /**\r\n         * @return Orientation\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"readerOrientation\");\r\n        },\r\n        /**\r\n         * Orientation of the element.\r\n         *\r\n         * @since 4.7.16\r\n         * @param value Orientation\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"readerOrientation\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"readerValueNow\", {\r\n        /**\r\n         * @return Current value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"readerValueNow\");\r\n        },\r\n        /**\r\n         * Current value of the element.\r\n         *\r\n         * @since 4.7.16\r\n         * @param value Current value\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"readerValueNow\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"readerValueText\", {\r\n        /**\r\n         * @return Current value (text)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"readerValueText\");\r\n        },\r\n        /**\r\n         * Text representation of the current value of the element.\r\n         *\r\n         * @since 4.7.16\r\n         * @param value Current value (text)\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"readerValueText\", value)) {\r\n                this.applyAccessibility();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"keyboardOptions\", {\r\n        /**\r\n         * ==========================================================================\r\n         * USER INTERACTIONS\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Returns elements keyboard options.\r\n         *\r\n         * @return Keyboard options\r\n         */\r\n        get: function () {\r\n            if (!this.interactions.keyboardOptions) {\r\n                if (this.virtualParent) {\r\n                    return this.virtualParent.keyboardOptions;\r\n                }\r\n                if (this._parent) {\r\n                    return this._parent.keyboardOptions;\r\n                }\r\n            }\r\n            return this.interactions.keyboardOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"mouseOptions\", {\r\n        /**\r\n         * Mouse options.\r\n         *\r\n         * Enables controlling options related to the mouse, for example sensitivity\r\n         * of its mouse wheel.\r\n         *\r\n         * E.g. the below will reduce chart's wheel-zoom speed to half its default\r\n         * speed:\r\n         *\r\n         * ```TypeScript\r\n         * chart.plotContainer.mouseOptions.sensitivity = 0.5;\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.plotContainer.mouseOptions.sensitivity = 0.5;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"plotContainer\": {\r\n         *     \"mouseOptions\": {\r\n         *       \"sensitivity\": 0.5\r\n         *     }\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * @return Mouse options\r\n         */\r\n        get: function () {\r\n            if (!this.interactions.mouseOptions) {\r\n                if (this.virtualParent) {\r\n                    return this.virtualParent.mouseOptions;\r\n                }\r\n                if (this._parent) {\r\n                    return this._parent.mouseOptions;\r\n                }\r\n            }\r\n            return this.interactions.mouseOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"interactions\", {\r\n        /**\r\n         * Returns (creates if necessary) an [[InteractionObject]] associated with\r\n         * this element.\r\n         *\r\n         * [[InteractionObject]] is used to attach all kinds of user-interactions to\r\n         * the element, e.g. click/touch, dragging, hovering, and similar events.\r\n         *\r\n         * @return Interaction object\r\n         */\r\n        get: function () {\r\n            if (!this._interaction) {\r\n                var interaction = getInteraction().getInteraction(this.dom);\r\n                this._interaction = interaction;\r\n                this._interaction.clickable = this.clickable;\r\n                this._interaction.hoverable = this.hoverable;\r\n                this._interaction.trackable = this.trackable;\r\n                this._interaction.draggable = this.draggable;\r\n                this._interaction.swipeable = this.swipeable;\r\n                this._interaction.resizable = this.resizable;\r\n                this._interaction.wheelable = this.wheelable;\r\n                this._interaction.contextMenuDisabled = this.contextMenuDisabled;\r\n                this._interaction.inert = this.inert;\r\n                this._interaction.sprite = this;\r\n                this._disposers.push(this._interaction);\r\n            }\r\n            return this._interaction;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns true if interactions object was created. Mostly used just to avoid creating interactions object if not needed.\r\n     * @return Is Sprite interactive?\r\n     */\r\n    Sprite.prototype.isInteractive = function () {\r\n        if (this._interaction) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"focusable\", {\r\n        /**\r\n         * @return Can element be focused?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"focusable\");\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * ELEMENT FOCUS-RELATED STUFF\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Controls if the element can gain focus.\r\n         *\r\n         * Focusable element will be selectable via TAB key.\r\n         *\r\n         * Please note, clicking it with a mouse or touching will not add focus to\r\n         * it.\r\n         *\r\n         * Focused element will show a system-specific highlight, which might ruin\r\n         * the overal look. This is why we don't focus element on click/touch.\r\n         *\r\n         * A default setting varies for different elements. By default all elements\r\n         * are not focusable, except certain items like buttons, legend items, etc.\r\n         *\r\n         * @default undefined (auto)\r\n         * @param value  Can element be focused?\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"focusable\", value)) {\r\n                if (!value && !this.isInteractive()) {\r\n                }\r\n                else {\r\n                    this.interactions.focusable = value;\r\n                    if (value) {\r\n                        this.setSVGAttribute({ \"focusable\": value });\r\n                        if (!this._tabindex) {\r\n                            this.tabindex = 0;\r\n                        }\r\n                    }\r\n                    else {\r\n                        this.removeSVGAttribute(\"focusable\");\r\n                        this.tabindex = undefined;\r\n                    }\r\n                    // Set focus events that would apply \"focus\" state\r\n                    // setEventDisposer will also remove listeners if value == false\r\n                    this.interactions.setEventDisposer(\"sprite-focusable\", value, function () { return new MultiDisposer([\r\n                        _this.events.on(\"blur\", _this.handleBlur, _this, false),\r\n                        _this.events.on(\"focus\", _this.handleFocus, _this, false)\r\n                    ]); });\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Applies filters (if set) when element gains focus.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Original event\r\n     */\r\n    Sprite.prototype.handleFocus = function (ev) {\r\n        if (this.focusable) {\r\n            if (this.topParent) {\r\n                this.topParent.hasFocused = true;\r\n                this.topParent.focusedElement = this;\r\n            }\r\n            if (this.focusFilter) {\r\n                // Any `filters` manipulation will trigger `applyFilters()` so we don't\r\n                // need to call it here\r\n                this.filters.push(this.focusFilter);\r\n            }\r\n            if (this.hoverOnFocus) {\r\n                // Trigger a hover event as well\r\n                this.isHover = true;\r\n                this.handleOver();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Removes focus filter (if set) when elementloses focus.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Original event\r\n     */\r\n    Sprite.prototype.handleBlur = function (ev) {\r\n        if (this.focusable) {\r\n            if (this.topParent) {\r\n                this.topParent.hasFocused = false;\r\n                this.topParent.focusedElement = undefined;\r\n            }\r\n            if (this.focusFilter) {\r\n                // Any `filters` manipulation will trigger `applyFilters()` so we don't\r\n                // need to call it here\r\n                this.filters.removeValue(this.focusFilter);\r\n            }\r\n            if (this.hoverOnFocus) {\r\n                // Trigger a out event as well\r\n                this.isHover = false;\r\n                this.handleOut();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"focusFilter\", {\r\n        /**\r\n         * A reference to a [[Filter]] to apply to element when it gains focus.\r\n         *\r\n         * Normally, browsers will draw a default ugly square around focused element,\r\n         * which totally makes sense because its purpose is to help identify active\r\n         * element for visually impaired people.\r\n         *\r\n         * However, if you would rather apply a filter, so you can modify how focused\r\n         * element looks like, use `focusFilter`.\r\n         *\r\n         * Simply set it to an anstance of [[FocusFilter]], or any other filter\r\n         * object.\r\n         *\r\n         * ```TypeScript\r\n         * chart.focusFilter = new am4core.FocusFilter();\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.focusFilter = new am4core.FocusFilter();\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"focusFilter\": {\r\n         *     \"type\": \"FocusFilter\"\r\n         *   },\r\n         *   // ...\r\n         * }\r\n         * ```\r\n         *\r\n         * @see {@link Filter}\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/accessibility/} more about accessibility\r\n         * @see {@link https://www.amcharts.com/docs/v4/tutorials/changing-appearance-of-focused-items/} cusomizing focus appearance\r\n         * @ignore Exclude from docs\r\n         * @return Focused element filter\r\n         */\r\n        get: function () {\r\n            /*if (!this._focusFilter) {\r\n                this._focusFilter = new FocusFilter();\r\n                this._disposers.push(this._focusFilter);\r\n            }*/\r\n            //return this._focusFilter;\r\n            var focusFilter = this._focusFilter;\r\n            if (focusFilter) {\r\n                return focusFilter;\r\n            }\r\n            if (this.virtualParent) {\r\n                return this.virtualParent.focusFilter;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.focusFilter;\r\n            }\r\n            //this._focusFilter = new FocusFilter();\r\n            //this._disposers.push(this._focusFilter);\r\n        },\r\n        /**\r\n         * @see {@link Filter}\r\n         * @ignore Exclude from docs\r\n         * @todo This is still experimental, don't use it\r\n         */\r\n        set: function (value) {\r\n            this._focusFilter = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"hoverOnFocus\", {\r\n        /**\r\n         * @return Trigger hover on focus?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"hoverOnFocus\");\r\n        },\r\n        /**\r\n         * If set to `true`, this element will also trigger `\"over\"` event with all\r\n         * the related consequences, like \"hover\" state being applied and tooltip\r\n         * being shown.\r\n         *\r\n         * Useful as an accessibility feature to display rollover tooltips on items\r\n         * selected via keyboard.\r\n         *\r\n         * @param value  Trigger hover on focus?\r\n         * @default false\r\n         */\r\n        set: function (value) {\r\n            if (value !== this.hoverOnFocus) {\r\n                this.setPropertyValue(\"hoverOnFocus\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"tabindex\", {\r\n        /**\r\n         * @return TAB index\r\n         */\r\n        get: function () {\r\n            var index = this._tabindex;\r\n            if (index != null) {\r\n                return index;\r\n            }\r\n            else if (this.virtualParent) {\r\n                return this.virtualParent.tabindex;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.tabindex;\r\n            }\r\n        },\r\n        /**\r\n         * Sets or returns TAB index.\r\n         *\r\n         * Tab index maintains the order in which focusable elements gain focus when\r\n         * TAB key is pressed.\r\n         *\r\n         * Please note, tab index is not local to the chart. It affects the whole\r\n         * of the page, including non-SVG elements. Maintain extreme causion when\r\n         * setting tab indexes, as it affects the user experience for the whole\r\n         * web page.\r\n         *\r\n         * @param value TAB index\r\n         */\r\n        set: function (value) {\r\n            value = $type.toNumber(value);\r\n            if (this.setPropertyValue(\"tabindex\", value) && $type.isNumber(value)) {\r\n                this.interactions.tabindex = value;\r\n                this.setSVGAttribute({ \"tabindex\": value });\r\n                this._tabindex = value;\r\n                if (value > -1) {\r\n                    this.focusable = true;\r\n                }\r\n                else {\r\n                    this.focusable = undefined;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"inertiaOptions\", {\r\n        /**\r\n         * ==========================================================================\r\n         * DRAGGING AND RELATED STUFF\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Returns element's options to be used for inertia. This setting is\r\n         * inheritable, meaning that if not set directly, it will search in all its\r\n         * ascendants until very top.\r\n         *\r\n         * Inertia is used only if element's `inert` is set to `true`.\r\n         *\r\n         * \"Inert\" element, when dragged and released, will carry the momentum of the\r\n         * movement, and will continue moving in the same drag direction, gradually\r\n         * reducing in speed until finally stops.\r\n         *\r\n         * Check [[IInertiaOptions]] for how you tweak inertia animations.\r\n         *\r\n         * @return Inertia options\r\n         */\r\n        get: function () {\r\n            if (!this.interactions.inertiaOptions) {\r\n                if (this._parent) {\r\n                    return this._parent.inertiaOptions;\r\n                }\r\n            }\r\n            return this.interactions.inertiaOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"draggable\", {\r\n        /**\r\n         * @return `true` if element can be dragged\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"draggable\");\r\n        },\r\n        /**\r\n         * Controls if the element is draggable.\r\n         *\r\n         * @param value  `true` if element can be dragged\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"draggable\", value)) {\r\n                if (!value && !this.isInteractive()) {\r\n                }\r\n                else {\r\n                    this.applyCursorStyle();\r\n                    this.interactions.draggable = value;\r\n                    //interaction.processDraggable(this);\r\n                    // Add events\r\n                    // @todo Maybe attach to InteractionObject's multidisposer so that\r\n                    // sprites events get disposed together with them?\r\n                    // this.interactions.disposers.getItem(\"movable\")\r\n                    // setEventDisposer will also remove listeners if value == false\r\n                    this.interactions.setEventDisposer(\"sprite-draggable\", value, function () { return new MultiDisposer([\r\n                        _this.events.on(\"down\", _this.handleDown, _this, false),\r\n                        _this.events.on(\"dragstart\", _this.handleDragStart, _this, false),\r\n                        _this.events.on(\"drag\", _this.handleDragMove, _this, false),\r\n                        _this.events.on(\"dragstop\", _this.handleDragStop, _this, false)\r\n                    ]); });\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Executes when dragged element is being started to drag.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.handleDragStart = function (ev) {\r\n        if (!this.interactions.isTouchProtected || !ev.touch) {\r\n            this.interactions.originalPosition = {\r\n                x: this.pixelX,\r\n                y: this.pixelY\r\n            };\r\n            this._isDragged = true;\r\n            this.hideTooltip(0);\r\n        }\r\n    };\r\n    /**\r\n     * Tell this element to start being dragged. This is useful if you want to\r\n     * drag items by interactions performed not directly on the target element.\r\n     *\r\n     * Parameter `pointer` is highly recommended. By passing in the Pointer you\r\n     * will ensure that movement is tracked for the pointer that you want. If not\r\n     * supplied, the system will try to determine the most logical pointer.\r\n     *\r\n     * However this may fail if you have more than one pointer active, which\r\n     * might happen if you have several objects being dragged on a touch device.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param pointer Pointer to use for movement\r\n     */\r\n    Sprite.prototype.dragStart = function (pointer) {\r\n        //this.dragStop(pointer);\r\n        //this.draggable = true;\r\n        this._isDragged = true;\r\n        getInteraction().dragStart(this.interactions, pointer);\r\n    };\r\n    /**\r\n     * Executes when dragged element is being dropped.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype.handleDragStop = function (ev) {\r\n        if (!this.interactions.isTouchProtected || !ev.touch) {\r\n            this._isDragged = false;\r\n            this.showTooltip();\r\n            this.interactions.originalPosition = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Stops manually initiated dragging of the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param pointer Pointer to use as a reference\r\n     */\r\n    Sprite.prototype.dragStop = function (pointer, cancelled) {\r\n        //this.draggable = false;\r\n        this._isDragged = false;\r\n        getInteraction().dragStop(this.interactions, pointer, cancelled);\r\n        //this.handleDragStop();\r\n    };\r\n    /**\r\n     * Executes when {Sprite} is being dragged.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event object\r\n     * @todo Implement parent position offset calculation\r\n     */\r\n    Sprite.prototype.handleDragMove = function (ev) {\r\n        if (!this.interactions.isTouchProtected || !ev.touch) {\r\n            var point = this.interactions.originalPosition;\r\n            if (point && this._isDragged) {\r\n                var globalScale = this._parent.globalScale * this.svgContainer.cssScale;\r\n                this.moveTo({ x: point.x + ev.shift.x / globalScale, y: point.y + ev.shift.y / globalScale }, undefined, undefined, true);\r\n            }\r\n            this.dispatchImmediately(\"dragged\", ev);\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"inert\", {\r\n        /**\r\n         * @return `true` if element should use inertia when animated\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"inert\");\r\n        },\r\n        /**\r\n         * Controls if the element should use inertia when interacted with.\r\n         *\r\n         * \"Inert\" element, when dragged and released, will carry the momentum of the\r\n         * movement, and will continue moving in the same drag direction, gradually\r\n         * reducing in speed until finally stops.\r\n         *\r\n         * @default false\r\n         * @param value `true` if element should use inertia when animated\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"inert\", value)) {\r\n                if (!value && !this.isInteractive()) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this.interactions.inert = value;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"hoverOptions\", {\r\n        /**\r\n         * ==========================================================================\r\n         * HOVERING\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Returns Sprite's hover options.\r\n         *\r\n         * @see {@link IHoverOptions} for available options.\r\n         * @return Options\r\n         */\r\n        get: function () {\r\n            if (!this.interactions.hoverOptions) {\r\n                if (this.virtualParent) {\r\n                    return this.virtualParent.hoverOptions;\r\n                }\r\n                if (this._parent) {\r\n                    return this._parent.hoverOptions;\r\n                }\r\n            }\r\n            return this.interactions.hoverOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"hoverable\", {\r\n        /**\r\n         * @return `true` if element is hoverable\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"hoverable\");\r\n        },\r\n        /**\r\n         * Controls if the element is hoverable (hover events are registered).\r\n         *\r\n         * Use `over` and `out` events, to watch for those respective actions.\r\n         *\r\n         * @default false\r\n         * @param value `true` if element can be hovered\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"hoverable\", value)) {\r\n                if (!value && !this.isInteractive()) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this.applyCursorStyle();\r\n                    this.interactions.hoverable = value;\r\n                    // setEventDisposer will also remove listeners if value == false\r\n                    this.interactions.setEventDisposer(\"sprite-hoverable\", value, function () { return new MultiDisposer([\r\n                        _this.events.on(\"over\", _this.handleOver, _this, false),\r\n                        _this.events.on(\"out\", _this.handleOut, _this, false),\r\n                    ]); });\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Handles tasks when element becomes hovered:\r\n     * * Shows [[Tooltip]] if applicable\r\n     * * Applies \"hover\" state\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event object\r\n     */\r\n    Sprite.prototype.handleOver = function (ev) {\r\n        if (this._outTimeout) {\r\n            this._outTimeout.dispose();\r\n        }\r\n        if (this.isHover) {\r\n            if (this.states.hasKey(\"hover\")) {\r\n                //this.setState(\"hover\");\r\n                // This will check `isHover` and will set \"hover\" state\r\n                if (!this.isHidden) {\r\n                    this.applyCurrentState();\r\n                }\r\n            }\r\n            var point = void 0;\r\n            if (ev && ev.pointer) {\r\n                point = $utils.documentPointToSvg(ev.pointer.point, this.svgContainer.SVGContainer, this.svgContainer.cssScale);\r\n            }\r\n            if (this.showTooltipOn == \"hover\") {\r\n                this.showTooltip(point);\r\n            }\r\n        }\r\n        else {\r\n            if (this.showTooltipOn == \"hover\") {\r\n                this.hideTooltip();\r\n            }\r\n            if (!this.isHidden && this.states.hasKey(\"hover\")) {\r\n                this.applyCurrentState();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handles tasks when element loses hover:\r\n     *\r\n     * * Hides [[Tooltip]]\r\n     * * Applies default state\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev [description]\r\n     */\r\n    Sprite.prototype.handleOut = function (ev) {\r\n        var _this = this;\r\n        if (this.tooltip && this.tooltip.targetSprite == this && this.tooltip.keepTargetHover) {\r\n            this._outTimeout = this.setTimeout(function () {\r\n                if (!_this.tooltip.isHover) {\r\n                    if (_this.tooltip.targetSprite == _this) {\r\n                        _this.hideTooltip();\r\n                    }\r\n                    _this._outTimeout = _this.setTimeout(_this.handleOutReal.bind(_this), _this.rollOutDelay);\r\n                }\r\n            }, 10);\r\n            return;\r\n        }\r\n        if (this.showTooltipOn == \"hover\") {\r\n            this.hideTooltip();\r\n        }\r\n        this._outTimeout = this.setTimeout(this.handleOutReal.bind(this), this.rollOutDelay);\r\n    };\r\n    /**\r\n     * [handleOutReal description]\r\n     *\r\n     * @ignore\r\n     * @todo description\r\n     */\r\n    Sprite.prototype.handleOutReal = function () {\r\n        if (!this.isHidden && !this.isHiding && this.states.hasKey(\"hover\")) {\r\n            this.applyCurrentState();\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"hitOptions\", {\r\n        /**\r\n         * ==========================================================================\r\n         * CLICKING/TAPPING AND TOGGLING STUFF\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Returns Sprite's click (hit) options.\r\n         *\r\n         * Click (hit) options control things like double-click, timeouts, etc.\r\n         *\r\n         * @see {@link IHitOptions} for available options.\r\n         * @return Options\r\n         */\r\n        get: function () {\r\n            if (!this.interactions.hitOptions) {\r\n                if (this.virtualParent) {\r\n                    return this.virtualParent.hitOptions;\r\n                }\r\n                if (this._parent) {\r\n                    return this._parent.hitOptions;\r\n                }\r\n            }\r\n            return this.interactions.hitOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Prepares element's after `down` event.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event\r\n     */\r\n    Sprite.prototype.handleDown = function (ev) {\r\n        if (this.interactions.downPointers.length === 1) {\r\n            this.interactions.originalPosition = {\r\n                x: this.pixelX,\r\n                y: this.pixelY\r\n            };\r\n            this.interactions.originalAngle = this.rotation;\r\n            this.interactions.originalScale = this.scale;\r\n            if (this.states.hasKey(\"down\")) {\r\n                this.setState(\"down\");\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Prepares element's after `up` event.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event\r\n     */\r\n    Sprite.prototype.handleUp = function (ev) {\r\n        var _this = this;\r\n        /*if (!this.isDown) {\r\n            this.interactions.originalPosition = null;\r\n            this.interactions.originalAngle = null;\r\n            this.interactions.originalScale = null;\r\n        }*/\r\n        this._isResized = false;\r\n        if (this.states.hasKey(\"down\")) {\r\n            this.applyCurrentState();\r\n        }\r\n        if (this.showTooltipOn == \"hit\") {\r\n            this.updateTooltipPosition(ev.pointer.point);\r\n            this._disposers.push(registry.events.once(\"exitframe\", function () {\r\n                _this.showTooltip();\r\n            }));\r\n            this._disposers.push(getInteraction().body.events.once(\"down\", function (ev) {\r\n                _this.hideTooltip();\r\n            }));\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"clickable\", {\r\n        /**\r\n         * @return {boolean}\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"clickable\");\r\n        },\r\n        /**\r\n         * Indicates if the element is clickable.\r\n         *\r\n         * Some type of the elements, like buttons are clickable by default.\r\n         *\r\n         * Most of the elements are not clickable by default.\r\n         *\r\n         * Use `hit`, `doublehit`, `up`, `down`, `toggled` events to watch for\r\n         * respective click/touch actions.\r\n         *\r\n         * @param value `true` if element can be clicked\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"clickable\", value)) {\r\n                if (!value && !this.isInteractive()) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this.applyCursorStyle();\r\n                    this.interactions.clickable = value;\r\n                    // setEventDisposer will also remove listeners if value == false\r\n                    this.interactions.setEventDisposer(\"sprite-clickable\", value, function () { return new MultiDisposer([\r\n                        _this.events.on(\"down\", _this.handleDown, _this, false),\r\n                        _this.events.on(\"up\", _this.handleUp, _this, false)\r\n                    ]); });\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"togglable\", {\r\n        /**\r\n         * @return Is togglable?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"togglable\");\r\n        },\r\n        /**\r\n         * Indicates if element can be toggled on and off by subsequent clicks/taps.\r\n         *\r\n         * Togglable element will alternate its `isActive` property between `true`\r\n         * and `false` with each click.\r\n         *\r\n         * @param value Is togglable?\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"togglable\", value)) {\r\n                if (!value && !this.isInteractive()) {\r\n                    // void\r\n                }\r\n                else {\r\n                    // setEventDisposer will also remove listeners if value == false\r\n                    this.interactions.setEventDisposer(\"sprite-togglable\", value, function () { return _this.events.on(\"hit\", _this.handleToggle, _this, false); });\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Handles toggling of the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event\r\n     */\r\n    Sprite.prototype.handleToggle = function (ev) {\r\n        this.isActive = !this.isActive;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"contextMenuDisabled\", {\r\n        /**\r\n         * @return Context menu disabled?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"contextMenuDisabled\");\r\n        },\r\n        /**\r\n         * Should element prevent context menu to be displayed, e.g. when\r\n         * right-clicked?\r\n         *\r\n         * @default false\r\n         * @param value Context menu disabled?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"contextMenuDisabled\", value)) {\r\n                this.interactions.contextMenuDisabled = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"url\", {\r\n        /**\r\n         * @return URL\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"url\");\r\n        },\r\n        /**\r\n         * Click-through URL for this element.\r\n         *\r\n         * If set, clicking/tapping this element will open the new URL in a target\r\n         * window/tab as set by `urlTarget`.\r\n         *\r\n         * Please note that URL will be parsed by data placeholders in curly\r\n         * brackets, to be populated from data. E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * series.columns.template.url = \"https://www.google.com/search?q={category.urlEncode()}\";\r\n         * ```\r\n         * ```JavaScript\r\n         * series.columns.template.url = \"https://www.google.com/search?q={category.urlEncode()}\";\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     // ...\r\n         *     \"columns\": {\r\n         *       \"url\": \"https://www.google.com/search?q={category.urlEncode()}\"\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * @param value URL\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"url\", value)) {\r\n                if (this._urlDisposer) {\r\n                    this._urlDisposer.dispose();\r\n                }\r\n                // If URL is not empty, set up events\r\n                if ($utils.isNotEmpty(value)) {\r\n                    this._urlDisposer = this.events.on(\"hit\", this.urlHandler, this, false);\r\n                    // Set other required parameters\r\n                    this.clickable = true;\r\n                    this.cursorOverStyle = MouseCursorStyle.pointer;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"baseId\", {\r\n        /**\r\n         * [baseId description]\r\n         *\r\n         * @ignore\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            if (!this._baseId && this._parent) {\r\n                this.baseId = this._parent.baseId;\r\n            }\r\n            return this._baseId;\r\n        },\r\n        /**\r\n         * [baseId description]\r\n         *\r\n         * @ignore\r\n         * @param  value  [description]\r\n         */\r\n        set: function (value) {\r\n            this.setBaseId(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Sprite.prototype.setBaseId = function (value) {\r\n        if (value != this._baseId) {\r\n            if (this.invalid) {\r\n                this.invalid = false;\r\n                registry.removeFromInvalidSprites(this);\r\n                this.invalidate();\r\n            }\r\n            this._baseId = value;\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"baseSprite\", {\r\n        /**\r\n         * Returns the mail chart object that this element belongs to.\r\n         *\r\n         * In most cases it will mean the chart object.\r\n         *\r\n         * Can be used to retrieve chart object in various events and adapters.\r\n         *\r\n         * ```TypeScript\r\n         * chart.seriesContainer.events.on(\"hit\", function(ev) {\r\n         *   console.log(ev.target.baseSprite);\r\n         * });\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.seriesContainer.events.on(\"hit\", function(ev) {\r\n         *   console.log(ev.target.baseSprite);\r\n         * });\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"seriesContainer\": {\r\n         *     \"events\": {\r\n         *       \"hit\": function(ev) {\r\n         *         console.log(ev.target.baseSprite);\r\n         *       }\r\n         *     }\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * @readonly\r\n         * @return  Base chart object\r\n         */\r\n        get: function () {\r\n            if (this.isBaseSprite) {\r\n                return this;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.baseSprite;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"urlTarget\", {\r\n        /**\r\n         * @return URL target\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"urlTarget\");\r\n        },\r\n        /**\r\n         * Target to use for URL clicks:\r\n         *\r\n         * * _blank\r\n         * * _self (default)\r\n         * * _parent\r\n         * * _top\r\n         * * Name of the window/frame\r\n         *\r\n         * Ignored if `url` is not set.\r\n         *\r\n         * @param value URL target\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"urlTarget\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Handles URL transition on element click.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev An event object\r\n     */\r\n    Sprite.prototype.urlHandler = function (ev) {\r\n        // Is URL set?\r\n        if ($utils.isNotEmpty(this.url)) {\r\n            // Proceed to the URL\r\n            var url = this.populateString(this.url);\r\n            if (this.urlTarget === \"_self\") {\r\n                window.location.href = url;\r\n            }\r\n            else {\r\n                window.open(url, this.urlTarget);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"swipeOptions\", {\r\n        /**\r\n         * ==========================================================================\r\n         * SWIPING GESTURE TRACKING\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Returns element's swipe gesture options.\r\n         *\r\n         * @return Swipe gesture options\r\n         */\r\n        get: function () {\r\n            if (!this.interactions.swipeOptions) {\r\n                if (this.virtualParent) {\r\n                    return this.virtualParent.swipeOptions;\r\n                }\r\n                if (this._parent) {\r\n                    return this._parent.swipeOptions;\r\n                }\r\n            }\r\n            return this.interactions.swipeOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"swipeable\", {\r\n        /**\r\n         * @return Element swipable?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"swipeable\");\r\n        },\r\n        /**\r\n         * Controls if element is swipeable.\r\n         *\r\n         * Swipable element will invoke `swipe`, `swipeleft` and `swiperight` events,\r\n         * when quick horizontal drag action is performed with either mouse or touch.\r\n         *\r\n         * Please note that combining swipe and drag is possible, however will incur\r\n         * a slight but noticeable delay in drag start.\r\n         *\r\n         * @param value  Element swipable?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"swipeable\", value)) {\r\n                this.applyCursorStyle();\r\n                if (!value && !this.isInteractive()) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this.interactions.swipeable = value;\r\n                }\r\n                //interaction.processSwipeable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"trackable\", {\r\n        /**\r\n         * @return Track cursor movement over element?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"trackable\");\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * POINTER TRACKING\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Indicates if the element is trackable (mouse position over it is reported to\r\n         * event listeners).\r\n         *\r\n         * Will invoke `track` events whenever pointer (cursor) changes position\r\n         * while over element.\r\n         *\r\n         * Please note, touch devices will also invoke `track` events when touch\r\n         * point is moved while holding down on a trackable element.\r\n         *\r\n         * @param value Track cursor movement over element?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"trackable\", value)) {\r\n                if (!value && !this.isInteractive()) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this.applyCursorStyle();\r\n                    this.interactions.trackable = value;\r\n                }\r\n                //interaction.processTrackable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"wheelable\", {\r\n        /**\r\n         * @return Mouse wheel events enabled?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"wheelable\");\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * MOUSE-WHEEL RELATED\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Indicates if the element can be interacted with mouse wheel.\r\n         *\r\n         * Will invoke `wheel`, `wheelup`, `wheeldown`, `wheelleft`, and `wheelright`\r\n         * events when using mouse wheel over the element.\r\n         *\r\n         * @param value Mouse wheel events enabled?\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"wheelable\", value)) {\r\n                if (!value && !this.isInteractive()) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this.applyCursorStyle();\r\n                    this.interactions.wheelable = value;\r\n                }\r\n                //interaction.processWheelable(this);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"resizable\", {\r\n        /**\r\n         * @return Element resizable?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"resizable\");\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * RESIZE\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Indicates if this element is resizable.\r\n         *\r\n         * Enabling resize will turn on various interactions on the element. Their\r\n         * actual functionality will depend on other properties.\r\n         *\r\n         * If the element also `draggable`, resize will only happen with two points\r\n         * of contact on a touch device.\r\n         *\r\n         * If the element is not draggable, resize can be performed with just one\r\n         * point of contact, touch or mouse.\r\n         *\r\n         * Will invoke `resize` event every time the size of the element changes.\r\n         *\r\n         * @param value  Element resizable?\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"resizable\", value)) {\r\n                if (!value && !this.isInteractive()) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this.applyCursorStyle();\r\n                    this.interactions.resizable = value;\r\n                    // setEventDisposer will also remove listeners if value == false\r\n                    this.interactions.setEventDisposer(\"sprite-resizable\", value, function () { return new MultiDisposer([\r\n                        _this.events.on(\"down\", _this.handleDown, _this, false),\r\n                        _this.events.on(\"resize\", _this.handleResize, _this, false)\r\n                    ]); });\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Handles resize intermediate step.\r\n     *\r\n     * By default this method resizes actual element. Each element, can override\r\n     * this method to implement their own resize logic.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event object\r\n     */\r\n    Sprite.prototype.handleResize = function (ev) {\r\n        if (!this.interactions.isTouchProtected || !ev.touch) {\r\n            this._isResized = true;\r\n            this.scale = this.interactions.originalScale * ev.scale;\r\n            this.validatePosition();\r\n            /*center: (io.draggable\r\n            ? $math.getMidPoint(point1, point2)\r\n            : {\r\n                \"x\": io.originalPosition.x,\r\n                \"y\": io.originalPosition.y\r\n            })*/\r\n            //this.moveTo(this.originalPosition.x + ev.shift.x, this.originalPosition.y + ev.shift.y);\r\n            if (this.draggable || this.dragWhileResize) {\r\n                this._isDragged = false;\r\n                var svgPoint1 = $utils.documentPointToSvg(ev.point1, this.htmlContainer, this.svgContainer.cssScale);\r\n                var svgPoint2 = $utils.documentPointToSvg(ev.point2, this.htmlContainer, this.svgContainer.cssScale);\r\n                var svgMidPoint = $math.getMidPoint(svgPoint1, svgPoint2);\r\n                var parentPoint1 = $utils.documentPointToSprite(ev.startPoint1, this._parent);\r\n                var parentPoint2 = $utils.documentPointToSprite(ev.startPoint2, this._parent);\r\n                var originalPosition = this.interactions.originalPosition;\r\n                var originalScale = this.interactions.originalScale;\r\n                if (originalPosition) {\r\n                    var spritePoint1 = { x: (parentPoint1.x - originalPosition.x) / originalScale, y: (parentPoint1.y - originalPosition.y) / originalScale };\r\n                    var spritePoint2 = { x: (parentPoint2.x - originalPosition.x) / originalScale, y: (parentPoint2.y - originalPosition.y) / originalScale };\r\n                    var spriteMidPoint = $math.getMidPoint(spritePoint1, spritePoint2);\r\n                    var parentPoint = $utils.svgPointToSprite(svgMidPoint, this._parent);\r\n                    this.moveTo({ x: parentPoint.x - spriteMidPoint.x * this.scale, y: parentPoint.y - spriteMidPoint.y * this.scale }, undefined, undefined, true);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"cursorOptions\", {\r\n        /**\r\n         * ==========================================================================\r\n         * MOUSE-RELATED\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Returns element's cursor options.\r\n         *\r\n         * Cursor options usually define cursor style for various states of the\r\n         * hovered element.\r\n         *\r\n         * Elements inherit `cursorOptions` from their parents if they don't have\r\n         * them set explicitly.\r\n         *\r\n         * @see {@link ICursorOptions} for a list of available options\r\n         * @return Cursor options\r\n         */\r\n        get: function () {\r\n            if (!this.interactions.cursorOptions) {\r\n                if (this.virtualParent) {\r\n                    return this.virtualParent.cursorOptions;\r\n                }\r\n                if (this._parent) {\r\n                    return this._parent.cursorOptions;\r\n                }\r\n            }\r\n            return this.interactions.cursorOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"cursorOverStyle\", {\r\n        /**\r\n         * A shortcut to setting mouse cursor on hover.\r\n         *\r\n         * Example:\r\n         *\r\n         * ```TypeScript\r\n         * series.slices.template.cursorOverStyle = am4core.MouseCursorStyle.pointer;\r\n         * ```\r\n         * ```JavaScript\r\n         * series.slices.template.cursorOverStyle = am4core.MouseCursorStyle.pointer;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": {\r\n         *     // ...\r\n         *     \"slices\": {\r\n         *       \"cursorOverStyle\": \"pointer\"\r\n         *     }\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * @param style An array of styles to apply onhover\r\n         */\r\n        set: function (style) {\r\n            if (!this.cursorOptions.overStyle) {\r\n                this.interactions.cursorOptions = {\r\n                    defaultStyle: this.cursorOptions.defaultStyle\r\n                };\r\n            }\r\n            this.cursorOptions.overStyle = style;\r\n            getInteraction().applyCursorOverStyle(this.interactions);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"cursorDownStyle\", {\r\n        /**\r\n         * A shortcut to setting mouse cursor when button is pressed down.\r\n         *\r\n         * Example:\r\n         *\r\n         * ```TypeScript\r\n         * series.slices.template.cursorDownStyle = am4core.MouseCursorStyle.grabbing;\r\n         * ```\r\n         * ```JavaScript\r\n         * series.slices.template.cursorDownStyle = am4core.MouseCursorStyle.grabbing;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": {\r\n         *     // ...\r\n         *     \"slices\": {\r\n         *       \"cursorDownStyle\": \"grabbing\"\r\n         *     }\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * @param style An array of styles to apply onhover\r\n         */\r\n        set: function (style) {\r\n            this.cursorOptions.downStyle = style;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Applies default cursor styles for interactable elements.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Determine if this is necessary. Maybe let's not apply any cursor styles by default\r\n     */\r\n    Sprite.prototype.applyCursorStyle = function () {\r\n        // Draggable styles\r\n        /*if (this.draggable) {\r\n\r\n            if (!$type.hasValue(this.cursorOptions.overStyle)) {\r\n                this.cursorOptions.overStyle = MouseCursorStyle.grab;\r\n            }\r\n\r\n            if (!$type.hasValue(this.cursorOptions.downStyle)) {\r\n                this.cursorOptions.downStyle = MouseCursorStyle.grabbing;\r\n            }\r\n        }*/\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"interactionsEnabled\", {\r\n        /**\r\n         * @return Is interaction enabled for this element?\r\n         */\r\n        get: function () {\r\n            var value = this.getPropertyValue(\"interactionsEnabled\");\r\n            if (value === false) {\r\n                return false;\r\n            }\r\n            if (this.virtualParent) {\r\n                return this.virtualParent.interactionsEnabled;\r\n            }\r\n            if (this._parent) {\r\n                return this._parent.interactionsEnabled;\r\n            }\r\n            return true;\r\n        },\r\n        /**\r\n         * Setting this to `false` will effectively disable all interactivity on the\r\n         * element.\r\n         *\r\n         * @param value  Is interaction enabled for this element?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"interactionsEnabled\", value)) {\r\n                var pointerEvents = null; // must be null, not \"null\"!\r\n                if (!value) {\r\n                    pointerEvents = \"none\";\r\n                }\r\n                else {\r\n                    // this is for IE\r\n                    this.group.node.style.pointerEvents = \"\";\r\n                }\r\n                this.group.node.style.pointerEvents = pointerEvents;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"exporting\", {\r\n        /**\r\n         * @return Export instance\r\n         */\r\n        get: function () {\r\n            return this.getExporting();\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * EXPORT-RELATED STUFF\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * An [[Export]] instance.\r\n         *\r\n         * Used to access API of the chart export functionality.\r\n         *\r\n         * If `exporting` is not set, the element inherits [[Export]] instance from\r\n         * its parents.\r\n         *\r\n         * Upon request, if no parent has such instance, a new one is created, using\r\n         * default settings, what in most cases is just enough.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/exporting/} for more info about exporting\r\n         * @param exp  Export\r\n         */\r\n        set: function (exp) {\r\n            this._exporting.set(exp, exp);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * This is here as a method so that inheriting classes could override it.\r\n     *\r\n     * @return Export instance\r\n     */\r\n    Sprite.prototype.getExporting = function () {\r\n        var _export = this._exporting.get();\r\n        if (_export) {\r\n            return _export;\r\n        }\r\n        else {\r\n            if (this.isStandaloneInstance || !this._parent) {\r\n                _export = new Export(this.svgContainer.SVGContainer);\r\n                _export.sprite = this;\r\n                _export.language = this.language;\r\n                _export.numberFormatter = this.numberFormatter;\r\n                _export.dateFormatter = this.dateFormatter;\r\n                _export.durationFormatter = this.durationFormatter;\r\n                this._exporting.set(_export, _export);\r\n            }\r\n            else {\r\n                return this._parent.exporting;\r\n            }\r\n        }\r\n        return _export;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"exportable\", {\r\n        /**\r\n         * @return Export?\r\n         */\r\n        get: function () {\r\n            return this._exportable;\r\n            /*const svgContainer = this.svgContainer;\r\n            return !svgContainer || $array.indexOf(svgContainer.nonExportableSprites, this) == -1;*/\r\n        },\r\n        /**\r\n         * If set to `false` this element will be omitted when exporting the chart\r\n         * to an image.\r\n         *\r\n         * @default true\r\n         * @param value  Export?\r\n         */\r\n        set: function (value) {\r\n            var svgContainer = this.svgContainer;\r\n            this._exportable = value;\r\n            if (svgContainer) {\r\n                if (value) {\r\n                    $array.remove(svgContainer.nonExportableSprites, this);\r\n                }\r\n                else if ($array.indexOf(svgContainer.nonExportableSprites, this) == -1) {\r\n                    svgContainer.nonExportableSprites.push(this);\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * ==========================================================================\r\n     * MODAL/POPUP RELATED STUFF\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Private method to be used for \"classPrefix\" adapter for modals/popups.\r\n     *\r\n     * @param value  Prefix\r\n     */\r\n    Sprite.prototype.modalPrefix = function (value) {\r\n        value = options.classNamePrefix + value;\r\n        return value;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"modal\", {\r\n        /**\r\n         * Returns a [[Modal]] instance, associated with this chart.\r\n         * (elements top parent)\r\n         *\r\n         * Accessing modal does not make it appear. To make a modal appear, use\r\n         * `showModal()` method.\r\n         *\r\n         * @see {@link Modal} for more information about using Modal windows\r\n         * @return Modal instance\r\n         */\r\n        get: function () {\r\n            var svgContainer = this.svgContainer;\r\n            if (svgContainer) {\r\n                var modal = svgContainer.modal;\r\n                if (!modal.adapter.has(\"classPrefix\", this.modalPrefix)) {\r\n                    modal.adapter.add(\"classPrefix\", this.modalPrefix);\r\n                }\r\n                return modal;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Opens a modal window with specific content (`text` parameter) and,\r\n     * optionally, `title`.\r\n     *\r\n     * The `text` parameter can contain HTML content.\r\n     *\r\n     * @see {@link Modal} for more information about using Modal windows\r\n     * @param text   Modal contents\r\n     * @param title  Title for the modal window\r\n     */\r\n    Sprite.prototype.openModal = function (text, title) {\r\n        var svgContainer = this.svgContainer;\r\n        if (svgContainer) {\r\n            return svgContainer.openModal(text, title);\r\n        }\r\n    };\r\n    /**\r\n     * Hides modal window if there is one currently open.\r\n     */\r\n    Sprite.prototype.closeModal = function () {\r\n        var svgContainer = this.svgContainer;\r\n        if (svgContainer) {\r\n            svgContainer.closeModal();\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"popups\", {\r\n        /**\r\n         * A list of popups for this chart.\r\n         *\r\n         * @return Popups\r\n         */\r\n        get: function () {\r\n            var svgContainer = this.svgContainer;\r\n            if (svgContainer) {\r\n                var popups = svgContainer.popups;\r\n                popups.template.sprite = this;\r\n                if (!popups.template.adapter.has(\"classPrefix\", this.modalPrefix)) {\r\n                    popups.template.adapter.add(\"classPrefix\", this.modalPrefix);\r\n                }\r\n                return popups;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates, opens, and returns a new [[Popup]] window.\r\n     *\r\n     * `text` can be any valid HTML.\r\n     *\r\n     * `title` is currently not supported.\r\n     *\r\n     * @param text   Popup contents\r\n     * @param title  Popup title\r\n     * @return Popup instance\r\n     */\r\n    Sprite.prototype.openPopup = function (text, title) {\r\n        var svgContainer = this.svgContainer;\r\n        if (svgContainer) {\r\n            return svgContainer.openPopup(text, title);\r\n        }\r\n    };\r\n    /**\r\n     * Closes all currently open popup windows\r\n     */\r\n    Sprite.prototype.closeAllPopups = function () {\r\n        var svgContainer = this.svgContainer;\r\n        if (svgContainer) {\r\n            svgContainer.closeAllPopups();\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"x\", {\r\n        /**\r\n         * @return X coordinate\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"x\");\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * POSITIONAL PROPERTIES AND RELATED STUFF\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Element's absolute or relative X coordinate.\r\n         *\r\n         * If setting both X and Y, please consider using `moveTo()` method instead,\r\n         * as it will be faster to set both coordinates at once.\r\n         *\r\n         * @param value X coordinate\r\n         */\r\n        set: function (value) {\r\n            if (!this.isDragged) {\r\n                this.setPercentProperty(\"x\", value, false, true, this._positionPrecision, true);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelX\", {\r\n        /**\r\n         * Returns element's current absolute X coordinate in pixels.\r\n         *\r\n         * @readonly\r\n         * @return X coordinate (px)\r\n         */\r\n        get: function () {\r\n            var value = $math.fitToRange(this.getPixelX(this.x), this.minX, this.maxX);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"pixelX\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativeX\", {\r\n        /**\r\n         * Returns element's current relative X coordinate in [[Percent]].\r\n         *\r\n         * @return X coordinate ([[Percent]])\r\n         */\r\n        get: function () {\r\n            if (!this._adapterO) {\r\n                return this.getRelativeX(this.x);\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"relativeX\", this.getRelativeX(this.x));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"minX\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Min X (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"minX\");\r\n        },\r\n        /**\r\n         * The smallest allowable absolute X coordinate for this element.\r\n         *\r\n         * This is used to contain element movement within certain boundaries.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Min X (px)\r\n         */\r\n        set: function (value) {\r\n            if ($type.isNumber(value)) {\r\n                value = $math.round(value, this._positionPrecision, true);\r\n                this.setPropertyValue(\"minX\", value, false, true);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"maxX\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Max X (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maxX\");\r\n        },\r\n        /**\r\n         * The biggest allowable absolute X coordinate for this element.\r\n         *\r\n         * This is used to contain element movement within certain boundaries.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Max X (px)\r\n         */\r\n        set: function (value) {\r\n            if ($type.isNumber(value)) {\r\n                value = $math.round(value, this._positionPrecision, true);\r\n                this.setPropertyValue(\"maxX\", value, false, true);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"y\", {\r\n        /**\r\n         * @return Y coordinate\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"y\");\r\n        },\r\n        /**\r\n         * Element's absolute or relative Y coordinate.\r\n         *\r\n         * If setting both X and Y, please consider using `moveTo()` method instead,\r\n         * as it will be faster to set both coordinates at once.\r\n         *\r\n         * @param value  Y coordinate\r\n         */\r\n        set: function (value) {\r\n            if (!this.isDragged) {\r\n                this.setPercentProperty(\"y\", value, false, true, this._positionPrecision, true);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelY\", {\r\n        /**\r\n         * Returns element's current absolute Y coordinate in pixels.\r\n         *\r\n         * @readonly\r\n         * @return Y coordinate (px)\r\n         */\r\n        get: function () {\r\n            var value = $math.fitToRange(this.getPixelY(this.y), this.minY, this.maxY);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"pixelY\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativeY\", {\r\n        /**\r\n         * Returns element's current relative Y coordinate in [[Percent]].\r\n         *\r\n         * @readonly\r\n         * @return Y coordinate ([[Percent]])\r\n         */\r\n        get: function () {\r\n            if (!this._adapterO) {\r\n                return this.getRelativeX(this.y);\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"relativeY\", this.getRelativeX(this.y));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"minY\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Min Y (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"minY\");\r\n        },\r\n        /**\r\n         * The smallest allowable absolute Y coordinate for this element.\r\n         *\r\n         * This is used to contain element movement within certain boundaries.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Min Y (px)\r\n         */\r\n        set: function (value) {\r\n            if ($type.isNumber(value)) {\r\n                value = $math.round(value, this._positionPrecision, true);\r\n                this.setPropertyValue(\"minY\", value, false, true);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"maxY\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Max Y (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maxY\");\r\n        },\r\n        /**\r\n         * The biggest allowable absolute Y coordinate for this element.\r\n         *\r\n         * This is used to contain element movement within certain boundaries.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value  Max Y (px)\r\n         */\r\n        set: function (value) {\r\n            if ($type.isNumber(value)) {\r\n                value = $math.round(value, this._positionPrecision, true);\r\n                this.setPropertyValue(\"maxY\", value, false, true);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"dx\", {\r\n        /**\r\n         * @return Horizontal offset (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"dx\");\r\n        },\r\n        /**\r\n         * A horizontal offset for the element in pixels.\r\n         *\r\n         * Can be negative value for offset to the left.\r\n         *\r\n         * @param value  Horizontal offset (px)\r\n         */\r\n        set: function (value) {\r\n            if ($type.isNumber(value)) {\r\n                value = $math.round(value, this._positionPrecision, true);\r\n                this.setPropertyValue(\"dx\", value, false, true);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"dy\", {\r\n        /**\r\n         * @return Vertical offset (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"dy\");\r\n        },\r\n        /**\r\n         * A vertical offset for the element in pixels.\r\n         *\r\n         * Can be negative value for offset upwards.\r\n         *\r\n         * @param value  Vertical offset (px)\r\n         */\r\n        set: function (value) {\r\n            if ($type.isNumber(value)) {\r\n                value = $math.round(value, this._positionPrecision, true);\r\n                this.setPropertyValue(\"dy\", value, false, true);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"rotation\", {\r\n        /**\r\n         * @return Rotation (0-360)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"rotation\");\r\n        },\r\n        /**\r\n         * Rotation of the element in degrees. (0-360)\r\n         *\r\n         * Note: For convenience purposes, negative values (for counter-clockwise\r\n         * rotation) and values exceeding 360 can also be used.\r\n         *\r\n         * @param value  Rotation (0-360)\r\n         */\r\n        set: function (value) {\r\n            value = $type.toNumber(value);\r\n            if (!$type.isNumber(value)) {\r\n                value = 0;\r\n            }\r\n            this.setPropertyValue(\"rotation\", value, false, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"align\", {\r\n        /**\r\n         * @return Horizontal align\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"align\");\r\n        },\r\n        /**\r\n         * Controls horizontal alignment of the element.\r\n         *\r\n         * This is used by parent [[Container]] when layouting its children.\r\n         *\r\n         * @param value  Horizontal align\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"align\", value)) {\r\n                if (this._parent) {\r\n                    this._parent.invalidateLayout();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"valign\", {\r\n        /**\r\n         * @return Vertical align\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"valign\");\r\n        },\r\n        /**\r\n         * Controls vertical alignment of the element.\r\n         *\r\n         * This is used by parent [[Container]] when layouting its children.\r\n         *\r\n         * @param value  Vertical align\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"valign\", value)) {\r\n                if (this._parent) {\r\n                    this._parent.invalidateLayout();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"horizontalCenter\", {\r\n        /**\r\n         * @return Horizontal center\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"horizontalCenter\");\r\n        },\r\n        /**\r\n         * Controls which part of the element to treat as a horizontal center.\r\n         *\r\n         * The setting will be used when positioning, resizing and rotating the\r\n         * element.\r\n         *\r\n         * @param value  Horizontal center\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"horizontalCenter\", value)) {\r\n                this.updateCenter();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"verticalCenter\", {\r\n        /**\r\n         * @return Vertical center\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"verticalCenter\");\r\n        },\r\n        /**\r\n         * Controls which part of the element to treat as a vertical center.\r\n         *\r\n         * The setting will be used when positioning, resizing and rotating the\r\n         * element.\r\n         *\r\n         * @param value  Vertical center\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"verticalCenter\", value)) {\r\n                this.updateCenter();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"maxWidth\", {\r\n        /**\r\n         * @return Maximum width (px)\r\n         */\r\n        get: function () {\r\n            var maxWidth = this.getPropertyValue(\"maxWidth\");\r\n            if (!$type.isNumber(maxWidth)) {\r\n                if (this._parent) {\r\n                    var parentWidth = this._parent.maxWidth;\r\n                    if (this._parent.layout != \"absolute\" && this.align != \"none\" && this.align != undefined) {\r\n                        parentWidth = parentWidth - this.pixelMarginLeft - this.pixelMarginRight;\r\n                    }\r\n                    return parentWidth;\r\n                }\r\n            }\r\n            return maxWidth;\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * DIMENSIONAL PROPERTIES AND RELATED STUFF\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Maximum allowed width for the element in pixels.\r\n         *\r\n         * @param value  Maximum width (px)\r\n         */\r\n        set: function (value) {\r\n            this.setMaxWidth(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Sprite.prototype.setMaxWidth = function (value) {\r\n        var prevWidth = this.maxWidth;\r\n        var prevHeight = this.maxHeight;\r\n        if (this.setPropertyValue(\"maxWidth\", value)) {\r\n            if ($type.isNumber(this.relativeWidth)) {\r\n                this.invalidate();\r\n            }\r\n            var event_2 = {\r\n                type: \"maxsizechanged\",\r\n                target: this,\r\n                previousWidth: prevWidth,\r\n                previousHeight: prevHeight\r\n            };\r\n            this.dispatchImmediately(\"maxsizechanged\", event_2);\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"maxHeight\", {\r\n        /**\r\n         * @return Maximum height (px)\r\n         */\r\n        get: function () {\r\n            var maxHeight = this.getPropertyValue(\"maxHeight\");\r\n            if (!$type.isNumber(maxHeight)) {\r\n                if (this._parent) {\r\n                    var parentHeight = this._parent.maxHeight;\r\n                    if (this._parent.layout != \"absolute\" && this.valign != \"none\" && this.valign != undefined) {\r\n                        parentHeight = parentHeight - this.pixelMarginTop - this.pixelMarginBottom;\r\n                    }\r\n                    return parentHeight;\r\n                }\r\n            }\r\n            return maxHeight;\r\n        },\r\n        /**\r\n         * Maximum allowed height for the element in pixels.\r\n         *\r\n         * @param value  Maximum height (px)\r\n         */\r\n        set: function (value) {\r\n            this.setMaxHeight(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Sprite.prototype.setMaxHeight = function (value) {\r\n        var prevWidth = this.maxWidth;\r\n        var prevHeight = this.maxHeight;\r\n        if (this.setPropertyValue(\"maxHeight\", value)) {\r\n            if ($type.isNumber(this.relativeHeight)) {\r\n                this.invalidate();\r\n            }\r\n            var event_3 = {\r\n                type: \"maxsizechanged\",\r\n                target: this,\r\n                previousWidth: prevWidth,\r\n                previousHeight: prevHeight\r\n            };\r\n            this.dispatchImmediately(\"maxsizechanged\", event_3);\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"minWidth\", {\r\n        /**\r\n         * @return Minimum width (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"minWidth\");\r\n        },\r\n        /**\r\n         * Minimum width of the element in pixels.\r\n         *\r\n         * Set to `undefined` to remove the limit.\r\n         *\r\n         * @param value  Minimum width (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"minWidth\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"minHeight\", {\r\n        /**\r\n         * @return Minimum height (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"minHeight\");\r\n        },\r\n        /**\r\n         * Minimum height for the element in pixels.\r\n         *\r\n         * Set to `undefined` to remove the limit.\r\n         *\r\n         * @param value  Minimum height (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"minHeight\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"width\", {\r\n        /**\r\n         * @return Width (absolute or relative)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"width\");\r\n        },\r\n        /**\r\n         * Element's absolute or relative width.\r\n         *\r\n         * The width can either be absolute, set in numeric pixels, or relative, set\r\n         * in [[Percent]].\r\n         *\r\n         * Relative width will be calculated using closest measured ancestor\r\n         * [[Container]].\r\n         *\r\n         * NOTE: `width` is an accessor, which allows setting width in pixels or\r\n         * percent. It is a sort of a \"shortcut\" for the users. Actual renderer does\r\n         * not ever use it. It uses either `pixelWidth` or `percentWidth`, so if\r\n         * you need to add an adapter for width add it for either of the two\r\n         * properties - whichever suits your requirements.\r\n         *\r\n         * @param value  Width (numeric in pixels or relative)\r\n         */\r\n        set: function (value) {\r\n            var changed = this.setPercentProperty(\"width\", value, true, false, this._positionPrecision, true);\r\n            if (changed) {\r\n                this.percentWidth = undefined;\r\n                this.relativeWidth = undefined;\r\n                if (value instanceof Percent) {\r\n                    this.percentWidth = value.percent;\r\n                    if ($type.isNumber(this._pixelWidth)) {\r\n                        this.maxWidth = undefined;\r\n                    }\r\n                    this._pixelWidth = undefined;\r\n                }\r\n                else {\r\n                    this._pixelWidth = Number(value);\r\n                    //this._measuredWidth = this._pixelWidth;\r\n                    this.maxWidth = this._pixelWidth;\r\n                }\r\n                this.invalidatePosition();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"height\", {\r\n        /**\r\n         * @return height (absolute or relative)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"height\");\r\n        },\r\n        /**\r\n         * Element's absolute or relative height.\r\n         *\r\n         * The height can either be absolute, set in numeric pixels, or relative, set\r\n         * in [[Percent]].\r\n         *\r\n         * Relative height will be calculated using closest measured ancestor\r\n         * [[Container]].\r\n         *\r\n         * NOTE: `height` is an accessor, which allows setting height in pixels or\r\n         * percent. It is a sort of a \"shortcut\" for the users. Actual renderer does\r\n         * not ever use it. It uses either `pixelHeight` or `percentHeight`, so if\r\n         * you need to add an adapter for height add it for either of the two\r\n         * properties - whichever suits your requirements.\r\n         *\r\n         * @param value  Height (numeric in pixels or relative)\r\n         */\r\n        set: function (value) {\r\n            var changed = this.setPercentProperty(\"height\", value, true, false, this._positionPrecision, true);\r\n            if (changed) {\r\n                this.percentHeight = undefined;\r\n                this._relativeHeight = undefined;\r\n                if (value instanceof Percent) {\r\n                    this.percentHeight = value.percent;\r\n                    if ($type.isNumber(this._pixelHeight)) {\r\n                        this.maxHeight = undefined;\r\n                    }\r\n                    this._pixelHeight = undefined;\r\n                }\r\n                else {\r\n                    this._pixelHeight = Number(value);\r\n                    //this._measuredHeight = this._pixelHeight;\r\n                    this.maxHeight = this._pixelHeight; // yes, we reset maxWidth\r\n                }\r\n                this.invalidatePosition();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelWidth\", {\r\n        /**\r\n         * Returns element's width in pixels, if width was set. For actual width use measuredWidth property.\r\n         *\r\n         * @readonly\r\n         * @return Width (px)\r\n         */\r\n        get: function () {\r\n            var width;\r\n            if ($type.isNumber(this.percentWidth)) {\r\n                width = this.maxWidth;\r\n            }\r\n            else if ($type.isNumber(this._pixelWidth)) {\r\n                width = this._pixelWidth;\r\n            }\r\n            else {\r\n                width = 0;\r\n            }\r\n            var minWidth = this.minWidth;\r\n            if (minWidth != null && width < minWidth) {\r\n                width = minWidth;\r\n            }\r\n            var value = $math.round(width, this._positionPrecision, true);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"pixelWidth\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelHeight\", {\r\n        /**\r\n         * Returns element's height in pixels. For actual height use measuredHeight property.\r\n         *\r\n         * @readonly\r\n         * @return Height (px)\r\n         */\r\n        get: function () {\r\n            var height;\r\n            if ($type.isNumber(this.percentHeight)) {\r\n                height = this.maxHeight;\r\n            }\r\n            else if ($type.isNumber(this._pixelHeight)) {\r\n                height = this._pixelHeight;\r\n            }\r\n            else {\r\n                height = 0; //this._measuredHeightSelf;\r\n            }\r\n            var minHeight = this.minHeight;\r\n            if (minHeight != null && height < minHeight) {\r\n                height = minHeight;\r\n            }\r\n            var value = $math.round(height, this._positionPrecision, true);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"pixelHeight\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativeWidth\", {\r\n        /**\r\n         * @return Relative width\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            var relativeWidth = this._relativeWidth;\r\n            if ($type.isNumber(relativeWidth)) {\r\n                if (!this._adapterO) {\r\n                    return relativeWidth;\r\n                }\r\n                else {\r\n                    return this._adapterO.apply(\"relativeWidth\", relativeWidth);\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * Element's relative width in [[Percent]].\r\n         * @ignore\r\n         *\r\n         * @param value  Relative width\r\n         */\r\n        set: function (value) {\r\n            if (this._relativeWidth != value) {\r\n                this._relativeWidth = value;\r\n                //\t\t\tthis.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativeHeight\", {\r\n        /**\r\n         * @return Relative height\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            var relativeHeight = this._relativeHeight;\r\n            if ($type.isNumber(relativeHeight)) {\r\n                if (!this._adapterO) {\r\n                    return relativeHeight;\r\n                }\r\n                else {\r\n                    return this._adapterO.apply(\"relativeHeight\", relativeHeight);\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * Element's relative height in [[Percent]].\r\n         *\r\n         * @param value  Relative height\r\n         * @ignore\r\n         */\r\n        set: function (value) {\r\n            if (this._relativeHeight != value) {\r\n                this._relativeHeight = value;\r\n                //\t\t\tthis.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"measuredWidth\", {\r\n        /**\r\n         * Returns element's measured width in pixels.\r\n         *\r\n         * A measured width is actual width of contents plus `paddingRight` and* `paddingLeft`, relative to sprite parent, meaning that\r\n         * rotation and scale is taken into account.\r\n         *\r\n         * @readonly\r\n         * @return Width (px)\r\n         */\r\n        get: function () {\r\n            if (this.disabled || this.__disabled) {\r\n                return 0;\r\n            }\r\n            if (!this._adapterO) {\r\n                return this._measuredWidth;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"measuredWidth\", this._measuredWidth);\r\n            }\r\n            // it's not good to fit to min/max range as then rotations and scale won't be taken into account\r\n            //return this.adapter.apply(\"measuredWidth\", $math.fitToRange(this._measuredWidth, this.minWidth, this.maxWidth));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"measuredHeight\", {\r\n        /**\r\n         * Returns elements's measured height in pixels.\r\n         *\r\n         * A measured height is actual height of contents plus `paddingTop` and `paddingBottom`, relative to sprite parent, meaning that\r\n         * rotation and scale taken into account.\r\n         *\r\n         * @readonly\r\n         * @return Height (px)\r\n         */\r\n        get: function () {\r\n            if (this.disabled || this.__disabled) {\r\n                return 0;\r\n            }\r\n            // it's not good to fit to min/max range as then rotations and scale won't be taken into account\r\n            //return this.adapter.apply(\"measuredHeight\", $math.fitToRange(this._measuredHeight, this.minHeight, this.maxHeight));\r\n            if (!this._adapterO) {\r\n                return this._measuredHeight;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"measuredHeight\", this._measuredHeight);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"outerWidth\", {\r\n        /**\r\n         * Returns element's measured width plus its left and right margins in\r\n         * pixels.\r\n         *\r\n         * @readonly\r\n         * @return Outer width (px)\r\n         */\r\n        get: function () {\r\n            var value = this.pixelWidth + this.pixelMarginRight + this.pixelMarginLeft;\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"outerWidth\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"outerHeight\", {\r\n        /**\r\n         * Returns element's measured height plus its top and bottom margins in\r\n         * pixels.\r\n         *\r\n         * @readonly\r\n         * @return Outer height (px)\r\n         */\r\n        get: function () {\r\n            var value = this.pixelHeight + this.pixelMarginTop + this.pixelMarginBottom;\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"outerHeight\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"innerWidth\", {\r\n        /**\r\n         * Returns element's measured inner width in pixels.\r\n         *\r\n         * Inner width is actual available space for content, e.g. element's width\r\n         * minus horizontal padding.\r\n         *\r\n         * @readonly\r\n         * @return Inner width (px)\r\n         */\r\n        get: function () {\r\n            var value = Math.max(0, this.pixelWidth - this.pixelPaddingRight - this.pixelPaddingLeft);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"innerWidth\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"innerHeight\", {\r\n        /**\r\n         * Returns element's measured inner height in pixels.\r\n         *\r\n         * Inner height is actual available space for content, e.g. element's height\r\n         * minus vertical padding.\r\n         *\r\n         * @readonly\r\n         * @return Inner height (px)\r\n         */\r\n        get: function () {\r\n            var value = Math.max(0, this.pixelHeight - this.pixelPaddingTop - this.pixelPaddingBottom);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"innerHeight\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"globalScale\", {\r\n        /**\r\n         * Returns element's current \"global\" scale.\r\n         *\r\n         * Scale values accumulate over hierarchy of elements.\r\n         *\r\n         * E.g. if a [[Container]] has `scale = 2` and it's child has a `scale = 2`,\r\n         * the child's `globalScale` will be 4. (a multitude of `2 x 2`)\r\n         *\r\n         * @readonly\r\n         * @return Global scale\r\n         */\r\n        get: function () {\r\n            var scale = this.scale;\r\n            if (this._parent) {\r\n                scale = scale * this._parent.globalScale;\r\n            }\r\n            if (!this._adapterO) {\r\n                return scale;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"globalScale\", scale);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"scale\", {\r\n        /**\r\n         * @return Scale (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"scale\");\r\n        },\r\n        /**\r\n         * Scale of the element.\r\n         *\r\n         * The scale is set from 0 (element reduced to nothing) to 1 (default size).\r\n         * * 2 will mean element is increased twice.\r\n         * * 0.5 - reduced by 50%.\r\n         *\r\n         * Etc.\r\n         *\r\n         * @param value  Scale (0-1)\r\n         */\r\n        set: function (value) {\r\n            value = $type.toNumber(value);\r\n            if (value < 0) {\r\n                value = 0;\r\n            }\r\n            if (value != this.getPropertyValue(\"scale\")) {\r\n                this.setPropertyValue(\"scale\", value, false, true);\r\n                this.handleGlobalScale();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets all four margins for the element at once.\r\n     *\r\n     * Margins are set in pixels.\r\n     *\r\n     * @param top     Top margin\r\n     * @param right   Right margin\r\n     * @param bottom  Bottom margin\r\n     * @param left    Left margin\r\n     * @return Current element\r\n     */\r\n    Sprite.prototype.margin = function (top, right, bottom, left) {\r\n        this.marginTop = top;\r\n        this.marginRight = right;\r\n        this.marginBottom = bottom;\r\n        this.marginLeft = left;\r\n        return this;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"marginLeft\", {\r\n        /**\r\n         * @return Margin value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"marginLeft\");\r\n        },\r\n        /**\r\n         * Left margin - absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Margin value\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"marginLeft\", value, true, true, this._positionPrecision, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"marginRight\", {\r\n        /**\r\n         * @return Margin value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"marginRight\");\r\n        },\r\n        /**\r\n         * Right margin - absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Margin value\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"marginRight\", value, true, true, this._positionPrecision, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"marginTop\", {\r\n        /**\r\n         * @return Margin value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"marginTop\");\r\n        },\r\n        /**\r\n         * Top margin - absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Margin value\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"marginTop\", value, true, true, this._positionPrecision, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"marginBottom\", {\r\n        /**\r\n         * @return Margin value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"marginBottom\");\r\n        },\r\n        /**\r\n         * Bottom margin - absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Margin value\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"marginBottom\", value, true, true, this._positionPrecision, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelMarginRight\", {\r\n        /**\r\n         * Returns current right margin in pixels.\r\n         *\r\n         * @readonly\r\n         * @return Right margin (px)\r\n         */\r\n        get: function () {\r\n            var value = this.getPixelX(this.marginRight);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"pixelMarginRight\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativeMarginRight\", {\r\n        /**\r\n         * Returns current relative right margin.\r\n         *\r\n         * @readonly\r\n         * @return Relative right margin\r\n         */\r\n        get: function () {\r\n            // @todo Maybe use [[Percent]]?\r\n            var value = this.getRelativeX(this.marginRight);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"relativeMarginRight\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelMarginLeft\", {\r\n        /**\r\n         * Returns current left margin in pixels.\r\n         *\r\n         * @readonly\r\n         * @return Left margin (px)\r\n         */\r\n        get: function () {\r\n            var value = this.getPixelX(this.marginLeft);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"pixelMarginLeft\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativeMarginLeft\", {\r\n        /**\r\n         * Returns current relative left margin.\r\n         *\r\n         * @readonly\r\n         * @return Relative left margin\r\n         */\r\n        get: function () {\r\n            //@todo Maybe use [[Percent]]?\r\n            var value = this.getRelativeX(this.marginLeft);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"relativeMarginLeft\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelMarginTop\", {\r\n        /**\r\n         * Returns current top margin in pixels.\r\n         *\r\n         * @readonly\r\n         * @return Top margin (px)\r\n         */\r\n        get: function () {\r\n            var value = this.getPixelY(this.marginTop);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"pixelMarginTop\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativeMarginTop\", {\r\n        /**\r\n         * Returns current relative top margin.\r\n         *\r\n         * @readonly\r\n         * @return Relative top margin\r\n         */\r\n        get: function () {\r\n            // @todo Maybe use [[Percent]]?\r\n            var value = this.getRelativeY(this.marginTop);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"relativeMarginTop\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelMarginBottom\", {\r\n        /**\r\n         * Returns current bottom margin in pixels.\r\n         *\r\n         * @readonly\r\n         * @return Bottom margin (px)\r\n         */\r\n        get: function () {\r\n            var value = this.getPixelY(this.marginBottom);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"pixelMarginBottom\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativeMarginBottom\", {\r\n        /**\r\n         * Returns current relative bottom margin.\r\n         *\r\n         * @readonly\r\n         * @return Relative bottom margin\r\n         */\r\n        get: function () {\r\n            // @todo Maybe use [[Percent]]?\r\n            var value = this.getRelativeY(this.marginBottom);\r\n            if (!this._adapterO) {\r\n                return value;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"relativeMarginBottom\", value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets padding for the element in pixels.\r\n     *\r\n     * @param top     Top padding (px)\r\n     * @param right   Right padding (px)\r\n     * @param bottom  Bottom padding (px)\r\n     * @param left    Left padding (px)\r\n     * @return Element\r\n     */\r\n    Sprite.prototype.padding = function (top, right, bottom, left) {\r\n        this.paddingTop = top;\r\n        this.paddingRight = right;\r\n        this.paddingBottom = bottom;\r\n        this.paddingLeft = left;\r\n        return this;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"paddingLeft\", {\r\n        /**\r\n         * @return Padding value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"paddingLeft\");\r\n        },\r\n        /**\r\n         * Left padding - absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Padding value\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"paddingLeft\", value, true, true, this._positionPrecision, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"paddingRight\", {\r\n        /**\r\n         * @return Padding value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"paddingRight\");\r\n        },\r\n        /**\r\n         * Right padding - absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Padding value\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"paddingRight\", value, true, true, this._positionPrecision, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"paddingTop\", {\r\n        /**\r\n         * @return Padding value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"paddingTop\");\r\n        },\r\n        /**\r\n         * Top padding - absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Padding value\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"paddingTop\", value, true, true, this._positionPrecision, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"paddingBottom\", {\r\n        /**\r\n         * @return Padding value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"paddingBottom\");\r\n        },\r\n        /**\r\n         * Bottom padding - absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Padding value\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"paddingBottom\", value, true, true, this._positionPrecision, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelPaddingRight\", {\r\n        /**\r\n         * Returns current right padding in pixels.\r\n         *\r\n         * @readonly\r\n         * @return Right padding (px)\r\n         */\r\n        get: function () {\r\n            return this.getPixelX(this.paddingRight);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativePaddingRight\", {\r\n        /**\r\n         * Returns current relative right padding.\r\n         *\r\n         * @readonly\r\n         * @return Relative right padding\r\n         */\r\n        get: function () {\r\n            // @todo Maybe use [[Percent]]?\r\n            return this.getRelativeX(this.paddingRight);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelPaddingLeft\", {\r\n        /**\r\n         * Returns current left padding in pixels.\r\n         *\r\n         * @readonly\r\n         * @return Left padding (px)\r\n         */\r\n        get: function () {\r\n            return this.getPixelX(this.paddingLeft);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativePaddingLeft\", {\r\n        /**\r\n         * Returns current relative left padding.\r\n         *\r\n         * @readonly\r\n         * @return Relative left padding\r\n         */\r\n        get: function () {\r\n            // @todo Maybe use [[Percent]]?\r\n            return this.getRelativeX(this.paddingLeft);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelPaddingTop\", {\r\n        /**\r\n         * Returns current top padding in pixels.\r\n         *\r\n         * @readonly\r\n         * @return Top padding (px)\r\n         */\r\n        get: function () {\r\n            return this.getPixelY(this.paddingTop);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativePaddingTop\", {\r\n        /**\r\n         * Returns current relative top padding.\r\n         *\r\n         * @readonly\r\n         * @return Relative top padding\r\n         */\r\n        get: function () {\r\n            // @todo Maybe use [[Percent]]?\r\n            return this.getRelativeY(this.paddingTop);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelPaddingBottom\", {\r\n        /**\r\n         * Returns current bottom padding in pixels.\r\n         *\r\n         * @readonly\r\n         * @return Bottom padding (px)\r\n         */\r\n        get: function () {\r\n            return this.getPixelY(this.paddingBottom);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"relativePaddingBottom\", {\r\n        /**\r\n         * Returns current relative bottom padding.\r\n         *\r\n         * @readonly\r\n         * @return Relative bottom padding\r\n         */\r\n        get: function () {\r\n            // @todo Maybe use [[Percent]]?\r\n            return this.getRelativeY(this.paddingBottom);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"path\", {\r\n        /**\r\n         * @return Path of a Sprite element\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"path\");\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * APPEARANCE-RELATED PROPERTIES AND RELATED STUFF\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Path of Sprite element\r\n         */\r\n        set: function (value) {\r\n            this.setPath(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Sprite.prototype.setPath = function (value) {\r\n        if (this.setPropertyValue(\"path\", value)) {\r\n            if (this._adapterO) {\r\n                value = this._adapterO.apply(\"path\", value);\r\n            }\r\n            if (!this._isPath) {\r\n                if (!this.element || (this.element.node && !(this.element.node instanceof SVGPathElement))) {\r\n                    this.element = this.paper.add(\"path\");\r\n                }\r\n                this._isPath = true;\r\n            }\r\n            if ($type.hasValue(value)) {\r\n                this.element.attr({ \"d\": value });\r\n            }\r\n            else {\r\n                this.element.removeAttr(\"d\");\r\n            }\r\n            this.invalidatePosition();\r\n            // otherwise is 0x0\r\n            if (!this.inited) {\r\n                this.events.once(\"inited\", this.validatePosition, this, false);\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"fillModifier\", {\r\n        /**\r\n         * @return Fill color modifier\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"fillModifier\");\r\n        },\r\n        /**\r\n         * [[ColorModifier]] that can be used to modify color and pattern of the\r\n         * element's fill, e.g. create gradients.\r\n         *\r\n         * @param value  Fill color modifiier\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"fillModifier\", value)) {\r\n                this.setFill(this.fill);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"strokeModifier\", {\r\n        /**\r\n         * @return Stroke color modifier\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"strokeModifier\");\r\n        },\r\n        /**\r\n         * [[ColorModifier]] that can be used to modify color and pattern of the\r\n         * element's stroke (outline), e.g. create gradients.\r\n         *\r\n         * @param value  Stroke color modifier\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"strokeModifier\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"fillOpacity\", {\r\n        /**\r\n         * @return Opacity (0-9)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"fillOpacity\");\r\n        },\r\n        /**\r\n         * Element's fill opacity.\r\n         *\r\n         * Opacity ranges from 0 (fully transparent) to 1 (fully opaque).\r\n         *\r\n         * @param value  Opacity (0-1)\r\n         */\r\n        set: function (value) {\r\n            value = $math.toNumberRange(value, 0, 1);\r\n            if (this.setPropertyValue(\"fillOpacity\", value)) {\r\n                this.setSVGAttribute({ \"fill-opacity\": value });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"fill\", {\r\n        /**\r\n         * @return Fill\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"fill\");\r\n        },\r\n        /**\r\n         * Element's fill color or pattern.\r\n         *\r\n         * @param value  Fill\r\n         */\r\n        set: function (value) {\r\n            this.setFill(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets actual `fill` property on the SVG element, including applicable color\r\n     * modifiers.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param value  Fill\r\n     */\r\n    Sprite.prototype.setFill = function (value) {\r\n        if (!$type.isObject(value) || \"r\" in value) {\r\n            value = toColor(value);\r\n        }\r\n        if (this.setColorProperty(\"fill\", value) || this.fillModifier) {\r\n            // this can not go into next if, as value is turned to Gradient\r\n            if (value instanceof Color) {\r\n                if (this.fillModifier) {\r\n                    value = this.fillModifier.modify(value);\r\n                }\r\n            }\r\n            this.realFill = value;\r\n            // todo: review this place when some Color type will be added\r\n            if (value instanceof Color) {\r\n                this.setSVGAttribute({ \"fill\": value.toString() });\r\n            }\r\n            else if (!$type.hasValue(value)) {\r\n                this.removeSVGAttribute(\"fill\");\r\n            }\r\n            else if (value instanceof Pattern || value instanceof LinearGradient || value instanceof RadialGradient) {\r\n                var fill = value;\r\n                fill.paper = this.paper;\r\n                this.setSVGAttribute({ \"fill\": \"url(\\\"\" + $utils.getBaseURI() + fill.id + \"\\\")\" });\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"opacity\", {\r\n        /**\r\n         * @return Opacity (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"opacity\");\r\n        },\r\n        /**\r\n         * Element's opacity.\r\n         *\r\n         * Opacity setting can range from 0 (fully transparent) to 1 (fully opaque).\r\n         *\r\n         * ATTENTION: It is highly not recommended to use `opacity` directly on the\r\n         * element. The charts use `opacity` to hide/show elements, so your setting\r\n         * might be lost if element is hidden and then later shown.\r\n         *\r\n         * Instead use methods `hide()` and `show()` to completely toggle off and on\r\n         * the element.\r\n         *\r\n         * Or, use properties `fillOpacity` and `strokeOpacity`, if you need to make\r\n         * the element semi-transparent.\r\n         *\r\n         * @param value Opacity (0-1)\r\n         */\r\n        set: function (value) {\r\n            value = $math.toNumberRange(value, 0, 1);\r\n            if (this.setPropertyValue(\"opacity\", value)) {\r\n                this.setSVGAttribute({ \"opacity\": value });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"stroke\", {\r\n        /**\r\n         * @return Stroke setting\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"stroke\");\r\n        },\r\n        /**\r\n         * Element's stroke (outline) color or pattern.\r\n         *\r\n         * @param value  Stroke setting\r\n         */\r\n        set: function (value) {\r\n            this.setStroke(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets actual `stroke` property on the SVG element, including applicable\r\n     * color modifiers.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param value Stroke setting\r\n     */\r\n    Sprite.prototype.setStroke = function (value) {\r\n        if (!$type.isObject(value) || \"r\" in value) {\r\n            value = toColor(value);\r\n        }\r\n        if (this.setColorProperty(\"stroke\", value) || this.strokeModifier) {\r\n            // this can not go into next if, as value is turned to Gradient\r\n            if (value instanceof Color) {\r\n                if (this.strokeModifier) {\r\n                    value = this.strokeModifier.modify(value);\r\n                }\r\n            }\r\n            this.realStroke = value;\r\n            if (value instanceof Color) {\r\n                if (value.hex == \"none\") {\r\n                    this.removeSVGAttribute(\"stroke\");\r\n                }\r\n                else {\r\n                    this.setSVGAttribute({ \"stroke\": value.toString() });\r\n                }\r\n            }\r\n            else if (!$type.hasValue(value)) {\r\n                this.removeSVGAttribute(\"stroke\");\r\n            }\r\n            else if (value instanceof Pattern || value instanceof LinearGradient || value instanceof RadialGradient) {\r\n                var stroke = value;\r\n                stroke.paper = this.paper;\r\n                this.setSVGAttribute({ \"stroke\": \"url(\\\"\" + $utils.getBaseURI() + stroke.id + \"\\\")\" });\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"strokeOpacity\", {\r\n        /**\r\n         * @return Opacity (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"strokeOpacity\");\r\n        },\r\n        /**\r\n         * Stroke (outline) opacity.\r\n         *\r\n         * The values may range from 0 (fully transparent) to 1 (fully opaque).\r\n         *\r\n         * @param value  Opacity (0-1)\r\n         */\r\n        set: function (value) {\r\n            value = $math.toNumberRange(value, 0, 1);\r\n            if (this.setPropertyValue(\"strokeOpacity\", value)) {\r\n                this.setSVGAttribute({ \"stroke-opacity\": value });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"nonScalingStroke\", {\r\n        /**\r\n         * @return Do not scale stroke (outline)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"nonScalingStroke\");\r\n        },\r\n        /**\r\n         * Controls if the element's stroke (outline) should remain keep constant\r\n         * thicnkess and do not scale when the whole element is resized.\r\n         *\r\n         * @param value  Do not scale stroke (outline)\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this.setPropertyValue(\"nonScalingStroke\", value)) {\r\n                this.strokeWidth = this.strokeWidth;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"nonScaling\", {\r\n        /**\r\n         * @return Is element scaleable?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"nonScaling\");\r\n        },\r\n        /**\r\n         * Controls if element should keep constant size and not scale even if there is\r\n         * space available, or it does not fit.\r\n         *\r\n         * @param value  Is element scaleable?\r\n         */\r\n        set: function (value) {\r\n            // @todo Description (review)\r\n            value = $type.toBoolean(value);\r\n            this.setPropertyValue(\"nonScaling\", value, false, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"strokeWidth\", {\r\n        /**\r\n         * @return Thickness (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"strokeWidth\");\r\n        },\r\n        /**\r\n         * Stroke (outline) thickness in pixels.\r\n         *\r\n         * @param value  Thickness (px)\r\n         */\r\n        set: function (value) {\r\n            value = $type.toNumber(value);\r\n            this.setPropertyValue(\"strokeWidth\", value, true);\r\n            if (this.nonScalingStroke) {\r\n                if (!$type.isNumber(value)) {\r\n                    value = 1;\r\n                }\r\n                value = value / this.globalScale;\r\n            }\r\n            this.setSVGAttribute({ \"stroke-width\": value });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"strokeDasharray\", {\r\n        /**\r\n         * @return `stroke-dasharray`\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"strokeDasharray\");\r\n        },\r\n        /**\r\n         * A `stroke-dasharray` for the stroke (outline).\r\n         *\r\n         * \"Dasharray\" allows setting rules to make lines dashed, dotted, etc.\r\n         *\r\n         * @see {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dasharray} for more info on `stroke-dasharray`\r\n         * @param value  `stroke-dasharray`\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"strokeDasharray\", value)) {\r\n                this.setSVGAttribute({ \"stroke-dasharray\": value });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"strokeDashoffset\", {\r\n        /**\r\n         * @return `stroke-dashoffset`\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"strokeDashoffset\");\r\n        },\r\n        /**\r\n         * A `stroke-dashoffset` for the stroke (outline).\r\n         *\r\n         * \"Dashoffset\" allows setting the start position of the dashes if\r\n         * `strokeDasharray` is used.\r\n         *\r\n         * @see {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dashoffset} for more info on `stroke-dashoffset`\r\n         * @param value  `stroke-dashoffset`\r\n         */\r\n        set: function (value) {\r\n            value = $type.toNumber(value);\r\n            if (this.setPropertyValue(\"strokeDashoffset\", value)) {\r\n                this.setSVGAttribute({ \"stroke-dashoffset\": value });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"strokeLinecap\", {\r\n        /**\r\n         * @return `stroke-linecap`\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"strokeLinecap\");\r\n        },\r\n        /**\r\n         * A `stroke-linecap` to indicate how line ends are drawn.\r\n         *\r\n         * @see {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Fills_and_Strokes#Stroke} for more info on `stroke-linecap`\r\n         * @param value  `stroke-linecap`\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"strokeLinecap\", value)) {\r\n                this.setSVGAttribute({ \"stroke-linecap\": value });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"strokeLinejoin\", {\r\n        /**\r\n         * @return `stroke-linejoin`\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"strokeLinejoin\");\r\n        },\r\n        /**\r\n         * A `stroke-linejoin` to indicate how line ends are drawn.\r\n         *\r\n         * @see {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Fills_and_Strokes#Stroke} for more info on `stroke-linejoin`\r\n         * @param value  `stroke-linejoin`\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"strokeLinejoin\", value)) {\r\n                this.setSVGAttribute({ \"stroke-linejoin\": value });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"shapeRendering\", {\r\n        /**\r\n         * @return 'shape-rendering' value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"shapeRendering\");\r\n        },\r\n        /**\r\n         * An SVG-specific `shape-rendering` value.\r\n         *\r\n         * `shape-rendering` controls how vector graphics are drawn and rendered.\r\n         *\r\n         * @see {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering} for more information about `shape-rendering`\r\n         * @default \"auto\"\r\n         * @param value  'shape-rendering' value\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (this.setPropertyValue(\"shapeRendering\", value)) {\r\n                this.setSVGAttribute({ \"shape-rendering\": value });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"pixelPerfect\", {\r\n        /**\r\n         * @return Use pixel perfect?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"pixelPerfect\");\r\n        },\r\n        /**\r\n         * Controls if SVG vectors should be drawn with \"pixel\" precision, producing\r\n         * perfectly crisp lines on retina displays.\r\n         *\r\n         * Setting this to `true` might improve visual quality, but may have a\r\n         * negative effect on performance.\r\n         *\r\n         * Different elements use different default setting for `pixelPerfect`.\r\n         *\r\n         * We recommend leaving this at their default settings, unless there's a\r\n         * specific need.\r\n         *\r\n         * @param value  Use pixel perfect?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (value) {\r\n                this._positionPrecision = 0;\r\n            }\r\n            else {\r\n                this._positionPrecision = 3;\r\n            }\r\n            this.setPropertyValue(\"pixelPerfect\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"rtl\", {\r\n        /**\r\n         * @return RTL?\r\n         */\r\n        get: function () {\r\n            if ($type.hasValue(this._rtl)) {\r\n                return this._rtl;\r\n            }\r\n            else if (this._topParent) {\r\n                return this._topParent.rtl;\r\n            }\r\n            //this.rtl = false;\r\n            return false;\r\n        },\r\n        /**\r\n         * An RTL (right-to-left) setting.\r\n         *\r\n         * RTL may affect alignment, text, and other visual properties.\r\n         *\r\n         * If you set this on a top-level chart object, it will be used for all\r\n         * child elements, e.g. labels, unless they have their own `rtl` setting\r\n         * set directly on them.\r\n         *\r\n         * @param value  `true` for to use RTL\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (this.isBaseSprite) {\r\n                this.topParent.rtl = value;\r\n            }\r\n            this._rtl = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * ==========================================================================\r\n     * VISIBILITY AND ORDER PROPERTIES AND RELATED STUFF\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Reveals hidden element.\r\n     *\r\n     * Has no effect if element is already visible.\r\n     *\r\n     * If `duration` is not specified, it will use default.\r\n     *\r\n     * @param duration  Fade in duration (ms)\r\n     * @return Animation object if such object was created\r\n     */\r\n    Sprite.prototype.show = function (duration) {\r\n        return this.showReal(duration);\r\n    };\r\n    /**\r\n     * Performs actual operations to reveal this element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param duration Fade in duration (ms)\r\n     * @return Fade in duration (ms)\r\n     */\r\n    Sprite.prototype.showReal = function (duration) {\r\n        var _this = this;\r\n        if (this.preventShow) {\r\n            return;\r\n        }\r\n        var transition;\r\n        var properties = this.defaultState.properties;\r\n        if (!this.disabled && (this.isHidden || !this.visible || this.isHiding || (properties.opacity != null && this.opacity < properties.opacity && !this.isShowing)) && !this.isDisposed()) {\r\n            // helps to avoid flicker, as show might change opacity or visibility but item might be at invalid state/position\r\n            if (this.invalid) {\r\n                this.validate();\r\n            }\r\n            if (this.positionInvalid) {\r\n                this.validatePosition();\r\n            }\r\n            if (!$type.isNumber(duration)) {\r\n                duration = this.defaultState.transitionDuration;\r\n            }\r\n            if (this._hideAnimation) {\r\n                this._hideAnimation.kill();\r\n                this._hideAnimation = undefined;\r\n            }\r\n            // Cancel hide handler just in case it was there\r\n            if (this._showHideDisposer) {\r\n                this.removeDispose(this._showHideDisposer);\r\n            }\r\n            this._isHidden = false;\r\n            this.isHiding = false;\r\n            this.isShowing = true;\r\n            // Apply current state\r\n            transition = this.applyCurrentState(duration);\r\n            if (transition && !transition.isFinished()) {\r\n                this._showHideDisposer = transition.events.on(\"animationended\", function () {\r\n                    _this.isShowing = false;\r\n                });\r\n                this._disposers.push(this._showHideDisposer);\r\n            }\r\n            else {\r\n                this.isShowing = false;\r\n            }\r\n            // Make it visible\r\n            var visible = this.defaultState.properties.visible;\r\n            if (!$type.hasValue(visible)) {\r\n                visible = true;\r\n            }\r\n            this.visible = visible;\r\n            // Unhide from screen readers\r\n            this.readerHidden = false;\r\n            // Dispatch \"show\" event\r\n            this.dispatchImmediately(\"shown\");\r\n        }\r\n        return transition;\r\n    };\r\n    /**\r\n     * Initiates hiding of Sprite.\r\n     * When called it will fade out the the Sprite to transparency, then make it\r\n     * invisible.\r\n     * @param duration Duration in millisecons\r\n     */\r\n    /**\r\n     * Hides the element, by applying `hidden` state.\r\n     *\r\n     * Has no effect if element is already hidden.\r\n     *\r\n     * If `duration` is not specified, it will use default.\r\n     *\r\n     * While element is fading out, its `isHiding` property will resolve to\r\n     * `true`.\r\n     *\r\n     * When element is hidden, its `visible` property will resolve to `false`.\r\n     *\r\n     * @param duration  Fade out duration (ms)\r\n     * @return hide Animation object if such object was created\r\n     */\r\n    Sprite.prototype.hide = function (duration) {\r\n        return this.hideReal(duration);\r\n    };\r\n    /**\r\n     * Hides actual SVG elements and handles hiding animations.\r\n     *\r\n     * @param duration  Fade out duration (ms)\r\n     * @return Fade out duration (ms)\r\n     * @ignore\r\n     */\r\n    Sprite.prototype.hideReal = function (duration) {\r\n        var _this = this;\r\n        var transition;\r\n        if (!this.isHiding && this.visible && !this.isDisposed()) {\r\n            // added to solve 51375\r\n            if (this.tooltip && this.tooltip.currentSprite == this) {\r\n                this.hideTooltip(0);\r\n            }\r\n            if (this._hideAnimation) {\r\n                this._hideAnimation.kill();\r\n                this._hideAnimation = undefined;\r\n            }\r\n            this.isShowing = false;\r\n            // Cancel hide handler just in case it was there\r\n            if (this._showHideDisposer) {\r\n                this.removeDispose(this._showHideDisposer);\r\n            }\r\n            // Get state\r\n            var hiddenState_1 = this.hiddenState;\r\n            // Transition to \"hidden\" state, provided Sprite has one set\r\n            if (hiddenState_1) {\r\n                // Yes, we have a \"hidden\" state\r\n                // `setState` will return an `Animation` object which we can set\r\n                // events on\r\n                transition = this.setState(hiddenState_1, duration, undefined);\r\n                if (transition && !transition.isFinished()) {\r\n                    this._hideAnimation = transition;\r\n                    this._showHideDisposer = transition.events.on(\"animationended\", function () {\r\n                        _this.isHiding = false;\r\n                        _this._isHidden = true;\r\n                        if (hiddenState_1.properties.visible == false) {\r\n                            _this.visible = false;\r\n                        }\r\n                    }, this);\r\n                    this._disposers.push(this._showHideDisposer);\r\n                    // Thrown everything into `_disposers` just in case Sprite gets\r\n                    // destroyed in the meantime\r\n                    this._disposers.push(transition);\r\n                }\r\n                else {\r\n                    this.isHiding = false;\r\n                    this._isHidden = true;\r\n                }\r\n            }\r\n            else {\r\n                // No hidden state, let's just set `visible` and call it a day\r\n                this.visible = false;\r\n                this.isHiding = false;\r\n                this._isHidden = true;\r\n            }\r\n            // Hide from screen readers\r\n            this.readerHidden = true;\r\n            // Dispach \"hidden\" event\r\n            this.dispatchImmediately(\"hidden\");\r\n            this.invalidate(); // hide it at once to avoid flickers // validate() causes SO\r\n        }\r\n        if (!$type.isNumber(duration)) {\r\n            duration = this.hiddenState.transitionDuration;\r\n        }\r\n        return transition;\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"visible\", {\r\n        /**\r\n         * @return Visible?\r\n         */\r\n        get: function () {\r\n            return this.getVisibility();\r\n        },\r\n        /**\r\n         * Indicates if element is current visible (`true`) or hidden (`false`).\r\n         *\r\n         * @param value Visible?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            this.setVisibility(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns visibility value\r\n     * @ignore\r\n     */\r\n    Sprite.prototype.getVisibility = function () {\r\n        var value = this.getPropertyValue(\"visible\");\r\n        if (!$type.hasValue(value)) {\r\n            value = true;\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Sets `visibility` property:\r\n     *\r\n     * * `true` - visible\r\n     * * `false` - hidden\r\n     *\r\n     * @param value  true - visible, false - hidden\r\n     * @return Current visibility\r\n     */\r\n    Sprite.prototype.setVisibility = function (value) {\r\n        if (this.setPropertyValue(\"visible\", value)) {\r\n            if (value) {\r\n                this.group.removeAttr(\"visibility\");\r\n            }\r\n            else {\r\n                this.group.attr({ \"visibility\": \"hidden\" });\r\n            }\r\n            //this.invalidatePosition();\r\n            if (this.events.isEnabled(\"visibilitychanged\")) {\r\n                var event_4 = {\r\n                    type: \"visibilitychanged\",\r\n                    target: this,\r\n                    visible: value\r\n                };\r\n                this.events.dispatchImmediately(\"visibilitychanged\", event_4);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"zIndex\", {\r\n        /**\r\n         * @return zIndex\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"zIndex\");\r\n        },\r\n        /**\r\n         * A \"zIndex\" of the element.\r\n         *\r\n         * \"zIndex\" determines the order of how elements are placed over each other.\r\n         *\r\n         * Higher \"zIndex\" will mean the element will be draw on top of elements\r\n         * with lower \"zIndexes\".\r\n         *\r\n         * @param value  zIndex\r\n         */\r\n        set: function (value) {\r\n            value = $type.toNumber(value);\r\n            if (this.setPropertyValue(\"zIndex\", value)) {\r\n                this.dispatch(\"zIndexChanged\");\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Moves the element to the very top in element order, so that it appears\r\n     * in front of other elements.\r\n     */\r\n    Sprite.prototype.toFront = function () {\r\n        var parent = this._parent;\r\n        if (parent && parent.children.indexOf(this) != parent.children.length - 1) {\r\n            parent.children.moveValue(this, parent.children.length - 1);\r\n            this.dispatch(\"zIndexChanged\");\r\n        }\r\n    };\r\n    /**\r\n     * Moves the element to the very bottom in the element order, so that it\r\n     * appears behind other elements.\r\n     */\r\n    Sprite.prototype.toBack = function () {\r\n        var parent = this._parent;\r\n        if (parent && parent.children.indexOf(this) != 0) {\r\n            parent.children.moveValue(this, 0);\r\n            this.dispatch(\"zIndexChanged\");\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"userClassName\", {\r\n        /**\r\n         * @return Class name\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"userClassName\");\r\n        },\r\n        /**\r\n         * A custom class name to set on the element.\r\n         *\r\n         * If set, the value will be added to element's `class` attribute.\r\n         *\r\n         * @since 4.9.11\r\n         * @param  value  Class name\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"userClassName\", value)) {\r\n                if (!value && this.userClassName) {\r\n                    this.group.removeClass(this.userClassName);\r\n                }\r\n                this.setClassName();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"tooltip\", {\r\n        /**\r\n         * @return Tooltip\r\n         */\r\n        get: function () {\r\n            if (this._tooltip) {\r\n                return this._tooltip;\r\n            }\r\n            else if (this.virtualParent) {\r\n                return this.virtualParent.tooltip;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.tooltip;\r\n            }\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * TOOLTIP-RELATED PROPERTIES STUFF\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * A [[Tooltip]] object to be used when displayed rollover information for\r\n         * the element.\r\n         *\r\n         * @param tooltip  Tooltip\r\n         */\r\n        set: function (tooltip) {\r\n            if (this._tooltip) {\r\n                //this._tooltip.dispose();\r\n                this.removeDispose(this._tooltip);\r\n            }\r\n            this._tooltip = tooltip;\r\n            if (tooltip) {\r\n                tooltip.parent = this.tooltipContainer;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"tooltipDataItem\", {\r\n        /**\r\n         * @return Tooltip data item\r\n         */\r\n        get: function () {\r\n            var tooltipDataItem = this._tooltipDataItem;\r\n            if (tooltipDataItem) {\r\n                return tooltipDataItem;\r\n            }\r\n            else {\r\n                return this.dataItem;\r\n            }\r\n        },\r\n        /**\r\n         * A [[DataItem]] to use when populating content for the element's\r\n         * [[Tooltip]].\r\n         *\r\n         * @see {@link Tooltip}\r\n         * @see {@link DataItem}\r\n         * @param value  Tooltip data item\r\n         */\r\n        set: function (value) {\r\n            // important: do not dispose tooltip dataItem, as it is some actual data item from data!\r\n            this._tooltipDataItem = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"tooltipColorSource\", {\r\n        /**\r\n         * @return Tooltip color source\r\n         */\r\n        get: function () {\r\n            return this._tooltipColorSource;\r\n        },\r\n        /**\r\n         * A [[Sprite]] or sprite template to use when getting colors for tooltip. If a template is set,\r\n         * tooltip will look for a clone in tooltipDataItem.sprites. If no clone is found, then template colors will be used.\r\n         *\r\n         * @see {@link Tooltip}\r\n         * @see {@link Sprite}\r\n         * @param sprite Sprite\r\n         */\r\n        set: function (sprite) {\r\n            this._tooltipColorSource = sprite;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Shows the element's [[Tooltip]].\r\n     *\r\n     * A tooltip will be populated using text templates in either `tooltipHTML` or\r\n     * `tooltipText` as well as data in `tooltipDataItem`.\r\n     *\r\n     * @see {@link Tooltip}\r\n     * @param optional point (sprite-related) to which tooltip must point.\r\n     * @return returns true if the tooltip was shown and false if it wasn't (no text was found)\r\n     */\r\n    Sprite.prototype.showTooltip = function (point) {\r\n        if (this.showTooltipOn == \"always\" && !this._tooltip && this.tooltip) {\r\n            this._tooltip = this.tooltip.clone();\r\n        }\r\n        if (!point && this.tooltipPosition == \"pointer\" && this.isHover) {\r\n            point = $utils.documentPointToSvg(getInteraction().lastPointer.point, this.svgContainer.SVGContainer, this.svgContainer.cssScale);\r\n        }\r\n        // do not show if hidden\r\n        var sprite = this;\r\n        while (sprite != undefined) {\r\n            if (!sprite.visible || sprite.disabled || sprite.__disabled) {\r\n                if (this._tooltip && this._tooltip.visible) {\r\n                    this._tooltip.hide(0);\r\n                }\r\n                return;\r\n            }\r\n            sprite = sprite.parent;\r\n        }\r\n        if ($type.hasValue(this.tooltipText) || $type.hasValue(this.tooltipHTML)) {\r\n            var tooltip = this.tooltip;\r\n            var tooltipDataItem = this.tooltipDataItem;\r\n            if (tooltip) {\r\n                tooltip.targetSprite = this;\r\n                var colorSource_1 = this;\r\n                var tooltipColorSource_1 = this.tooltipColorSource;\r\n                if ((tooltip.getStrokeFromObject || tooltip.getFillFromObject) && tooltipColorSource_1) {\r\n                    if (tooltipColorSource_1.isTemplate) {\r\n                        if (tooltipDataItem) {\r\n                            $array.eachContinue(tooltipDataItem.sprites, function (sprite) {\r\n                                if (sprite.clonedFrom == tooltipColorSource_1) {\r\n                                    colorSource_1 = sprite;\r\n                                    return false;\r\n                                }\r\n                                return true;\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        colorSource_1 = tooltipColorSource_1;\r\n                    }\r\n                }\r\n                if (tooltip.getStrokeFromObject) {\r\n                    var stroke = this.stroke;\r\n                    var source = colorSource_1;\r\n                    while (source.parent != undefined) {\r\n                        stroke = source.stroke;\r\n                        if (stroke == undefined) {\r\n                            source = source.parent;\r\n                        }\r\n                        if (stroke != undefined) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (stroke instanceof Color) {\r\n                        tooltip.background.animate({ property: \"stroke\", to: stroke }, tooltip.animationDuration);\r\n                    }\r\n                    else {\r\n                        tooltip.background.stroke = stroke;\r\n                    }\r\n                }\r\n                // Set data item\r\n                tooltip.dataItem = tooltipDataItem;\r\n                tooltip.label.populateStringFrom = this;\r\n                if (tooltip.getFillFromObject) {\r\n                    var fill = this.fill;\r\n                    var source = colorSource_1;\r\n                    while (source.parent != undefined) {\r\n                        fill = source.fill;\r\n                        if (fill == undefined || (fill instanceof Color && fill.rgb == undefined)) {\r\n                            source = source.parent;\r\n                        }\r\n                        else if (fill != undefined) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (fill == undefined) {\r\n                        fill = color(\"#000000\");\r\n                    }\r\n                    if (fill instanceof Color) {\r\n                        if (!tooltip.visible) {\r\n                            tooltip.background.fill = fill;\r\n                        }\r\n                        else {\r\n                            tooltip.background.animate({ property: \"fill\", to: fill }, tooltip.animationDuration);\r\n                        }\r\n                    }\r\n                    else {\r\n                        tooltip.background.fill = fill;\r\n                    }\r\n                    if (tooltip.autoTextColor && fill instanceof Color) {\r\n                        tooltip.label.fill = fill.alternative;\r\n                    }\r\n                }\r\n                // Apply tooltip text\r\n                var text = \"\";\r\n                if (this.tooltipHTML) {\r\n                    tooltip.html = this.tooltipHTML;\r\n                    text = this.tooltipHTML;\r\n                }\r\n                if (this.tooltipText) {\r\n                    tooltip.text = this.tooltipText;\r\n                    text = this.tooltipText;\r\n                }\r\n                if (this.updateTooltipPosition(point)) {\r\n                    // Set accessibility option\r\n                    tooltip.readerDescribedBy = this.uidAttr();\r\n                    // make label to render to be able to check currentText\r\n                    if (tooltip.label.invalid) {\r\n                        tooltip.label.validate();\r\n                    }\r\n                    if (text != undefined && text != \"\" && tooltip.label.currentText != \"\") {\r\n                        //@todo: think of how to solve this better\r\n                        if (tooltip && !tooltip.parent) {\r\n                            tooltip.parent = this.tooltipContainer;\r\n                        }\r\n                        // Reveal tooltip\r\n                        // showing it in 1 ms helps to avoid strange flickering in IE\r\n                        var duration = tooltip.defaultState.transitionDuration;\r\n                        if (duration <= 0) {\r\n                            duration = 1;\r\n                        }\r\n                        tooltip.show(duration);\r\n                        tooltip.currentSprite = this;\r\n                        return true;\r\n                    }\r\n                    else {\r\n                        this.hideTooltip(0);\r\n                    }\r\n                }\r\n                else {\r\n                    this.hideTooltip(0);\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Sprite.prototype.updateTooltipPosition = function (point) {\r\n        var _this = this;\r\n        if (this.tooltipPosition == \"pointer\") {\r\n            if (this._interactionDisposer) {\r\n                this._interactionDisposer.dispose();\r\n            }\r\n            this._interactionDisposer = getInteraction().body.events.on(\"track\", function (ev) {\r\n                return _this.pointTooltipTo($utils.documentPointToSvg(ev.point, _this.svgContainer.SVGContainer, _this.svgContainer.cssScale), true);\r\n            });\r\n            if (point) {\r\n                return this.pointTooltipTo(point, true);\r\n            }\r\n        }\r\n        else {\r\n            // Point to the X/Y of this Sprite\r\n            var globalPoint = $utils.spritePointToSvg({\r\n                \"x\": this.getTooltipX(),\r\n                \"y\": this.getTooltipY()\r\n            }, this);\r\n            return this.pointTooltipTo(globalPoint);\r\n        }\r\n    };\r\n    /**\r\n     * Sets the point the [[Tooltip]] should point to.\r\n     *\r\n     * @param point      Coordinates to point to\r\n     * @param instantly  Move instantly without animation\r\n     */\r\n    Sprite.prototype.pointTooltipTo = function (point, instantly) {\r\n        var tooltip = this.tooltip;\r\n        if (tooltip && this.topParent) {\r\n            if (tooltip.showInViewport) {\r\n                tooltip.pointTo(point, instantly);\r\n                return true;\r\n            }\r\n            if ($math.isInRectangle(point, { x: 0, y: 0, width: this.topParent.maxWidth, height: this.topParent.maxHeight })) {\r\n                tooltip.pointTo(point, instantly);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Hides element's [[Tooltip]].\r\n     *\r\n     * @see {@link Tooltip}\r\n     */\r\n    Sprite.prototype.hideTooltip = function (duration) {\r\n        if (this.showTooltipOn == \"always\") {\r\n            return;\r\n        }\r\n        var tooltip = this.tooltip;\r\n        if (tooltip) {\r\n            if (tooltip.targetSprite == this) {\r\n                tooltip.targetSprite = undefined;\r\n            }\r\n            tooltip.hide(duration);\r\n            if (this._interactionDisposer) {\r\n                this._interactionDisposer.dispose();\r\n                this._interactionDisposer = undefined;\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"tooltipHTML\", {\r\n        /**\r\n         * @return Tooltip HTML content template\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tooltipHTML\");\r\n        },\r\n        /**\r\n         * An HTML template to be used to populate [[Tooltip]] contents.\r\n         *\r\n         * If element has `tooltipDataItem` or `dataItem` set, this will be parsed\r\n         * for any data values to be replaced with the values from respective data\r\n         * items.\r\n         *\r\n         * @param value Tooltip HTML content template\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            this.hoverable = true;\r\n            if (this.setPropertyValue(\"tooltipHTML\", value)) {\r\n                if (this.tooltip) {\r\n                    if (this.tooltip.visible) {\r\n                        this.showTooltip();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"tooltipText\", {\r\n        /**\r\n         * @return Tooltip content template\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tooltipText\");\r\n        },\r\n        /**\r\n         * A text template to be used to populate Tooltip's contents.\r\n         *\r\n         * If element has `tooltipDataItem` or `dataItem` set, this will be parsed\r\n         * for any data values to be replaced with the values from respective data\r\n         * items.\r\n         *\r\n         * This template will also be parsed for any special formatting tags.\r\n         *\r\n         * @param value Tooltip content template\r\n         * @see {@link TextFormatter}\r\n         */\r\n        set: function (value) {\r\n            value = $type.toText(value);\r\n            if (value) {\r\n                this.hoverable = true;\r\n            }\r\n            if (this.setPropertyValue(\"tooltipText\", value)) {\r\n                if (this.tooltip) {\r\n                    if (this.tooltip.visible) {\r\n                        this.showTooltip();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"tooltipContainer\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Container\r\n         */\r\n        get: function () {\r\n            if (this._tooltipContainer) {\r\n                return this._tooltipContainer;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.tooltipContainer;\r\n            }\r\n        },\r\n        /**\r\n         * A container reference that should be used to place element's\r\n         * [[Tooltip]] in.\r\n         *\r\n         * Will use parent's container if does not have one set.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Container\r\n         * @todo Dispose of the old _tooltipContainer ?\r\n         */\r\n        set: function (value) {\r\n            this._tooltipContainer = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"tooltipX\", {\r\n        /**\r\n         * @return Tooltip X (px)\r\n         */\r\n        get: function () {\r\n            return this.getTooltipX();\r\n        },\r\n        /**\r\n         * X coordinate the [[Tooltip]] should be shown at.\r\n         *\r\n         * @param value  Tooltip X (px)\r\n         */\r\n        set: function (value) {\r\n            if (this.setPercentProperty(\"tooltipX\", value) && this.tooltip) {\r\n                this.tooltip.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"alwaysShowTooltip\", {\r\n        /**\r\n         * @return Always show tooltip?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"showTooltipOn\") == \"always\";\r\n        },\r\n        /**\r\n         * DEPRECATION NOTICE: This setting is deprecated in favor of a more flexible\r\n         * setting: `showTooltipOn`. Please use `showTooltipOn = \"always\"` instead.\r\n         *\r\n         * Indicates if this element should display a tooltip permanently.\r\n         *\r\n         * Useful, if you want to show permanent tooltips on some items.\r\n         *\r\n         * @default false\r\n         * @since 4.5.4\r\n         * @deprecated Use `showTooltipOn = \"always\"` instead\r\n         * @param  value  Always show tooltip?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            if (value) {\r\n                this.showTooltipOn = \"always\";\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"showTooltipOn\", {\r\n        /**\r\n         * @return When to show tooltip\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"showTooltipOn\");\r\n        },\r\n        /**\r\n         * Indicates when tooltip needs to be shown on this element:\r\n         *\r\n         * * `\"hover\"` (default) - Tooltip will be shown when element is hovered on.\r\n         * * `\"hit\"` - Tooltip will be shown when element is clicked/tapped. Tooltip will be hidden when clicked/tapped anywhere else.\r\n         * * `\"always\"` - Tooltip will be shown on the element permanently.\r\n         *\r\n         * For example, if you would like to show tooltips on all of the columns of\r\n         * a [[ColumnSeries]]:\r\n         *\r\n         * ```TypeScript\r\n         * series.columns.template.showTooltipOn = \"always\";\r\n         * ```\r\n         * ```JavaScript\r\n         * series.columns.template.showTooltipOn = \"always\";\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     // ...\r\n         *     \"columns\": {\r\n         *       \"showTooltipOn\": \"always\"\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * It can even be set to display on a selected columns via `propertyFields`:\r\n         *\r\n         * ```TypeScript\r\n         * series.columns.template.propertyFields.showTooltipOn = \"tooltip\";\r\n         * ```\r\n         * ```JavaScript\r\n         * series.columns.template.propertyFields.showTooltipOn = \"tooltip\";\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     // ...\r\n         *     \"columns\": {\r\n         *       \"propertyFields\": {\r\n         *         \"showTooltipOn\": \"tooltip\"\r\n         *       }\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * @default \"hover\"\r\n         * @since 4.7.9\r\n         * @param  value  When to show tooltip\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"showTooltipOn\", value)) {\r\n                if (value == \"hit\") {\r\n                    this.clickable = true;\r\n                }\r\n                if (this.tooltip) {\r\n                    if (value == \"always\") {\r\n                        this.showTooltip();\r\n                    }\r\n                    else {\r\n                        this.handleAlwaysShowTooltip();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"tooltipPosition\", {\r\n        /**\r\n         * Position\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tooltipPosition\");\r\n        },\r\n        /**\r\n         * Specifies if [[Tooltip]] should follow the mouse or touch pointer or stay\r\n         * at the fixed position.\r\n         *\r\n         * @param value  Position\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tooltipPosition\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"tooltipY\", {\r\n        /**\r\n         * @return Tooltip Y (px)\r\n         */\r\n        get: function () {\r\n            return this.getTooltipY();\r\n        },\r\n        /**\r\n         * Y coordinate the [[Tooltip]] should be shown at.\r\n         *\r\n         * @param value  Tooltip Y (px)\r\n         */\r\n        set: function (value) {\r\n            if (this.setPercentProperty(\"tooltipY\", value) && this.tooltip) {\r\n                this.tooltip.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns Tooltip X coordinate if it's set, or middle of the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return X (px)\r\n     */\r\n    Sprite.prototype.getTooltipX = function () {\r\n        var x = this.getPropertyValue(\"tooltipX\");\r\n        if (!$type.hasValue(x)) {\r\n            x = percent(50);\r\n        }\r\n        var value;\r\n        if ($type.isNumber(x)) {\r\n            value = x;\r\n        }\r\n        if (x instanceof Percent) {\r\n            value = this.maxLeftSelf + this._measuredWidthSelf * x.value - this.pixelPaddingLeft - this.ex; // overflow is know only for measured items, so this is not always good\r\n        }\r\n        if (!$type.isNumber(value)) {\r\n            value = 0;\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Returns Tooltip Y coordinate if it's set, or middle of the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Y (px)\r\n     */\r\n    Sprite.prototype.getTooltipY = function () {\r\n        var y = this.getPropertyValue(\"tooltipY\");\r\n        if (!$type.hasValue(y)) {\r\n            y = percent(50);\r\n        }\r\n        var value;\r\n        if ($type.isNumber(y)) {\r\n            value = y;\r\n        }\r\n        if (y instanceof Percent) {\r\n            value = this.maxTopSelf + this._measuredHeightSelf * y.value - this.pixelPaddingTop - this.ey; // overflow is know only for measured items, so this is not always good\r\n        }\r\n        if (!$type.isNumber(value)) {\r\n            value = 0;\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Displays a modal or console message with error, and halts any further\r\n     * processing of this item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param e Error\r\n     * @todo Implement from applying further actions to this item\r\n     */\r\n    Sprite.prototype.raiseCriticalError = function (e, closable) {\r\n        if (this.svgContainer) {\r\n            if (!this._adapterO) {\r\n                this.modal.content = e.message;\r\n            }\r\n            else {\r\n                this.modal.content = this._adapterO.apply(\"criticalError\", e).message;\r\n            }\r\n            if (!closable) {\r\n                this.disabled = true;\r\n            }\r\n            else {\r\n                this.modal.closable = true;\r\n            }\r\n            if (!options.suppressErrors) {\r\n                this.modal.open();\r\n            }\r\n        }\r\n        if (options.verbose) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    /**\r\n * Processes JSON-based config before it is applied to the object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param config  Config\r\n */\r\n    Sprite.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            // Tooltip color source\r\n            if ($type.hasValue(config.tooltipColorSource) && $type.isString(config.tooltipColorSource) && this.map.hasKey(config.tooltipColorSource)) {\r\n                config.tooltipColorSource = this.map.getKey(config.tooltipColorSource);\r\n            }\r\n            // Cursor styles\r\n            if ($type.hasValue(config.cursorOverStyle) && $type.isString(config.cursorOverStyle)) {\r\n                config.cursorOverStyle = this.getCursorStyle(config.cursorOverStyle);\r\n            }\r\n            if ($type.hasValue(config.cursorDowntyle) && $type.isString(config.cursorDowntyle)) {\r\n                config.cursorDowntyle = this.getCursorStyle(config.cursorDowntyle);\r\n            }\r\n            if ($type.hasValue(config.cursorOptions)) {\r\n                if ($type.hasValue(config.cursorOptions.overStyle) && $type.isString(config.cursorOptions.overStyle)) {\r\n                    config.cursorOptions.overStyle = this.getCursorStyle(config.cursorOptions.overStyle);\r\n                }\r\n                if ($type.hasValue(config.cursorOptions.downStyle) && $type.isString(config.cursorOptions.downStyle)) {\r\n                    config.cursorOptions.downStyle = this.getCursorStyle(config.cursorOptions.downStyle);\r\n                }\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n        this.processDelayedMap();\r\n    };\r\n    /**\r\n     * Converts string name of the cursor into actual [[MouseCursorStyle]].\r\n     *\r\n     * @param style  Cursor type\r\n     * @return Cursor definition\r\n     */\r\n    Sprite.prototype.getCursorStyle = function (style) {\r\n        switch (style) {\r\n            case \"grab\":\r\n                return MouseCursorStyle.grab;\r\n            case \"grabbing\":\r\n                return MouseCursorStyle.grabbing;\r\n            case \"pointer\":\r\n                return MouseCursorStyle.pointer;\r\n            case \"horizontalResize\":\r\n                return MouseCursorStyle.horizontalResize;\r\n            case \"verticalResize\":\r\n                return MouseCursorStyle.verticalResize;\r\n            default:\r\n                return MouseCursorStyle.default;\r\n        }\r\n    };\r\n    /**\r\n     * This function is used to sort element's JSON config properties, so that\r\n     * some properties that absolutely need to be processed last, can be put at\r\n     * the end.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param a  Element 1\r\n     * @param b  Element 2\r\n     * @return Sorting number\r\n     */\r\n    Sprite.prototype.configOrder = function (a, b) {\r\n        if (a == b) {\r\n            return 0;\r\n        }\r\n        // Must come last\r\n        else if (a == \"tooltipColorSource\") {\r\n            return 1;\r\n        }\r\n        else if (b == \"tooltipColorSource\") {\r\n            return -1;\r\n        }\r\n        else {\r\n            return _super.prototype.configOrder.call(this, a, b);\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"isHidden\", {\r\n        /**\r\n         * If `sprite.hide()` is called, we set isHidden to true when sprite is hidden.\r\n         * This was added becaus hidden state might have visibility set to true and so\r\n         * there would not be possible to find out if a sprite is technically hidden or not.\r\n         */\r\n        get: function () {\r\n            if (this._isHidden) {\r\n                return this._isHidden;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.isHidden;\r\n            }\r\n            return false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"showOnInit\", {\r\n        /**\r\n         * @return Show on init?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"showOnInit\");\r\n        },\r\n        /**\r\n         * If this is set to `true`, Sprite, when inited will be instantly hidden\r\n         * (\"hidden\" state applied) and then shown (\"default\" state applied).\r\n         *\r\n         * If your \"default\" state's `transitionDuration > 0` this will result in\r\n         * initial animation from \"hidden\" state to \"default\" state.\r\n         *\r\n         * If you need a Sprite which has `showOnInit = true` not to be shown\r\n         * initially, set `sprite.hidden = true`. Setting `sprite.visible = false`\r\n         * will not prevent the animation and the sprite will be shown.\r\n         *\r\n         * @param value show on init?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            this.setShowOnInit(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Sprite.prototype.setShowOnInit = function (value) {\r\n        if (this.setPropertyValue(\"showOnInit\", value)) {\r\n            if (!this.isTemplate) {\r\n                if (value && !this.inited && !this.hidden) {\r\n                    this._showOnInitDisposer = new MultiDisposer([\r\n                        registry.events.once(\"enterframe\", this.hideInitially, this),\r\n                        this.events.once(\"beforevalidated\", this.hideInitially, this, false),\r\n                        this.events.on(\"inited\", this.appear, this, false)\r\n                    ]);\r\n                    this._disposers.push(this._showOnInitDisposer);\r\n                }\r\n                else {\r\n                    if (this._showOnInitDisposer) {\r\n                        this._showOnInitDisposer.dispose();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Sprite.prototype.hideInitially = function () {\r\n        if (!this.isDisposed()) {\r\n            this.appeared = false;\r\n            //if (!this.hidden && !this._isHidden) { // not good for series, as on enterframe it doesn't have data items yet.\r\n            if (!this.inited) {\r\n                this.hide(0);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Hides the chart instantly and then shows it. If defaultState.transitionDuration > 0, this will result an animation in which properties of hidden state will animate to properties of visible state.\r\n     */\r\n    Sprite.prototype.appear = function () {\r\n        var _this = this;\r\n        this.appeared = false;\r\n        if (!this.hidden && !this.isHidden) {\r\n            this.hide(0);\r\n        }\r\n        if (!this.hidden) {\r\n            var animation = this.show();\r\n            if (animation && !animation.isFinished()) {\r\n                this.addDisposer(animation.events.on(\"animationended\", function () {\r\n                    _this.appeared = true;\r\n                    _this.dispatch(\"appeared\");\r\n                }));\r\n            }\r\n            else {\r\n                this.appeared = true;\r\n                this.dispatch(\"appeared\");\r\n            }\r\n        }\r\n        else {\r\n            this.appeared = true;\r\n            this.dispatch(\"appeared\");\r\n        }\r\n    };\r\n    Object.defineProperty(Sprite.prototype, \"hidden\", {\r\n        /**\r\n         * @return Is initially hidden?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"hidden\");\r\n        },\r\n        /**\r\n         * If a sprite has `showOnInit = true`, it will animate from \"hidden\" to\r\n         * \"default\" state when initialized. To prevent this but keep\r\n         * `showOnInit = true`, you can set `sprite.hidden = true`.\r\n         *\r\n         * @param value initially hidden?\r\n         */\r\n        set: function (value) {\r\n            value = $type.toBoolean(value);\r\n            this.setPropertyValue(\"hidden\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"bbox\", {\r\n        /**\r\n         * Returns bounding box (square) for this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        get: function () {\r\n            if (this.definedBBox) {\r\n                return this.definedBBox;\r\n            }\r\n            return this._bbox;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"plugins\", {\r\n        /**\r\n         * A list of plugins (objects that implement [[IPlugin]] interface) attached\r\n         * to this object.\r\n         *\r\n         * @since 4.2.2\r\n         * @return List of plugins\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._plugins) {\r\n                this._plugins = new List();\r\n                this._disposers.push(this._plugins.events.on(\"inserted\", function (ev) {\r\n                    ev.newValue.target = _this;\r\n                    ev.newValue.init();\r\n                }));\r\n                this._disposers.push(new ListDisposer(this._plugins));\r\n            }\r\n            return this._plugins;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Called during the System.update method\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype._systemUpdate = function (skippedSprites) {\r\n        this.validate();\r\n    };\r\n    /**\r\n     * Called during the System.update method\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype._systemCheckIfValidate = function () {\r\n        return true;\r\n    };\r\n    /**\r\n     * Called during the System.validatePositions method\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype._systemValidatePositions = function () {\r\n        this.validatePosition();\r\n    };\r\n    /**\r\n     * Called during the System.validateLayouts method\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Sprite.prototype._systemValidateLayouts = function () {\r\n    };\r\n    return Sprite;\r\n}(BaseObjectEvents));\r\nexport { Sprite };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Sprite\"] = Sprite;\r\n//# sourceMappingURL=Sprite.js.map","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","/**\r\n * Module that defines everything related to building bullets.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../../core/Container\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { defaultRules, ResponsiveBreakpoints } from \"../../core/utils/Responsive\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Class used to creates bullets.\r\n *\r\n * @see {@link IBulletEvents} for a list of available events\r\n * @see {@link IBulletAdapters} for a list of available Adapters\r\n * @todo Usage example\r\n * @important\r\n */\r\nvar Bullet = /** @class */ (function (_super) {\r\n    __extends(Bullet, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Bullet() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Bullet\";\r\n        _this.isMeasured = false;\r\n        _this.tooltipX = 0;\r\n        _this.tooltipY = 0;\r\n        _this.layout = \"none\";\r\n        _this.applyOnClones = true;\r\n        _this.copyToLegendMarker = true;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Bullet.prototype, \"locationX\", {\r\n        /**\r\n         * @return Location (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"locationX\");\r\n        },\r\n        /**\r\n         * Relative horizontal location within cell. (0-1)\r\n         *\r\n         * @param value  Location (0-1)\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"locationX\", value)) {\r\n                var dataItem = this.dataItem;\r\n                if (dataItem && dataItem.component) {\r\n                    dataItem.component.invalidate();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Bullet.prototype, \"locationY\", {\r\n        /**\r\n         * @return Location (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"locationY\");\r\n        },\r\n        /**\r\n         * Relative vertical location within cell. (0-1)\r\n         *\r\n         * @param value  Location (0-1)\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"locationY\", value)) {\r\n                var dataItem = this.dataItem;\r\n                if (dataItem && dataItem.component) {\r\n                    dataItem.component.invalidate();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Bullet.prototype, \"xField\", {\r\n        /**\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"xField\");\r\n        },\r\n        /**\r\n         * [xField description]\r\n         *\r\n         * @todo Description\r\n         * @param value  [description]\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"xField\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Bullet.prototype, \"yField\", {\r\n        /**\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"yField\");\r\n        },\r\n        /**\r\n         * [yField description]\r\n         *\r\n         * Description\r\n         * @param value  [description]\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"yField\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Bullet.prototype, \"isDynamic\", {\r\n        /**\r\n         * @return Redraw on data change?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"isDynamic\");\r\n        },\r\n        /**\r\n         * Indicates if the bullet is \"dynamic\".\r\n         *\r\n         * In most cases the bullets remain the same, even if the underlying data\r\n         * changes.\r\n         *\r\n         * However, in cases where bullet also displays a label, or its size depends\r\n         * on data, it also needs to be redrawn when the underlying data changes.\r\n         *\r\n         * Only those bullets that have set `isDynamic = true` will be redrawn each\r\n         * time data changes. Regular bullets will be reused as they are.\r\n         *\r\n         * @default false\r\n         * @param value  Redraw on data change?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"isDynamic\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Bullet.prototype, \"copyToLegendMarker\", {\r\n        /**\r\n         * @return Redraw on data change?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"copyToLegendMarker\");\r\n        },\r\n        /**\r\n         * Indicates if the bullet should be copied to legend marker\r\n         *\r\n         * @default false\r\n         * @param value  Redraw on data change?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"copyToLegendMarker\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Bullet;\r\n}(Container));\r\nexport { Bullet };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Bullet\"] = Bullet;\r\n/**\r\n * Add default responsive rules\r\n */\r\n/**\r\n * Hide bullets\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.isXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof Bullet) {\r\n            var state = target.states.create(stateId);\r\n            state.properties.disabled = true;\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n//# sourceMappingURL=Bullet.js.map","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","/**\r\n * Duration formatting functionality.\r\n */\r\nimport { __extends } from \"tslib\";\r\nimport { Language } from \"../utils/Language\";\r\nimport { BaseObject } from \"../Base\";\r\nimport { getTextFormatter } from \"../formatters/TextFormatter\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $strings from \"../utils/Strings\";\r\nimport * as $object from \"../utils/Object\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $math from \"../utils/Math\";\r\n/**\r\n * DurationFormatter class. Formats numbers as durations.\r\n *\r\n * `1000` as `16:40`\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/} Tutorial on duration formatting\r\n */\r\nvar DurationFormatter = /** @class */ (function (_super) {\r\n    __extends(DurationFormatter, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function DurationFormatter() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * A base value for negative numbers. Will treat all numbers below this value\r\n         * as negative numbers.\r\n         */\r\n        _this._negativeBase = 0;\r\n        /**\r\n         * A base unit to consider values are in.\r\n         *\r\n         * @default \"s\"\r\n         */\r\n        _this._baseUnit = \"second\";\r\n        /**\r\n         * Output format to produce. If the format calls for applying color to the\r\n         * formatted value, this setting will determine what markup to use: SVG or\r\n         * HTML.\r\n         *\r\n         * Available options: svg, html.\r\n         *\r\n         * @default \"svg\"\r\n         */\r\n        _this._outputFormat = \"svg\";\r\n        /**\r\n         * How many milliseconds each unit represents.\r\n         */\r\n        _this._unitValues = {\r\n            \"millisecond\": 1,\r\n            \"second\": 1000,\r\n            \"minute\": 60000,\r\n            \"hour\": 3600000,\r\n            \"day\": 86400000,\r\n            \"week\": 604800000,\r\n            \"month\": 2592000000,\r\n            \"year\": 31536000000,\r\n        };\r\n        /**\r\n         * Collection of aliases for units.\r\n         */\r\n        _this._unitAliases = {\r\n            \"Y\": \"y\",\r\n            \"D\": \"d\",\r\n            \"H\": \"h\",\r\n            \"K\": \"h\",\r\n            \"k\": \"h\",\r\n            \"n\": \"S\"\r\n        };\r\n        _this.className = \"DurationFormatter\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Formats the number according as duration.\r\n     *\r\n     * For example `1000` (base unit seconds) would be converted to `16:40` as in\r\n     * 16 minutes and 40 seconds.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/} Tutorial on duration formatting\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @param base    Override base unit\r\n     * @return Formatted number\r\n     */\r\n    DurationFormatter.prototype.format = function (value, format, base) {\r\n        // no language?\r\n        if (!this.language) {\r\n            if (this.sprite) {\r\n                this.language = this.sprite.language;\r\n            }\r\n            else {\r\n                this.language = new Language;\r\n            }\r\n        }\r\n        // no base unit?\r\n        var baseUnit = base || this._baseUnit;\r\n        // no format passed in or empty\r\n        if (typeof format === \"undefined\" || format === \"\") {\r\n            if ($type.hasValue(this.durationFormat)) {\r\n                format = this.durationFormat;\r\n            }\r\n            else {\r\n                format = this.getFormat($type.toNumber(value), null, baseUnit);\r\n            }\r\n        }\r\n        // Clean format\r\n        format = $utils.cleanFormat(format);\r\n        // get format info (it will also deal with parser caching)\r\n        var info = this.parseFormat(format, baseUnit);\r\n        // cast to number just in case\r\n        // TODO: maybe use better casting\r\n        var source = Number(value);\r\n        // format and replace the number\r\n        var details;\r\n        if (source > this._negativeBase) {\r\n            details = info.positive;\r\n        }\r\n        else if (source < this._negativeBase) {\r\n            details = info.negative;\r\n        }\r\n        else {\r\n            details = info.zero;\r\n        }\r\n        // Format\r\n        var formatted = this.applyFormat(source, details);\r\n        // Apply color?\r\n        if (details.color !== \"\") {\r\n            if (this._outputFormat === \"svg\") {\r\n                formatted = \"<tspan fill='\" + details.color + \"'>\" + formatted + \"</tspan>\";\r\n            }\r\n            else if (this._outputFormat === \"html\") {\r\n                formatted = \"<span style='color: \" + details.color + \";'>\" + formatted + \"</span>\";\r\n            }\r\n        }\r\n        return formatted;\r\n    };\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format  Format string, i.e. \"#,###.00\"\r\n     * @param base    Override base unit\r\n     * @return Parsed information\r\n     */\r\n    DurationFormatter.prototype.parseFormat = function (format, base) {\r\n        var _this = this;\r\n        // Check cache\r\n        var cached = this.getCache(format);\r\n        if ($type.hasValue(cached)) {\r\n            return cached;\r\n        }\r\n        // no base unit?\r\n        var baseUnit = base || this._baseUnit;\r\n        // Initialize duration parsing info\r\n        var info = {\r\n            \"positive\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            },\r\n            \"negative\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            },\r\n            \"zero\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            }\r\n        };\r\n        // Escape double vertical bars (that mean display one vertical bar)\r\n        format = format.replace(\"||\", $strings.PLACEHOLDER2);\r\n        // Split it up and deal with different formats\r\n        var parts = format.split(\"|\");\r\n        info.positive.source = parts[0];\r\n        if (typeof parts[2] === \"undefined\") {\r\n            info.zero = info.positive;\r\n        }\r\n        else {\r\n            info.zero.source = parts[2];\r\n        }\r\n        if (typeof parts[1] === \"undefined\") {\r\n            info.negative = info.positive;\r\n        }\r\n        else {\r\n            info.negative.source = parts[1];\r\n        }\r\n        // Parse each\r\n        $object.each(info, function (part, item) {\r\n            // Already parsed\r\n            if (item.parsed) {\r\n                return;\r\n            }\r\n            // Check cached\r\n            if (typeof _this.getCache(item.source) !== \"undefined\") {\r\n                info[part] = _this.getCache(item.source);\r\n                return;\r\n            }\r\n            // Begin parsing\r\n            var partFormat = item.source;\r\n            // Check for [] directives\r\n            var dirs = [];\r\n            dirs = item.source.match(/^\\[([^\\]]*)\\]/);\r\n            if (dirs && dirs.length && dirs[0] !== \"\") {\r\n                partFormat = item.source.substr(dirs[0].length);\r\n                item.color = dirs[1];\r\n            }\r\n            // Let TextFormatter split into chunks\r\n            var chunks = getTextFormatter().chunk(partFormat, true);\r\n            for (var i = 0; i < chunks.length; i++) {\r\n                var chunk = chunks[i];\r\n                // replace back double vertical bar\r\n                chunk.text = chunk.text.replace($strings.PLACEHOLDER2, \"|\");\r\n                if (chunk.type === \"value\") {\r\n                    // Just \"Duration\"?\r\n                    // if (chunk.text.toLowerCase() === \"duration\") {\r\n                    // \tchunk.text = durationFormat;\r\n                    // }\r\n                    // Check for \"a\" (absolute) modifier\r\n                    if (chunk.text.match(/[yYMdDwhHKkmsSn]+a/)) {\r\n                        item.absolute = true;\r\n                        chunk.text = chunk.text.replace(/([yYMdDwhHKkmsSn]+)a/, \"$1\");\r\n                    }\r\n                    // Find all possible parts\r\n                    var matches = chunk.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);\r\n                    if (matches) {\r\n                        // Populate template\r\n                        for (var x = 0; x < matches.length; x++) {\r\n                            // Is it an alias?\r\n                            if (!$type.hasValue(matches[x])) {\r\n                                matches[x] = _this._unitAliases[matches[x]];\r\n                            }\r\n                            item.parts.push(matches[x]);\r\n                            chunk.text = chunk.text.replace(matches[x], $strings.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                // Apply to template\r\n                item.template += chunk.text;\r\n            }\r\n            // Apply style formatting\r\n            //item.template = getTextFormatter().format(item.template, this.outputFormat);\r\n            // Save cache\r\n            _this.setCache(item.source, item);\r\n            // Mark this as parsed\r\n            item.parsed = true;\r\n        });\r\n        // Save cache (the whole thing)\r\n        this.setCache(format, info);\r\n        return info;\r\n    };\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by {parseFormat}\r\n     * @return Formatted duration\r\n     */\r\n    DurationFormatter.prototype.applyFormat = function (value, details) {\r\n        // Use absolute values\r\n        var negative = !details.absolute && (value < this._negativeBase);\r\n        value = Math.abs(value);\r\n        // Recalculate to milliseconds\r\n        var tstamp = this.toTimeStamp(value, details.baseUnit);\r\n        // Init return value\r\n        var res = details.template;\r\n        // Iterate through duration parts\r\n        for (var i = 0, len = details.parts.length; i < len; i++) {\r\n            // Gather the part\r\n            var part = details.parts[i];\r\n            var unit = this.toTimeUnit(part.substr(0, 1));\r\n            var digits = part.length;\r\n            // Calculate current unit value\r\n            var ints = Math.floor(tstamp / this._unitValues[unit]);\r\n            res = res.replace($strings.PLACEHOLDER, $utils.padString(ints, digits, \"0\"));\r\n            // Reduce timestamp\r\n            tstamp -= ints * this._unitValues[unit];\r\n        }\r\n        // Reapply negative sign\r\n        if (negative) {\r\n            res = \"-\" + res;\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Converts numeric value to timestamp in milliseconds.\r\n     *\r\n     * @param value     A source value\r\n     * @param baseUnit  Base unit the source value is in: \"q\", \"s\", \"i\", \"h\", \"d\", \"w\", \"m\", \"y\"\r\n     * @return Value representation as a timestamp in milliseconds\r\n     */\r\n    DurationFormatter.prototype.toTimeStamp = function (value, baseUnit) {\r\n        return value * this._unitValues[baseUnit];\r\n    };\r\n    DurationFormatter.prototype.toTimeUnit = function (code) {\r\n        switch (code) {\r\n            case \"S\":\r\n                return \"millisecond\";\r\n            case \"s\":\r\n                return \"second\";\r\n            case \"m\":\r\n                return \"minute\";\r\n            case \"h\":\r\n                return \"hour\";\r\n            case \"d\":\r\n                return \"day\";\r\n            case \"w\":\r\n                return \"week\";\r\n            case \"M\":\r\n                return \"month\";\r\n            case \"y\":\r\n                return \"year\";\r\n        }\r\n        ;\r\n    };\r\n    /**\r\n     * Invalidates the parent [[Sprite]] object.\r\n     */\r\n    DurationFormatter.prototype.invalidateSprite = function () {\r\n        if (this.sprite) {\r\n            this.sprite.invalidate();\r\n        }\r\n    };\r\n    Object.defineProperty(DurationFormatter.prototype, \"baseUnit\", {\r\n        /**\r\n         * @return Base unit\r\n         */\r\n        get: function () {\r\n            return this._baseUnit;\r\n        },\r\n        /**\r\n         * Base unit the values are in.\r\n         *\r\n         * A base unit will be used to recalculate the numeric value to millisecond\r\n         * timestamps.\r\n         *\r\n         * Available options:\r\n         *\r\n         * * \"millisecond\"\r\n         * * \"second\"\r\n         * * \"minute\"\r\n         * * \"hour\"\r\n         * * \"day\"\r\n         * * \"week\"\r\n         * * \"month\"\r\n         * * \"year\"\r\n         *\r\n         * @default \"s\"\r\n         * @param baseUnit  A base unit\r\n         */\r\n        set: function (baseUnit) {\r\n            this._baseUnit = baseUnit;\r\n            this.invalidateSprite();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DurationFormatter.prototype, \"outputFormat\", {\r\n        /**\r\n         * Getter for output format.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Output format\r\n         */\r\n        get: function () {\r\n            return this._outputFormat;\r\n        },\r\n        /**\r\n         * Setter for output format: \"svg\" or \"html.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value  Output format\r\n         */\r\n        set: function (outputFormat) {\r\n            this._outputFormat = outputFormat.toLowerCase();\r\n            this.invalidateSprite();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns appropriate default format for the value.\r\n     *\r\n     * If `maxValue` is sepcified, it will use that value to determine the time\r\n     * unit for the format.\r\n     *\r\n     * For example if your `baseUnit` is `\"second\"` and you pass in `10`, you\r\n     * will get `\"10\"`.\r\n     *\r\n     * However, you might want it to be formatted in the context of bigger scale,\r\n     * say 10 minutes (600 seconds). If you pass in `600` as `maxValue`, all\r\n     * values, including small ones will use format with minutes, e.g.:\r\n     * `00:10`, `00:50`, `12: 30`, etc.\r\n     *\r\n     * @param value     Value to format\r\n     * @param maxValue  Maximum value to be used to determine format\r\n     * @param baseUnit  Base unit of the value\r\n     * @return Format\r\n     */\r\n    DurationFormatter.prototype.getFormat = function (value, maxValue, baseUnit) {\r\n        // Is format override set?\r\n        if ($type.hasValue(this.durationFormat)) {\r\n            return this.durationFormat;\r\n        }\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.baseUnit;\r\n        }\r\n        if ($type.hasValue(maxValue) && value != maxValue) {\r\n            value = Math.abs(value);\r\n            maxValue = Math.abs(maxValue);\r\n            var maxUnit = this.getValueUnit($math.max(value, maxValue), baseUnit);\r\n            //let diffUnit = this.getValueUnit(Math.abs(maxValue - value), baseUnit);\r\n            //console.log(maxUnit, diffUnit);\r\n            return this.durationFormats[baseUnit][maxUnit];\r\n        }\r\n        else {\r\n            var unit = this.getValueUnit(value, baseUnit);\r\n            return this.durationFormats[baseUnit][unit];\r\n        }\r\n    };\r\n    /**\r\n     * Returns value's closest denominator time unit, e.g 100 seconds is\r\n     * `\"minute\"`, while 59 seconds would still be `second`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Denominator\r\n     */\r\n    DurationFormatter.prototype.getValueUnit = function (value, baseUnit) {\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.baseUnit;\r\n        }\r\n        // Convert to milliseconds\r\n        var currentUnit;\r\n        var ms = this.getMilliseconds(value, baseUnit);\r\n        $object.eachContinue(this._unitValues, function (key, val) {\r\n            if (key == baseUnit || currentUnit) {\r\n                var num = ms / val;\r\n                if (num <= 1) {\r\n                    if (!currentUnit) {\r\n                        currentUnit = key;\r\n                    }\r\n                    return false;\r\n                }\r\n                currentUnit = key;\r\n            }\r\n            return true;\r\n        });\r\n        return currentUnit;\r\n    };\r\n    /**\r\n     * Converts value to milliseconds according to `baseUnit`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Value in milliseconds\r\n     */\r\n    DurationFormatter.prototype.getMilliseconds = function (value, baseUnit) {\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.baseUnit;\r\n        }\r\n        return value * this._unitValues[baseUnit];\r\n    };\r\n    Object.defineProperty(DurationFormatter.prototype, \"durationFormat\", {\r\n        /**\r\n         * @return Format\r\n         */\r\n        get: function () {\r\n            return this._durationFormat;\r\n        },\r\n        /**\r\n         * If set, this format will be used instead of the one determined dynamically\r\n         * based on the basedUnit and range of values.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/} Available fomatting codes\r\n         * @param value  Format\r\n         */\r\n        set: function (value) {\r\n            if (this._durationFormat != value) {\r\n                this._durationFormat = value;\r\n                this.invalidateSprite();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DurationFormatter.prototype, \"durationFormats\", {\r\n        /**\r\n         * @return Formats\r\n         */\r\n        get: function () {\r\n            if (!this._durationFormats) {\r\n                this._durationFormats = {\r\n                    \"millisecond\": {\r\n                        \"millisecond\": this.language.translate(\"_duration_millisecond\"),\r\n                        \"second\": this.language.translate(\"_duration_millisecond_second\"),\r\n                        \"minute\": this.language.translate(\"_duration_millisecond_minute\"),\r\n                        \"hour\": this.language.translate(\"_duration_millisecond_hour\"),\r\n                        \"day\": this.language.translate(\"_duration_millisecond_day\"),\r\n                        \"week\": this.language.translate(\"_duration_millisecond_week\"),\r\n                        \"month\": this.language.translate(\"_duration_millisecond_month\"),\r\n                        \"year\": this.language.translate(\"_duration_millisecond_year\")\r\n                    },\r\n                    \"second\": {\r\n                        \"second\": this.language.translate(\"_duration_second\"),\r\n                        \"minute\": this.language.translate(\"_duration_second_minute\"),\r\n                        \"hour\": this.language.translate(\"_duration_second_hour\"),\r\n                        \"day\": this.language.translate(\"_duration_second_day\"),\r\n                        \"week\": this.language.translate(\"_duration_second_week\"),\r\n                        \"month\": this.language.translate(\"_duration_second_month\"),\r\n                        \"year\": this.language.translate(\"_duration_second_year\")\r\n                    },\r\n                    \"minute\": {\r\n                        \"minute\": this.language.translate(\"_duration_minute\"),\r\n                        \"hour\": this.language.translate(\"_duration_minute_hour\"),\r\n                        \"day\": this.language.translate(\"_duration_minute_day\"),\r\n                        \"week\": this.language.translate(\"_duration_minute_week\"),\r\n                        \"month\": this.language.translate(\"_duration_minute_month\"),\r\n                        \"year\": this.language.translate(\"_duration_minute_year\")\r\n                    },\r\n                    \"hour\": {\r\n                        \"hour\": this.language.translate(\"_duration_hour\"),\r\n                        \"day\": this.language.translate(\"_duration_hour_day\"),\r\n                        \"week\": this.language.translate(\"_duration_hour_week\"),\r\n                        \"month\": this.language.translate(\"_duration_hour_month\"),\r\n                        \"year\": this.language.translate(\"_duration_hour_year\")\r\n                    },\r\n                    \"day\": {\r\n                        \"day\": this.language.translate(\"_duration_day\"),\r\n                        \"week\": this.language.translate(\"_duration_day_week\"),\r\n                        \"month\": this.language.translate(\"_duration_day_month\"),\r\n                        \"year\": this.language.translate(\"_duration_day_year\")\r\n                    },\r\n                    \"week\": {\r\n                        \"week\": this.language.translate(\"_duration_week\"),\r\n                        \"month\": this.language.translate(\"_duration_week_month\"),\r\n                        \"year\": this.language.translate(\"_duration_week_year\")\r\n                    },\r\n                    \"month\": {\r\n                        \"month\": this.language.translate(\"_duration_month\"),\r\n                        \"year\": this.language.translate(\"_duration_month_year\")\r\n                    },\r\n                    \"year\": {\r\n                        \"year\": this.language.translate(\"_duration_year\")\r\n                    }\r\n                };\r\n            }\r\n            return this._durationFormats;\r\n        },\r\n        /**\r\n         * Duration formats for various combination of base units.\r\n         *\r\n         * @param value  Formats\r\n         */\r\n        set: function (value) {\r\n            this._durationFormats = value;\r\n            this.invalidateSprite();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return DurationFormatter;\r\n}(BaseObject));\r\nexport { DurationFormatter };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"DurationFormatter\"] = DurationFormatter;\r\n//# sourceMappingURL=DurationFormatter.js.map","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","/**\r\n * JSON parser.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { DataParser } from \"./DataParser\";\r\nimport * as $object from \"../utils/Object\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * A parser for JSON.\r\n *\r\n * @important\r\n */\r\nvar JSONParser = /** @class */ (function (_super) {\r\n    __extends(JSONParser, _super);\r\n    function JSONParser() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * Content-type suitable for JSON format.\r\n         */\r\n        _this.contentType = \"application/json\";\r\n        /**\r\n         * Parser options.\r\n         *\r\n         * @see {@link IJSONOptions} for description of each option\r\n         */\r\n        _this.options = {};\r\n        return _this;\r\n    }\r\n    /**\r\n     * Tests if the data is valid JSON.\r\n     *\r\n     * @param data  Source data\r\n     * @return Is it JSON?\r\n     */\r\n    JSONParser.isJSON = function (data) {\r\n        try {\r\n            // Try parsing JSON\r\n            JSON.parse(data);\r\n            // If we got to this point it means it's a valid JSON\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * Parses and returns data.\r\n     *\r\n     * @param data  Unparsed data\r\n     * @return Parsed data\r\n     */\r\n    JSONParser.prototype.parse = function (data) {\r\n        var _this = this;\r\n        // Init return\r\n        var res;\r\n        // Try parsing\r\n        try {\r\n            if ($type.hasValue(JSON)) {\r\n                res = JSON.parse(data);\r\n            }\r\n        }\r\n        catch (e) {\r\n            return undefined;\r\n        }\r\n        // Do we need to cast some fields to numbers or dates?\r\n        var empty = $type.hasValue(this.options.emptyAs);\r\n        var numbers = this.parsableNumbers;\r\n        var dates = this.parsableDates;\r\n        if (Array.isArray(res) && (numbers || dates || empty)) {\r\n            var _loop_1 = function (i, len) {\r\n                var row = res[i];\r\n                $object.each(row, function (key, value) {\r\n                    if (empty) {\r\n                        row[key] = _this.maybeToEmpty(row[key]);\r\n                    }\r\n                    if (numbers) {\r\n                        row[key] = _this.maybeToNumber(key, row[key]);\r\n                    }\r\n                    if (dates) {\r\n                        row[key] = _this.maybeToDate(key, row[key]);\r\n                    }\r\n                });\r\n            };\r\n            // Iterate through the data and check if it needs to be converted\r\n            for (var i = 0, len = res.length; i < len; i++) {\r\n                _loop_1(i, len);\r\n            }\r\n        }\r\n        // Convert to array\r\n        //return Array.isArray(res) ? res : [res];\r\n        return res;\r\n    };\r\n    return JSONParser;\r\n}(DataParser));\r\nexport { JSONParser };\r\n//# sourceMappingURL=JSONParser.js.map","/**\r\n * ============================================================================\r\n * COMPARING FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Comparing function used for ordering.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Use localeCompare\r\n * @param a  Item 1\r\n * @param b  Item 2\r\n * @return Result\r\n */\r\nexport function order(a, b) {\r\n    if (a === b) {\r\n        return 0;\r\n    }\r\n    else if (a < b) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * OTHER FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Repeats a `string` number of times as set in `amount`.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Make this faster\r\n * @param string  Source string\r\n * @param amount  Number of times to repeat string\r\n * @return New string\r\n */\r\nexport function repeat(string, amount) {\r\n    return new Array(amount + 1).join(string);\r\n}\r\n/**\r\n * Generates a random string `characters` length.\r\n *\r\n * @param chars  Number of characters\r\n * @return Random string\r\n */\r\nexport function random(chars) {\r\n    var res = \"\";\r\n    var choice = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    for (var i = 0; i < chars; i++) {\r\n        res += choice.charAt(Math.floor(Math.random() * choice.length));\r\n    }\r\n    return res;\r\n}\r\n//# sourceMappingURL=String.js.map","import * as $math from \"./Math\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Searches `array` for `value`.\r\n *\r\n * Returns -1 if not found.\r\n *\r\n * @param array  Source array\r\n * @param value  Value to search\r\n * @returns Index\r\n */\r\nexport function indexOf(array, value) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        // TODO handle NaN\r\n        if (array[i] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Calls `test` for each element in `array`.\r\n *\r\n * If `test` returns `true` then it immediately returns `true`.\r\n *\r\n * If `test` returns `false` for all of the elements in `array` then it returns `false`.\r\n *\r\n * @param array  Source array\r\n * @param test   Function which is called on each element\r\n * @returns Whether `test` returned true or not\r\n */\r\nexport function any(array, test) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (test(array[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Calls `fn` function for every member of array and returns a new array out\r\n * of all outputs.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n * @returns New array\r\n */\r\nexport function map(array, fn) {\r\n    var length = array.length;\r\n    var output = new Array(length);\r\n    for (var i = 0; i < length; ++i) {\r\n        output[i] = fn(array[i], i);\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function each(array, fn) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array in reverse order and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachReverse(array, fn) {\r\n    var i = array.length;\r\n    while (i--) {\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * If `fn` call evaluates to `false`, further iteration is cancelled.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachContinue(array, fn) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (!fn(array[i], i)) {\r\n            break;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Shifts an item at `index` towards beginning of the array.\r\n *\r\n * @param array  Source array\r\n * @param index  Target element index\r\n */\r\nexport function shiftLeft(array, index) {\r\n    var length = array.length;\r\n    for (var i = index; i < length; ++i) {\r\n        array[i - index] = array[i];\r\n    }\r\n    array.length = length - index;\r\n}\r\n/**\r\n * Returns the last item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function last(array) {\r\n    var length = array.length;\r\n    return length ? array[length - 1] : undefined;\r\n}\r\n/**\r\n * Returns the first item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function first(array) {\r\n    return array[0];\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * Caps `index` to be between `0` and `array.length`\r\n *\r\n * @param array    Source array\r\n * @param element  Item to insert\r\n * @param array    Index to insert item at\r\n */\r\nexport function insert(array, element, index) {\r\n    //if (array) {\r\n    index = $math.fitToRange(index, 0, array.length);\r\n    array.splice(index, 0, element);\r\n    //}\r\n}\r\n/**\r\n * Removes all copies of `element` from `array` (if they exist) and then\r\n * inserts `element` at `index`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item\r\n * @param array    Index to move item to\r\n */\r\nexport function setIndex(array, element, index) {\r\n    remove(array, element);\r\n    insert(array, element, index);\r\n}\r\n/**\r\n * Pushes all of the elements from `input` into `array`.\r\n *\r\n * @param array  Output array\r\n * @param input  Input array\r\n */\r\nexport function pushAll(array, input) {\r\n    var length = input.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        array.push(input[i]);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array`.\r\n *\r\n * If there are multiple copies of `element`, they are all removed.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n */\r\nexport function remove(array, element) {\r\n    var found = false;\r\n    var index = array.indexOf(element);\r\n    if (index !== -1) {\r\n        found = true;\r\n        array.splice(index, 1);\r\n        var length_1 = array.length;\r\n        while (index < length_1) {\r\n            // TODO handle NaN\r\n            if (array[index] === element) {\r\n                array.splice(index, 1);\r\n                --length_1;\r\n            }\r\n            else {\r\n                ++index;\r\n            }\r\n        }\r\n    }\r\n    return found;\r\n}\r\n/**\r\n * Adds an `element` to `array`.\r\n *\r\n * If array already contains and item like this, it is removed before adding\r\n * it again.\r\n *\r\n * Optionally `toIndex` can be specified to add element at specific index.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to move item to\r\n */\r\nexport function move(array, element, toIndex) {\r\n    // @todo this implementation must be the same as the List.moveValue method\r\n    // @todo don't do anything if the desired index is the same as the current index\r\n    var index = indexOf(array, element);\r\n    // @todo remove all old values rather than only the first ?\r\n    if (index !== -1) {\r\n        removeIndex(array, index);\r\n    }\r\n    if (toIndex == null) {\r\n        array.push(element);\r\n    }\r\n    else {\r\n        insertIndex(array, toIndex, element);\r\n    }\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to add item at\r\n */\r\nexport function add(array, element, index) {\r\n    // Append to the end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // Add to the beginning of array if index is 0\r\n    else if (index === 0) {\r\n        array.unshift(element);\r\n    }\r\n    // Add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array` (if it exists) and then inserts `element` at\r\n * `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n * @param array    Index to move item to\r\n */\r\nexport function replace(array, element, index) {\r\n    // check if exists\r\n    var ind = array.indexOf(element);\r\n    // remove if exists\r\n    if (ind !== -1) {\r\n        array.splice(ind, 1);\r\n    }\r\n    // add to end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Wraps `input` in an array, if it isn't already an array.\r\n *\r\n * @param input  Source value\r\n * @return An array\r\n */\r\nexport function toArray(input) {\r\n    if (Array.isArray(input)) {\r\n        return input;\r\n    }\r\n    else {\r\n        return [input];\r\n    }\r\n}\r\n/**\r\n * Returns `true` if `element` exists in `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to search for\r\n * @returns Item in array?\r\n */\r\nexport function has(array, element) {\r\n    return indexOf(array, element) !== -1;\r\n}\r\n/**\r\n * Returns a shallow copy of `array`.\r\n *\r\n * @param array  Source array\r\n * @returns Copy of the array\r\n */\r\nexport function copy(array) {\r\n    var length = array.length;\r\n    // It's faster to create the array with a pre-defined length\r\n    var output = new Array(length);\r\n    for (var i = 0; i < length; ++i) {\r\n        // Because the array has a pre-defined length, we have to assign rather than push\r\n        // This is also faster than pushing\r\n        output[i] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Returns a copy of `array` which contains all the elements between `start`\r\n * and `end`. (including `start` and excluding `end`)\r\n *\r\n * If `end` is not provided, it defaults to `array.length`.\r\n *\r\n * @param array  Source array\r\n * @param start  Start index\r\n * @param end    End index\r\n * @returns Part of the array\r\n */\r\nexport function slice(array, start, end) {\r\n    if (end === void 0) { end = array.length; }\r\n    var output = new Array(end - start);\r\n    for (var i = start; i < end; ++i) {\r\n        output[i - start] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Inserts a value into array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n * @param value  Value to insert\r\n */\r\nexport function insertIndex(array, index, value) {\r\n    array.splice(index, 0, value);\r\n}\r\n/**\r\n * Removes a value from array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n */\r\nexport function removeIndex(array, index) {\r\n    array.splice(index, 1);\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @param value     Value to search for\r\n * @returns Result of the search\r\n */\r\nexport function getSortedIndex(array, ordering, value) {\r\n    var start = 0;\r\n    var end = array.length;\r\n    var found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        var pivot = (start + end) >> 1;\r\n        var order = ordering(value, array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            end = pivot;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            start = pivot + 1;\r\n            // more\r\n        }\r\n        else {\r\n            start = pivot + 1;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: (found ? start - 1 : start)\r\n    };\r\n}\r\n/**\r\n * Searches the array using custom function and returns index of the item if\r\n * found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns -1.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nexport function findIndex(array, matches) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function find(array, matches) {\r\n    var index = findIndex(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function shuffle(array) {\r\n    // https://stackoverflow.com/a/2450976/449477\r\n    var currentIndex = array.length, temporaryValue, randomIndex;\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n}\r\nexport function keepIf(array, keep) {\r\n    var length = array.length;\r\n    var i = 0;\r\n    while (i < length) {\r\n        if (keep(array[i])) {\r\n            ++i;\r\n        }\r\n        else {\r\n            array.splice(i, 1);\r\n            --length;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Array.js.map","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","/**\r\n * A collection of low-level async operation stuff.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\nvar pendingFrame = false;\r\nvar nextQueue = [];\r\nvar readQueue = [];\r\nvar writeQueue = [];\r\nvar idleQueue = [];\r\nvar fps = 1000 / 60;\r\n/**\r\n * [raf description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport var raf = (typeof requestAnimationFrame === \"function\"\r\n    ? function (fn) {\r\n        requestAnimationFrame(fn);\r\n    }\r\n    : function (fn) {\r\n        setTimeout(fn, fps);\r\n    });\r\n/**\r\n * [frameLoop description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nfunction frameLoop() {\r\n    var now = Date.now();\r\n    var length = nextQueue.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        nextQueue[i](now);\r\n    }\r\n    $array.shiftLeft(nextQueue, length);\r\n    for (var i = 0; i < readQueue.length; ++i) {\r\n        readQueue[i](now);\r\n    }\r\n    readQueue.length = 0;\r\n    for (var i = 0; i < writeQueue.length; ++i) {\r\n        writeQueue[i](now);\r\n    }\r\n    writeQueue.length = 0;\r\n    if (nextQueue.length === 0 && readQueue.length === 0) {\r\n        pendingFrame = false;\r\n    }\r\n    else {\r\n        raf(frameLoop);\r\n    }\r\n}\r\n/**\r\n * [pendFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nfunction pendFrame() {\r\n    if (!pendingFrame) {\r\n        pendingFrame = true;\r\n        raf(frameLoop);\r\n    }\r\n}\r\n/**\r\n * [nextFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function nextFrame(fn) {\r\n    nextQueue.push(fn);\r\n    pendFrame();\r\n}\r\n/**\r\n * [readFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function readFrame(fn) {\r\n    readQueue.push(fn);\r\n    pendFrame();\r\n}\r\n/**\r\n * [writeFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function writeFrame(fn) {\r\n    writeQueue.push(fn);\r\n    pendFrame();\r\n}\r\n/**\r\n * [whenIdle description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function whenIdle(fn) {\r\n    idleQueue.push(fn);\r\n}\r\n/**\r\n * [triggerIdle description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @todo Maybe don't trigger a callback which was added while in the middle of triggering?\r\n */\r\nexport function triggerIdle() {\r\n    var now = Date.now();\r\n    var length = idleQueue.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        idleQueue.shift()(now);\r\n    }\r\n}\r\n//# sourceMappingURL=AsyncPending.js.map","/**\r\n * Ellipse module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Circle } from \"./Circle\";\r\nimport { registry } from \"../Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws an ellipse\r\n * @see {@link IEllipseEvents} for a list of available events\r\n * @see {@link IEllipseAdapters} for a list of available Adapters\r\n */\r\nvar Ellipse = /** @class */ (function (_super) {\r\n    __extends(Ellipse, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Ellipse() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Ellipse\";\r\n        _this.element = _this.paper.add(\"ellipse\");\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the ellipsis.\r\n     */\r\n    Ellipse.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        this.element.attr({ \"rx\": this.radius });\r\n        this.element.attr({ \"ry\": this.radiusY });\r\n    };\r\n    Object.defineProperty(Ellipse.prototype, \"radiusY\", {\r\n        /**\r\n         * @return Vertical radius\r\n         */\r\n        get: function () {\r\n            return this.innerHeight / 2;\r\n        },\r\n        /**\r\n         * Vertical radius.\r\n         *\r\n         * It's a relative size to the `radius`.\r\n         *\r\n         * E.g. 0.8 will mean the height of the ellipsis will be 80% of it's\r\n         * horizontal radius.\r\n         *\r\n         * @param value  Vertical radius\r\n         */\r\n        set: function (value) {\r\n            this.height = value * 2;\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Ellipse.prototype, \"radius\", {\r\n        /**\r\n         * @return Horizontal radius\r\n         */\r\n        get: function () {\r\n            return this.innerWidth / 2;\r\n        },\r\n        /**\r\n         * Horizontal radius.\r\n         *\r\n         * @param value  Horizontal radius\r\n         */\r\n        set: function (value) {\r\n            this.width = value * 2;\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Ellipse;\r\n}(Circle));\r\nexport { Ellipse };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Ellipse\"] = Ellipse;\r\n//# sourceMappingURL=Ellipse.js.map","/**\r\n * Functionality for adding images in SVG tree.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../Sprite\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $dom from \"../utils/DOM\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Used to add `<image>` elements to SVG.\r\n *\r\n * @see {@link IImageEvents} for a list of available events\r\n * @see {@link IImageAdapters} for a list of available Adapters\r\n */\r\nvar Image = /** @class */ (function (_super) {\r\n    __extends(Image, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Image() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Image\";\r\n        _this.element = _this.paper.add(\"image\");\r\n        _this.applyTheme();\r\n        _this.width = 50;\r\n        _this.height = 50;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws an `<image>` element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Image.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        if (this.href) {\r\n            var width = this.innerWidth;\r\n            var height = this.innerHeight;\r\n            if ($type.isNumber(this.widthRatio)) {\r\n                width = height * this.widthRatio;\r\n                this.width = width;\r\n            }\r\n            if ($type.isNumber(this.heightRatio)) {\r\n                height = width * this.heightRatio;\r\n                this.height = height;\r\n            }\r\n            this.element.attr({\r\n                \"width\": width,\r\n                \"height\": height\r\n            });\r\n            this.element.attrNS($dom.XLINK, \"xlink:href\", this.href);\r\n        }\r\n    };\r\n    Object.defineProperty(Image.prototype, \"href\", {\r\n        /**\r\n         * @return Image URI\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"href\");\r\n        },\r\n        /**\r\n         * An image URI.\r\n         *\r\n         * @param value  Image URI\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"href\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Image.prototype, \"widthRatio\", {\r\n        /**\r\n         * @return Ratio\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"widthRatio\");\r\n        },\r\n        /**\r\n         * Sets image `width` relatively to its `height`.\r\n         *\r\n         * If image's `height = 100` and `widthRatio = 0.5` the actual width will be\r\n         * `50`.\r\n         *\r\n         * @param value  Ratio\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"widthRatio\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Image.prototype, \"heightRatio\", {\r\n        /**\r\n         * @return Ratio\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"heightRatio\");\r\n        },\r\n        /**\r\n         * Sets image `height` relatively to its `width`.\r\n         *\r\n         * If image's `width = 100` and `heightRatio = 0.5` the actual height will be\r\n         * `50`.\r\n         *\r\n         * @param value  Ratio\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"heightRatio\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Image.prototype, \"bbox\", {\r\n        /**\r\n         * Returns bounding box (square) for this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        get: function () {\r\n            return {\r\n                x: 0,\r\n                y: 0,\r\n                width: this.pixelWidth,\r\n                height: this.pixelHeight\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Image;\r\n}(Sprite));\r\nexport { Image };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Image\"] = Image;\r\n//# sourceMappingURL=Image.js.map","/**\r\n * Polyline module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../Sprite\";\r\nimport { color } from \"../utils/Color\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $path from \"../rendering/Path\";\r\nimport * as $math from \"../utils/Math\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a polyline.\r\n *\r\n * @see {@link IPolylineEvents} for a list of available events\r\n * @see {@link IPolylineAdapters} for a list of available Adapters\r\n */\r\nvar Polyline = /** @class */ (function (_super) {\r\n    __extends(Polyline, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Polyline() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * [_distance description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._distance = 0;\r\n        _this.className = \"Polyline\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.shapeRendering = \"auto\";\r\n        _this.fill = color();\r\n        _this.strokeOpacity = 1;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Creats and adds an SVG path for the arc.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Polyline.prototype.makePath = function () {\r\n        this._distance = 0;\r\n        var segments = this.segments;\r\n        if (segments && segments.length > 0) {\r\n            var path = \"\";\r\n            for (var i = 0, len = segments.length; i < len; i++) {\r\n                var points = segments[i];\r\n                if (points.length > 0) {\r\n                    path += $path.moveTo(points[0]);\r\n                    for (var p = 1; p < points.length; p++) {\r\n                        var point = points[p];\r\n                        path += $path.lineTo(point);\r\n                        this._distance += $math.getDistance(points[p - 1], point);\r\n                    }\r\n                }\r\n            }\r\n            this.path = path;\r\n        }\r\n        this._realSegments = segments;\r\n    };\r\n    Object.defineProperty(Polyline.prototype, \"segments\", {\r\n        /**\r\n         * @return Segments\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"segments\");\r\n        },\r\n        /**\r\n         * A list of segment coordinates for the multi-part line.\r\n         *\r\n         * @todo Example\r\n         * @param segments  Segments\r\n         */\r\n        set: function (segments) {\r\n            this.setPropertyValue(\"segments\", segments);\r\n            this.makePath();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Polyline.prototype, \"distance\", {\r\n        /**\r\n         * [distance description]\r\n         *\r\n         * @todo Description\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this._distance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Converts relative position along the line (0-1) into pixel coordinates.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinates\r\n     */\r\n    Polyline.prototype.positionToPoint = function (position) {\r\n        var deltaAngle = 0;\r\n        if (position < 0) {\r\n            position = Math.abs(position);\r\n            deltaAngle = 180;\r\n        }\r\n        var segments = this._realSegments;\r\n        if (segments) {\r\n            var totalDistance = this.distance;\r\n            var currentDistance = 0;\r\n            var distanceAB = void 0;\r\n            var positionA = 0;\r\n            var positionB = 0;\r\n            var pointA = void 0;\r\n            var pointB = void 0;\r\n            for (var s = 0; s < segments.length; s++) {\r\n                var points = segments[s];\r\n                if (points.length > 1) {\r\n                    for (var p = 1; p < points.length; p++) {\r\n                        pointA = points[p - 1];\r\n                        pointB = points[p];\r\n                        positionA = currentDistance / totalDistance;\r\n                        distanceAB = $math.getDistance(pointA, pointB);\r\n                        currentDistance += distanceAB;\r\n                        positionB = currentDistance / totalDistance;\r\n                        if (positionA <= position && positionB > position) {\r\n                            s = segments.length;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                else if (points.length == 1) {\r\n                    pointA = points[0];\r\n                    pointB = points[0];\r\n                    positionA = 0;\r\n                    positionB = 1;\r\n                }\r\n            }\r\n            if (pointA && pointB) {\r\n                var positionAB = (position - positionA) / (positionB - positionA);\r\n                var midPoint = $math.getMidPoint(pointA, pointB, positionAB);\r\n                return { x: midPoint.x, y: midPoint.y, angle: deltaAngle + $math.getAngle(pointA, pointB) };\r\n            }\r\n        }\r\n        return { x: 0, y: 0, angle: 0 };\r\n    };\r\n    Object.defineProperty(Polyline.prototype, \"realSegments\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this._realSegments;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Polyline;\r\n}(Sprite));\r\nexport { Polyline };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Polyline\"] = Polyline;\r\n//# sourceMappingURL=Polyline.js.map","/**\r\n * Module for a multi-part arched line.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Polyline } from \"./Polyline\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a multi-part arched line.\r\n *\r\n * @see {@link IPolyarcEvents} for a list of available events\r\n * @see {@link IPolyarcAdapters} for a list of available Adapters\r\n */\r\nvar Polyarc = /** @class */ (function (_super) {\r\n    __extends(Polyarc, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Polyarc() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Polyarc\";\r\n        _this.controlPointDistance = 0.5;\r\n        _this.controlPointPosition = 0.5;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Creats and adds an SVG path for the arc.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Polyarc.prototype.makePath = function () {\r\n        this._distance = 0;\r\n        var segments = this.segments;\r\n        if (segments && segments.length > 0) {\r\n            var path = \"\";\r\n            this._realSegments = [];\r\n            for (var i = 0, len = segments.length; i < len; i++) {\r\n                var points = segments[i];\r\n                var realPoints = [];\r\n                this._realSegments.push(realPoints);\r\n                if (points.length > 0) {\r\n                    path += $path.moveTo(points[0]);\r\n                    for (var p = 1; p < points.length; p++) {\r\n                        var pointA = points[p - 1];\r\n                        var pointB = points[p];\r\n                        var distanceAB = $math.getDistance(pointB, pointA);\r\n                        var cpDistance = distanceAB * this.controlPointDistance;\r\n                        var controlPointPosition = this.controlPointPosition;\r\n                        var angle = -$math.getAngle(pointA, pointB);\r\n                        var cpx = pointA.x + (pointB.x - pointA.x) * controlPointPosition * 0.5 - cpDistance * $math.sin(angle);\r\n                        var cpy = pointA.y + (pointB.y - pointA.y) * controlPointPosition * 0.5 - cpDistance * $math.cos(angle);\r\n                        var controlPoint1 = { x: cpx, y: cpy };\r\n                        var cpx2 = pointA.x + (pointB.x - pointA.x) * controlPointPosition * 1.5 - cpDistance * $math.sin(angle);\r\n                        var cpy2 = pointA.y + (pointB.y - pointA.y) * controlPointPosition * 1.5 - cpDistance * $math.cos(angle);\r\n                        var controlPoint2 = { x: cpx2, y: cpy2 };\r\n                        path += $path.cubicCurveTo(pointB, controlPoint1, controlPoint2);\r\n                        // we add a lot of points in order to get the position/angle later\r\n                        var stepCount = Math.ceil(distanceAB);\r\n                        var prevPoint = pointA;\r\n                        if (stepCount > 0) {\r\n                            for (var i_1 = 0; i_1 <= stepCount; i_1++) {\r\n                                var point = $math.getPointOnCubicCurve(pointA, pointB, controlPoint1, controlPoint2, i_1 / stepCount);\r\n                                realPoints.push(point);\r\n                                this._distance += $math.getDistance(prevPoint, point);\r\n                                prevPoint = point;\r\n                            }\r\n                        }\r\n                        else {\r\n                            realPoints.push(pointA);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.path = path;\r\n        }\r\n    };\r\n    Object.defineProperty(Polyarc.prototype, \"controlPointPosition\", {\r\n        /**\r\n         * @return Position (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"controlPointPosition\");\r\n        },\r\n        /**\r\n         * Relative position along the line the control point is. (0-1)\r\n         *\r\n         * @default 0.5\r\n         * @param value  Position (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"controlPointPosition\", value);\r\n            this.makePath();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Polyarc.prototype, \"controlPointDistance\", {\r\n        /**\r\n         * @return Distance (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"controlPointDistance\");\r\n        },\r\n        /**\r\n         * Relative distance of the control point. (0-1)\r\n         *\r\n         * Default is half the length of the line. (0.5)\r\n         *\r\n         * @default 0.5\r\n         * @param value  Distance (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"controlPointDistance\", value);\r\n            this.makePath();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Polyarc;\r\n}(Polyline));\r\nexport { Polyarc };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Polyarc\"] = Polyarc;\r\n//# sourceMappingURL=Polyarc.js.map","/**\r\n * Morpher module contains functionality that allows morphing one polygon to\r\n * another.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../Base\";\r\nimport { Animation, AnimationDisposer } from \"../utils/Animation\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $ease from \"../utils/Ease\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * Morpher can be used to morph one polygon to some other polygon.\r\n */\r\nvar Morpher = /** @class */ (function (_super) {\r\n    __extends(Morpher, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param morphable An object to morph\r\n     */\r\n    function Morpher(morphable) {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * A storage for measurements.\r\n         */\r\n        _this._bboxes = [];\r\n        /**\r\n         * Duration of the morphing animation in milliseconds.\r\n         */\r\n        _this.morphDuration = 800;\r\n        /**\r\n         * An easing function to use for morphing animation.\r\n         *\r\n         * @see {@link Ease}\r\n         */\r\n        _this.morphEasing = $ease.cubicOut;\r\n        /**\r\n         * If set to `true`, all separate parts of the multi-part polygon will\r\n         * morph into a single circle or polygon when using built-in methods\r\n         * `morphToCircle()` or `morphToPolygon()`.\r\n         *\r\n         * Otherwise each separate part of polygon will morph to individual target\r\n         * circle or polgyon.\r\n         */\r\n        _this.morphToSingle = true;\r\n        /**\r\n         * A ratio to scale morphed object in relation to the source object.\r\n         */\r\n        _this.scaleRatio = 1;\r\n        _this.className = \"Morpher\";\r\n        _this.morphable = morphable;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Morphs a polygon to another polygon.\r\n     *\r\n     * @param toPoints  Corner points of the target shape\r\n     * @param duration  Duration in milliseconds\r\n     * @param easing    Easing function\r\n     * @return Animation\r\n     */\r\n    Morpher.prototype.morphToPolygon = function (toPoints, duration, easing) {\r\n        var points = this.morphable.currentPoints;\r\n        if (points && toPoints) {\r\n            this.sortPoints(points);\r\n            this.sortPoints(toPoints);\r\n            this._morphFromPointsReal = [];\r\n            this._morphToPointsReal = [];\r\n            if (!$type.hasValue(duration)) {\r\n                duration = this.morphDuration;\r\n            }\r\n            if (!$type.hasValue(easing)) {\r\n                easing = this.morphEasing;\r\n            }\r\n            this._morphFromPointsReal = this.normalizePoints(toPoints, points);\r\n            this._morphToPointsReal = this.normalizePoints(points, toPoints);\r\n            this.morphable.currentPoints = this._morphFromPointsReal;\r\n            var animation = new Animation(this, { property: \"morphProgress\", from: 0, to: 1 }, duration, easing);\r\n            this._disposers.push(animation);\r\n            animation.start();\r\n            return animation;\r\n        }\r\n    };\r\n    /**\r\n     * [normalizePoints description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param pointsA  Point A\r\n     * @param pointsB  Point B\r\n     * @return Normalized points\r\n     */\r\n    Morpher.prototype.normalizePoints = function (pointsA, pointsB) {\r\n        for (var i = 0, len = pointsA.length; i < len; i++) {\r\n            var surfaceA = pointsA[i][0];\r\n            var holeA = pointsA[i][1];\r\n            var bboxA = $type.getValue($math.getBBox(surfaceA));\r\n            var middleX = bboxA.x + bboxA.width;\r\n            var middleY = bboxA.y + bboxA.height;\r\n            // check if we have the same in PointsB\r\n            if (!pointsB[i]) {\r\n                pointsB[i] = [];\r\n            }\r\n            // check if we have surface in pointsB\r\n            if (surfaceA && !pointsB[i][0]) {\r\n                pointsB[i][0] = [{ x: middleX, y: middleY }, { x: middleX, y: middleY }];\r\n            }\r\n            if (pointsB[i][0]) {\r\n                pointsB[i][0] = this.addPoints(pointsB[i][0], surfaceA.length);\r\n                var distance = Infinity;\r\n                var splitAt = 0;\r\n                for (var a = 0; a < pointsB[i][0].length; a++) {\r\n                    var newDistance = $math.getDistance(pointsB[i][0][a], surfaceA[0]);\r\n                    if (newDistance < distance) {\r\n                        splitAt = a;\r\n                        distance = newDistance;\r\n                    }\r\n                }\r\n                var partA = pointsB[i][0].slice(0, splitAt);\r\n                var partB = pointsB[i][0].slice(splitAt);\r\n                pointsB[i][0] = partB.concat(partA);\r\n            }\r\n            if (holeA) {\r\n                if (!pointsB[i][1]) {\r\n                    pointsB[i][1] = [{ x: middleX, y: middleY }, { x: middleX, y: middleY }];\r\n                }\r\n                pointsB[i][1] = this.addPoints(pointsB[i][1], holeA.length);\r\n            }\r\n        }\r\n        return pointsB;\r\n    };\r\n    /**\r\n     * [sortPoints description]\r\n     *\r\n     * @ignore Exclude from doc\r\n     * @todo Description\r\n     * @param points  [description]\r\n     * @return                        common bbox of points\r\n     */\r\n    Morpher.prototype.sortPoints = function (points) {\r\n        points.sort(function (a, b) {\r\n            var bbox1 = $type.getValue($math.getBBox(a[0]));\r\n            var bbox2 = $type.getValue($math.getBBox(b[0]));\r\n            if (bbox1.width * bbox1.height > bbox2.width * bbox2.height) {\r\n                return -1;\r\n            }\r\n            else {\r\n                return 1;\r\n            }\r\n        });\r\n        var bboxes = [];\r\n        for (var i = 0, len = points.length; i < len; i++) {\r\n            var surface = points[i][0];\r\n            if (surface) {\r\n                bboxes.push($type.getValue($math.getBBox(surface)));\r\n            }\r\n        }\r\n        return $math.getCommonRectangle(bboxes);\r\n    };\r\n    /**\r\n     * Morphs polygon to a circle (it is actually a polygon which makes a circle).\r\n     *\r\n     * @param radius    Target circle radius (px)\r\n     * @param duration  Duration (ms)\r\n     * @param easing    Easing function\r\n     * @return Animation\r\n     */\r\n    Morpher.prototype.morphToCircle = function (radius, duration, easing) {\r\n        var points = this.morphable.points;\r\n        var commonBBox = this.sortPoints(points);\r\n        this._morphFromPointsReal = [];\r\n        this._morphToPointsReal = [];\r\n        if (!$type.hasValue(duration)) {\r\n            duration = this.morphDuration;\r\n        }\r\n        if (!$type.hasValue(easing)) {\r\n            easing = this.morphEasing;\r\n        }\r\n        // surface\r\n        for (var i = 0, len = points.length; i < len; i++) {\r\n            var surface = points[i][0];\r\n            var hole = points[i][1];\r\n            this._morphFromPointsReal[i] = [];\r\n            this._morphToPointsReal[i] = [];\r\n            if (surface) {\r\n                var toPoints = surface;\r\n                var fromPoints = surface;\r\n                var bbox = $type.getValue($math.getBBox(fromPoints)); // this._bboxes[i];\r\n                if (this.morphToSingle) {\r\n                    bbox = $type.getValue(commonBBox);\r\n                }\r\n                var middleX = bbox.x + bbox.width / 2;\r\n                var middleY = bbox.y + bbox.height / 2;\r\n                var realRadius = radius;\r\n                if (!$type.isNumber(realRadius)) {\r\n                    realRadius = Math.min(bbox.width / 2, bbox.height / 2);\r\n                }\r\n                toPoints = [];\r\n                // find angle for the first point\r\n                var startAngle = $math.getAngle({ x: middleX, y: middleY }, surface[0]);\r\n                var count = 100;\r\n                if (surface.length > count) {\r\n                    count = surface.length;\r\n                }\r\n                fromPoints = this.addPoints(surface, count);\r\n                count = fromPoints.length; // add Points might increase number a bit\r\n                var angle = 360 / (count - 1);\r\n                for (var a = 0; a < count; a++) {\r\n                    var realAngle = angle * a + startAngle;\r\n                    var pointOnCircle = { x: middleX + realRadius * $math.cos(realAngle), y: middleY + realRadius * $math.sin(realAngle) };\r\n                    toPoints[a] = pointOnCircle;\r\n                }\r\n                if (hole && hole.length > 0) {\r\n                    for (var i_1 = 0, hlen = hole.length; i_1 < hlen; i_1++) {\r\n                        toPoints.push({ x: middleX, y: middleY });\r\n                    }\r\n                }\r\n                this._morphFromPointsReal[i][0] = fromPoints;\r\n                this._morphToPointsReal[i][0] = toPoints;\r\n            }\r\n        }\r\n        this.morphable.currentPoints = this._morphFromPointsReal;\r\n        var animation = new Animation(this, { property: \"morphProgress\", from: 0, to: 1 }, duration, easing);\r\n        this._disposers.push(animation);\r\n        animation.start();\r\n        return animation;\r\n    };\r\n    /**\r\n     * [addPoints description]\r\n     *\r\n     * @ignore Exclude from doc\r\n     * @todo Description\r\n     * @param points         [description]\r\n     * @param mustHaveCount  [description]\r\n     * @return [description]\r\n     */\r\n    Morpher.prototype.addPoints = function (points, mustHaveCount) {\r\n        var addToSegmentCount = Math.round(mustHaveCount / points.length);\r\n        var newPoints = [];\r\n        for (var i = 0, len = points.length; i < len; i++) {\r\n            var point0 = points[i];\r\n            var point1 = void 0;\r\n            if (i == points.length - 1) {\r\n                point1 = points[0];\r\n            }\r\n            else {\r\n                point1 = points[i + 1];\r\n            }\r\n            newPoints.push(point0);\r\n            for (var p = 1; p < addToSegmentCount; p++) {\r\n                var percent = p / addToSegmentCount;\r\n                var extraPoint = { x: point0.x + (point1.x - point0.x) * percent, y: point0.y + (point1.y - point0.y) * percent };\r\n                newPoints.push(extraPoint);\r\n            }\r\n            // stop adding in case we already added more than left in original\r\n            if (newPoints.length + points.length - i == mustHaveCount) {\r\n                addToSegmentCount = 0;\r\n            }\r\n        }\r\n        if (newPoints.length < mustHaveCount && points.length > 0) {\r\n            var lastPoint = points[points.length - 1];\r\n            for (var p = newPoints.length; p < mustHaveCount; p++) {\r\n                // add same as last\r\n                newPoints.push({ x: lastPoint.x, y: lastPoint.y });\r\n            }\r\n        }\r\n        return newPoints;\r\n    };\r\n    /**\r\n     * Morphs polygon into a rectangular polygon.\r\n     *\r\n     * @param width     Width of the target rectangle (px)\r\n     * @param height    Height of the target rectangle (px)\r\n     * @param duration  Duration (ms)\r\n     * @param easing    Easing function\r\n     * @return Animation\r\n     */\r\n    Morpher.prototype.morphToRectangle = function (width, height, duration, easing) {\r\n        var points = this.morphable.points;\r\n        this.sortPoints(points);\r\n        this._morphFromPointsReal = [];\r\n        this._morphToPointsReal = [];\r\n        if (!$type.hasValue(duration)) {\r\n            duration = this.morphDuration;\r\n        }\r\n        if (!$type.hasValue(easing)) {\r\n            easing = this.morphEasing;\r\n        }\r\n        //\t\tlet biggestBBox: IRectangle = this._bboxes[this._biggestIndex];\r\n        // surface\r\n        for (var i = 0, len = points.length; i < len; i++) {\r\n            var surface = points[i][0];\r\n            var hole = points[i][1];\r\n            this._morphFromPointsReal[i] = [];\r\n            this._morphToPointsReal[i] = [];\r\n            if (surface) {\r\n                var toPoints = surface;\r\n                var fromPoints = surface;\r\n                var bbox = this._bboxes[i];\r\n                // we only work with first area. TODO: maybe we should find the biggest one?\r\n                if (this.morphToSingle) {\r\n                    //if (i != this._biggestIndex) {\r\n                    //\tbbox = { x: biggestBBox.x + biggestBBox.width / 2, y: biggestBBox.y + biggestBBox.height / 2, width: 0, height: 0 };\r\n                    //}\r\n                }\r\n                var x = bbox.x;\r\n                var y = bbox.y;\r\n                var realWidth = width;\r\n                var realHeight = height;\r\n                if (!$type.isNumber(realWidth)) {\r\n                    realWidth = bbox.width;\r\n                }\r\n                if (!$type.isNumber(realHeight)) {\r\n                    realHeight = bbox.height;\r\n                }\r\n                toPoints = [{ x: x, y: y }, { x: x + realWidth, y: y }, { x: x + realWidth, y: y + realHeight }, { x: x, y: y + realHeight }];\r\n                toPoints = this.addPoints(toPoints, surface.length);\r\n                // if polygon has less points then count, add\r\n                if (surface.length < 4) {\r\n                    for (var i_2 = surface.length; i_2 < 4; i_2++) {\r\n                        toPoints.push({ x: surface[i_2].x, y: surface[i_2].y });\r\n                    }\r\n                }\r\n                if (hole && hole.length > 0) {\r\n                    var middleX = bbox.x + bbox.width / 2;\r\n                    var middleY = bbox.y + bbox.height / 2;\r\n                    for (var i_3 = 0, hlen = hole.length; i_3 < hlen; i_3++) {\r\n                        toPoints.push({ x: middleX, y: middleY });\r\n                    }\r\n                }\r\n                this._morphFromPointsReal[i][0] = fromPoints;\r\n                this._morphToPointsReal[i][0] = toPoints;\r\n            }\r\n        }\r\n        this.morphable.currentPoints = this._morphFromPointsReal;\r\n        var animation = new Animation(this, { property: \"morphProgress\", from: 0, to: 1 }, duration, easing);\r\n        this._disposers.push(animation);\r\n        animation.start();\r\n        return animation;\r\n    };\r\n    Object.defineProperty(Morpher.prototype, \"morphProgress\", {\r\n        /**\r\n         * Returns the progress of morph transition.\r\n         *\r\n         * @return Progress (0-1)\r\n         */\r\n        get: function () {\r\n            return this._morphProgress;\r\n        },\r\n        /**\r\n         * Progress of the morph transition.\r\n         *\r\n         * Setting this will also trigger actual transformation.\r\n         *\r\n         * @param value  Progress (0-1)\r\n         */\r\n        set: function (value) {\r\n            this._morphProgress = value;\r\n            var currentPoints = [];\r\n            if (value != null) {\r\n                var fromPoints = this._morphFromPointsReal;\r\n                var toPoints = this._morphToPointsReal;\r\n                if (fromPoints != null && toPoints != null) {\r\n                    for (var i = 0, len = fromPoints.length; i < len; i++) {\r\n                        var currentArea = [];\r\n                        currentPoints.push(currentArea);\r\n                        var surfaceFrom = fromPoints[i][0];\r\n                        var holeFrom = fromPoints[i][1];\r\n                        var surfaceTo = toPoints[i][0];\r\n                        var holeTo = toPoints[i][1];\r\n                        if (surfaceFrom && surfaceFrom.length > 0 && surfaceTo && surfaceTo.length > 0) {\r\n                            var currentSurface = [];\r\n                            for (var i_4 = 0, slen = surfaceFrom.length; i_4 < slen; i_4++) {\r\n                                var point0 = surfaceFrom[i_4];\r\n                                var point1 = surfaceTo[i_4];\r\n                                var currentPoint = { x: point0.x + (point1.x * this.scaleRatio - point0.x) * value, y: point0.y + (point1.y * this.scaleRatio - point0.y) * value };\r\n                                currentSurface.push(currentPoint);\r\n                            }\r\n                            currentArea[0] = currentSurface;\r\n                        }\r\n                        if (holeFrom && holeFrom.length > 0 && holeTo && holeTo.length > 0) {\r\n                            var currentHole = [];\r\n                            for (var i_5 = 0, hlen = holeFrom.length; i_5 < hlen; i_5++) {\r\n                                var point0 = holeFrom[i_5];\r\n                                var point1 = holeTo[i_5];\r\n                                var currentPoint = { x: point0.x + (point1.x * this.scaleRatio - point0.x) * value, y: point0.y + (point1.y * this.scaleRatio - point0.y) * value };\r\n                                currentHole.push(currentPoint);\r\n                            }\r\n                            currentArea[1] = currentHole;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.morphable.currentPoints = currentPoints;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Restores the polygon to its original appearance.\r\n     *\r\n     * @param duration  Duration (ms)\r\n     * @param easing    Easing function\r\n     * @return Animation\r\n     */\r\n    Morpher.prototype.morphBack = function (duration, easing) {\r\n        this._morphToPointsReal = this._morphFromPointsReal;\r\n        this._morphFromPointsReal = this.morphable.currentPoints;\r\n        if (!$type.hasValue(duration)) {\r\n            duration = this.morphDuration;\r\n        }\r\n        if (!$type.hasValue(easing)) {\r\n            easing = this.morphEasing;\r\n        }\r\n        var animation = new Animation(this, { property: \"morphProgress\", from: 0, to: 1 }, duration, easing);\r\n        this._disposers.push(animation);\r\n        animation.start();\r\n        return animation;\r\n    };\r\n    Object.defineProperty(Morpher.prototype, \"animations\", {\r\n        /**\r\n         * Returns a list of morph animations currently being played.\r\n         *\r\n         * @return List of animations\r\n         */\r\n        get: function () {\r\n            if (!this._animations) {\r\n                this._animations = [];\r\n                this._disposers.push(new AnimationDisposer(this._animations));\r\n            }\r\n            return this._animations;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Morpher;\r\n}(BaseObject));\r\nexport { Morpher };\r\n//# sourceMappingURL=Morpher.js.map","/**\r\n * Polygon module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../Sprite\";\r\nimport { Morpher } from \"../utils/Morpher\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $path from \"../rendering/Path\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a polygon.\r\n *\r\n * @see {@link IPolygonEvents} for a list of available events\r\n * @see {@link IPolygonAdapters} for a list of available Adapters\r\n */\r\nvar Polygon = /** @class */ (function (_super) {\r\n    __extends(Polygon, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Polygon() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Polygon\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.shapeRendering = \"auto\";\r\n        _this._currentPoints = [];\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Polygon.prototype, \"points\", {\r\n        /**\r\n         * @return Polygon points\r\n         */\r\n        get: function () {\r\n            var points = this.getPropertyValue(\"points\");\r\n            var path = this.path;\r\n            if (path && (!points || points.length == 0)) {\r\n                var valueStr = path.slice(1, path.length - 1);\r\n                var segments = valueStr.split(\"ZM\");\r\n                for (var s = 0; s < segments.length; s++) {\r\n                    var segment = segments[s];\r\n                    if (segment.length > 0) {\r\n                        var areaHole = segment.split(\"M\");\r\n                        var areaArr = areaHole[0];\r\n                        var holeArr = areaHole[1];\r\n                        if (areaArr && areaArr.length > 0) {\r\n                            var pointsArr = areaArr.split(\"L\");\r\n                            if (pointsArr.length > 0) {\r\n                                var area = [];\r\n                                var areaAndHole = [area];\r\n                                points.push(areaAndHole);\r\n                                for (var p = 0; p < pointsArr.length; p++) {\r\n                                    var coords = pointsArr[p].split(\",\");\r\n                                    area.push({ x: +coords[0], y: +coords[1] });\r\n                                }\r\n                                if (holeArr && holeArr.length > 0) {\r\n                                    var pointsArr_1 = holeArr.split(\"L\");\r\n                                    if (pointsArr_1.length > 0) {\r\n                                        var hole = [];\r\n                                        areaAndHole.push(hole);\r\n                                        for (var p = pointsArr_1.length - 1; p >= 0; p--) {\r\n                                            var coords = pointsArr_1[p].split(\",\");\r\n                                            hole.push({ x: +coords[0], y: +coords[1] });\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.setPropertyValue(\"points\", points);\r\n                this._currentPoints = points;\r\n            }\r\n            return points;\r\n        },\r\n        /**\r\n         * An array of X/Y coordinates for each elbow of the polygon.\r\n         *\r\n         * @todo Example\r\n         * @param points  Polygon points\r\n         */\r\n        set: function (points) {\r\n            this.setPropertyValue(\"points\", points, true);\r\n            this._currentPoints = points;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Polygon.prototype, \"currentPoints\", {\r\n        /**\r\n         * @return Polygon points\r\n         */\r\n        get: function () {\r\n            if ((!this._currentPoints || this._currentPoints.length == 0) && this.path) {\r\n                this._currentPoints = this.points;\r\n            }\r\n            return this._currentPoints;\r\n        },\r\n        /**\r\n         * Current points. Used when morphing the element, so that original `points`\r\n         * are not overwritten.\r\n         *\r\n         * @param points  Polygon points\r\n         */\r\n        set: function (points) {\r\n            if (this._currentPoints != points) {\r\n                this._currentPoints = points;\r\n                this.draw();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Polygon.prototype.draw = function () {\r\n        var path = \"\";\r\n        var points = this._currentPoints;\r\n        var left;\r\n        var right;\r\n        var top;\r\n        var bottom;\r\n        if (points.length > 0) {\r\n            // separate areas\r\n            for (var i = 0, len = points.length; i < len; i++) {\r\n                // surface\r\n                var surface = points[i][0];\r\n                var hole = points[i][1];\r\n                if (surface && surface.length > 0) {\r\n                    var point = surface[0];\r\n                    path += $path.moveTo(point);\r\n                    for (var s = 0; s < surface.length; s++) {\r\n                        point = surface[s];\r\n                        path += $path.lineTo(point);\r\n                        if (!$type.isNumber(right) || (right < point.x)) {\r\n                            right = point.x;\r\n                        }\r\n                        if (!$type.isNumber(left) || (left > point.x)) {\r\n                            left = point.x;\r\n                        }\r\n                        if (!$type.isNumber(top) || (top > point.y)) {\r\n                            top = point.y;\r\n                        }\r\n                        if (!$type.isNumber(bottom) || (bottom < point.y)) {\r\n                            bottom = point.y;\r\n                        }\r\n                    }\r\n                }\r\n                // hole\r\n                if (hole && hole.length > 0) {\r\n                    var point = hole[0];\r\n                    path += $path.moveTo(point);\r\n                    for (var h = 0, hlen = hole.length; h < hlen; h++) {\r\n                        point = hole[h];\r\n                        path += $path.lineTo(point);\r\n                    }\r\n                }\r\n            }\r\n            if (path) {\r\n                path += $path.closePath();\r\n            }\r\n            this.bbox.x = left;\r\n            this.bbox.y = top;\r\n            this.bbox.width = right - left;\r\n            this.bbox.height = bottom - top;\r\n            _super.prototype.setPath.call(this, path);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Polygon.prototype.setPath = function (value) {\r\n        if (_super.prototype.setPath.call(this, value)) {\r\n            this.points = [];\r\n            this._bbox = this.group.getBBox();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Measures element\r\n     */\r\n    Polygon.prototype.measureElement = function () {\r\n        // Overriding to avoid extra measurement.\r\n    };\r\n    Object.defineProperty(Polygon.prototype, \"centerPoint\", {\r\n        /**\r\n         * A calculated center point for the shape.\r\n         *\r\n         * @readonly\r\n         * @return Center\r\n         */\r\n        get: function () {\r\n            return { x: this.bbox.x + this.bbox.width / 2, y: this.bbox.y + this.bbox.height / 2 };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Polygon.prototype, \"morpher\", {\r\n        /**\r\n         * A [[Morpher]] instance that is used to morph polygon into some other\r\n         * shape.\r\n         *\r\n         * @readonly\r\n         * @return Morpher instance\r\n         */\r\n        get: function () {\r\n            if (!this._morpher) {\r\n                this._morpher = new Morpher(this);\r\n                this._disposers.push(this._morpher);\r\n            }\r\n            return this._morpher;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Polygon;\r\n}(Sprite));\r\nexport { Polygon };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Polygon\"] = Polygon;\r\n//# sourceMappingURL=Polygon.js.map","/**\r\n * Polyspline (smoothed line) module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Polyline } from \"./Polyline\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a polysline. (smoothed multi-sigment line)\r\n *\r\n * @see {@link IPolysplineEvents} for a list of available events\r\n * @see {@link IPolysplineAdapters} for a list of available Adapters\r\n */\r\nvar Polyspline = /** @class */ (function (_super) {\r\n    __extends(Polyspline, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Polyspline() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Polyspline\";\r\n        _this.tensionX = 0.5;\r\n        _this.tensionY = 0.5;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Creats and adds an SVG path for the arc.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Polyspline.prototype.makePath = function () {\r\n        this._distance = 0;\r\n        var segments = this.segments;\r\n        var tensionX = this.tensionX;\r\n        var tensionY = this.tensionY;\r\n        this.allPoints = [];\r\n        if (segments && segments.length > 0) {\r\n            var path = \"\";\r\n            this._realSegments = [];\r\n            for (var i = 0, len = segments.length; i < len; i++) {\r\n                var points = segments[i];\r\n                var realPoints = [];\r\n                this._realSegments.push(realPoints);\r\n                if (points.length > 0) {\r\n                    var first = points[0];\r\n                    var last = points[points.length - 1];\r\n                    var closed_1 = false;\r\n                    if ($math.round(first.x, 3) == $math.round(last.x) && $math.round(first.y) == $math.round(last.y)) {\r\n                        closed_1 = true;\r\n                    }\r\n                    path += $path.moveTo(points[0]);\r\n                    for (var p = 0; p < points.length - 1; p++) {\r\n                        var p0 = points[p - 1];\r\n                        var p1 = points[p];\r\n                        var p2 = points[p + 1];\r\n                        var p3 = points[p + 2];\r\n                        if (p === 0) {\r\n                            p0 = points[p];\r\n                        }\r\n                        else if (p == points.length - 2) {\r\n                            p3 = points[p + 1];\r\n                        }\r\n                        if (!p3) {\r\n                            p3 = p2;\r\n                        }\r\n                        if (p === 0) {\r\n                            if (closed_1) {\r\n                                p0 = points[points.length - 2];\r\n                            }\r\n                            else {\r\n                                p0 = points[i];\r\n                            }\r\n                        }\r\n                        else if (p == points.length - 2) {\r\n                            if (closed_1) {\r\n                                p3 = points[1];\r\n                            }\r\n                            else {\r\n                                p3 = points[p + 1];\r\n                            }\r\n                        }\r\n                        var controlPointA = $math.getCubicControlPointA(p0, p1, p2, p3, tensionX, tensionY);\r\n                        var controlPointB = $math.getCubicControlPointB(p0, p1, p2, p3, tensionX, tensionY);\r\n                        path += $path.cubicCurveTo(p2, controlPointA, controlPointB);\r\n                        // now split to small segments so that we could have positionToPoint later\r\n                        var stepCount = Math.ceil($math.getCubicCurveDistance(p1, p2, controlPointA, controlPointB, 20)) * 1.2;\r\n                        var prevPoint = p1;\r\n                        if (stepCount > 0) {\r\n                            // not good for curved charts\r\n                            //this.allPoints[0] = { x: points[0].x, y: points[0].y, angle: $math.getAngle(points[0], points[1]) };\r\n                            //realPoints.push(this.allPoints[0]);\r\n                            for (var s = 0; s <= stepCount; s++) {\r\n                                var point = $math.getPointOnCubicCurve(p1, p2, controlPointA, controlPointB, s / stepCount);\r\n                                if (point.x == prevPoint.x && point.y == prevPoint.y) {\r\n                                    continue;\r\n                                }\r\n                                realPoints.push(point);\r\n                                var angle = $math.round($math.getAngle(prevPoint, point), 5);\r\n                                //this.allPoints.push({ x: point.x, y: point.y, angle: angle });\r\n                                this._distance += $math.getDistance(prevPoint, point);\r\n                                this.allPoints[Math.floor(this._distance)] = { x: point.x, y: point.y, angle: angle };\r\n                                prevPoint = point;\r\n                            }\r\n                        }\r\n                        else {\r\n                            realPoints.push(p0);\r\n                        }\r\n                    }\r\n                }\r\n                var allPoints = this.allPoints;\r\n                if (allPoints.length > 1) {\r\n                    for (var i_1 = 0; i_1 < allPoints.length; i_1++) {\r\n                        if (!allPoints[i_1]) {\r\n                            if (i_1 > 1) {\r\n                                allPoints[i_1] = allPoints[i_1 - 1];\r\n                            }\r\n                            else {\r\n                                for (var k = 1; k < allPoints.length; k++) {\r\n                                    if (allPoints[k]) {\r\n                                        allPoints[i_1] = allPoints[k];\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.path = path;\r\n        }\r\n    };\r\n    /**\r\n     * Returns an index of the point that is closest to specified coordinates.\r\n     *\r\n     * @param   point  Reference point\r\n     * @return         Index\r\n     */\r\n    Polyspline.prototype.getClosestPointIndex = function (point) {\r\n        var points = this.allPoints;\r\n        var index;\r\n        var closest = Infinity;\r\n        if (points.length > 1) {\r\n            for (var p = 1; p < points.length; p++) {\r\n                var distance = $math.getDistance(point, points[p]);\r\n                if (distance < closest) {\r\n                    index = p;\r\n                    closest = distance;\r\n                }\r\n            }\r\n        }\r\n        return index;\r\n    };\r\n    Object.defineProperty(Polyspline.prototype, \"tensionX\", {\r\n        /**\r\n         * @return Tension\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tensionX\");\r\n        },\r\n        /**\r\n         * Horizontal tension for the spline.\r\n         *\r\n         * Used by the line smoothing algorithm.\r\n         *\r\n         * @default 0.5\r\n         * @param value  Tension\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tensionX\", value);\r\n            this.makePath();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Polyspline.prototype, \"tensionY\", {\r\n        /**\r\n         * @return Tension\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tensionY\");\r\n        },\r\n        /**\r\n         * Vertical tension for the spline.\r\n         *\r\n         * Used by the line smoothing algorithm.\r\n         *\r\n         * @default 0.5\r\n         * @param value  Tensions\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tensionY\", value, true);\r\n            this.makePath();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Converts relative position along the line (0-1) into pixel coordinates.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinates\r\n     */\r\n    Polyspline.prototype.positionToPoint = function (position, extend) {\r\n        var deltaAngle = 0;\r\n        var allPoints = this.allPoints;\r\n        var len = allPoints.length;\r\n        if (!$type.isNumber(position)) {\r\n            position = 0;\r\n        }\r\n        if (len > 1) {\r\n            if (extend && len > 3) {\r\n                if (position < 0) {\r\n                    if (position < -0.01) {\r\n                        position = -0.01;\r\n                    }\r\n                    var f0 = allPoints[0];\r\n                    var f1 = allPoints[1];\r\n                    var x = f0.x - (f0.x - f1.x) * len * position;\r\n                    var y = f0.y - (f0.y - f1.y) * len * position;\r\n                    return { x: x, y: y, angle: $math.getAngle(f0, f1) };\r\n                }\r\n                else if (position > 1) {\r\n                    if (position > 1.01) {\r\n                        position = 1.01;\r\n                    }\r\n                    var f0 = allPoints[allPoints.length - 2];\r\n                    var f1 = allPoints[allPoints.length - 3];\r\n                    var x = f0.x + (f0.x - f1.x) * len * (position - 1);\r\n                    var y = f0.y + (f0.y - f1.y) * len * (position - 1);\r\n                    return { x: x, y: y, angle: $math.getAngle(f0, { x: x, y: y }) };\r\n                }\r\n                else if (position == 1) {\r\n                    var point_1 = allPoints[allPoints.length - 1];\r\n                    return { x: point_1.x, y: point_1.y, angle: point_1.angle };\r\n                }\r\n            }\r\n            else {\r\n                if (position < 0) {\r\n                    position = Math.abs(position);\r\n                    deltaAngle = 180;\r\n                }\r\n                if (position >= 1) {\r\n                    position = 0.9999999999999;\r\n                }\r\n            }\r\n            var point = allPoints[Math.floor(position * len)];\r\n            return { x: point.x, y: point.y, angle: point.angle + deltaAngle };\r\n        }\r\n        else if (len == 1) {\r\n            var point = allPoints[0];\r\n            return { x: point.x, y: point.y, angle: point.angle };\r\n        }\r\n        else {\r\n            return { x: 0, y: 0, angle: 0 };\r\n        }\r\n    };\r\n    return Polyspline;\r\n}(Polyline));\r\nexport { Polyspline };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Polyspline\"] = Polyspline;\r\n//# sourceMappingURL=Polyspline.js.map","/**\r\n * Slice module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../Container\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $path from \"../rendering/Path\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport { Percent } from \"../utils/Percent\";\r\nimport { RadialGradient } from \"../rendering/fills/RadialGradient\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a wedged semi-circle - slice. Usually used for Pie/Donut charts.\r\n *\r\n * @see {@link ISliceEvents} for a list of available events\r\n * @see {@link ISliceAdapters} for a list of available Adapters\r\n */\r\nvar Slice = /** @class */ (function (_super) {\r\n    __extends(Slice, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Slice() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"Slice\";\r\n        // Set defaults\r\n        _this.setPropertyValue(\"cornerRadius\", 0);\r\n        _this.setPropertyValue(\"startAngle\", 0);\r\n        _this.setPercentProperty(\"innerRadius\", 0);\r\n        _this.setPercentProperty(\"radius\", 0);\r\n        _this.setPropertyValue(\"arc\", 0);\r\n        _this.setPropertyValue(\"shiftRadius\", 0);\r\n        _this.strokeOpacity = 1;\r\n        _this.setPropertyValue(\"layout\", \"none\");\r\n        // Create a slice wedge element\r\n        _this.slice = _this.createChild(Sprite);\r\n        _this.slice.isMeasured = false;\r\n        _this._disposers.push(_this.slice);\r\n        //this.element.attr({ \"stroke-linejoin\": \"round\" });\r\n        //this.element.attr({ \"stroke-linecap\": \"round\" });\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Slice.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var radiusY = this.radiusY;\r\n        if (this.radius > 0 && radiusY == 0) {\r\n            radiusY = 0.01;\r\n        }\r\n        this.slice.path = $path.arc(this.startAngle, this.arc, this.radius, this.pixelInnerRadius, radiusY, this.cornerRadius, this.innerCornerRadius);\r\n        this.slice.invalidate();\r\n        this.shiftRadius = this.shiftRadius;\r\n        if (this.realFill instanceof RadialGradient) {\r\n            this.updateGradient(this.realFill);\r\n        }\r\n        if (this.realStroke instanceof RadialGradient) {\r\n            this.updateGradient(this.realStroke);\r\n        }\r\n    };\r\n    Slice.prototype.updateGradient = function (gradient) {\r\n        gradient.element.attr({ \"gradientUnits\": \"userSpaceOnUse\" });\r\n        gradient.element.attr({ \"r\": this.radius });\r\n        gradient.cx = 0;\r\n        gradient.cy = 0;\r\n        gradient.element.attr({ radius: this.radius });\r\n    };\r\n    Object.defineProperty(Slice.prototype, \"bbox\", {\r\n        /**\r\n         * Returns bounding box (square) for this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        get: function () {\r\n            if (this.definedBBox) {\r\n                return this.definedBBox;\r\n            }\r\n            if (this.isMeasured) {\r\n                var innerRect = $math.getArcRect(this.startAngle, this.startAngle + this.arc, this.pixelInnerRadius);\r\n                var outerRect = $math.getArcRect(this.startAngle, this.startAngle + this.arc, this.radius);\r\n                return $math.getCommonRectangle([innerRect, outerRect]);\r\n            }\r\n            else {\r\n                return { x: 0, y: 0, width: 0, height: 0 };\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"startAngle\", {\r\n        /**\r\n         * @return Angle (0-360)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startAngle\");\r\n        },\r\n        /**\r\n         * The angle at which left edge of the slice is drawn. (0-360)\r\n         *\r\n         * 0 is to the right of the center.\r\n         *\r\n         * @param value  Angle (0-360)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"startAngle\", $math.normalizeAngle(value), true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"arc\", {\r\n        /**\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"arc\");\r\n        },\r\n        /**\r\n         * [arc description]\r\n         *\r\n         * @todo Description\r\n         * @param value [description]\r\n         */\r\n        set: function (value) {\r\n            if (!$type.isNumber(value)) {\r\n                value = 0;\r\n            }\r\n            this.setPropertyValue(\"arc\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"radius\", {\r\n        /**\r\n         * @return Radius (px)\r\n         */\r\n        get: function () {\r\n            var radius = this.getPropertyValue(\"radius\");\r\n            if (!$type.isNumber(radius)) {\r\n                radius = 0;\r\n            }\r\n            return radius;\r\n        },\r\n        /**\r\n         * Radius of the slice in pixels.\r\n         *\r\n         * @param value  Radius (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"radius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"radiusY\", {\r\n        /**\r\n         * @return Vertical radius (0-1)\r\n         */\r\n        get: function () {\r\n            var value = this.getPropertyValue(\"radiusY\");\r\n            if (!$type.isNumber(value)) {\r\n                value = this.radius;\r\n            }\r\n            return value;\r\n        },\r\n        /**\r\n         * Vertical radius for creating skewed slices.\r\n         *\r\n         * This is relevant to `radius`, e.g. 0.5 will set vertical radius to half\r\n         * the `radius`.\r\n         *\r\n         * @param value Vertical radius (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"radiusY\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Radius (px or %)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerRadius\");\r\n        },\r\n        /**\r\n         * Inner radius of the slice for creating cut out (donut) slices.\r\n         *\r\n         * @default 0\r\n         * @param value  Radius (px or %)\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"pixelInnerRadius\", {\r\n        /**\r\n         * @return Radius px\r\n         */\r\n        get: function () {\r\n            return $utils.relativeToValue(this.innerRadius, this.radius);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"cornerRadius\", {\r\n        /**\r\n         * @return Radius (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cornerRadius\");\r\n        },\r\n        /**\r\n         * Radius of slice's outer corners in pixels.\r\n         *\r\n         * @default 0\r\n         * @param value  Radius (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"cornerRadius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"innerCornerRadius\", {\r\n        /**\r\n         * @return Radius (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerCornerRadius\");\r\n        },\r\n        /**\r\n         * Radius of slice's inner corners in pixels.\r\n         *\r\n         * @default 0\r\n         * @param value  Radius (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"innerCornerRadius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"shiftRadius\", {\r\n        /**\r\n         * @return Radius shift\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"shiftRadius\");\r\n        },\r\n        /**\r\n         * Indicates how far (relatively to center) a slice should be moved.\r\n         *\r\n         * The value is relative to the radius of the slice. Meaning 0 no shift,\r\n         * 1 - slice shifted outside by whole of its radius.\r\n         *\r\n         * @param  value  Radius shift\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"shiftRadius\", value);\r\n            this.dx = value * this.radius * this.ix;\r\n            this.dy = value * this.radiusY * this.iy;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"ix\", {\r\n        /**\r\n         * [ix description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return $math.cos(this.middleAngle);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"iy\", {\r\n        /**\r\n         * [iy description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            if (this.radius > 0) {\r\n                return $math.sin(this.middleAngle);\r\n            }\r\n            else {\r\n                return $math.sin(this.middleAngle);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"middleAngle\", {\r\n        /**\r\n         * An angle of the slice's middle.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Angle\r\n         */\r\n        get: function () {\r\n            return this.startAngle + this.arc / 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * X coordinate for the slice tooltip.\r\n     *\r\n     * @return X\r\n     */\r\n    Slice.prototype.getTooltipX = function () {\r\n        var value = this.getPropertyValue(\"tooltipX\");\r\n        if ($type.isNumber(value)) {\r\n            return value;\r\n        }\r\n        var p = 0.5;\r\n        if (value instanceof Percent) {\r\n            p = value.value;\r\n        }\r\n        var innerRadius = $utils.relativeToValue(this.innerRadius, this.radius);\r\n        return this.ix * (innerRadius + (this.radius - innerRadius) * p);\r\n    };\r\n    /**\r\n     * Y coordinate for the slice tooltip.\r\n     *\r\n     * @return Y\r\n     */\r\n    Slice.prototype.getTooltipY = function () {\r\n        var value = this.getPropertyValue(\"tooltipY\");\r\n        if ($type.isNumber(value)) {\r\n            return value;\r\n        }\r\n        var p = 0.5;\r\n        if (value instanceof Percent) {\r\n            p = value.value;\r\n        }\r\n        var innerRadius = $utils.relativeToValue(this.innerRadius, this.radius);\r\n        return this.iy * (innerRadius + (this.radius - innerRadius) * p) + this.slice.dy;\r\n    };\r\n    return Slice;\r\n}(Container));\r\nexport { Slice };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Slice\"] = Slice;\r\n//# sourceMappingURL=Slice.js.map","/**\r\n * Preloader module.\r\n *\r\n * Preloader is a progress indicator.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../Container\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { Slice } from \"./Slice\";\r\nimport { Label } from \"./Label\";\r\nimport { registry } from \"../Registry\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A class used to draw and display progress indicator.\r\n *\r\n * @see {@link IPreloaderEvents} for a list of available events\r\n * @see {@link IPreloaderAdapters} for a list of available Adapters\r\n */\r\nvar Preloader = /** @class */ (function (_super) {\r\n    __extends(Preloader, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Preloader() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"Preloader\";\r\n        // Set dimensions\r\n        _this.width = percent(100);\r\n        _this.height = percent(100);\r\n        var interfaceColors = new InterfaceColorSet();\r\n        // Create main container\r\n        var sliceContainer = _this.createChild(Container);\r\n        sliceContainer.shouldClone = false;\r\n        // Add background (100%) slice\r\n        var backgroundSlice = sliceContainer.createChild(Slice);\r\n        backgroundSlice.shouldClone = false;\r\n        backgroundSlice.radius = 53;\r\n        backgroundSlice.arc = 360;\r\n        backgroundSlice.fill = interfaceColors.getFor(\"fill\");\r\n        backgroundSlice.fillOpacity = 0.8;\r\n        backgroundSlice.innerRadius = 42;\r\n        backgroundSlice.isMeasured = false;\r\n        _this.backgroundSlice = backgroundSlice;\r\n        // Add progress slice\r\n        var progressSlice = sliceContainer.createChild(Slice);\r\n        progressSlice.shouldClone = false;\r\n        progressSlice.radius = 50;\r\n        progressSlice.innerRadius = 45;\r\n        progressSlice.fill = interfaceColors.getFor(\"alternativeBackground\");\r\n        progressSlice.fillOpacity = 0.2;\r\n        progressSlice.isMeasured = false;\r\n        _this.progressSlice = progressSlice;\r\n        // Add text label element\r\n        var label = sliceContainer.createChild(Label);\r\n        label.shouldClone = false;\r\n        label.horizontalCenter = \"middle\";\r\n        label.verticalCenter = \"middle\";\r\n        label.isMeasured = false;\r\n        label.fill = interfaceColors.getFor(\"text\");\r\n        label.align = \"center\";\r\n        label.valign = \"middle\";\r\n        label.textAlign = \"middle\";\r\n        label.fillOpacity = 0.4;\r\n        _this.label = label;\r\n        // Set defaults\r\n        _this.background.opacity = 1;\r\n        _this.background.fill = interfaceColors.getFor(\"background\");\r\n        _this.contentAlign = \"center\";\r\n        _this.contentValign = \"middle\";\r\n        _this.delay = 300;\r\n        // Create hidden state\r\n        var hiddenState = _this.states.create(\"hidden\");\r\n        hiddenState.properties.opacity = 0;\r\n        // Hide by default\r\n        _this.visible = false;\r\n        _this.hide(0);\r\n        _this.__disabled = true;\r\n        // Make it disposable\r\n        // @todo Maybe it's enough to just dispose `sliceContainer`?\r\n        _this._disposers.push(_this.backgroundSlice);\r\n        _this._disposers.push(_this.progressSlice);\r\n        _this._disposers.push(_this.label);\r\n        _this._disposers.push(sliceContainer);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Preloader.prototype, \"progress\", {\r\n        /**\r\n         * @return Progress (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"progress\");\r\n        },\r\n        /**\r\n         * Current preload progress. (0-1)\r\n         *\r\n         * * 0 - 0%\r\n         * * 0.5 - 50%\r\n         * * 1 - 100%\r\n         *\r\n         * Setting this to a value less than 1, will automatically reveal the\r\n         * preloader, while setting it to 1 (100%) will hide it.\r\n         *\r\n         * @param value Progress (0-1)\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            this.__disabled = false;\r\n            this.validateLayout(); // show not in center without this\r\n            this.setPropertyValue(\"progress\", value);\r\n            /*if (!this.visible && value == 1) {\r\n                return;\r\n            }*/\r\n            this.progressSlice.arc = 360 * value;\r\n            if (this.label) {\r\n                this.label.text = Math.round(value * 100) + \"%\";\r\n            }\r\n            if (value >= 1) {\r\n                // Cancel the timeout\r\n                if (this._started) {\r\n                    this._started = undefined;\r\n                }\r\n                // TODO remove closure ?\r\n                registry.events.once(\"enterframe\", function () {\r\n                    var animation = _this.hide();\r\n                    if (animation && !animation.isFinished()) {\r\n                        animation.events.once(\"animationended\", function () {\r\n                            _this.__disabled = true;\r\n                        });\r\n                    }\r\n                    else {\r\n                        _this.__disabled = true;\r\n                    }\r\n                });\r\n                this.interactionsEnabled = false;\r\n                this.setPropertyValue(\"progress\", 0);\r\n            }\r\n            else if (value > 0) {\r\n                if (this.delay) {\r\n                    if (!this._started) {\r\n                        this._started = new Date().getTime();\r\n                    }\r\n                    else if ((this._started + this.delay) <= new Date().getTime()) {\r\n                        this.__disabled = false;\r\n                        this.show();\r\n                        this.interactionsEnabled = true;\r\n                    }\r\n                }\r\n                else {\r\n                    this.__disabled = false;\r\n                    this.show();\r\n                    this.interactionsEnabled = true;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Preloader.prototype, \"delay\", {\r\n        /**\r\n         * @return Delay (ms)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"delay\");\r\n        },\r\n        /**\r\n         * Delay display of preloader by X milliseconds.\r\n         *\r\n         * When loading starts (`progress` is set to <1) and finishes (`progress` is\r\n         * set to 1) before `delay` ms, the loader is never shown.\r\n         *\r\n         * This is used to avoid brief flashing of the preload for very quick loads.\r\n         *\r\n         * @default 1000\r\n         * @param value  Delay (ms)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"delay\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Preloader;\r\n}(Container));\r\nexport { Preloader };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Preloader\"] = Preloader;\r\n//# sourceMappingURL=Preloader.js.map","/**\r\n * Zoom out button functionality.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Button } from \"./Button\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { registry } from \"../Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $path from \"../rendering/Path\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { MouseCursorStyle } from \"../../core/interaction/Mouse\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a zoom out button.\r\n *\r\n * @see {@link ICloseButtonEvents} for a list of available events\r\n * @see {@link ICloseButtonAdapters} for a list of available Adapters\r\n */\r\nvar CloseButton = /** @class */ (function (_super) {\r\n    __extends(CloseButton, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function CloseButton() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"CloseButton\";\r\n        _this.padding(8, 8, 8, 8);\r\n        _this.showSystemTooltip = true;\r\n        _this.width = 30;\r\n        _this.height = 30;\r\n        var interfaceColors = new InterfaceColorSet();\r\n        _this.cursorOverStyle = MouseCursorStyle.pointer;\r\n        var background = _this.background;\r\n        background.cornerRadius(20, 20, 20, 20);\r\n        var bgc = interfaceColors.getFor(\"background\");\r\n        background.fill = bgc;\r\n        background.stroke = interfaceColors.getFor(\"primaryButton\");\r\n        background.strokeOpacity = 1;\r\n        background.strokeWidth = 1;\r\n        var downColor = interfaceColors.getFor(\"primaryButtonActive\");\r\n        var bhs = background.states.getKey(\"hover\");\r\n        bhs.properties.strokeWidth = 3;\r\n        bhs.properties.fill = bgc;\r\n        var bds = background.states.getKey(\"down\");\r\n        bds.properties.stroke = downColor;\r\n        bds.properties.fill = bgc;\r\n        // Create an icon\r\n        var icon = new Sprite();\r\n        icon.element = _this.paper.add(\"path\");\r\n        icon.stroke = background.stroke;\r\n        _this.icon = icon;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    CloseButton.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        var w = this.pixelWidth / 3;\r\n        var h = this.pixelHeight / 3;\r\n        var path = $path.moveTo({ x: -w / 2, y: -h / 2 });\r\n        path += $path.lineTo({ x: w / 2, y: h / 2 });\r\n        path += $path.moveTo({ x: w / 2, y: -h / 2 });\r\n        path += $path.lineTo({ x: -w / 2, y: h / 2 });\r\n        this.icon.path = path;\r\n        this.invalidateLayout();\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    CloseButton.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Close\");\r\n        }\r\n    };\r\n    return CloseButton;\r\n}(Button));\r\nexport { CloseButton };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"CloseButton\"] = CloseButton;\r\n//# sourceMappingURL=CloseButton.js.map","/**\r\n * Functionality for drawing simple SwitchButtons.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../Container\";\r\nimport { Label } from \"./Label\";\r\nimport { Button } from \"../elements/Button\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { Circle } from \"../../core/elements/Circle\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { registry } from \"../Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * SwitchButton class is capable of drawing a simple rectangular SwitchButton with\r\n * optionally rounded corners and an icon in it.\r\n *\r\n * @see {@link ISwitchButtonEvents} for a list of available events\r\n * @see {@link ISwitchButtonAdapters} for a list of available Adapters\r\n */\r\nvar SwitchButton = /** @class */ (function (_super) {\r\n    __extends(SwitchButton, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function SwitchButton() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"SwitchButton\";\r\n        _this.tooltipY = 0;\r\n        // Set defaults\r\n        _this.layout = \"horizontal\";\r\n        _this.contentAlign = \"center\";\r\n        _this.contentValign = \"middle\";\r\n        _this.padding(8, 16, 8, 16);\r\n        _this.setStateOnChildren = true;\r\n        _this.states.create(\"active\");\r\n        var interfaceColors = new InterfaceColorSet();\r\n        // Create the label element\r\n        var leftLabel = new Label();\r\n        leftLabel.fillOpacity = 0.3;\r\n        var llas = leftLabel.states.create(\"active\");\r\n        llas.properties.fillOpacity = 1;\r\n        leftLabel.isActive = true;\r\n        _this.leftLabel = leftLabel;\r\n        var button = new Button();\r\n        var circle = new Circle();\r\n        button.contentValign = \"none\";\r\n        button.padding(0, 0, 0, 0);\r\n        circle.radius = 10;\r\n        button.icon = circle;\r\n        button.icon.valign = \"middle\";\r\n        button.label = undefined;\r\n        var p100 = percent(100);\r\n        button.background.cornerRadius(p100, p100, p100, p100);\r\n        button.width = circle.radius * 3.5;\r\n        button.height = circle.radius * 2.1;\r\n        button.marginLeft = 8;\r\n        button.marginRight = 8;\r\n        button.togglable = true;\r\n        circle.dx = -circle.radius * 0.7;\r\n        circle.fill = interfaceColors.getFor(\"primaryButton\");\r\n        var hs = circle.states.create(\"hover\");\r\n        hs.properties.fill = interfaceColors.getFor(\"primaryButtonHover\");\r\n        var as = circle.states.create(\"active\");\r\n        as.properties.fill = interfaceColors.getFor(\"primaryButtonActive\");\r\n        as.properties.dx = circle.radius * 0.7;\r\n        _this.switchButton = button;\r\n        _this.events.on(\"toggled\", function () {\r\n            _this.leftLabel.isActive = !_this.isActive;\r\n            _this.rightLabel.isActive = _this.isActive;\r\n        });\r\n        // Create the label element\r\n        var rightLabel = new Label();\r\n        rightLabel.fillOpacity = 0.3;\r\n        var rlas = rightLabel.states.create(\"active\");\r\n        rlas.properties.fillOpacity = 1;\r\n        _this.rightLabel = rightLabel;\r\n        // Set up accessibility\r\n        // A Button should be always focusable\r\n        _this.role = \"button\";\r\n        _this.focusable = true;\r\n        rightLabel.valign = \"middle\";\r\n        leftLabel.valign = \"middle\";\r\n        button.valign = \"middle\";\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SwitchButton.prototype, \"leftLabel\", {\r\n        /**\r\n         * @return Left label element\r\n         */\r\n        get: function () {\r\n            return this._leftLabel;\r\n        },\r\n        /**\r\n         * [[Label]] element to be used for left text.\r\n         *\r\n         * @param left label element\r\n         */\r\n        set: function (label) {\r\n            if (this._leftLabel) {\r\n                this.removeDispose(this._leftLabel);\r\n            }\r\n            this._leftLabel = label;\r\n            if (label) {\r\n                label.parent = this;\r\n                label.interactionsEnabled = false;\r\n                label.shouldClone = false;\r\n                this._disposers.push(this._leftLabel);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SwitchButton.prototype, \"rightLabel\", {\r\n        /**\r\n         * @return Rigth label element\r\n         */\r\n        get: function () {\r\n            return this._rightLabel;\r\n        },\r\n        /**\r\n         * [[Label]] element to be used for left text.\r\n         *\r\n         * @param rigth label element\r\n         */\r\n        set: function (label) {\r\n            if (this._rightLabel) {\r\n                this.removeDispose(this._rightLabel);\r\n            }\r\n            this._rightLabel = label;\r\n            if (label) {\r\n                label.parent = this;\r\n                label.interactionsEnabled = false;\r\n                label.shouldClone = false;\r\n                this._disposers.push(this._rightLabel);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SwitchButton.prototype, \"switch\", {\r\n        /**\r\n         * @return Left label element\r\n         */\r\n        get: function () {\r\n            return this._switchButton;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SwitchButton.prototype, \"switchButton\", {\r\n        /**\r\n         * [[Label]] element to be used for left text.\r\n         *\r\n         * @param rigth label element\r\n         */\r\n        set: function (button) {\r\n            if (this._switchButton) {\r\n                this.removeDispose(this._switchButton);\r\n            }\r\n            this._switchButton = button;\r\n            if (button) {\r\n                button.parent = this;\r\n                button.shouldClone = false;\r\n                this._disposers.push(this._switchButton);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies properties and other attributes.\r\n     *\r\n     * @param source  Source\r\n     */\r\n    SwitchButton.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (source.leftLabel) {\r\n            this.leftLabel.copyFrom(source.leftLabel);\r\n        }\r\n        if (source.rightLabel) {\r\n            this.rightLabel.copyFrom(source.rightLabel);\r\n        }\r\n        if (source.switchButton) {\r\n            this.switchButton.copyFrom(source.switchButton);\r\n        }\r\n    };\r\n    return SwitchButton;\r\n}(Container));\r\nexport { SwitchButton };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"SwitchButton\"] = SwitchButton;\r\n//# sourceMappingURL=SwitchButton.js.map","/**\r\n * Slider is a scrollbar with just one selection grip.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Scrollbar } from \"../../core/elements/Scrollbar\";\r\nimport { registry } from \"../Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a slider - a version of scrollbar with just one grip.\r\n *\r\n * @see {@link ISliderEvents} for a list of available events\r\n * @see {@link ISliderAdapters} for a list of available Adapters\r\n */\r\nvar Slider = /** @class */ (function (_super) {\r\n    __extends(Slider, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Slider() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Slider\";\r\n        _this.thumb.opacity = 0;\r\n        _this.thumb.interactionsEnabled = false;\r\n        _this.endGrip.opacity = 0;\r\n        _this.endGrip.interactionsEnabled = false;\r\n        _this.startGrip.events.on(\"drag\", function () {\r\n            _this.endGrip.x = _this.startGrip.x;\r\n            _this.endGrip.y = _this.startGrip.y;\r\n        });\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Slider.prototype, \"__end\", {\r\n        /**\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this._start;\r\n        },\r\n        set: function (value) {\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slider.prototype, \"end\", {\r\n        /**\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this._start;\r\n        },\r\n        /**\r\n         * Relative position (0-1) of the end grip.\r\n         *\r\n         * @param position  Position (0-1)\r\n         */\r\n        set: function (position) {\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slider.prototype, \"start\", {\r\n        /**\r\n         * @return Position (0-1)\r\n         */\r\n        get: function () {\r\n            return this._start;\r\n        },\r\n        /**\r\n         * Relative position (0-1) of the start grip.\r\n         *\r\n         * @param position  Position (0-1)\r\n         */\r\n        set: function (position) {\r\n            if (!this._isBusy) {\r\n                this.__start = position;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Slider;\r\n}(Scrollbar));\r\nexport { Slider };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Slider\"] = Slider;\r\n//# sourceMappingURL=Slider.js.map","/**\r\n * A module that defines Text element used to indicate links.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Label } from \"../../core/elements/Label\";\r\nimport { MouseCursorStyle } from \"../../core/interaction/Mouse\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { registry } from \"../Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a text element with a link.\r\n *\r\n * @see {@link ITextLinkEvents} for a list of available events\r\n * @see {@link ITextLinkAdapters} for a list of available Adapters\r\n */\r\nvar TextLink = /** @class */ (function (_super) {\r\n    __extends(TextLink, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function TextLink() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"TextLink\";\r\n        _this.selectable = true;\r\n        var interfaceColors = new InterfaceColorSet();\r\n        _this.fill = interfaceColors.getFor(\"primaryButton\").brighten(0.3);\r\n        var hoverState = _this.states.create(\"hover\");\r\n        hoverState.properties.fill = interfaceColors.getFor(\"primaryButtonHover\").brighten(0.3);\r\n        var downState = _this.states.create(\"down\");\r\n        downState.properties.fill = interfaceColors.getFor(\"primaryButtonDown\").brighten(0.3);\r\n        _this.cursorOverStyle = MouseCursorStyle.pointer;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return TextLink;\r\n}(Label));\r\nexport { TextLink };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"TextLink\"] = TextLink;\r\n//# sourceMappingURL=TextLink.js.map","/**\r\n * Functionality for drawing a trapezoid.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../Sprite\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $path from \"../rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Used to draw a Trapezoid.\r\n *\r\n * @see {@link ITrapezoidEvents} for a list of available events\r\n * @see {@link ITrapezoidAdapters} for a list of available Adapters\r\n */\r\nvar Trapezoid = /** @class */ (function (_super) {\r\n    __extends(Trapezoid, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Trapezoid() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Trapezoid\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.topSide = percent(100);\r\n        _this.bottomSide = percent(100);\r\n        _this.leftSide = percent(100);\r\n        _this.rightSide = percent(100);\r\n        _this.isMeasured = false; // todo: add measureElement\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Trapezoid.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var w = this.pixelWidth;\r\n        var h = this.pixelHeight;\r\n        var ts = $utils.relativeToValue(this.topSide, w);\r\n        var bs = $utils.relativeToValue(this.bottomSide, w);\r\n        var ls = $utils.relativeToValue(this.leftSide, h);\r\n        var rs = $utils.relativeToValue(this.rightSide, h);\r\n        // 1----2\r\n        // |    |\r\n        // 4----3\r\n        var x0 = (w - ts) / 2;\r\n        var y0 = (h - ls) / 2;\r\n        var x1 = w - (w - ts) / 2;\r\n        var y1 = (h - rs) / 2;\r\n        var x2 = w - (w - bs) / 2;\r\n        var y2 = h - (h - rs) / 2;\r\n        var x3 = (w - bs) / 2;\r\n        var y3 = h - (h - ls) / 2;\r\n        var mt = \"\";\r\n        var mr = \"\";\r\n        var mb = \"\";\r\n        var ml = \"\";\r\n        if ($type.hasValue(this.horizontalNeck)) {\r\n            var hn = this.horizontalNeck.value;\r\n            mt = $path.lineTo({ x: w * hn, y: Math.max(y0, y1) });\r\n            mb = $path.lineTo({ x: w * hn, y: Math.min(y2, y3) });\r\n        }\r\n        if ($type.hasValue(this.verticalNeck)) {\r\n            var vn = this.verticalNeck.value;\r\n            mr = $path.lineTo({ x: Math.min(x1, x2), y: h * vn });\r\n            ml = $path.lineTo({ x: Math.max(x0, x3), y: h * vn });\r\n        }\r\n        var path = $path.moveTo({ x: x0, y: y0 })\r\n            + mt\r\n            + $path.lineTo({ x: x1, y: y1 })\r\n            + mr\r\n            + $path.lineTo({ x: x2, y: y2 })\r\n            + mb\r\n            + $path.lineTo({ x: x3, y: y3 })\r\n            + ml;\r\n        this.path = path;\r\n    };\r\n    Object.defineProperty(Trapezoid.prototype, \"topSide\", {\r\n        /**\r\n         * @return Width\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"topSide\");\r\n        },\r\n        /**\r\n         * Wdith of the top side. Absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @default Percent(100)\r\n         * @param value  Width\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"topSide\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Trapezoid.prototype, \"bottomSide\", {\r\n        /**\r\n         * @return Width\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"bottomSide\");\r\n        },\r\n        /**\r\n         * Wdith of the bottom side. Absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @default Percent(100)\r\n         * @param value  Width\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"bottomSide\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Trapezoid.prototype, \"leftSide\", {\r\n        /**\r\n         * @return Height\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"leftSide\");\r\n        },\r\n        /**\r\n         * Height of the left side. Absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @default Percent(100)\r\n         * @param value  Height\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"leftSide\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Trapezoid.prototype, \"rightSide\", {\r\n        /**\r\n         * @return Height\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"rightSide\");\r\n        },\r\n        /**\r\n         * Height of the right side. Absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @default Percent(100)\r\n         * @param value  Height\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"rightSide\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Trapezoid.prototype, \"horizontalNeck\", {\r\n        /**\r\n         * @return Horizontal neck position\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"horizontalNeck\");\r\n        },\r\n        /**\r\n         * A relative vertical position of the \"neck\". If the top and bottom sides\r\n         * are of different width, and `horizontalNeck` is set, a choke point\r\n         * will be created at that position, creating a funnel shape.\r\n         *\r\n         * @param value  Horizontal neck position\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"horizontalNeck\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Trapezoid.prototype, \"verticalNeck\", {\r\n        /**\r\n         * @return Vertical neck position\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"verticalNeck\");\r\n        },\r\n        /**\r\n         * A relative horizontal position of the \"neck\". If the left and right sides\r\n         * are of different height, and `verticalNeck` is set, a choke point\r\n         * will be created at that position, creating a funnel shape.\r\n         *\r\n         * @param value  Vertical neck position\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"verticalNeck\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Trapezoid;\r\n}(Sprite));\r\nexport { Trapezoid };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Trapezoid\"] = Trapezoid;\r\n//# sourceMappingURL=Trapezoid.js.map","/**\r\n * Functionality for drawing waved circles.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Circle } from \"./Circle\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $path from \"../rendering/Path\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $smoothing from \"../../core/rendering/Smoothing\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a waved circle.\r\n *\r\n * @see {@link IWavedCircleEvents} for a list of available events\r\n * @see {@link IWavedCircleAdapters} for a list of available Adapters\r\n */\r\nvar WavedCircle = /** @class */ (function (_super) {\r\n    __extends(WavedCircle, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function WavedCircle() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"WavedCircle\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.waveLength = 16;\r\n        _this.waveHeight = 4;\r\n        _this.fill = undefined;\r\n        _this.fillOpacity = 0;\r\n        _this.tension = 0.8;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the waved line.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    WavedCircle.prototype.draw = function () {\r\n        var path = \"\";\r\n        var radius = this.pixelRadius;\r\n        if (radius > 0) {\r\n            var points = this.getPoints(radius);\r\n            path = $path.moveTo(points[0]) + new $smoothing.Tension(this.tension, this.tension).smooth(points);\r\n        }\r\n        var innerRadius = this.pixelInnerRadius;\r\n        if (innerRadius > 0) {\r\n            var points = this.getPoints(innerRadius);\r\n            points.reverse();\r\n            path += $path.moveTo(points[0]) + new $smoothing.Tension(this.tension, this.tension).smooth(points);\r\n        }\r\n        this.path = path;\r\n    };\r\n    /**\r\n     * Returns points that circle consists of.\r\n     *\r\n     * @param radius  Radius (px)\r\n     * @return Points\r\n     */\r\n    WavedCircle.prototype.getPoints = function (radius) {\r\n        var circleLength = radius * Math.PI * 2;\r\n        var halfWaveHeight = this.waveHeight / 2;\r\n        var waveLength = circleLength / Math.round(circleLength / this.waveLength);\r\n        var halfWaveLength = waveLength / 2;\r\n        var points = [];\r\n        var count = circleLength / waveLength;\r\n        for (var i = 0; i <= count; i++) {\r\n            var angle1 = (i * waveLength) / circleLength * 360;\r\n            var angle2 = (i * waveLength + halfWaveLength) / circleLength * 360;\r\n            points.push({ x: (radius - halfWaveHeight) * $math.cos(angle1), y: (radius - halfWaveHeight) * $math.sin(angle1) });\r\n            points.push({ x: (radius + halfWaveHeight) * $math.cos(angle2), y: (radius + halfWaveHeight) * $math.sin(angle2) });\r\n        }\r\n        points.pop();\r\n        return points;\r\n    };\r\n    Object.defineProperty(WavedCircle.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Inner radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerRadius\");\r\n        },\r\n        /**\r\n         * Inner radius of the circle in pixels (absolute) or [[Percent]] (relative).\r\n         *\r\n         * @param value  Inner radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WavedCircle.prototype, \"pixelInnerRadius\", {\r\n        /**\r\n         * Calculated inner radius of the circle in pixels.\r\n         *\r\n         * @readonly\r\n         * @return Inner radius (px)\r\n         */\r\n        get: function () {\r\n            return $utils.relativeToValue(this.innerRadius, $math.min(this.innerWidth / 2, this.innerHeight / 2));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WavedCircle.prototype, \"waveLength\", {\r\n        /**\r\n         * @return Wave length (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"waveLength\");\r\n        },\r\n        /**\r\n         * Wave length in pixels.\r\n         *\r\n         * @default 16\r\n         * @param value  Wave length (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"waveLength\", value);\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WavedCircle.prototype, \"waveHeight\", {\r\n        /**\r\n         * @return Wave height (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"waveHeight\");\r\n        },\r\n        /**\r\n         * Wave height in pixels.\r\n         *\r\n         * @default 4\r\n         * @param value  Wave height (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"waveHeight\", value);\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WavedCircle.prototype, \"tension\", {\r\n        /**\r\n         * @return Tension\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tension\");\r\n        },\r\n        /**\r\n         * Tension of the wave.\r\n         *\r\n         * @default 0.8\r\n         * @param value  Tension\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tension\", value);\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return WavedCircle;\r\n}(Circle));\r\nexport { WavedCircle };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"WavedCircle\"] = WavedCircle;\r\n//# sourceMappingURL=WavedCircle.js.map","/**\r\n * Functionality for drawing waved lines.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Line } from \"./Line\";\r\nimport { color } from \"../utils/Color\";\r\nimport { wavedLine } from \"../rendering/Smoothing\";\r\nimport * as $path from \"../rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a waved line.\r\n *\r\n * @see {@link IWavedLineEvents} for a list of available events\r\n * @see {@link IWavedLineAdapters} for a list of available Adapters\r\n */\r\nvar WavedLine = /** @class */ (function (_super) {\r\n    __extends(WavedLine, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function WavedLine() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"WavedLine\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.waveLength = 16;\r\n        _this.waveHeight = 4;\r\n        _this.tension = 0.8;\r\n        _this.pixelPerfect = false;\r\n        _this.fill = color();\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the waved line.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    WavedLine.prototype.draw = function () {\r\n        //super.draw();\r\n        var p1 = { x: this.x1, y: this.y1 };\r\n        var p2 = { x: this.x2, y: this.y2 };\r\n        this.path = $path.moveTo(p1) + wavedLine(p1, p2, this.waveLength, this.waveHeight, this.tension, true);\r\n    };\r\n    Object.defineProperty(WavedLine.prototype, \"waveLength\", {\r\n        /**\r\n         * @return Wave length (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"waveLength\");\r\n        },\r\n        /**\r\n         * Wave length in pixels.\r\n         *\r\n         * @default 16\r\n         * @param value  Wave length (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"waveLength\", value);\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WavedLine.prototype, \"waveHeight\", {\r\n        /**\r\n         * @return Wave height (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"waveHeight\");\r\n        },\r\n        /**\r\n         * Wave height in pixels.\r\n         *\r\n         * @default 4\r\n         * @param value  Wave height (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"waveHeight\", value);\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WavedLine.prototype, \"tension\", {\r\n        /**\r\n         * @return Tension\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tension\");\r\n        },\r\n        /**\r\n         * Tension of the wave.\r\n         *\r\n         * @default 0.8\r\n         * @param value  Tension\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tension\", value);\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return WavedLine;\r\n}(Line));\r\nexport { WavedLine };\r\n//# sourceMappingURL=WavedLine.js.map","/**\r\n * Zoom out button functionality.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Button } from \"./Button\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { registry } from \"../Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $path from \"../rendering/Path\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a zoom out button.\r\n *\r\n * @see {@link IZoomOutButtonEvents} for a list of available events\r\n * @see {@link IZoomOutButtonAdapters} for a list of available Adapters\r\n */\r\nvar ZoomOutButton = /** @class */ (function (_super) {\r\n    __extends(ZoomOutButton, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ZoomOutButton() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"ZoomOutButton\";\r\n        _this.padding(9, 9, 9, 9);\r\n        //this.dx = - 5;\r\n        //this.dy = 5;\r\n        _this.showSystemTooltip = true;\r\n        var interfaceColors = new InterfaceColorSet();\r\n        var background = _this.background;\r\n        background.cornerRadius(20, 20, 20, 20);\r\n        background.fill = interfaceColors.getFor(\"primaryButton\");\r\n        background.stroke = interfaceColors.getFor(\"primaryButtonStroke\");\r\n        background.strokeOpacity = 0;\r\n        background.states.getKey(\"hover\").properties.fill = interfaceColors.getFor(\"primaryButtonHover\");\r\n        background.states.getKey(\"down\").properties.fill = interfaceColors.getFor(\"primaryButtonActive\");\r\n        // Create an icon\r\n        var icon = new Sprite();\r\n        icon.element = _this.paper.add(\"path\");\r\n        var path = $path.moveTo({ x: 0, y: 0 });\r\n        path += $path.lineTo({ x: 11, y: 0 });\r\n        icon.path = path;\r\n        icon.pixelPerfect = true;\r\n        icon.padding(8, 3, 8, 3);\r\n        icon.stroke = interfaceColors.getFor(\"primaryButtonText\");\r\n        _this.icon = icon;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    ZoomOutButton.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Zoom Out\");\r\n        }\r\n    };\r\n    return ZoomOutButton;\r\n}(Button));\r\nexport { ZoomOutButton };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ZoomOutButton\"] = ZoomOutButton;\r\n//# sourceMappingURL=ZoomOutButton.js.map","/**\r\n * Play button functionality.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Button } from \"./Button\";\r\nimport { RoundedRectangle } from \"./RoundedRectangle\";\r\nimport { registry } from \"../Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { Triangle } from \"./Triangle\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a zoom out button.\r\n *\r\n * @see {@link IPlayButtonEvents} for a list of available events\r\n * @see {@link IPlayButtonAdapters} for a list of available Adapters\r\n */\r\nvar PlayButton = /** @class */ (function (_super) {\r\n    __extends(PlayButton, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PlayButton() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"PlayButton\";\r\n        _this.padding(12, 12, 12, 12);\r\n        _this.showSystemTooltip = true;\r\n        var interfaceColors = new InterfaceColorSet();\r\n        var background = _this.background;\r\n        background.cornerRadius(25, 25, 25, 25);\r\n        background.fill = interfaceColors.getFor(\"primaryButton\");\r\n        background.stroke = interfaceColors.getFor(\"primaryButtonStroke\");\r\n        background.strokeOpacity = 0;\r\n        background.states.getKey(\"hover\").properties.fill = interfaceColors.getFor(\"primaryButtonHover\");\r\n        background.states.getKey(\"down\").properties.fill = interfaceColors.getFor(\"primaryButtonActive\");\r\n        // Create a play icon\r\n        var playIcon = new Triangle();\r\n        playIcon.direction = \"right\";\r\n        playIcon.width = 9;\r\n        playIcon.height = 11;\r\n        playIcon.marginLeft = 1;\r\n        playIcon.marginRight = 1;\r\n        playIcon.horizontalCenter = \"middle\";\r\n        playIcon.verticalCenter = \"middle\";\r\n        playIcon.stroke = interfaceColors.getFor(\"primaryButtonText\");\r\n        playIcon.fill = playIcon.stroke;\r\n        _this.icon = playIcon;\r\n        // Create a play icon\r\n        var stopIcon = new RoundedRectangle();\r\n        stopIcon.width = 11;\r\n        stopIcon.height = 11;\r\n        stopIcon.horizontalCenter = \"middle\";\r\n        stopIcon.verticalCenter = \"middle\";\r\n        stopIcon.cornerRadius(0, 0, 0, 0);\r\n        stopIcon.stroke = interfaceColors.getFor(\"primaryButtonText\");\r\n        stopIcon.fill = playIcon.stroke;\r\n        _this.togglable = true;\r\n        var activeState = _this.states.create(\"active\");\r\n        activeState.transitionDuration = 0;\r\n        activeState.properties.icon = stopIcon;\r\n        _this.defaultState.transitionDuration = 0;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    PlayButton.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Play\");\r\n        }\r\n    };\r\n    return PlayButton;\r\n}(Button));\r\nexport { PlayButton };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PlayButton\"] = PlayButton;\r\n//# sourceMappingURL=PlayButton.js.map","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../../Base\";\r\nimport { registry } from \"../../Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A base class for color modifiers.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar ColorModifier = /** @class */ (function (_super) {\r\n    __extends(ColorModifier, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ColorModifier() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ColorModifier\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Modifies color value.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param value  Original color\r\n     * @return Modified\r\n     */\r\n    ColorModifier.prototype.modify = function (value) {\r\n        return value;\r\n    };\r\n    return ColorModifier;\r\n}(BaseObject));\r\nexport { ColorModifier };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ColorModifier\"] = ColorModifier;\r\n//# sourceMappingURL=ColorModifier.js.map","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ColorModifier } from \"./ColorModifier\";\r\nimport { registry } from \"../../Registry\";\r\nimport * as $math from \"../../utils/Math\";\r\nimport * as $type from \"../../utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * This class can be used to modify linear gradient steps, changing visual\r\n * properties like lightness, brightness, opacity of each set.\r\n *\r\n * It can also set offsets for each gradient step.\r\n *\r\n * E.g. if I want to fill a columns in a column series to be a solid fill from\r\n * top to 80% of height, then gradually fades out, I can use the following\r\n * gradient modifier as a `fillModifier`:\r\n *\r\n * ```TypeScript\r\n * let fillModifier = new am4core.GradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JavaScript\r\n * var fillModifier = new am4core.GradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JSON\r\n * \"series\": [{\r\n *   \"type\": \"ColumnSeries\",\r\n *   \"columns\": {\r\n *     \"fillModifier\": {\r\n *       \"type\": \"GradientModifier\",\r\n *       \"opacities\": [1, 1, 0],\r\n *       \"offsets\": [0, 0.8, 1]\r\n *     }\r\n *   }\r\n * }]\r\n * ```\r\n */\r\nvar GradientModifier = /** @class */ (function (_super) {\r\n    __extends(GradientModifier, _super);\r\n    /**\r\n     * Constructor.\r\n     */\r\n    function GradientModifier() {\r\n        var _this = _super.call(this) || this;\r\n        _this.lightnesses = [];\r\n        _this.brightnesses = [];\r\n        _this.opacities = [];\r\n        _this.offsets = [];\r\n        _this.className = \"GradientModifier\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(GradientModifier.prototype, \"lightnesses\", {\r\n        /**\r\n         * @return Lightness values\r\n         */\r\n        get: function () {\r\n            return this._lightnesses;\r\n        },\r\n        /**\r\n         * An array of lightness values for each step.\r\n         *\r\n         * @param value  Lightness values\r\n         */\r\n        set: function (value) {\r\n            this._lightnesses = value;\r\n            this._brightnesses = [];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GradientModifier.prototype, \"brightnesses\", {\r\n        /**\r\n         * @return Brightness values\r\n         */\r\n        get: function () {\r\n            return this._brightnesses;\r\n        },\r\n        /**\r\n         * An array of brightness values for each step.\r\n         *\r\n         * @param value  Brightness values\r\n         */\r\n        set: function (value) {\r\n            this._brightnesses = value;\r\n            this._lightnesses = [];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GradientModifier.prototype, \"opacities\", {\r\n        /**\r\n         * @return Opacity values\r\n         */\r\n        get: function () {\r\n            return this._opacities;\r\n        },\r\n        /**\r\n         * An array of opacity values for each step.\r\n         *\r\n         * @param value  Opacity values\r\n         */\r\n        set: function (value) {\r\n            this._opacities = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GradientModifier.prototype, \"offsets\", {\r\n        /**\r\n         * @return Offsets\r\n         */\r\n        get: function () {\r\n            return this._offsets;\r\n        },\r\n        /**\r\n         * An array of relative position (0-1) for each step.\r\n         *\r\n         * If not set, all steps will be of equal relative length.\r\n         *\r\n         * @param value  Offsets\r\n         */\r\n        set: function (value) {\r\n            this._offsets = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Modifies the color based on step setting.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param value  Source color\r\n     * @return A gradient that matches set modification rules\r\n     */\r\n    GradientModifier.prototype.modify = function (value) {\r\n        // Clear current gradient\r\n        this.gradient.clear();\r\n        // Get step count\r\n        var count = 0;\r\n        if (this.opacities) {\r\n            count = $math.max(count, this.opacities.length);\r\n        }\r\n        if (this.lightnesses) {\r\n            count = $math.max(count, this.lightnesses.length);\r\n        }\r\n        if (this.brightnesses) {\r\n            count = $math.max(count, this.brightnesses.length);\r\n        }\r\n        // Init step values\r\n        var opacity = 1, lightness, brightness;\r\n        // Apply steps\r\n        for (var i = 0; i < count; i++) {\r\n            // Take base color\r\n            var color = value;\r\n            // Check if there are any parameters for this step\r\n            if (this.opacities && $type.isNumber(this.opacities[i])) {\r\n                opacity = this.opacities[i];\r\n            }\r\n            if (this.lightnesses && $type.isNumber(this.lightnesses[i])) {\r\n                lightness = this.lightnesses[i];\r\n                brightness = undefined;\r\n            }\r\n            if (this.brightnesses && $type.isNumber(this.brightnesses[i])) {\r\n                brightness = this.brightnesses[i];\r\n                lightness = undefined;\r\n            }\r\n            // Check if we need to brighten/lighten color\r\n            if ($type.isNumber(brightness)) {\r\n                color = value.brighten(this.brightnesses[i]);\r\n            }\r\n            else if ($type.isNumber(lightness)) {\r\n                color = value.lighten(this.lightnesses[i]);\r\n            }\r\n            // Get offset (it's OK if it's undefined)\r\n            var offset = this.offsets[i];\r\n            // Apply step\r\n            this.gradient.addColor(color, opacity, offset);\r\n        }\r\n        return this.gradient;\r\n    };\r\n    GradientModifier.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this._offsets = source.offsets;\r\n        this._brightnesses = source.brightnesses;\r\n        this._lightnesses = source.lightnesses;\r\n        this._opacities = source.opacities;\r\n    };\r\n    return GradientModifier;\r\n}(ColorModifier));\r\nexport { GradientModifier };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"GradientModifier\"] = GradientModifier;\r\n//# sourceMappingURL=GradientModifier.js.map","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { LinearGradient } from \"./LinearGradient\";\r\nimport { GradientModifier } from \"./GradientModifier\";\r\nimport { registry } from \"../../Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * This class can be used to modify linear gradient steps, changing visual\r\n * properties like lightness, brightness, opacity of each set.\r\n *\r\n * It can also set offsets for each gradient step.\r\n *\r\n * E.g. if I want to fill a columns in a column series to be a solid fill from\r\n * top to 80% of height, then gradually fades out, I can use the following\r\n * gradient modifier as a `fillModifier`:\r\n *\r\n * ```TypeScript\r\n * let fillModifier = new am4core.LinearGradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JavaScript\r\n * var fillModifier = new am4core.LinearGradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JSON\r\n * \"series\": [{\r\n *   \"type\": \"ColumnSeries\",\r\n *   \"columns\": {\r\n *     \"fillModifier\": {\r\n *       \"type\": \"LinearGradientModifier\",\r\n *       \"opacities\": [1, 1, 0],\r\n *       \"offsets\": [0, 0.8, 1]\r\n *     }\r\n *   }\r\n * }]\r\n * ```\r\n */\r\nvar LinearGradientModifier = /** @class */ (function (_super) {\r\n    __extends(LinearGradientModifier, _super);\r\n    /**\r\n     * Constructor.\r\n     */\r\n    function LinearGradientModifier() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"LinearGradientModifier\";\r\n        _this.gradient = new LinearGradient();\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    LinearGradientModifier.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.gradient = source.gradient.clone();\r\n    };\r\n    return LinearGradientModifier;\r\n}(GradientModifier));\r\nexport { LinearGradientModifier };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"LinearGradientModifier\"] = LinearGradientModifier;\r\n//# sourceMappingURL=LinearGradientModifier.js.map","/**\r\n * Cone module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../../Container\";\r\nimport { Sprite, visualProperties } from \"../../Sprite\";\r\nimport { Ellipse } from \"../../elements/Ellipse\";\r\nimport { LinearGradientModifier } from \"../../rendering/fills/LinearGradientModifier\";\r\nimport { percent } from \"../../utils/Percent\";\r\nimport * as $object from \"../../utils/Object\";\r\nimport * as $path from \"../../rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Builds a round cone/cylinder.\r\n *\r\n * @see {@link IConeEvents} for a list of available events\r\n * @see {@link IConeAdapters} for a list of available Adapters\r\n */\r\nvar Cone = /** @class */ (function (_super) {\r\n    __extends(Cone, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Cone() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Cone\";\r\n        _this.angle = 30;\r\n        _this.radius = percent(100);\r\n        _this.topRadius = percent(100);\r\n        _this.top = _this.createChild(Ellipse);\r\n        _this.top.shouldClone = false;\r\n        _this.bottom = _this.createChild(Ellipse);\r\n        _this.bottom.shouldClone = false;\r\n        _this.body = _this.createChild(Sprite);\r\n        _this.body.shouldClone = false;\r\n        _this.body.setElement(_this.paper.add(\"path\"));\r\n        _this.layout = \"none\";\r\n        _this.bodyFillModifier = new LinearGradientModifier();\r\n        _this.bodyFillModifier.lightnesses = [0, -0.25, 0];\r\n        _this.body.fillModifier = _this.bodyFillModifier;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Cone.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        $object.copyProperties(this, this.top, visualProperties);\r\n        $object.copyProperties(this, this.bottom, visualProperties);\r\n        $object.copyProperties(this, this.body, visualProperties);\r\n        var w = this.innerWidth;\r\n        var h = this.innerHeight;\r\n        var bottom = this.bottom;\r\n        var top = this.top;\r\n        var angle = this.angle;\r\n        var radiusBase;\r\n        var dx;\r\n        var dy;\r\n        if (this.orientation == \"horizontal\") {\r\n            radiusBase = h / 2;\r\n            bottom.y = h / 2;\r\n            top.y = h / 2;\r\n            top.x = w;\r\n            dx = (90 - angle) / 90;\r\n            dy = 0;\r\n            this.bodyFillModifier.gradient.rotation = 90;\r\n        }\r\n        else {\r\n            dx = 0;\r\n            dy = (90 - angle) / 90;\r\n            radiusBase = w / 2;\r\n            bottom.y = h;\r\n            bottom.x = w / 2;\r\n            top.x = w / 2;\r\n            this.bodyFillModifier.gradient.rotation = 0;\r\n        }\r\n        var radius = this.radius.value * radiusBase;\r\n        var topRadius = this.topRadius.value * radiusBase;\r\n        bottom.radius = radius - radius * dx;\r\n        bottom.radiusY = radius - radius * dy;\r\n        top.radius = topRadius - topRadius * dx;\r\n        top.radiusY = topRadius - topRadius * dy;\r\n        var path;\r\n        if (this.orientation == \"horizontal\") {\r\n            path = $path.moveTo({ x: 0, y: h / 2 - bottom.radiusY }) + $path.arcTo(-90, -180, bottom.radius, bottom.radiusY) + $path.lineTo({ x: w, y: h / 2 + top.radiusY }) + $path.arcTo(90, 180, top.radius, top.radiusY) + $path.closePath();\r\n        }\r\n        else {\r\n            path = $path.moveTo({ x: w / 2 - top.radius, y: 0 }) + $path.arcTo(180, -180, top.radius, top.radiusY) + $path.lineTo({ x: w / 2 + bottom.radius, y: h }) + $path.arcTo(0, 180, bottom.radius, bottom.radiusY) + $path.closePath();\r\n        }\r\n        this.body.path = path;\r\n    };\r\n    Object.defineProperty(Cone.prototype, \"angle\", {\r\n        /**\r\n         * @return Angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"angle\");\r\n        },\r\n        /**\r\n         * Angle of the point of view to the 3D element. (0-360)\r\n         *\r\n         * @default 30\r\n         * @param value  Angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"angle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Cone.prototype, \"radius\", {\r\n        /**\r\n         * @return Bottom radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * A relative radius of the cone's bottom (base).\r\n         *\r\n         * It is relevant to the inner width or height of the element.\r\n         *\r\n         * @default Percent(100)\r\n         * @param value  Bottom radius\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"radius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Cone.prototype, \"topRadius\", {\r\n        /**\r\n         * @return Top radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"topRadius\");\r\n        },\r\n        /**\r\n         * A relative radius of the cone's top (tip).\r\n         *\r\n         * It is relevant to the inner width or height of the element.\r\n         *\r\n         * @default Percent(0)\r\n         * @param value  Top radius\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"topRadius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Cone.prototype, \"orientation\", {\r\n        /**\r\n         * Orientation\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"orientation\");\r\n        },\r\n        /**\r\n         * Orientation of the cone\r\n         *\r\n         * @default \"vertical\"\r\n         * @param value  Orientation\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"orientation\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Cone;\r\n}(Container));\r\nexport { Cone };\r\n//# sourceMappingURL=Cone.js.map","/**\r\n * Module for \"Lighten\" filter.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Filter } from \"./Filter\";\r\nimport { registry } from \"../../Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a \"Lighten\" filter.\r\n */\r\nvar LightenFilter = /** @class */ (function (_super) {\r\n    __extends(LightenFilter, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function LightenFilter() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"LightenFilter\";\r\n        // Create elements\r\n        // NOTE: we do not need to add each individual element to `_disposers`\r\n        // because `filterPrimitives` has an event handler which automatically adds\r\n        // anything added to it to `_disposers`\r\n        _this.feColorMatrix = _this.paper.add(\"feColorMatrix\");\r\n        _this.feColorMatrix.attr({ \"type\": \"matrix\" });\r\n        _this.filterPrimitives.push(_this.feColorMatrix);\r\n        // Set default properties\r\n        _this.lightness = 0;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LightenFilter.prototype, \"lightness\", {\r\n        /**\r\n         * @return Lightness\r\n         */\r\n        get: function () {\r\n            return this.properties[\"lightness\"];\r\n        },\r\n        /**\r\n         * Lightness of the target colors.\r\n         *\r\n         * If `lightness` is a positive number, the filter will make all colors\r\n         * lighter.\r\n         *\r\n         * If `lightness` is negative, colors will be darkened.\r\n         *\r\n         * @param value  Lightness\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"lightness\"] = value;\r\n            var v = value + 1;\r\n            this.feColorMatrix.attr({ \"values\": v + \" 0 0 0 0 0 \" + v + \" 0 0 0 0 0 \" + v + \" 0 0 0 0 0 1 0\" });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return LightenFilter;\r\n}(Filter));\r\nexport { LightenFilter };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"LightenFilter\"] = LightenFilter;\r\n//# sourceMappingURL=LightenFilter.js.map","/**\r\n * Creates a 3D rectangle.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../../Container\";\r\nimport { Sprite } from \"../../Sprite\";\r\nimport * as $math from \"../../utils/Math\";\r\nimport * as $path from \"../../rendering/Path\";\r\nimport { Color, color, toColor } from \"../../utils/Color\";\r\nimport { RadialGradient } from \"../../rendering/fills/RadialGradient\";\r\nimport { LinearGradient } from \"../../rendering/fills/LinearGradient\";\r\nimport { LightenFilter } from \"../../rendering/filters/LightenFilter\";\r\nimport * as $type from \"../../utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Builds a 3D rectangle\r\n * @see {@link IRectangle3DEvents} for a list of available events\r\n * @see {@link IRectangle3DAdapters} for a list of available Adapters\r\n */\r\nvar Rectangle3D = /** @class */ (function (_super) {\r\n    __extends(Rectangle3D, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Rectangle3D() {\r\n        var _this = _super.call(this) || this;\r\n        _this.angle = 30;\r\n        _this.depth = 30;\r\n        _this.className = \"Rectangle3D\";\r\n        _this.layout = \"none\";\r\n        var sideBack = _this.createChild(Sprite);\r\n        sideBack.shouldClone = false;\r\n        sideBack.setElement(_this.paper.add(\"path\"));\r\n        sideBack.isMeasured = false;\r\n        _this.sideBack = sideBack;\r\n        _this._disposers.push(_this.sideBack);\r\n        var sideBottom = _this.createChild(Sprite);\r\n        sideBottom.shouldClone = false;\r\n        sideBottom.setElement(_this.paper.add(\"path\"));\r\n        sideBottom.isMeasured = false;\r\n        _this.sideBottom = sideBottom;\r\n        _this._disposers.push(_this.sideBottom);\r\n        var sideLeft = _this.createChild(Sprite);\r\n        sideLeft.shouldClone = false;\r\n        sideLeft.setElement(_this.paper.add(\"path\"));\r\n        sideLeft.isMeasured = false;\r\n        _this.sideLeft = sideLeft;\r\n        _this._disposers.push(_this.sideLeft);\r\n        var sideRight = _this.createChild(Sprite);\r\n        sideRight.shouldClone = false;\r\n        sideRight.setElement(_this.paper.add(\"path\"));\r\n        sideRight.isMeasured = false;\r\n        _this.sideRight = sideRight;\r\n        _this._disposers.push(_this.sideRight);\r\n        var sideTop = _this.createChild(Sprite);\r\n        sideTop.shouldClone = false;\r\n        sideTop.setElement(_this.paper.add(\"path\"));\r\n        sideTop.isMeasured = false;\r\n        _this.sideTop = sideTop;\r\n        _this._disposers.push(_this.sideTop);\r\n        var sideFront = _this.createChild(Sprite);\r\n        sideFront.shouldClone = false;\r\n        sideFront.setElement(_this.paper.add(\"path\"));\r\n        sideFront.isMeasured = false;\r\n        _this.sideFront = sideFront;\r\n        _this._disposers.push(_this.sideFront);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Rectangle3D.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var w = this.innerWidth;\r\n        var h = this.innerHeight;\r\n        var depth = this.depth;\r\n        var angle = this.angle;\r\n        var sin = $math.sin(angle);\r\n        var cos = $math.cos(angle);\r\n        var a = { x: 0, y: 0 };\r\n        var b = { x: w, y: 0 };\r\n        var c = { x: w, y: h };\r\n        var d = { x: 0, y: h };\r\n        var ah = { x: depth * cos, y: -depth * sin };\r\n        var bh = { x: depth * cos + w, y: -depth * sin };\r\n        var ch = { x: depth * cos + w, y: -depth * sin + h };\r\n        var dh = { x: depth * cos, y: -depth * sin + h };\r\n        this.sideFront.path = $path.moveTo(a) + $path.lineTo(b) + $path.lineTo(c) + $path.lineTo(d) + $path.closePath();\r\n        this.sideBack.path = $path.moveTo(ah) + $path.lineTo(bh) + $path.lineTo(ch) + $path.lineTo(dh) + $path.closePath();\r\n        this.sideLeft.path = $path.moveTo(a) + $path.lineTo(ah) + $path.lineTo(dh) + $path.lineTo(d) + $path.closePath();\r\n        this.sideRight.path = $path.moveTo(b) + $path.lineTo(bh) + $path.lineTo(ch) + $path.lineTo(c) + $path.closePath();\r\n        this.sideBottom.path = $path.moveTo(d) + $path.lineTo(dh) + $path.lineTo(ch) + $path.lineTo(c) + $path.closePath();\r\n        this.sideTop.path = $path.moveTo(a) + $path.lineTo(ah) + $path.lineTo(bh) + $path.lineTo(b) + $path.closePath();\r\n    };\r\n    Object.defineProperty(Rectangle3D.prototype, \"depth\", {\r\n        /**\r\n         * @return Depth (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"depth\");\r\n        },\r\n        /**\r\n         * Depth (Z dimension) of the 3D rectangle in pixels.\r\n         *\r\n         * @default 30\r\n         * @param value  Depth (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"depth\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle3D.prototype, \"angle\", {\r\n        /**\r\n         * @return Angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"angle\");\r\n        },\r\n        /**\r\n         * Angle of the point of view to the 3D element. (0-360)\r\n         *\r\n         * @default 30\r\n         * @param value  Angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"angle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets actual `fill` property on the SVG element, including applicable color\r\n     * modifiers.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param value  Fill\r\n     */\r\n    Rectangle3D.prototype.setFill = function (value) {\r\n        _super.prototype.setFill.call(this, value);\r\n        if (!$type.isObject(value) || \"r\" in value) {\r\n            value = toColor(value);\r\n        }\r\n        var colorStr;\r\n        if (value instanceof Color) {\r\n            colorStr = value.hex;\r\n        }\r\n        else if (value instanceof LinearGradient || value instanceof RadialGradient) {\r\n            colorStr = value.stops.getIndex(0).color.hex;\r\n        }\r\n        else {\r\n            var filter = new LightenFilter();\r\n            filter.lightness = -0.2;\r\n            this.sideBack.filters.push(filter);\r\n            var filter2 = filter.clone();\r\n            filter2.lightness = -0.4;\r\n            this.sideLeft.filters.push(filter2);\r\n            var filter3 = filter.clone();\r\n            filter3.lightness = -0.2;\r\n            this.sideRight.filters.push(filter3);\r\n            var filter4 = filter.clone();\r\n            filter4.lightness = -0.1;\r\n            this.sideTop.filters.push(filter4);\r\n            var filter5 = filter.clone();\r\n            filter5.lightness = -0.5;\r\n            this.sideBottom.filters.push(filter5);\r\n        }\r\n        if (colorStr) {\r\n            this.sideBack.fill = color(colorStr).lighten(-0.2);\r\n            this.sideLeft.fill = color(colorStr).lighten(-0.4);\r\n            this.sideRight.fill = color(colorStr).lighten(-0.2);\r\n            this.sideTop.fill = color(colorStr).lighten(-0.1);\r\n            this.sideBottom.fill = color(colorStr).lighten(-0.5);\r\n        }\r\n    };\r\n    /**\r\n     * Copies all properties and related data from a different instance of Rectangle3D.\r\n     *\r\n     * @param source Source Rectangle3D\r\n     */\r\n    Rectangle3D.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.sideBack.copyFrom(source.sideBack);\r\n        this.sideLeft.copyFrom(source.sideLeft);\r\n        this.sideRight.copyFrom(source.sideRight);\r\n        this.sideTop.copyFrom(source.sideTop);\r\n        this.sideBottom.copyFrom(source.sideBottom);\r\n    };\r\n    return Rectangle3D;\r\n}(Container));\r\nexport { Rectangle3D };\r\n//# sourceMappingURL=Rectangle3D.js.map","/**\r\n * 3D slice module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Slice } from \"../Slice\";\r\nimport { Sprite } from \"../../Sprite\";\r\nimport * as $math from \"../../utils/Math\";\r\nimport * as $path from \"../../rendering/Path\";\r\nimport * as $type from \"../../utils/Type\";\r\nimport { Color, color } from \"../../utils/Color\";\r\nimport { RadialGradient } from \"../../rendering/fills/RadialGradient\";\r\nimport { LinearGradient } from \"../../rendering/fills/LinearGradient\";\r\nimport { LightenFilter } from \"../../rendering/filters/LightenFilter\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Used to draw a 3D slice of a Pie chart.\r\n *\r\n * @see {@link ISlice3DEvents} for a list of available events\r\n * @see {@link ISlice3DAdapters} for a list of available Adapters\r\n */\r\nvar Slice3D = /** @class */ (function (_super) {\r\n    __extends(Slice3D, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Slice3D() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"Slice3D\";\r\n        _this.layout = \"none\";\r\n        // Create edge container\r\n        var edge = _this.createChild(Sprite);\r\n        _this.edge = edge;\r\n        edge.shouldClone = false;\r\n        edge.isMeasured = false;\r\n        edge.toBack();\r\n        // Set defaults\r\n        _this.angle = 30;\r\n        _this.depth = 20;\r\n        // Create side A element\r\n        var sideA = _this.createChild(Sprite);\r\n        _this.sideA = sideA;\r\n        sideA.shouldClone = false;\r\n        sideA.isMeasured = false;\r\n        //sideA.setElement(this.paper.add(\"path\"));\r\n        //sideA.strokeOpacity = 0;\r\n        // Crate side B element\r\n        var sideB = _this.createChild(Sprite);\r\n        _this.sideB = sideB;\r\n        sideB.shouldClone = false;\r\n        sideB.isMeasured = false;\r\n        //sideB.setElement(this.paper.add(\"path\"));\r\n        //sideB.strokeOpacity = 0;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets actual `fill` property on the SVG element, including applicable color\r\n     * modifiers.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param value  Fill\r\n     */\r\n    Slice3D.prototype.setFill = function (value) {\r\n        _super.prototype.setFill.call(this, value);\r\n        var colorStr;\r\n        if (value instanceof Color) {\r\n            colorStr = value.hex;\r\n        }\r\n        else if (value instanceof LinearGradient || value instanceof RadialGradient) {\r\n            colorStr = value.stops.getIndex(0).color.hex;\r\n        }\r\n        else {\r\n            var filter = new LightenFilter();\r\n            filter.lightness = -0.25;\r\n            this.edge.filters.push(filter);\r\n            this.sideA.filters.push(filter.clone());\r\n            this.sideB.filters.push(filter.clone());\r\n        }\r\n        if (colorStr) {\r\n            var edgeFill = color(colorStr).lighten(-0.25);\r\n            this.edge.fill = edgeFill;\r\n            this.sideA.fill = edgeFill;\r\n            this.sideB.fill = edgeFill;\r\n            this.edge.stroke = edgeFill;\r\n            this.sideA.stroke = edgeFill;\r\n            this.sideB.stroke = edgeFill;\r\n        }\r\n    };\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Slice3D.prototype.draw = function () {\r\n        this.cornerRadius = 0;\r\n        this.innerCornerRadius = 0;\r\n        _super.prototype.draw.call(this);\r\n        if (this.arc !== 0 && this.radius > 0 && this.depth > 0) {\r\n            this.sideB.show(0);\r\n            this.sideA.show(0);\r\n            this.edge.show(0);\r\n            var startAngle = this.startAngle;\r\n            var arc = this.arc;\r\n            var innerRadius = this.pixelInnerRadius || 0;\r\n            var radiusY = this.radiusY || 0;\r\n            //let cornerRadius = this.cornerRadius || 0;\r\n            //let innerCornerRadius = this.innerCornerRadius;\r\n            var radius = this.radius;\r\n            // this is code duplicate with $path.arc. @todo to think how to avoid it\r\n            var endAngle = startAngle + arc;\r\n            //let crSin = $math.sin($math.min(arc, 45) / 2);\r\n            //innerCornerRadius = innerCornerRadius || cornerRadius;\r\n            var innerRadiusY = (radiusY / radius) * innerRadius;\r\n            //let cornerRadiusY = (radiusY / radius) * cornerRadius;\r\n            //let innerCornerRadiusY = (radiusY / radius) * innerCornerRadius;\r\n            //cornerRadius = $math.fitToRange(cornerRadius, 0, (radius - innerRadius) / 2);\r\n            //cornerRadiusY = $math.fitToRange(cornerRadiusY, 0, (radiusY - innerRadiusY) / 2);\r\n            //innerCornerRadius = $math.fitToRange(innerCornerRadius, 0, (radius - innerRadius) / 2);\r\n            //innerCornerRadiusY = $math.fitToRange(innerCornerRadiusY, 0, (radiusY - innerRadiusY) / 2);\r\n            //cornerRadius = $math.fitToRange(cornerRadius, 0, radius * crSin);\r\n            //cornerRadiusY = $math.fitToRange(cornerRadiusY, 0, radiusY * crSin);\r\n            //innerCornerRadius = $math.fitToRange(innerCornerRadius, 0, innerRadius * crSin);\r\n            //innerCornerRadiusY = $math.fitToRange(innerCornerRadiusY, 0, innerRadiusY * crSin);\r\n            //let crAngle: number = Math.asin(cornerRadius / radius / 2) * $math.DEGREES * 2;\r\n            //let crAngleY: number = Math.asin(cornerRadiusY / radiusY / 2) * $math.DEGREES * 2;\r\n            //if (innerRadius < innerCornerRadius) {\r\n            //\tinnerRadius = innerCornerRadius;\r\n            //}\r\n            //if (innerRadiusY < innerCornerRadiusY) {\r\n            //\tinnerRadiusY = innerCornerRadiusY;\r\n            //}\r\n            //let crInnerAngle: number = Math.asin(innerCornerRadius / innerRadius / 2) * $math.DEGREES * 2;\r\n            //let crInnerAngleY: number = Math.asin(innerCornerRadiusY / innerRadiusY / 2) * $math.DEGREES * 2;\r\n            //if (!$type.isNumber(crInnerAngle)) {\r\n            //\tcrInnerAngle = 0;\r\n            //}\r\n            //if (!$type.isNumber(crInnerAngleY)) {\r\n            //\tcrInnerAngleY = 0;\r\n            //}\r\n            //let middleAngle = startAngle + arc / 2;\r\n            //let mPoint = { x: $math.round($math.cos(middleAngle) * innerRadius, 4), y: $math.round($math.sin(middleAngle) * innerRadiusY, 4) };\r\n            var a0 = { x: $math.cos(startAngle) * (innerRadius), y: $math.sin(startAngle) * (innerRadiusY) };\r\n            var b0 = { x: $math.cos(startAngle) * (radius), y: $math.sin(startAngle) * (radiusY) };\r\n            var c0 = { x: $math.cos(endAngle) * (radius), y: $math.sin(endAngle) * (radiusY) };\r\n            var d0 = { x: $math.cos(endAngle) * (innerRadius), y: $math.sin(endAngle) * (innerRadiusY) };\r\n            // end of duplicate\r\n            var h = this.depth;\r\n            var ah = { x: a0.x, y: a0.y - h };\r\n            var bh = { x: b0.x, y: b0.y - h };\r\n            var ch = { x: c0.x, y: c0.y - h };\r\n            var dh = { x: d0.x, y: d0.y - h };\r\n            var edgePath = \"\";\r\n            var count = Math.ceil(arc / 5);\r\n            var step = arc / count;\r\n            var mangle = startAngle;\r\n            var prevPoint = bh;\r\n            for (var i = 0; i < count; i++) {\r\n                mangle += step;\r\n                if (mangle > 0 && mangle < 180) {\r\n                    edgePath += $path.moveTo(prevPoint);\r\n                    var pp = { x: $math.cos(mangle) * (radius), y: $math.sin(mangle) * (radiusY) - h };\r\n                    edgePath += $path.lineTo({ x: prevPoint.x, y: prevPoint.y + h });\r\n                    edgePath += $path.arcToPoint({ x: pp.x, y: pp.y + h }, radius, radiusY, true);\r\n                    edgePath += $path.lineTo(pp);\r\n                    edgePath += $path.arcToPoint(prevPoint, radius, radiusY);\r\n                    edgePath += \"z\";\r\n                    prevPoint = pp;\r\n                }\r\n                else {\r\n                    edgePath += $path.moveTo(prevPoint);\r\n                    var pp = { x: $math.cos(mangle) * (radius), y: $math.sin(mangle) * (radiusY) - h };\r\n                    edgePath += $path.arcToPoint(pp, radius, radiusY, true);\r\n                    edgePath += $path.lineTo({ x: pp.x, y: pp.y + h });\r\n                    edgePath += $path.arcToPoint({ x: prevPoint.x, y: prevPoint.y + h }, radius, radiusY);\r\n                    edgePath += $path.lineTo(prevPoint);\r\n                    edgePath += \"z\";\r\n                    prevPoint = pp;\r\n                }\r\n            }\r\n            prevPoint = ah;\r\n            mangle = startAngle;\r\n            for (var i = 0; i < count; i++) {\r\n                mangle += step;\r\n                if (mangle > 0 && mangle < 180) {\r\n                    edgePath += $path.moveTo(prevPoint);\r\n                    var pp = { x: $math.cos(mangle) * (innerRadius), y: $math.sin(mangle) * (innerRadiusY) - h };\r\n                    edgePath += $path.lineTo({ x: prevPoint.x, y: prevPoint.y + h });\r\n                    edgePath += $path.arcToPoint({ x: pp.x, y: pp.y + h }, innerRadius, innerRadiusY, true);\r\n                    edgePath += $path.lineTo(pp);\r\n                    edgePath += $path.arcToPoint(prevPoint, innerRadius, innerRadiusY);\r\n                    edgePath += \"z\";\r\n                    prevPoint = pp;\r\n                }\r\n                else {\r\n                    edgePath += $path.moveTo(prevPoint);\r\n                    var pp = { x: $math.cos(mangle) * (innerRadius), y: $math.sin(mangle) * (innerRadiusY) - h };\r\n                    edgePath += $path.arcToPoint(pp, innerRadius, innerRadiusY, true);\r\n                    edgePath += $path.lineTo({ x: pp.x, y: pp.y + h });\r\n                    edgePath += $path.arcToPoint({ x: prevPoint.x, y: prevPoint.y + h }, innerRadius, innerRadiusY);\r\n                    edgePath += $path.lineTo(prevPoint);\r\n                    edgePath += \"z\";\r\n                    prevPoint = pp;\r\n                }\r\n            }\r\n            this.edge.path = edgePath;\r\n            /*\r\n                        a0 = { x: $math.cos(startAngle) * (innerRadius + innerCornerRadius), y: $math.sin(startAngle) * (innerRadiusY + innerCornerRadiusY) };\r\n                        b0 = { x: $math.cos(startAngle) * (radius - cornerRadius), y: $math.sin(startAngle) * (radiusY - cornerRadiusY) };\r\n                        c0 = { x: $math.cos(endAngle) * (radius - cornerRadius), y: $math.sin(endAngle) * (radiusY - cornerRadiusY) };\r\n                        d0 = { x: $math.cos(endAngle) * (innerRadius + innerCornerRadius), y: $math.sin(endAngle) * (innerRadiusY + innerCornerRadiusY) };\r\n                        // end of duplicate\r\n            \r\n                        ah = { x: a0.x, y: a0.y - h };\r\n                        bh = { x: b0.x, y: b0.y - h };\r\n                        ch = { x: c0.x, y: c0.y - h };\r\n                        dh = { x: d0.x, y: d0.y - h };\r\n            */\r\n            this.sideA.path = $path.moveTo(a0) + $path.lineTo(b0) + $path.lineTo(bh) + $path.lineTo(ah) + $path.closePath();\r\n            this.sideB.path = $path.moveTo(c0) + $path.lineTo(d0) + $path.lineTo(dh) + $path.lineTo(ch) + $path.closePath();\r\n            if (this.startAngle < 90) {\r\n                this.sideA.toBack();\r\n            }\r\n            else {\r\n                this.sideA.toFront();\r\n            }\r\n            if (this.startAngle + this.arc > 90) {\r\n                this.sideB.toBack();\r\n            }\r\n            else {\r\n                this.sideB.toFront();\r\n            }\r\n            this.slice.dy = -h;\r\n        }\r\n        else {\r\n            this.sideA.hide(0);\r\n            this.sideB.hide(0);\r\n            this.edge.hide(0);\r\n        }\r\n    };\r\n    Object.defineProperty(Slice3D.prototype, \"depth\", {\r\n        /**\r\n         * @return Depth (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"depth\");\r\n        },\r\n        /**\r\n         * Depth (height) of the 3D slice in pixels.\r\n         *\r\n         * @default 20\r\n         * @param depth  Depth (px)\r\n         */\r\n        set: function (depth) {\r\n            this.setPropertyValue(\"depth\", depth, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice3D.prototype, \"angle\", {\r\n        /**\r\n         * @return Angle\r\n         */\r\n        get: function () {\r\n            var angle = this.getPropertyValue(\"angle\");\r\n            if (!$type.isNumber(angle)) {\r\n                angle = 0;\r\n            }\r\n            return angle;\r\n        },\r\n        /**\r\n         * Angle of the point of view to the 3D element. (0-360)\r\n         *\r\n         * @default 30\r\n         * @param value  Angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"angle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Slice3D.prototype, \"radiusY\", {\r\n        /**\r\n         * @return Vertical radius (0-1)\r\n         */\r\n        get: function () {\r\n            var radiusY = this.getPropertyValue(\"radiusY\");\r\n            if (!$type.isNumber(radiusY)) {\r\n                radiusY = this.radius - this.radius * this.angle / 90;\r\n            }\r\n            return radiusY;\r\n        },\r\n        /**\r\n         * Vertical radius for creating skewed slices.\r\n         *\r\n         * This is relevant to `radius`, e.g. 0.5 will set vertical radius to half\r\n         * the `radius`.\r\n         *\r\n         * @param value Vertical radius (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"radiusY\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all properties and related data from a different instance of Axis.\r\n     *\r\n     * @param source Source Axis\r\n     */\r\n    Slice3D.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.edge.copyFrom(source.edge);\r\n        this.sideA.copyFrom(source.sideA);\r\n        this.sideB.copyFrom(source.sideB);\r\n    };\r\n    return Slice3D;\r\n}(Slice));\r\nexport { Slice3D };\r\n//# sourceMappingURL=Slice3D.js.map","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { RadialGradient } from \"./RadialGradient\";\r\nimport { GradientModifier } from \"./GradientModifier\";\r\nimport { registry } from \"../../Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * This class can be used to modify radial gradient steps, changing visual\r\n * properties like lightness, brightness, opacity of each set.\r\n *\r\n * It can also set offsets for each gradient step.\r\n *\r\n * E.g. if I want to fill a columns in a column series to be a solid fill from\r\n * top to 80% of height, then gradually fades out, I can use the following\r\n * gradient modifier as a `fillModifier`:\r\n *\r\n * ```TypeScript\r\n * let fillModifier = new am4core.LinearGradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JavaScript\r\n * var fillModifier = new am4core.LinearGradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JSON\r\n * \"series\": [{\r\n *   \"type\": \"ColumnSeries\",\r\n *   \"columns\": {\r\n *     \"fillModifier\": {\r\n *       \"type\": \"LinearGradientModifier\",\r\n *       \"opacities\": [1, 1, 0],\r\n *       \"offsets\": [0, 0.8, 1]\r\n *     }\r\n *   }\r\n * }]\r\n * ```\r\n */\r\nvar RadialGradientModifier = /** @class */ (function (_super) {\r\n    __extends(RadialGradientModifier, _super);\r\n    /**\r\n     * Constructor.\r\n     */\r\n    function RadialGradientModifier() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"RadialGradientModifier\";\r\n        _this.gradient = new RadialGradient();\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    RadialGradientModifier.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.gradient = source.gradient.clone();\r\n    };\r\n    return RadialGradientModifier;\r\n}(GradientModifier));\r\nexport { RadialGradientModifier };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RadialGradientModifier\"] = RadialGradientModifier;\r\n//# sourceMappingURL=RadialGradientModifier.js.map","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Pattern } from \"./Pattern\";\r\nimport { registry } from \"../../Registry\";\r\nimport * as $path from \"../../rendering/Path\";\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Line pattern.\r\n */\r\nvar LinePattern = /** @class */ (function (_super) {\r\n    __extends(LinePattern, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function LinePattern() {\r\n        var _this = _super.call(this) || this;\r\n        _this.properties[\"gap\"] = 0;\r\n        _this._line = _this.paper.add(\"path\");\r\n        _this.addElement(_this._line);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the pattern.\r\n     */\r\n    LinePattern.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        if (Math.round(this.rotation / 90) != this.rotation / 90) {\r\n            this.properties[\"shapeRendering\"] = \"auto\";\r\n        }\r\n        if (this._line) {\r\n            var w = this.width;\r\n            var h = this.height;\r\n            var path = \"\";\r\n            if (!this.gap) {\r\n                if (Math.round(this.rotation / 90) != this.rotation / 90) {\r\n                    path = $path.moveTo({ x: -w, y: h / 2 }) + $path.lineTo({ x: w * 2, y: h / 2 });\r\n                    this.properties[\"rotationX\"] = this.width / 2;\r\n                    this.properties[\"rotationY\"] = this.height / 2;\r\n                }\r\n                else {\r\n                    path = $path.moveTo({ x: 0, y: 0 }) + $path.lineTo({ x: w, y: 0 });\r\n                }\r\n            }\r\n            else {\r\n                var step = this.gap + this.strokeWidth;\r\n                var count = this.height / step;\r\n                for (var i = -count / 2; i < count * 1.5; i++) {\r\n                    if (Math.round(this.rotation / 90) != this.rotation / 90) {\r\n                        path += $path.moveTo({ x: -w, y: (i + 0.5) * step }) + $path.lineTo({ x: w * 2, y: (i + 0.5) * step });\r\n                        this.properties[\"rotationX\"] = this.width / 2;\r\n                        this.properties[\"rotationY\"] = this.height / 2;\r\n                    }\r\n                    else {\r\n                        path += $path.moveTo({ x: -w, y: i * step }) + $path.lineTo({ x: w * 2, y: i * step });\r\n                    }\r\n                }\r\n            }\r\n            this._line.attr({ \"d\": path });\r\n        }\r\n    };\r\n    Object.defineProperty(LinePattern.prototype, \"gap\", {\r\n        /**\r\n         * @return gap\r\n         */\r\n        get: function () {\r\n            return this.properties[\"gap\"];\r\n        },\r\n        /**\r\n         * Number of pixels between pattern lines.\r\n         *\r\n         * The pattern will automatically draw required number of lines to fill\r\n         * pattern area maintaining `gap` distance between them.\r\n         *\r\n         * 0 (zero) means only single line will be drawn.\r\n         *\r\n         * @default 0\r\n         * @since 4.7.7\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"gap\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return LinePattern;\r\n}(Pattern));\r\nexport { LinePattern };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"LinePattern\"] = LinePattern;\r\n//# sourceMappingURL=LinePattern.js.map","/**\r\n * Rectangular pattern module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Pattern } from \"./Pattern\";\r\nimport { registry } from \"../../Registry\";\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Circular pattern\r\n */\r\nvar CirclePattern = /** @class */ (function (_super) {\r\n    __extends(CirclePattern, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function CirclePattern() {\r\n        var _this = _super.call(this) || this;\r\n        _this.properties[\"radius\"] = 2;\r\n        _this._circle = _this.paper.add(\"circle\");\r\n        _this.addElement(_this._circle);\r\n        _this.shapeRendering = \"auto\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the circle element.\r\n     */\r\n    CirclePattern.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        if (this._circle) {\r\n            this._circle.attr({ \"r\": this.radius, \"cx\": this.width / 2, \"cy\": this.height / 2 });\r\n        }\r\n    };\r\n    Object.defineProperty(CirclePattern.prototype, \"radius\", {\r\n        /**\r\n         * @return Radius (px)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"radius\"];\r\n        },\r\n        /**\r\n         * Circle radius in pixels.\r\n         *\r\n         * @param value Radius (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"radius\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return CirclePattern;\r\n}(Pattern));\r\nexport { CirclePattern };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"CirclePattern\"] = CirclePattern;\r\n//# sourceMappingURL=CirclePattern.js.map","/**\r\n * Rectangular pattern module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Pattern } from \"./Pattern\";\r\nimport { registry } from \"../../Registry\";\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Rectangular pattern\r\n */\r\nvar RectPattern = /** @class */ (function (_super) {\r\n    __extends(RectPattern, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function RectPattern() {\r\n        var _this = _super.call(this) || this;\r\n        _this.rectHeight = 1;\r\n        _this.rectWidth = 1;\r\n        _this._rect = _this.paper.add(\"rect\");\r\n        _this.addElement(_this._rect);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the rectangular element.\r\n     */\r\n    RectPattern.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        this.properties[\"rotationX\"] = this.width / 2;\r\n        this.properties[\"rotationY\"] = this.height / 2;\r\n        if (this._rect) {\r\n            this._rect.attr({ \"width\": this.rectWidth, \"height\": this.rectHeight, \"x\": (this.width - this.rectWidth) / 2, \"y\": (this.height - this.rectHeight) / 2 });\r\n        }\r\n    };\r\n    Object.defineProperty(RectPattern.prototype, \"rectWidth\", {\r\n        /**\r\n         * @return Width (px)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"rectWidth\"];\r\n        },\r\n        /**\r\n         * Rectangle width in pixels.\r\n         *\r\n         * @param value Width (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"rectWidth\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RectPattern.prototype, \"rectHeight\", {\r\n        /**\r\n         * @return Height (px)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"rectHeight\"];\r\n        },\r\n        /**\r\n         * Rectangle height in pixels.\r\n         *\r\n         * @param value Height (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"rectHeight\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return RectPattern;\r\n}(Pattern));\r\nexport { RectPattern };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RectPattern\"] = RectPattern;\r\n//# sourceMappingURL=RectPattern.js.map","/**\r\n * Module for \"Colorize\" filter.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Filter } from \"./Filter\";\r\nimport { registry } from \"../../Registry\";\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a \"Colorize\" filter.\r\n */\r\nvar ColorizeFilter = /** @class */ (function (_super) {\r\n    __extends(ColorizeFilter, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ColorizeFilter() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ColorizeFilter\";\r\n        // Create elements\r\n        // NOTE: we do not need to add each individual element to `_disposers`\r\n        // because `filterPrimitives` has an event handler which automatically adds\r\n        // anything added to it to `_disposers`\r\n        _this.feColorMatrix = _this.paper.add(\"feColorMatrix\");\r\n        _this.feColorMatrix.attr({ \"type\": \"matrix\" });\r\n        //this.feColorMatrix.setAttribute(\"in\", \"SourceAlpha\");\r\n        _this.filterPrimitives.push(_this.feColorMatrix);\r\n        // Set default properties\r\n        _this.intensity = 1;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * (Re)applies colors to the already existing filter by modifying filyer's\r\n     * color matrix element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ColorizeFilter.prototype.applyFilter = function () {\r\n        var i = this.intensity;\r\n        var ii = 1 - i;\r\n        var r;\r\n        var g;\r\n        var b;\r\n        var color = this.color;\r\n        if (color && color.rgb) {\r\n            r = color.rgb.r / 255 * i;\r\n            g = color.rgb.g / 255 * i;\r\n            b = color.rgb.b / 255 * i;\r\n        }\r\n        else {\r\n            r = 0;\r\n            g = 0;\r\n            b = 0;\r\n        }\r\n        this.feColorMatrix.attr({ \"values\": ii + \" 0 0 0 \" + r + \" 0 \" + ii + \" 0 0 \" + g + \" 0 0 \" + ii + \" 0 \" + b + \" 0 0 0 1 0\" });\r\n    };\r\n    Object.defineProperty(ColorizeFilter.prototype, \"color\", {\r\n        /**\r\n         * @return Color\r\n         */\r\n        get: function () {\r\n            return this.properties[\"color\"];\r\n        },\r\n        /**\r\n         * Target color to apply to the element.\r\n         *\r\n         * Depending on the `intensity`, all colors of the target element will steer\r\n         * towards this color.\r\n         *\r\n         * E.g. setting to `am4core.color(\"greener\")` will make all colors greener.\r\n         *\r\n         * @param value  Color\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"color\"] = value;\r\n            this.applyFilter();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColorizeFilter.prototype, \"intensity\", {\r\n        /**\r\n         * @return Intensity (0-1)\r\n         */\r\n        get: function () {\r\n            return this.properties.intensity;\r\n        },\r\n        /**\r\n         * Intensity of the color (0-1).\r\n         *\r\n         * The bigger the number the more of a `color` target's colors will become.\r\n         *\r\n         * 0 means the colors will remain as they are.\r\n         * 1 means all colors will become the target `color`.\r\n         *\r\n         * @default 1\r\n         * @param value  Intensity (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.properties.intensity = value;\r\n            this.applyFilter();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ColorizeFilter;\r\n}(Filter));\r\nexport { ColorizeFilter };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ColorizeFilter\"] = ColorizeFilter;\r\n//# sourceMappingURL=ColorizeFilter.js.map","/**\r\n * Module for \"Desaturate\" filter.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Filter } from \"./Filter\";\r\nimport { registry } from \"../../Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creats a \"Desaturate\" filter\r\n */\r\nvar DesaturateFilter = /** @class */ (function (_super) {\r\n    __extends(DesaturateFilter, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function DesaturateFilter() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"DesaturateFilter\";\r\n        // Create elements\r\n        // NOTE: we do not need to add each individual element to `_disposers`\r\n        // because `filterPrimitives` has an event handler which automatically adds\r\n        // anything added to it to `_disposers`\r\n        _this.feColorMatrix = _this.paper.add(\"feColorMatrix\");\r\n        _this.feColorMatrix.attr({ \"type\": \"saturate\" });\r\n        _this.filterPrimitives.push(_this.feColorMatrix);\r\n        // Set default properties\r\n        _this.width = 120;\r\n        _this.height = 120;\r\n        _this.saturation = 0;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DesaturateFilter.prototype, \"saturation\", {\r\n        /**\r\n         * @return Saturation (0-1)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"saturation\"];\r\n        },\r\n        /**\r\n         * Saturation.\r\n         *\r\n         * 0 - completely desaturated.\r\n         * 1 - fully saturated (gray).\r\n         *\r\n         * @param value  Saturation (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"saturation\"] = value;\r\n            this.feColorMatrix.attr({ \"values\": value.toString() });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return DesaturateFilter;\r\n}(Filter));\r\nexport { DesaturateFilter };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"DesaturateFilter\"] = DesaturateFilter;\r\n//# sourceMappingURL=DesaturateFilter.js.map","/**\r\n * Module for \"Blur\" filter.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Filter } from \"./Filter\";\r\nimport { registry } from \"../../Registry\";\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a \"Blur\" filter.\r\n */\r\nvar BlurFilter = /** @class */ (function (_super) {\r\n    __extends(BlurFilter, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function BlurFilter() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"BlurFilter\";\r\n        // Create elements\r\n        // NOTE: we do not need to add each individual element to `_disposers`\r\n        // because `filterPrimitives` has an event handler which automatically adds\r\n        // anything added to it to `_disposers`\r\n        _this.feGaussianBlur = _this.paper.add(\"feGaussianBlur\");\r\n        _this.feGaussianBlur.attr({ \"result\": \"blurOut\", \"in\": \"SourceGraphic\" });\r\n        _this.filterPrimitives.push(_this.feGaussianBlur);\r\n        // Set default properties\r\n        _this.width = 200;\r\n        _this.height = 200;\r\n        _this.blur = 1.5;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BlurFilter.prototype, \"blur\", {\r\n        /**\r\n         * @return Blur\r\n         */\r\n        get: function () {\r\n            return this.properties.blur;\r\n        },\r\n        /**\r\n         * Blur value.\r\n         *\r\n         * The bigger the value, the blurrier the target element will become.\r\n         *\r\n         * @default 1.5\r\n         * @param value Blur\r\n         */\r\n        set: function (value) {\r\n            this.properties.blur = value;\r\n            this.feGaussianBlur.attr({ \"stdDeviation\": value / this.scale });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return BlurFilter;\r\n}(Filter));\r\nexport { BlurFilter };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"BlurFilter\"] = BlurFilter;\r\n//# sourceMappingURL=BlurFilter.js.map","/**\r\n * Module for \"Focus\" filter.\r\n */\r\nimport { __extends } from \"tslib\";\r\nimport { Filter } from \"./Filter\";\r\nimport { InterfaceColorSet } from \"../../utils/InterfaceColorSet\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a \"Focus\" filter.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/accessibility/} more about accessibility\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/changing-appearance-of-focused-items/} cusomizing focus appearance\r\n */\r\nvar FocusFilter = /** @class */ (function (_super) {\r\n    __extends(FocusFilter, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function FocusFilter() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"FocusFilter\";\r\n        // Create elements\r\n        // NOTE: we do not need to add each individual element to `_disposers`\r\n        // because `filterPrimitives` has an event handler which automatically adds\r\n        // anything added to it to `_disposers`\r\n        _this.feFlood = _this.paper.add(\"feFlood\");\r\n        _this.feFlood.attr({ \"flood-color\": new InterfaceColorSet().getFor(\"primaryButtonHover\"), \"result\": \"base\" });\r\n        _this.filterPrimitives.push(_this.feFlood);\r\n        _this.feMorphology = _this.paper.add(\"feMorphology\");\r\n        _this.feMorphology.attr({ \"result\": \"bigger\", \"in\": \"SourceGraphic\", \"operator\": \"dilate\", \"radius\": \"2\" });\r\n        _this.filterPrimitives.push(_this.feMorphology);\r\n        _this.feColorMatrix = _this.paper.add(\"feColorMatrix\");\r\n        _this.feColorMatrix.attr({ \"result\": \"mask\", \"in\": \"bigger\", \"type\": \"matrix\", \"values\": \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\" });\r\n        _this.filterPrimitives.push(_this.feColorMatrix);\r\n        _this.feComposite = _this.paper.add(\"feComposite\");\r\n        _this.feComposite.attr({ \"result\": \"drop\", \"in\": \"base\", \"in2\": \"mask\", \"operator\": \"in\" });\r\n        _this.filterPrimitives.push(_this.feComposite);\r\n        _this.feBlend = _this.paper.add(\"feBlend\");\r\n        _this.feBlend.attr({ \"in\": \"SourceGraphic\", \"in2\": \"drop\", \"mode\": \"normal\" });\r\n        _this.filterPrimitives.push(_this.feBlend);\r\n        // Set default properties\r\n        _this.width = 130;\r\n        _this.height = 130;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(FocusFilter.prototype, \"stroke\", {\r\n        /**\r\n         * @return Color\r\n         */\r\n        get: function () {\r\n            return this.properties[\"stroke\"];\r\n        },\r\n        /**\r\n         * Stroke (outline) color.\r\n         *\r\n         * @param value  Color\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"stroke\"] = value;\r\n            this.feFlood.attr({ \"flood-color\": value });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FocusFilter.prototype, \"strokeWidth\", {\r\n        /**\r\n         * @return Outline thickness (px)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"strokeWidth\"];\r\n        },\r\n        /**\r\n         * Stroke (outline) thickness in pixels.\r\n         *\r\n         * @param value  Outline thickness (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"strokeWidth\"] = value;\r\n            this.feMorphology.attr({ \"radius\": value });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FocusFilter.prototype, \"opacity\", {\r\n        /**\r\n         * @return Outline opacity (0-1)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"opacity\"];\r\n        },\r\n        /**\r\n         * Opacity of the outline. (0-1)\r\n         *\r\n         * @param value  Outline opacity (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"opacity\"] = value;\r\n            this.feColorMatrix.attr({ \"values\": \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \" + value + \" 0\" });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets filter's target element.\r\n     *\r\n     * In addition it also disables built-in focus outline on element this\r\n     * filter is applied to.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param value  Element filter is being attached to\r\n     */\r\n    FocusFilter.prototype.setSprite = function (value) {\r\n        if (this._sprite && this._sprite != value) {\r\n            this._sprite.group.removeStyle(\"outline\");\r\n        }\r\n        value.group.addStyle({\r\n            \"outline\": \"none\"\r\n        });\r\n        _super.prototype.setSprite.call(this, value);\r\n    };\r\n    return FocusFilter;\r\n}(Filter));\r\nexport { FocusFilter };\r\n//# sourceMappingURL=FocusFilter.js.map","/**\r\n * This module contains PatternSet object definition\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../Base\";\r\nimport { Color } from \"./Color\";\r\nimport { InterfaceColorSet } from \"./InterfaceColorSet\";\r\nimport { LinePattern } from \"../rendering/fills/LinePattern\";\r\nimport { RectPattern } from \"../rendering/fills/RectPattern\";\r\nimport { CirclePattern } from \"../rendering/fills/CirclePattern\";\r\nimport { registry } from \"../Registry\";\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines an interable list of distinctive patterns that can be used in\r\n * conjunction to colors to generate various fill patterns.\r\n *\r\n * @important\r\n * @since 4.7.5\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/colors/} for color-related info\r\n */\r\nvar PatternSet = /** @class */ (function (_super) {\r\n    __extends(PatternSet, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PatternSet() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Holds the list of the colors in this set. (preset or auto-generated)\r\n         */\r\n        _this._list = [];\r\n        /**\r\n         * Current step.\r\n         */\r\n        _this._currentStep = 0;\r\n        /**\r\n         * If set to non-zero value, the PatternSet will start iterating patterns from\r\n         * that particular index, not the first pattern in the list.\r\n         */\r\n        _this._startIndex = 0;\r\n        /**\r\n         * Current pass in cycle. Once all patterns in the list are iterated,\r\n         * iteration restarts from beginning and currentPass is incremented.\r\n         */\r\n        _this._currentPass = 0;\r\n        /**\r\n         * A base color. If there are no colors pre-set in the color list, ColorSet\r\n         * will use this color as a base when generating new ones, applying\r\n         * `stepOptions` and `passOptions` to this base color.\r\n         */\r\n        _this.baseColor = new Color({\r\n            r: 103,\r\n            g: 183,\r\n            b: 220\r\n        });\r\n        _this.className = \"PatternSet\";\r\n        // Set base color to be used for pattern elements\r\n        var interfaceColors = new InterfaceColorSet();\r\n        // Set default patterns\r\n        _this.list = [\r\n            _this.getLinePattern(1000, 45, 1, 6),\r\n            _this.getRectPattern(10, 0, 4),\r\n            _this.getLinePattern(1000, -45, 1, 6),\r\n            _this.getCirclePattern(11, 2, true),\r\n            _this.getLinePattern(6, 90, 1),\r\n            _this.getRectPattern(12, 45, 6, true),\r\n            _this.getLinePattern(6, 0, 1),\r\n            _this.getRectPattern(7, 0, 4),\r\n            _this.getLinePattern(1000, 45, 2, 3, \"4,2\"),\r\n            _this.getCirclePattern(9, 3, false),\r\n            _this.getLinePattern(1000, -45, 2, 3, \"4,2\"),\r\n            _this.getRectPattern(10, 45, Math.sqrt(50)),\r\n            _this.getLinePattern(1000, -45, 2, 1),\r\n            _this.getRectPattern(10, 0, 9),\r\n            _this.getLinePattern(1000, 45, 2, 1),\r\n            _this.getLinePattern(1000, 0, 3, 1),\r\n            _this.getRectPattern(10, 45, 10),\r\n            _this.getLinePattern(1000, 90, 3, 1)\r\n        ];\r\n        _this.baseColor = interfaceColors.getFor(\"stroke\");\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    PatternSet.prototype.getLinePattern = function (size, rotation, thickness, gap, strokeDashArray) {\r\n        var pattern = new LinePattern();\r\n        pattern.width = size;\r\n        pattern.height = size;\r\n        pattern.stroke = this.baseColor;\r\n        pattern.gap = gap;\r\n        pattern.strokeDasharray = strokeDashArray;\r\n        pattern.strokeWidth = thickness;\r\n        pattern.rotation = rotation;\r\n        return pattern;\r\n    };\r\n    PatternSet.prototype.getRectPattern = function (size, rotation, thickness, outline) {\r\n        var pattern = new RectPattern();\r\n        pattern.width = size;\r\n        pattern.height = size;\r\n        pattern.rectWidth = thickness;\r\n        pattern.rectHeight = thickness;\r\n        if (outline) {\r\n            pattern.stroke = this.baseColor;\r\n            pattern.strokeWidth = 1;\r\n            pattern.fillOpacity = 0;\r\n        }\r\n        else {\r\n            pattern.fill = this.baseColor;\r\n            pattern.strokeWidth = 0;\r\n        }\r\n        if (rotation != 0) {\r\n            pattern.shapeRendering = \"auto\";\r\n        }\r\n        pattern.rotation = rotation;\r\n        return pattern;\r\n    };\r\n    PatternSet.prototype.getCirclePattern = function (size, radius, outline) {\r\n        var pattern = new CirclePattern();\r\n        pattern.width = size;\r\n        pattern.height = size;\r\n        pattern.shapeRendering = \"auto\";\r\n        pattern.radius = radius;\r\n        if (outline) {\r\n            pattern.stroke = this.baseColor;\r\n            pattern.strokeWidth = 1;\r\n            pattern.fillOpacity = 0;\r\n        }\r\n        else {\r\n            pattern.fill = this.baseColor;\r\n            pattern.strokeWidth = 0;\r\n        }\r\n        return pattern;\r\n    };\r\n    Object.defineProperty(PatternSet.prototype, \"list\", {\r\n        /**\r\n         * @return Pattern list\r\n         */\r\n        get: function () {\r\n            return this._list;\r\n        },\r\n        /**\r\n         * List of pre-defined patterns to be used in set.\r\n         *\r\n         * @param value Pattern list\r\n         */\r\n        set: function (value) {\r\n            this._list = value;\r\n            this.reset();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns the next pattern in list.\r\n     *\r\n     * @return Pattern\r\n     */\r\n    PatternSet.prototype.next = function () {\r\n        var pattern = this.getIndex(this.currentStep);\r\n        this._currentStep++;\r\n        return pattern;\r\n    };\r\n    /**\r\n     * Returns a color at specific index in the list.\r\n     *\r\n     * @param  i  Index\r\n     * @return Pattern\r\n     */\r\n    PatternSet.prototype.getIndex = function (i) {\r\n        var pattern;\r\n        while (this.list.length <= i) {\r\n            this.generatePatterns();\r\n        }\r\n        pattern = this.list[i];\r\n        return pattern.clone();\r\n    };\r\n    /**\r\n     * Generates a new set of patterns.\r\n     */\r\n    PatternSet.prototype.generatePatterns = function () {\r\n        var count = this.list.length / (this._currentPass + 1);\r\n        this._currentPass++;\r\n        for (var i = 0; i < count; i++) {\r\n            this.list.push(this.list[i].clone());\r\n        }\r\n    };\r\n    /**\r\n     * Resets internal iterator.\r\n     *\r\n     * Calling `next()` after this will return the very first color in the color\r\n     * list, even if it was already returned before.\r\n     */\r\n    PatternSet.prototype.reset = function () {\r\n        this._currentStep = this._startIndex;\r\n    };\r\n    Object.defineProperty(PatternSet.prototype, \"currentStep\", {\r\n        /**\r\n         * @return Step\r\n         */\r\n        get: function () {\r\n            return this._currentStep;\r\n        },\r\n        /**\r\n         * Sets current color iteration. You can use this property to skip some\r\n         * colors from iteration. E.g. setting it to `10` will skip first ten\r\n         * colors.\r\n         *\r\n         * Please note that the number is zero-based.\r\n         *\r\n         * @param value  Step\r\n         */\r\n        set: function (value) {\r\n            this._currentStep = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PatternSet.prototype, \"startIndex\", {\r\n        /**\r\n         * @return Index\r\n         */\r\n        get: function () {\r\n            return this._startIndex;\r\n        },\r\n        /**\r\n         * If set to non-zero value, the ColorSet will start iterating colors from\r\n         * that particular index, not the first color in the list.\r\n         *\r\n         * @default 0\r\n         * @param  value  Index\r\n         */\r\n        set: function (value) {\r\n            this._startIndex = value;\r\n            this.reset();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    PatternSet.prototype.processConfig = function (config) {\r\n        // if (config) {\r\n        // \t// Set up axis ranges\r\n        // \tif ($type.hasValue(config.list) && $type.isArray(config.list)) {\r\n        // \t\tfor (let i = 0, len = config.list.length; i < len; i++) {\r\n        // \t\t\tif (!(config.list[i] instanceof Color)) {\r\n        // \t\t\t\tconfig.list[i] = color(config.list[i]);\r\n        // \t\t\t}\r\n        // \t\t}\r\n        // \t}\r\n        // }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    return PatternSet;\r\n}(BaseObject));\r\nexport { PatternSet };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PatternSet\"] = PatternSet;\r\n//# sourceMappingURL=PatternSet.js.map","/**\r\n * A plugin base class.\r\n */\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * This is a base class that provides core functionality for plugins.\r\n *\r\n * The easiest way to start off with a new plugin is to extend this class.\r\n *\r\n * It will provide all the mandatory functionality, such as disposers.\r\n *\r\n * @since 4.2.2\r\n */\r\nvar Plugin = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Plugin() {\r\n        /**\r\n         * Is this object disposed?\r\n         */\r\n        this._disposed = false;\r\n        /**\r\n         * List of IDisposer which will be disposed when the BaseObject is disposed.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this._disposers = [];\r\n        // Nothing to do here\r\n    }\r\n    /**\r\n     * Decorates series with required events and adapters used to hijack its\r\n     * data.\r\n     */\r\n    Plugin.prototype.init = function () {\r\n        // Does nothing\r\n        // Override it\r\n    };\r\n    /**\r\n     * Returns if this element is already disposed.\r\n     *\r\n     * @return Is disposed?\r\n     */\r\n    Plugin.prototype.isDisposed = function () {\r\n        return this._disposed;\r\n    };\r\n    /**\r\n     * Disposes this object and related stuff.\r\n     */\r\n    Plugin.prototype.dispose = function () {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            var a = this._disposers;\r\n            this._disposers = null;\r\n            while (a.length !== 0) {\r\n                var disposer = a.shift();\r\n                disposer.dispose();\r\n            }\r\n        }\r\n    };\r\n    return Plugin;\r\n}());\r\nexport { Plugin };\r\n//# sourceMappingURL=Plugin.js.map","/**\r\n * AmChartsLogo module.\r\n *\r\n * AmChartsLogo shows amCharts logo for non-commercial users of a library.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../Container\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { Polyspline } from \"./Polyspline\";\r\nimport { color } from \"../utils/Color\";\r\nimport { LinearGradient } from \"../rendering/fills/LinearGradient\";\r\nimport { DesaturateFilter } from \"../rendering/filters/DesaturateFilter\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A class used to draw and display progress indicator.\r\n *\r\n * @see {@link IAmChartsLogoEvents} for a list of available events\r\n * @see {@link IAmChartsLogoAdapters} for a list of available Adapters\r\n * @ignore Exclude from docs\r\n */\r\nvar AmChartsLogo = /** @class */ (function (_super) {\r\n    __extends(AmChartsLogo, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function AmChartsLogo() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"AmChartsLogo\";\r\n        _this.valign = \"bottom\";\r\n        var d = 0.3;\r\n        _this.opacity = 0.3;\r\n        _this.defaultState.properties.opacity = 0.4;\r\n        _this.url = \"https://www.amcharts.com/\";\r\n        _this.urlTarget = \"_blank\";\r\n        _this.showSystemTooltip = true;\r\n        _this.readerTitle = \"Chart created using amCharts library\";\r\n        _this.width = 220 * d;\r\n        _this.height = 70 * d;\r\n        _this.background.opacity = 0;\r\n        var aColor = color(\"#474758\");\r\n        if (new InterfaceColorSet().getFor(\"background\").alternative.hex == \"#ffffff\") {\r\n            aColor = color(\"#ffffff\");\r\n        }\r\n        var aGradient = new LinearGradient();\r\n        aGradient.addColor(aColor);\r\n        aGradient.addColor(aColor, 1, 0.75);\r\n        aGradient.addColor(color(\"#3cabff\"), 1, 0.755);\r\n        aGradient.rotation = -10;\r\n        var aStroke = aGradient;\r\n        var m = _this.createChild(Polyspline);\r\n        m.shouldClone = false;\r\n        m.isMeasured = false;\r\n        m.segments = [[{ x: 50 * d, y: 50 * d }, { x: 90 * d, y: 50 * d }, { x: 120 * d, y: 20 * d }, { x: 135 * d, y: 35 * d }, { x: 150 * d, y: 20 * d }, { x: 180 * d, y: 50 * d }, { x: 200 * d, y: 50 * d }]];\r\n        m.strokeWidth = 6 * d;\r\n        m.tensionX = 0.8;\r\n        m.tensionY = 1;\r\n        m.stroke = color(\"#3cabff\");\r\n        var a = _this.createChild(Polyspline);\r\n        a.shouldClone = false;\r\n        a.isMeasured = false;\r\n        a.segments = [[{ x: 20 * d, y: 50 * d }, { x: 50 * d, y: 50 * d }, { x: 90 * d, y: 12 * d }, { x: 133 * d, y: 50 * d }, { x: 170 * d, y: 50 * d }, { x: 200 * d, y: 50 * d }]];\r\n        a.strokeWidth = 6 * d;\r\n        a.tensionX = 0.75;\r\n        a.tensionY = 1;\r\n        a.stroke = aStroke;\r\n        _this._disposers.push(a);\r\n        var desaturateFilter = new DesaturateFilter();\r\n        _this.filters.push(desaturateFilter);\r\n        var desaturateFilterHover = new DesaturateFilter();\r\n        desaturateFilterHover.saturation = 1;\r\n        var hoverState = _this.states.create(\"hover\");\r\n        hoverState.properties.opacity = 1;\r\n        hoverState.filters.push(desaturateFilterHover);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return AmChartsLogo;\r\n}(Container));\r\nexport { AmChartsLogo };\r\n//# sourceMappingURL=AmChartsLogo.js.map","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { system } from \"../System\";\r\nimport { registry } from \"../Registry\";\r\nimport { Container } from \"../Container\";\r\nimport { Component } from \"../Component\";\r\nimport { Paper } from \"../rendering/Paper\";\r\nimport { SVGContainer, svgContainers } from \"../rendering/SVGContainer\";\r\nimport { FocusFilter } from \"../rendering/filters/FocusFilter\";\r\nimport { Preloader } from \"../elements/Preloader\";\r\nimport { AmChartsLogo } from \"../elements/AmChartsLogo\";\r\nimport { Tooltip } from \"../elements/Tooltip\";\r\nimport { Disposer, MultiDisposer } from \"../utils/Disposer\";\r\nimport { percent } from \"./Percent\";\r\nimport { options } from \"../Options\";\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\nimport * as $dom from \"./DOM\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $log from \"./Log\";\r\n/**\r\n * ============================================================================\r\n * INSTANTIATION FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates all HTML and SVG containers needed for the chart instance, as well\r\n * as the new [[Sprite]] (as specified in `classType` parameter).\r\n *\r\n * @param htmlElement  A container to creat elements in\r\n * @param classType    A class definition of the new element to create\r\n * @return Newly-created Sprite object\r\n */\r\nfunction createChild(htmlElement, classType) {\r\n    var htmlContainer = $dom.getElement(htmlElement);\r\n    // If there's no container available yet, we create a fake one\r\n    var tmpContainer = false;\r\n    if (!htmlContainer) {\r\n        htmlContainer = document.createElement(\"div\");\r\n        htmlContainer.style.width = \"200px\";\r\n        htmlContainer.style.height = \"200px\";\r\n        htmlContainer.style.visibility = \"hidden\";\r\n        htmlContainer.style.position = \"absolute\";\r\n        document.body.appendChild(htmlContainer);\r\n        tmpContainer = true;\r\n    }\r\n    if (htmlContainer) {\r\n        htmlContainer.innerHTML = \"\";\r\n        //htmlContainer.style.overflow = \"hidden\";\r\n        var svgDiv_1 = new SVGContainer(htmlContainer);\r\n        var paper = new Paper(svgDiv_1.SVGContainer, \"svg-\" + (svgContainers.length - 1));\r\n        // the approach with masks is chosen because overflow:visible is set on SVG element in order tooltips could go outside\r\n        // svg area - this is often needed when working with small charts.\r\n        // main container which holds content container and tooltips container\r\n        var container_1 = new Container();\r\n        container_1.htmlContainer = htmlContainer;\r\n        container_1.svgContainer = svgDiv_1;\r\n        container_1.width = percent(100);\r\n        container_1.height = percent(100);\r\n        container_1.background.fillOpacity = 0;\r\n        container_1.paper = paper;\r\n        paper.append(container_1.group);\r\n        // Set up moving to proper element container if it's not yet ready at call time\r\n        if (tmpContainer) {\r\n            $dom.ready(function () {\r\n                container_1.moveHtmlContainer(htmlElement);\r\n            });\r\n        }\r\n        // this is set from parent container, but this one doesn't have, so do it manually.\r\n        container_1.relativeWidth = 1;\r\n        container_1.relativeHeight = 1;\r\n        svgDiv_1.container = container_1;\r\n        // creating classType instance\r\n        var sprite_1 = container_1.createChild(classType);\r\n        sprite_1.topParent = container_1;\r\n        var uid = sprite_1.uid;\r\n        registry.invalidSprites[uid] = [];\r\n        registry.invalidDatas[uid] = [];\r\n        registry.invalidPositions[uid] = [];\r\n        registry.invalidLayouts[uid] = [];\r\n        container_1.baseId = uid;\r\n        sprite_1.isBaseSprite = true;\r\n        sprite_1.focusFilter = new FocusFilter();\r\n        registry.baseSprites.push(sprite_1);\r\n        registry.baseSpritesByUid[uid] = sprite_1;\r\n        sprite_1.maskRectangle = { x: 0, y: 0, width: Math.max(svgDiv_1.width || 0, 0), height: Math.max(svgDiv_1.height || 0, 0) };\r\n        // this solves issues with display:none, as all children are measured as 0x0\r\n        container_1.events.on(\"maxsizechanged\", function (event) {\r\n            if (event.previousWidth == 0 || event.previousHeight == 0) {\r\n                container_1.deepInvalidate();\r\n            }\r\n            if (sprite_1.maskRectangle) {\r\n                sprite_1.maskRectangle = { x: 0, y: 0, width: Math.max(svgDiv_1.width || 0, 0), height: Math.max(svgDiv_1.height || 0, 0) };\r\n            }\r\n        });\r\n        var loopTimer_1 = null;\r\n        // Checks to see whether the chart was properly disposed or not\r\n        var loop_1 = function () {\r\n            if (!sprite_1.isDisposed()) {\r\n                if ($dom.getRoot(sprite_1.dom) == null) {\r\n                    if (options.autoDispose) {\r\n                        container_1.htmlContainer = undefined;\r\n                        svgDiv_1.htmlElement = undefined;\r\n                        sprite_1.dispose();\r\n                    }\r\n                    else {\r\n                        $log.warn(\"Chart was not disposed\", sprite_1.uid);\r\n                    }\r\n                    loopTimer_1 = null;\r\n                }\r\n                else {\r\n                    loopTimer_1 = window.setTimeout(loop_1, 1000);\r\n                }\r\n            }\r\n            else {\r\n                loopTimer_1 = null;\r\n            }\r\n        };\r\n        loop_1();\r\n        sprite_1.addDisposer(new Disposer(function () {\r\n            if (loopTimer_1 !== null) {\r\n                clearTimeout(loopTimer_1);\r\n            }\r\n            $array.remove(registry.baseSprites, sprite_1);\r\n            registry.baseSpritesByUid[sprite_1.uid] = undefined;\r\n        }));\r\n        // TODO figure out a better way of doing this\r\n        sprite_1.addDisposer(container_1);\r\n        // tooltip container\r\n        var tooltipContainer_1 = container_1.createChild(Container);\r\n        tooltipContainer_1.topParent = container_1;\r\n        tooltipContainer_1.width = percent(100);\r\n        tooltipContainer_1.height = percent(100);\r\n        tooltipContainer_1.isMeasured = false;\r\n        container_1.tooltipContainer = tooltipContainer_1;\r\n        sprite_1.tooltip = new Tooltip();\r\n        sprite_1.tooltip.hide(0);\r\n        sprite_1.tooltip.setBounds({ x: 0, y: 0, width: tooltipContainer_1.maxWidth, height: tooltipContainer_1.maxHeight });\r\n        tooltipContainer_1.events.on(\"maxsizechanged\", function () {\r\n            $type.getValue(sprite_1.tooltip).setBounds({ x: 0, y: 0, width: tooltipContainer_1.maxWidth, height: tooltipContainer_1.maxHeight });\r\n        }, undefined, false);\r\n        //@todo: maybe we don't need to create one by default but only on request?\r\n        var preloader_1 = new Preloader();\r\n        preloader_1.events.on(\"inited\", function () {\r\n            preloader_1.__disabled = true;\r\n        }, undefined, false);\r\n        container_1.preloader = preloader_1;\r\n        //if (!options.commercialLicense) {\r\n        if (sprite_1 instanceof Container && !sprite_1.hasLicense()) {\r\n            var logo_1 = tooltipContainer_1.createChild(AmChartsLogo);\r\n            tooltipContainer_1.events.on(\"maxsizechanged\", function (ev) {\r\n                if ((tooltipContainer_1.maxWidth <= 100) || (tooltipContainer_1.maxHeight <= 50)) {\r\n                    logo_1.hide();\r\n                }\r\n                else if (logo_1.isHidden || logo_1.isHiding) {\r\n                    logo_1.show();\r\n                }\r\n            }, undefined, false);\r\n            sprite_1.logo = logo_1;\r\n            logo_1.align = \"left\";\r\n            logo_1.valign = \"bottom\";\r\n        }\r\n        $utils.used(sprite_1.numberFormatter); // need to create one.\r\n        // Set this as an autonomouse instance\r\n        // Controls like Preloader, Export will use this.\r\n        container_1.isStandaloneInstance = true;\r\n        if (options.onlyShowOnViewport) {\r\n            if (!$dom.isElementInViewport(htmlContainer, options.viewportTarget)) {\r\n                sprite_1.__disabled = true;\r\n                sprite_1.tooltipContainer.__disabled = true;\r\n                var disposers = [\r\n                    $dom.addEventListener(window, \"DOMContentLoaded\", function () { viewPortHandler(sprite_1); }),\r\n                    $dom.addEventListener(window, \"load\", function () { viewPortHandler(sprite_1); }),\r\n                    $dom.addEventListener(window, \"resize\", function () { viewPortHandler(sprite_1); }),\r\n                    $dom.addEventListener(window, \"scroll\", function () { viewPortHandler(sprite_1); })\r\n                ];\r\n                if (options.viewportTarget) {\r\n                    var targets = $type.isArray(options.viewportTarget) ? options.viewportTarget : options.viewportTarget ? [options.viewportTarget] : [];\r\n                    for (var i = 0; i < targets.length; i++) {\r\n                        var target = targets[i];\r\n                        disposers.push($dom.addEventListener(target, \"resize\", function () { viewPortHandler(sprite_1); }));\r\n                        disposers.push($dom.addEventListener(target, \"scroll\", function () { viewPortHandler(sprite_1); }));\r\n                    }\r\n                }\r\n                var disposer = new MultiDisposer(disposers);\r\n                sprite_1.addDisposer(disposer);\r\n                sprite_1.vpDisposer = disposer;\r\n            }\r\n            else if (options.queue) {\r\n                addToQueue(sprite_1);\r\n            }\r\n        }\r\n        else if (options.queue) {\r\n            addToQueue(sprite_1);\r\n        }\r\n        return sprite_1;\r\n    }\r\n    else {\r\n        system.log(\"html container not found\");\r\n        throw new Error(\"html container not found\");\r\n    }\r\n}\r\n/**\r\n * Disposes all of the currently active charts.\r\n */\r\nexport function disposeAllCharts() {\r\n    while (registry.baseSprites.length !== 0) {\r\n        registry.baseSprites.pop().dispose();\r\n    }\r\n}\r\nexport function addToQueue(sprite) {\r\n    if (registry.queue.indexOf(sprite) == -1) {\r\n        sprite.__disabled = true;\r\n        sprite.tooltipContainer.__disabled = true;\r\n        sprite.events.disableType(\"appeared\");\r\n        if (registry.queue.length == 0) {\r\n            registry.events.once(\"exitframe\", function () {\r\n                queueHandler(sprite);\r\n            });\r\n            system.requestFrame();\r\n        }\r\n        sprite.addDisposer(new Disposer(function () {\r\n            removeFromQueue(sprite);\r\n        }));\r\n        registry.queue.push(sprite);\r\n    }\r\n}\r\nexport function removeFromQueue(sprite) {\r\n    var index = registry.queue.indexOf(sprite);\r\n    if (index >= 0) {\r\n        registry.queue.splice(registry.queue.indexOf(sprite), 1);\r\n        var nextSprite = registry.queue[index];\r\n        if (nextSprite) {\r\n            queueHandler(nextSprite);\r\n        }\r\n    }\r\n}\r\nexport function viewPortHandler(sprite) {\r\n    if (sprite.__disabled && $dom.isElementInViewport(sprite.htmlContainer, options.viewportTarget)) {\r\n        if (sprite.vpDisposer) {\r\n            sprite.vpDisposer.dispose();\r\n        }\r\n        addToQueue(sprite);\r\n    }\r\n}\r\nexport function queueHandler(sprite) {\r\n    sprite.__disabled = false;\r\n    sprite.tooltipContainer.__disabled = false;\r\n    sprite.events.enableType(\"appeared\");\r\n    sprite.dispatch(\"removedfromqueue\");\r\n    if (sprite.showOnInit) {\r\n        sprite.events.on(\"appeared\", function () {\r\n            removeFromQueue(sprite);\r\n        });\r\n    }\r\n    if (sprite.vpDisposer) {\r\n        sprite.vpDisposer.dispose();\r\n    }\r\n    if (sprite instanceof Container) {\r\n        sprite.invalidateLabels();\r\n    }\r\n    if (sprite.tooltipContainer) {\r\n        sprite.tooltipContainer.invalidateLayout();\r\n    }\r\n    if (sprite instanceof Component) {\r\n        sprite.invalidateData();\r\n        sprite.reinit();\r\n        sprite.events.once(\"datavalidated\", function () {\r\n            if (sprite.showOnInit) {\r\n                sprite.appear();\r\n            }\r\n            else {\r\n                removeFromQueue(sprite);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        sprite.reinit();\r\n        sprite.events.once(\"inited\", function () {\r\n            removeFromQueue(sprite);\r\n        });\r\n        if (sprite.showOnInit) {\r\n            sprite.appear();\r\n        }\r\n    }\r\n}\r\n/**\r\n * A shortcut to creating a chart instance.\r\n *\r\n * The first argument is either a reference to or an id of a DOM element to be\r\n * used as a container for the chart.\r\n *\r\n * The second argument is the type reference of the chart type. (for plain\r\n * JavaScript users this can also be a string indicating chart type)\r\n *\r\n * ```TypeScript\r\n * let chart = am4core.create(\"chartdiv\", am4charts.PieChart);\r\n * ```\r\n * ```JavaScript\r\n * // Can pass in chart type reference like this:\r\n * var chart = am4core.create(\"chartdiv\", am4charts.PieChart);\r\n *\r\n * // ... or chart class type as a string:\r\n * var chart = am4core.create(\"chartdiv\", \"PieChart\");\r\n * ```\r\n *\r\n * @param htmlElement  Reference or id of the target container element\r\n * @param classType    Class type of the target chart type\r\n * @return Chart instance\r\n */\r\nexport function create(htmlElement, classType) {\r\n    // This is a nasty hack for the benefit of vanilla JS users, who do not\r\n    // enjoy benefits of type-check anyway.\r\n    // We're allowing passing in a name of the class rather than type reference\r\n    // itself.\r\n    var classError;\r\n    if ($type.isString(classType)) {\r\n        if ($type.hasValue(registry.registeredClasses[classType])) {\r\n            classType = registry.registeredClasses[classType];\r\n        }\r\n        else {\r\n            classType = registry.registeredClasses[\"Container\"];\r\n            classError = new Error(\"Class [\" + classType + \"] is not loaded.\");\r\n        }\r\n    }\r\n    // Create the chart\r\n    var chart = createChild(htmlElement, classType);\r\n    // Error?\r\n    if (classError) {\r\n        chart.raiseCriticalError(classError);\r\n    }\r\n    return chart;\r\n}\r\n/**\r\n * A shortcut to creating a chart from a config object.\r\n *\r\n * Example:\r\n *\r\n * ```TypeScript\r\n * let chart am4core.createFromConfig({ ... }, \"chartdiv\", am4charts.XYChart );\r\n * ```\r\n * ```JavaScript\r\n * var chart am4core.createFromConfig({ ... }, \"chartdiv\", \"XYChart\" );\r\n * ```\r\n *\r\n * If `chartType` parameter is not supplied it must be set in a config object,\r\n * via reference to chart type, e.g.:\r\n *\r\n * ```TypeScript\r\n * {\r\n *   \"type\": am4charts.XYChart,\r\n *   // ...\r\n * }\r\n * ```\r\n * ```JavaScript\r\n * {\r\n *   \"type\": am4charts.XYChart,\r\n *   // ...\r\n * }\r\n * ```\r\n *\r\n * Or via string: (if you are using JavaScript)\r\n *\r\n * ```TypeScript\r\n * {\r\n *   \"type\": \"XYChart\",\r\n *   // ...\r\n * }\r\n * ```\r\n * ```JavaScript\r\n * {\r\n *   \"type\": \"XYChart\",\r\n *   // ...\r\n * }\r\n * ```\r\n *\r\n * A `container` can either be a reference to an HTML container to put chart\r\n * in, or it's unique id.\r\n *\r\n * If `container` is not specified, it must be included in the config object:\r\n *\r\n * ```TypeScript\r\n * {\r\n *   \"type\": \"XYChart\",\r\n *   \"container\": \"chartdiv\",\r\n *   // ...\r\n * }\r\n * ```\r\n * ```JavaScript\r\n * {\r\n *   \"type\": \"XYChart\",\r\n *   \"container\": \"chartdiv\",\r\n *   // ...\r\n * }\r\n * ```\r\n *\r\n * @param config       Config object in property/value pairs\r\n * @param htmlElement  Container reference or ID\r\n * @param objectType   Chart type\r\n * @return A newly created chart instance\r\n * @todo Throw exception if type is not correct\r\n */\r\nexport function createFromConfig(config, htmlElement, classType) {\r\n    // Extract chart type from config if necessary\r\n    if (!$type.hasValue(classType)) {\r\n        classType = config.type;\r\n        delete config.type;\r\n    }\r\n    // Extract element from config if necessary\r\n    if (!$type.hasValue(htmlElement)) {\r\n        htmlElement = config.container;\r\n        delete config.container;\r\n    }\r\n    // Check if we need to extract actual type reference\r\n    var finalType;\r\n    var classError;\r\n    if ($type.isString(classType) && $type.hasValue(registry.registeredClasses[classType])) {\r\n        finalType = registry.registeredClasses[classType];\r\n    }\r\n    else if (typeof classType !== \"function\") {\r\n        finalType = Container;\r\n        classError = new Error(\"Class [\" + classType + \"] is not loaded.\");\r\n    }\r\n    else {\r\n        finalType = classType;\r\n    }\r\n    // Create the chart\r\n    var chart = createChild(htmlElement, finalType);\r\n    // Set config\r\n    if (classError) {\r\n        chart.raiseCriticalError(classError);\r\n    }\r\n    else {\r\n        chart.config = config;\r\n    }\r\n    return chart;\r\n}\r\n/**\r\n * Applies a theme to System, and subsequently all chart instances created\r\n * from that point forward.\r\n *\r\n * amCharts supports multiple themes. Calling `useTheme` multiple times will\r\n * make the System apply multiple themes, rather than overwrite previously\r\n * set one.\r\n *\r\n * This enables combining features from multiple themes on the same chart.\r\n * E.g.:\r\n *\r\n * ```TypeScript\r\n * am4core.useTheme(am4themes.material);\r\n * am4core.useTheme(am4themes.animated);\r\n * ```\r\n * ```JavaScript\r\n * am4core.useTheme(am4themes.material);\r\n * am4core.useTheme(am4themes.animated);\r\n * ```\r\n *\r\n * The above will apply both the Material color and animation options to all\r\n * charts created.\r\n *\r\n * @param value  A reference to a theme\r\n */\r\nexport function useTheme(value) {\r\n    if (registry.themes.indexOf(value) === -1) {\r\n        registry.themes.push(value);\r\n    }\r\n}\r\n/**\r\n * Removes a theme from \"active themes\" list, so it won't get applied to any\r\n * charts created subsequently.\r\n *\r\n * @param value  A reference to a theme\r\n */\r\nexport function unuseTheme(value) {\r\n    $array.remove(registry.themes, value);\r\n}\r\n/**\r\n * Removes all \"active\" themes. Any charts created subsequently will not have\r\n * any theme applied to them.\r\n */\r\nexport function unuseAllThemes() {\r\n    registry.themes = [];\r\n}\r\n/**\r\n * Adds a license, e.g.:\r\n *\r\n * ```TypeScript\r\n * am4core.addLicense(\"xxxxxxxx\");\r\n * ```\r\n * ```JavaScript\r\n * am4core.addLicense(\"xxxxxxxx\");\r\n * ```\r\n *\r\n * Multiple licenses can be added to cover for multiple products.\r\n *\r\n * @since 4.5.16\r\n * @param  license  License key\r\n */\r\nexport function addLicense(license) {\r\n    options.licenses.push(license);\r\n}\r\n//# sourceMappingURL=Instance.js.map","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { registry, is } from \"./Registry\";\r\nimport { Container } from \"./Container\";\r\nimport { raf } from \"./utils/AsyncPending\";\r\nimport { triggerIdle } from \"./utils/AsyncPending\";\r\nimport * as $array from \"./utils/Array\";\r\nimport * as $object from \"./utils/Object\";\r\nimport * as $log from \"./utils/Log\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * The main class that handles system-wide tasks, like caching, heartbeats, etc.\r\n * @important\r\n */\r\nvar System = /** @class */ (function () {\r\n    /**\r\n     * Performs initialization of the System object.\r\n     *\r\n     * Called when the first [[Sprite]] object is created.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    function System() {\r\n        /**\r\n         * A flag indicating if the system is on pause.\r\n         */\r\n        this._isPaused = false;\r\n        /**\r\n         * Holds the list of currently playing animations.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.animations = [];\r\n        /**\r\n         * Unique ID of the object.\r\n         */\r\n        this.uid = registry.getUniqueId();\r\n        /**\r\n         * @todo Description\r\n         * @todo Needed?\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.dummyCounter = 0;\r\n        this._frameRequested = false;\r\n        this.updateStepDuration = 45;\r\n        this.time = Date.now();\r\n    }\r\n    /**\r\n     * Reports time elapsed since timer was reset.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Needed?\r\n     * @param msg    Message to report in console\r\n     * @param reset  Reset time counter\r\n     */\r\n    System.prototype.reportTime = function (msg, reset) {\r\n        if (this.dummyCounter < 6) {\r\n            //console.log(Date.now() - this.time, msg, this.dummyCounter2);\r\n        }\r\n        if (reset) {\r\n            this.time = Date.now();\r\n        }\r\n    };\r\n    /**\r\n     * Performs \"heartbeat\" operations `frameRate` number of times per second.\r\n     *\r\n     * When the chart element is invalidated, it is not immediately redrawn.\r\n     *\r\n     * Instead it waits for the next `update()` cycle to be re-validated.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Maybe should be private?\r\n     */\r\n    System.prototype.update = function () {\r\n        var _this = this;\r\n        if (this._isPaused) {\r\n            return;\r\n        }\r\n        this._frameRequested = false;\r\n        var time = Date.now();\r\n        registry.dispatchImmediately(\"enterframe\");\r\n        //this.validateLayouts();\r\n        //this.validatePositions();\r\n        /*\r\n                for (let key in registry.invalidLayouts) {\r\n                    this.validateLayouts(key);\r\n                }\r\n                for (let key in registry.invalidPositions) {\r\n                    this.validatePositions(key);\r\n                }\r\n        */\r\n        var skippedComponents = [];\r\n        // data objects first - do all calculations\r\n        // only data is parsed in chunks, thats why we do for loop instead of a while like with other invalid items.\r\n        // important to go backwards, as items are removed!\r\n        // TODO use iterator instead\r\n        for (var key in registry.invalidDatas) {\r\n            if ($object.hasKey(registry.invalidDatas, key)) {\r\n                var invalidData = registry.invalidDatas[key];\r\n                while (invalidData.length > 0) {\r\n                    var component = invalidData[0];\r\n                    var dataProvider = component.dataProvider;\r\n                    if (!component.isDisposed()) {\r\n                        if (dataProvider && dataProvider.dataInvalid) {\r\n                            try {\r\n                                dataProvider.validateData();\r\n                                if (dataProvider.dataValidationProgress < 1) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            catch (e) {\r\n                                $array.remove(invalidData, dataProvider);\r\n                                dataProvider.raiseCriticalError(e);\r\n                            }\r\n                        }\r\n                        else {\r\n                            try {\r\n                                component.validateData();\r\n                                if (component.dataValidationProgress < 1) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            catch (e) {\r\n                                $array.remove(invalidData, component);\r\n                                component.raiseCriticalError(e);\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        $array.remove(invalidData, component);\r\n                    }\r\n                }\r\n                if (Date.now() - time > this.updateStepDuration) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        while (registry.invalidRawDatas.length > 0) {\r\n            var component = registry.invalidRawDatas[0];\r\n            if (!component.isDisposed()) {\r\n                try {\r\n                    component.validateRawData();\r\n                }\r\n                catch (e) {\r\n                    $array.remove(registry.invalidRawDatas, component);\r\n                    component.raiseCriticalError(e);\r\n                }\r\n            }\r\n            else {\r\n                $array.remove(registry.invalidRawDatas, component);\r\n            }\r\n        }\r\n        // TODO use iterator instead\r\n        while (registry.invalidDataItems.length > 0) {\r\n            var component = registry.invalidDataItems[0];\r\n            var dataProvider = component.dataProvider;\r\n            // this is needed to avoid partial value validation when data is parsed in chunks\r\n            if (component.isDisposed() || component.dataInvalid || (dataProvider && dataProvider.dataInvalid)) {\r\n                // void\r\n            }\r\n            else {\r\n                try {\r\n                    component.validateDataItems();\r\n                }\r\n                catch (e) {\r\n                    $array.remove(registry.invalidDataItems, component);\r\n                    component.raiseCriticalError(e);\r\n                }\r\n            }\r\n            // this might seem too much, as validateValues removes from invalidDataItems aswell, but just to be sure (in case validateData is overriden and no super is called)\r\n            $array.remove(registry.invalidDataItems, component);\r\n        }\r\n        // TODO use iterator instead\r\n        while (registry.invalidDataRange.length > 0) {\r\n            var component = registry.invalidDataRange[0];\r\n            var dataProvider = component.dataProvider;\r\n            if (component.isDisposed() || component.dataInvalid || (dataProvider && dataProvider.dataInvalid)) {\r\n                // void\r\n            }\r\n            else {\r\n                try {\r\n                    component.validateDataRange();\r\n                    if (!component.skipRangeEvent) {\r\n                        component.dispatchImmediately(\"datarangechanged\");\r\n                    }\r\n                    component.skipRangeEvent = false;\r\n                }\r\n                catch (e) {\r\n                    $array.remove(registry.invalidDataRange, component);\r\n                    component.raiseCriticalError(e);\r\n                }\r\n            }\r\n            // this might seem too much, as validateDataRange removes from invalidDataRange aswell, but just to be sure (in case validateData is overriden and no super is called)\r\n            $array.remove(registry.invalidDataRange, component);\r\n        }\r\n        var skippedSprites = [];\r\n        // display objects later\r\n        // TODO use iterator instead\r\n        $object.each(registry.invalidLayouts, function (key) {\r\n            _this.validateLayouts(key);\r\n        });\r\n        $object.each(registry.invalidPositions, function (key) {\r\n            _this.validatePositions(key);\r\n        });\r\n        var hasSkipped = false;\r\n        time = Date.now();\r\n        $object.each(registry.invalidSprites, function (key, invalidSprites) {\r\n            var count = 0;\r\n            while (invalidSprites.length > 0) {\r\n                _this.validateLayouts(key);\r\n                _this.validatePositions(key);\r\n                count++;\r\n                if (count == 5) {\r\n                    if (Date.now() - time > _this.updateStepDuration) {\r\n                        break;\r\n                    }\r\n                    count = 0;\r\n                }\r\n                var sprite = invalidSprites[invalidSprites.length - 1];\r\n                // we need to check this, as validateLayout might validate sprite\r\n                if (sprite && !sprite.isDisposed()) {\r\n                    if (!sprite._systemCheckIfValidate()) {\r\n                        // void\r\n                        skippedSprites.push(sprite);\r\n                    }\r\n                    else {\r\n                        if (!_this.checkIfValidate2(sprite)) {\r\n                            // void\r\n                            skippedSprites.push(sprite);\r\n                        }\r\n                        else {\r\n                            try {\r\n                                sprite._systemUpdate(skippedSprites);\r\n                            }\r\n                            catch (e) {\r\n                                sprite.invalid = false;\r\n                                $array.remove(invalidSprites, sprite);\r\n                                sprite.raiseCriticalError(e);\r\n                            }\r\n                        }\r\n                    }\r\n                    // this might seem too much, but it's ok\r\n                    sprite.invalid = false;\r\n                }\r\n                $array.remove(invalidSprites, sprite);\r\n            }\r\n            registry.invalidSprites[key] = registry.invalidSprites[key].concat(skippedSprites);\r\n        });\r\n        $object.each(registry.invalidSprites, function (key, value) {\r\n            if (value.length > 0) {\r\n                hasSkipped = true;\r\n            }\r\n        });\r\n        $object.each(registry.invalidDatas, function (key, value) {\r\n            if (value.length > 0) {\r\n                hasSkipped = true;\r\n            }\r\n        });\r\n        // TODO make this more efficient\r\n        // TODO don't copy the array\r\n        $array.each($array.copy(this.animations), function (x) {\r\n            x.update();\r\n        });\r\n        //if(!hasSkipped){\r\n        $object.each(registry.invalidLayouts, function (key) {\r\n            _this.validateLayouts(key);\r\n        });\r\n        $object.each(registry.invalidPositions, function (key) {\r\n            _this.validatePositions(key);\r\n        });\r\n        //}\r\n        triggerIdle();\r\n        $object.each(registry.invalidLayouts, function (key) {\r\n            _this.validateLayouts(key);\r\n        });\r\n        $object.each(registry.invalidPositions, function (key) {\r\n            _this.validatePositions(key);\r\n        });\r\n        registry.dispatchImmediately(\"exitframe\");\r\n        if (hasSkipped || this.animations.length > 0 || skippedComponents.length > 0) {\r\n            this.requestFrame();\r\n        }\r\n        if (this.updateStepDuration < 200) {\r\n            var all0_1 = true;\r\n            $object.each(registry.invalidDatas, function (key, value) {\r\n                if (value.length > 0) {\r\n                    all0_1 = false;\r\n                }\r\n            });\r\n            $object.each(registry.invalidSprites, function (key, value) {\r\n                if (value.length > 0) {\r\n                    all0_1 = false;\r\n                }\r\n            });\r\n            if (all0_1) {\r\n                this.updateStepDuration = 200;\r\n            }\r\n        }\r\n    };\r\n    System.prototype.checkIfValidate2 = function (sprite) {\r\n        if (sprite.dataItem && sprite.dataItem.component && sprite.dataItem.component.dataInvalid && !sprite.dataItem.component.isTemplate) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    /**\r\n     * Requests new animation frame\r\n     */\r\n    System.prototype.requestFrame = function () {\r\n        var _this = this;\r\n        if (!this._frameRequested) {\r\n            raf(function () {\r\n                _this.update();\r\n            });\r\n            this._frameRequested = true;\r\n        }\r\n    };\r\n    /**\r\n     * Call this method if you update data or config of a chart that is in\r\n     * hidden container, after revealing the container, so that labels and\r\n     * possibly other elements can correctly arrange themselves.\r\n     *\r\n     * @since 4.7.10\r\n     * @param  container  Target container\r\n     */\r\n    System.prototype.softInvalidate = function (container) {\r\n        var _this = this;\r\n        container.children.each(function (child) {\r\n            if (child instanceof Container) {\r\n                _this.softInvalidate(child);\r\n            }\r\n            if (child.measureFailed) {\r\n                if (is(child, \"Label\")) {\r\n                    child.hardInvalidate();\r\n                }\r\n                else {\r\n                    child.invalidate();\r\n                }\r\n                child.measureFailed = false;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Triggers position re-validation on all [[Sprite]] elements that have\r\n     * invalid(ated) positions.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Maybe should be private?\r\n     */\r\n    System.prototype.validatePositions = function (id) {\r\n        // invalid positions\r\n        // TODO use iterator instead\r\n        var invalidPositions = registry.invalidPositions[id];\r\n        while (invalidPositions.length > 0) {\r\n            var sprite = invalidPositions[invalidPositions.length - 1];\r\n            if (!sprite.isDisposed()) {\r\n                try {\r\n                    sprite._systemValidatePositions();\r\n                }\r\n                catch (e) {\r\n                    sprite.positionInvalid = false;\r\n                    $array.remove(invalidPositions, sprite);\r\n                    sprite.raiseCriticalError(e);\r\n                }\r\n            }\r\n            else {\r\n                $array.remove(invalidPositions, sprite);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Triggers position re-validation on all [[Container]] elements that have\r\n     * invalid(ated) layouts.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Maybe should be private?\r\n     */\r\n    System.prototype.validateLayouts = function (id) {\r\n        // invalid positions\r\n        // TODO use iterator instead\r\n        var invalidLayouts = registry.invalidLayouts[id];\r\n        while (invalidLayouts.length > 0) {\r\n            var container = invalidLayouts[invalidLayouts.length - 1];\r\n            if (!container.isDisposed()) {\r\n                try {\r\n                    container.children.each(function (sprite) {\r\n                        sprite._systemValidateLayouts();\r\n                    });\r\n                    container.validateLayout();\r\n                }\r\n                catch (e) {\r\n                    container.layoutInvalid = false;\r\n                    $array.remove(invalidLayouts, container);\r\n                    container.raiseCriticalError(e);\r\n                }\r\n            }\r\n            else {\r\n                $array.remove(invalidLayouts, container);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Outputs string to console if `verbose` is `true`.\r\n     *\r\n     * @param value Message to output to console\r\n     */\r\n    System.prototype.log = function (value) {\r\n        $log.log(value);\r\n    };\r\n    Object.defineProperty(System.prototype, \"isPaused\", {\r\n        /**\r\n         * @return Is system on pause?\r\n         */\r\n        get: function () {\r\n            return this._isPaused;\r\n        },\r\n        /**\r\n         * Pauses all the processes of all the amCharts objects on the page\r\n         *\r\n         * @return is paused?\r\n         */\r\n        set: function (value) {\r\n            this._isPaused = value;\r\n            if (!value) {\r\n                this._frameRequested = false;\r\n                this.requestFrame();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * amCharts Version.\r\n     *\r\n     * This follows npm's semver specification.\r\n     *\r\n     * @see {@link https://docs.npmjs.com/misc/semver}\r\n     */\r\n    System.VERSION = \"4.9.35\";\r\n    return System;\r\n}());\r\nexport { System };\r\n/**\r\n * A singleton global instance of [[System]].\r\n *\r\n * All code should use this, rather than instantiating their\r\n * own System objects.\r\n */\r\nexport var system = new System();\r\n//# sourceMappingURL=System.js.map","exports.f = Object.getOwnPropertySymbols;\n","/**\r\n * Provides functionality used to creating and showing tooltips (balloons).\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../Container\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { PointedRectangle } from \"./PointedRectangle\";\r\nimport { Label } from \"../elements/Label\";\r\nimport { Animation } from \"../utils/Animation\";\r\nimport { color } from \"../utils/Color\";\r\nimport { DropShadowFilter } from \"../rendering/filters/DropShadowFilter\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $ease from \"../utils/Ease\";\r\nimport * as $utils from \"../utils/Utils\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Tooltip displays text and/or multimedia information in a balloon over chart\r\n * area.\r\n * @see {@link ITooltipEvents} for a list of available events\r\n * @see {@link ITooltipAdapters} for a list of available Adapters\r\n */\r\nvar Tooltip = /** @class */ (function (_super) {\r\n    __extends(Tooltip, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Tooltip() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Holds numeric boundary values. Calculated from the `boundingContainer`.\r\n         * @ignore\r\n         */\r\n        _this._boundingRect = { x: -40000, y: -40000, width: 80000, height: 80000 };\r\n        /**\r\n         * Coordinates tooltip's pointer (stem) should point to.\r\n         */\r\n        _this._pointTo = { x: 0, y: 0 };\r\n        /**\r\n         * If set to `true` the pointer/stem of the Tooltip will not go outside\r\n         * Tooltip's width or height depending on pointer's orientation.\r\n         *\r\n         * @default false\r\n         */\r\n        _this.fitPointerToBounds = false;\r\n        /**\r\n         * If `tooltipOrientation` is vertical, it can be drawn below or above point\r\n         * We need to know this when solving overlapping.\r\n         */\r\n        _this._verticalOrientation = \"up\";\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.fixDoc = true;\r\n        _this.className = \"Tooltip\";\r\n        _this.isMeasured = false;\r\n        _this.getFillFromObject = true;\r\n        _this.margin(5, 5, 5, 5);\r\n        _this.defaultState.transitionDuration = 1;\r\n        _this.hiddenState.transitionDuration = 1;\r\n        // Create chrome/background\r\n        var background = _this.background;\r\n        background.interactionsEnabled = false;\r\n        background.fillOpacity = 0.9;\r\n        background.strokeWidth = 1;\r\n        background.strokeOpacity = 1;\r\n        background.stroke = color(\"#ffffff\");\r\n        background.cornerRadius = 3;\r\n        background.pointerLength = 6;\r\n        background.pointerBaseWidth = 10;\r\n        var dropShadow = new DropShadowFilter();\r\n        dropShadow.dy = 1;\r\n        dropShadow.dx = 1;\r\n        dropShadow.opacity = 0.5;\r\n        background.filters.push(dropShadow);\r\n        _this.autoTextColor = true;\r\n        // Create text element\r\n        var label = _this.createChild(Label);\r\n        label.shouldClone = false;\r\n        _this.label = label;\r\n        label.padding(7, 12, 4, 12);\r\n        label.interactionsEnabled = false;\r\n        label.horizontalCenter = \"middle\";\r\n        label.fill = color(\"#ffffff\");\r\n        _this._disposers.push(label);\r\n        _this.label.events.on(\"sizechanged\", _this.drawBackground, _this);\r\n        _this.label.zIndex = 1; // @todo remove this line when bg sorting is solved\r\n        // Set defaults\r\n        _this.pointerOrientation = \"vertical\";\r\n        _this.animationDuration = 0;\r\n        _this.animationEasing = $ease.cubicOut;\r\n        _this.setPropertyValue(\"showInViewport\", false);\r\n        // Set accessibility options\r\n        _this.role = \"tooltip\";\r\n        _this.visible = false;\r\n        _this.opacity = 0;\r\n        _this.x = 0;\r\n        _this.y = 0;\r\n        _this.events.on(\"visibilitychanged\", _this.handleVisibility, _this);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Tooltip.prototype.handleVisibility = function () {\r\n        if (this.visible) {\r\n            this.label.invalidate();\r\n        }\r\n    };\r\n    Object.defineProperty(Tooltip.prototype, \"getStrokeFromObject\", {\r\n        /**\r\n         * Specifies if tooltip background should get stroke color from the sprite it is pointing to.\r\n         *\r\n         * @return {boolean}\r\n         * @default false\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"getStrokeFromObject\");\r\n        },\r\n        /**\r\n         * Specifies if tooltip background should get stroke color from the sprite it is pointing to.\r\n         *\r\n         * @param value boolean\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"getStrokeFromObject\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"autoTextColor\", {\r\n        /**\r\n         * @return {boolean}\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"autoTextColor\");\r\n        },\r\n        /**\r\n         * Specifies if text color should be chosen automatically for a better\r\n         * readability.\r\n         *\r\n         * IMPORTANT: this feature is generally ignored, if `getFillFromObject = false`.\r\n         *\r\n         * If inheriting of `fill` color from object tooltip is displayed for is\r\n         * disabled, this feature will not work. If you are explicitly setting a\r\n         * color for tooltip background, you may set a color for its label as well\r\n         * using `tooltip.label.fill` property.\r\n         *\r\n         *\r\n         * @param value boolean\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"autoTextColor\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"keepTargetHover\", {\r\n        /**\r\n         * @return Keep target hovered?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"keepTargetHover\");\r\n        },\r\n        /**\r\n         * If this tooltip is displayed on hover on some other object, keep that\r\n         * element hovered if hovering on the tooltip.\r\n         *\r\n         * @default false\r\n         * @since 4.1.13\r\n         * @param  value  Keep target hovered?\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            if (this.setPropertyValue(\"keepTargetHover\", value, true)) {\r\n                if (value) {\r\n                    this.hoverable = true;\r\n                    this.background.interactionsEnabled = true;\r\n                    this._disposers.push(this.events.on(\"over\", function (ev) {\r\n                        if (_this.targetSprite && _this.targetSprite.hoverable) {\r\n                            _this.targetSprite.isHover = true;\r\n                        }\r\n                    }));\r\n                    this._disposers.push(this.events.on(\"out\", function (ev) {\r\n                        if (_this.targetSprite && _this.targetSprite.hoverable) {\r\n                            //this.hideTooltip();\r\n                            //this.targetSprite.handleOut();\r\n                            _this.targetSprite.isHover = false;\r\n                        }\r\n                    }));\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"showInViewport\", {\r\n        /**\r\n         * @return Force showing tooltip?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"showInViewport\");\r\n        },\r\n        /**\r\n         * Normally, a tooltip will hide itself if it is pointing to a coordinate\r\n         * that is outside viewport.\r\n         *\r\n         * Setting this setting to `true` will override that and make tooltip\r\n         * appear next to the viewport edge closest to the target point.\r\n         *\r\n         * @default false\r\n         * @since 4.5.7\r\n         * @param  value  Force showing tooltip?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"showInViewport\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"getFillFromObject\", {\r\n        /**\r\n         * Specifies if tooltip background should get fill color from the sprite it is pointing to.\r\n         *\r\n         * @return {boolean}\r\n         * @default true\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"getFillFromObject\");\r\n        },\r\n        /**\r\n         * @param value boolean\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"getFillFromObject\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates and returns a background element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Background\r\n     */\r\n    Tooltip.prototype.createBackground = function () {\r\n        return new PointedRectangle();\r\n    };\r\n    Object.defineProperty(Tooltip.prototype, \"pointerOrientation\", {\r\n        /**\r\n         * @return Orientation\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"pointerOrientation\");\r\n        },\r\n        /**\r\n         * Pointer orientation: `\"horizontal\"`, `\"vertical\"`, `\"up\"`, `\"down\"`,\r\n         * `\"right\"`, or `\"left\"`.\r\n         *\r\n         * Options`\"horizontal\"` or `\"vertical\"` are location-aware, meaning they\r\n         * will change position of the Tooltip based on the target point's position\r\n         * in relation to chart center.\r\n         *\r\n         * Options `\"up\"`, `\"down\"`, `\"right\"`, `\"left\"` are static and will point\r\n         * in the specified direction regardless of the position, even if that means\r\n         * going out of chart/screen bounds.\r\n         *\r\n         * IMPORTANT: in some situations, like having multiple tooltips stacked for\r\n         * multiple series, the `\"up\"` and `\"down\"` values might be ignored in order\r\n         * to make tooltip overlap algorithm work.\r\n         *\r\n         * @default \"vertical\"\r\n         * @param  value  Orientation\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"pointerOrientation\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"animationDuration\", {\r\n        /**\r\n         * @return Orientation\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"animationDuration\");\r\n        },\r\n        /**\r\n         * Duration in milliseconds for the animation to take place when the tooltip\r\n         * is moving from one place to another.\r\n         *\r\n         * @default 0\r\n         * @param value  number\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"animationDuration\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"animationEasing\", {\r\n        /**\r\n         * @return {Function}\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"animationEasing\");\r\n        },\r\n        /**\r\n         * Tooltip animation (moving from one place to another) easing function.\r\n         *\r\n         * @default $ease.cubicOut\r\n         * @param value (value: number) => number\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"animationEasing\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"html\", {\r\n        /**\r\n         * @return HTML content\r\n         */\r\n        get: function () {\r\n            return this.label.html;\r\n        },\r\n        /**\r\n         * HTML content for the Tooltip.\r\n         *\r\n         * Provided value will be used as is, without applying any further\r\n         * formatting to it.\r\n         *\r\n         * @param value  HTML content\r\n         */\r\n        set: function (value) {\r\n            if (this.label.html != value) {\r\n                this.label.html = value;\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"text\", {\r\n        /**\r\n         * @return SVG text\r\n         */\r\n        get: function () {\r\n            return this.label.text;\r\n        },\r\n        /**\r\n         * SVG text content for the Tooltip.\r\n         *\r\n         * Text can have a number of formatting options supported by\r\n         * [[TextFormatter]].\r\n         *\r\n         * @param value  SVG text\r\n         */\r\n        set: function (value) {\r\n            if (this.label.text != value) {\r\n                this.label.text = value;\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates the Tooltip.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Tooltip.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var label = this.label;\r\n        if (label.invalid) {\r\n            label.validate();\r\n        }\r\n        var x = this._pointTo.x;\r\n        var y = this._pointTo.y;\r\n        var boundingRect = this._boundingRect;\r\n        var textW = label.measuredWidth;\r\n        var textH = label.measuredHeight;\r\n        var pointerLength = this.background.pointerLength;\r\n        var textX;\r\n        var textY;\r\n        // try to handle if text is wider than br\r\n        if (this.fixDoc && textW > boundingRect.width) {\r\n            // TODO maybe this isn't needed ?\r\n            $utils.spritePointToDocument({ x: boundingRect.x, y: boundingRect.y }, this.parent);\r\n            var p1 = $utils.spritePointToDocument({ x: boundingRect.x + boundingRect.width, y: boundingRect.y + boundingRect.height }, this.parent);\r\n            var documentWidth = document.body.offsetWidth;\r\n            // TODO maybe this isn't needed ?\r\n            $utils.used(document.body.offsetHeight);\r\n            if (p1.x > documentWidth / 2) {\r\n                boundingRect.x = boundingRect.width - textW;\r\n            }\r\n            else {\r\n                boundingRect.width = boundingRect.x + textW;\r\n            }\r\n        }\r\n        var pointerOrientation = this.pointerOrientation;\r\n        // horizontal\r\n        if (pointerOrientation == \"horizontal\" || pointerOrientation == \"left\" || pointerOrientation == \"right\") {\r\n            textY = -textH / 2;\r\n            if (pointerOrientation == \"horizontal\") {\r\n                if (x > boundingRect.x + boundingRect.width / 2) {\r\n                    textX = -textW / 2 - pointerLength;\r\n                }\r\n                else {\r\n                    textX = textW / 2 + pointerLength;\r\n                }\r\n            }\r\n            else if (pointerOrientation == \"left\") {\r\n                textX = textW / 2 + pointerLength;\r\n            }\r\n            else {\r\n                textX = -textW / 2 - pointerLength;\r\n            }\r\n        }\r\n        // vertical pointer\r\n        else {\r\n            textX = $math.fitToRange(0, boundingRect.x - x + textW / 2, boundingRect.x - x + boundingRect.width - textW / 2);\r\n            if (pointerOrientation == \"vertical\") {\r\n                if (y > boundingRect.y + textH + pointerLength) {\r\n                    textY = -textH - pointerLength;\r\n                    this._verticalOrientation = \"up\";\r\n                }\r\n                else {\r\n                    textY = pointerLength;\r\n                    this._verticalOrientation = \"down\";\r\n                }\r\n            }\r\n            else if (pointerOrientation == \"down\") {\r\n                textY = -textH - pointerLength;\r\n                this._verticalOrientation = \"up\";\r\n            }\r\n            else {\r\n                textY = pointerLength;\r\n                this._verticalOrientation = \"down\";\r\n            }\r\n        }\r\n        textY = $math.fitToRange(textY, boundingRect.y - y, boundingRect.y + boundingRect.height - textH - y);\r\n        label.x = textX;\r\n        label.y = textY;\r\n        this.drawBackground();\r\n    };\r\n    /**\r\n     * Overrides functionality from the superclass.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Tooltip.prototype.updateBackground = function () {\r\n        this.group.addToBack(this.background.group);\r\n    };\r\n    /**\r\n     * Draws Tooltip background (chrome, background and pointer/stem).\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Tooltip.prototype.drawBackground = function () {\r\n        var label = this.label;\r\n        var background = this.background;\r\n        var textWidth = label.measuredWidth;\r\n        var textHeight = label.measuredHeight;\r\n        var boundingRect = this._boundingRect;\r\n        var bgWidth = textWidth;\r\n        var bgX = label.pixelX - textWidth / 2;\r\n        var bgHeight = textHeight;\r\n        var bgY = label.pixelY;\r\n        var x = this._pointTo.x;\r\n        var y = this._pointTo.y;\r\n        var boundX1 = boundingRect.x - x;\r\n        var boundX2 = boundX1 + boundingRect.width;\r\n        var boundY1 = boundingRect.y - y;\r\n        var boundY2 = boundY1 + boundingRect.height;\r\n        background.x = bgX;\r\n        background.y = bgY;\r\n        background.width = bgWidth;\r\n        background.height = bgHeight;\r\n        if (this.fitPointerToBounds) {\r\n            background.pointerX = $math.fitToRange(-background.x, boundX1 - background.x, boundX2 - background.x);\r\n            background.pointerY = $math.fitToRange(-background.y, boundY1 - background.y, boundY2 - background.y);\r\n        }\r\n        else {\r\n            background.pointerX = -background.x;\r\n            background.pointerY = -background.y;\r\n        }\r\n        background.validate();\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    Tooltip.prototype.delayedPointTo = function (point, instantly) {\r\n        var _this = this;\r\n        if (this._pointToDisposer) {\r\n            this._pointToDisposer.dispose();\r\n        }\r\n        this._pointToDisposer = registry.events.once(\"exitframe\", function () {\r\n            _this.pointTo(point, instantly);\r\n        });\r\n        this.addDisposer(this._pointToDisposer);\r\n    };\r\n    /**\r\n     * Set nes tooltip's anchor point and moves whole tooltip.\r\n     *\r\n     * @param x  X coordinate\r\n     * @param y  Y coordinate\r\n     */\r\n    Tooltip.prototype.pointTo = function (point, instantly) {\r\n        if (this._pointTo.x != point.x || this._pointTo.y != point.y) {\r\n            this._pointTo = point;\r\n            this.invalidate();\r\n            // this helps to avoid strange animation from nowhere on initial show or when balloon was hidden already\r\n            if (!this.visible || instantly) {\r\n                this.moveTo(this._pointTo);\r\n                if (this._animation) {\r\n                    this._animation.kill();\r\n                }\r\n            }\r\n            else {\r\n                // helps to avoid flicker on top/left corner\r\n                if (this.pixelX == 0 && this.pixelY == 0) {\r\n                    this.moveTo(this._pointTo);\r\n                }\r\n                else {\r\n                    if (this._animation) {\r\n                        this._animation.kill();\r\n                    }\r\n                    this._animation = new Animation(this, [{ property: \"x\", to: point.x, from: this.pixelX }, { property: \"y\", to: point.y, from: this.pixelY }], this.animationDuration, this.animationEasing).start();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets numeric boundaries Tooltip needs to obey (so it does not go outside\r\n     * specific area).\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param rectangle Boundary rectangle\r\n     */\r\n    Tooltip.prototype.setBounds = function (rectangle) {\r\n        var oldRect = this._boundingRect;\r\n        if (oldRect.x != rectangle.x || oldRect.y != rectangle.y || oldRect.width != rectangle.width || oldRect.height != rectangle.height) {\r\n            this._boundingRect = rectangle;\r\n            this.invalidate();\r\n        }\r\n    };\r\n    Object.defineProperty(Tooltip.prototype, \"boundingContainer\", {\r\n        /**\r\n         * Sets a [[Container]] instance to be used when calculating numeric\r\n         * boundaries for the Tooltip.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param container  Boundary container\r\n         */\r\n        set: function (container) {\r\n            this._boundingContainer = container;\r\n            // TODO remove closures ?\r\n            container.events.on(\"sizechanged\", this.updateBounds, this);\r\n            container.events.on(\"positionchanged\", this.updateBounds, this);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates numeric boundaries for the Tooltip, based on the\r\n     * `boundingCountrainer`.\r\n     */\r\n    Tooltip.prototype.updateBounds = function () {\r\n        var boundingContainer = this._boundingContainer;\r\n        // to global\r\n        var rect = $utils.spriteRectToSvg({\r\n            x: boundingContainer.pixelX,\r\n            y: boundingContainer.pixelY,\r\n            width: boundingContainer.maxWidth,\r\n            height: boundingContainer.maxHeight\r\n        }, boundingContainer);\r\n        this.setBounds(rect);\r\n    };\r\n    Object.defineProperty(Tooltip.prototype, \"verticalOrientation\", {\r\n        /**\r\n         * If tooltipOrientation is vertical, it can be drawn below or above point.\r\n         * We need to know this when solving overlapping.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return \"up\" | \"down\"\r\n         */\r\n        get: function () {\r\n            return this._verticalOrientation;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"tooltip\", {\r\n        /**\r\n         * To avoid stackoverflow\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies properties and other attributes.\r\n     *\r\n     * @param source  Source\r\n     */\r\n    Tooltip.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.label.copyFrom(source.label);\r\n        if (source._boundingRect) {\r\n            this._boundingRect = source._boundingRect;\r\n        }\r\n    };\r\n    /**\r\n     * Adds easing functions to \"function\" fields.\r\n     *\r\n     * @param field  Field name\r\n     * @return Assign as function?\r\n     */\r\n    Tooltip.prototype.asFunction = function (field) {\r\n        return field == \"animationEasing\" || _super.prototype.asIs.call(this, field);\r\n    };\r\n    return Tooltip;\r\n}(Container));\r\nexport { Tooltip };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Tooltip\"] = Tooltip;\r\n//# sourceMappingURL=Tooltip.js.map","/**\r\n * A collection of functions that deals with path calculations.\r\n */\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $type from \"../utils/Type\";\r\nimport { getGhostPaper } from \"../rendering/Paper\";\r\nimport { options } from \"../Options\";\r\n/**\r\n * ============================================================================\r\n * PATH FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns an SVG path from a number of points.\r\n *\r\n * @ignore Exclude from docs\r\n * @param points  An array of line elbow points\r\n * @return SVG path\r\n */\r\nexport function polyline(points) {\r\n    var path = lineTo(points[0]);\r\n    var prevPoint = { x: 0, y: 0 };\r\n    var minStep = options.minPolylineStep;\r\n    if (!$type.isNumber(minStep)) {\r\n        minStep = 0.5;\r\n    }\r\n    for (var i = 0, len = points.length; i < len; i++) {\r\n        var point = points[i];\r\n        if ($math.getDistance(point, prevPoint) > minStep) {\r\n            path += lineTo(point);\r\n            prevPoint = point;\r\n        }\r\n    }\r\n    return path;\r\n}\r\n/**\r\n * Returns a starting point of an SVG path.\r\n *\r\n * @ignore Exclude from docs\r\n * @param point  Starting point\r\n * @return SVG path\r\n */\r\nexport function moveTo(point) {\r\n    return \" M\" + $math.round(point.x, 4) + \",\" + $math.round(point.y, 4) + \" \";\r\n}\r\n/**\r\n * Returns a line part of SVG path.\r\n *\r\n * @ignore Exclude from docs\r\n * @param point  SVG path\r\n * @return SVG path\r\n */\r\nexport function lineTo(point) {\r\n    return \" L\" + $math.round(point.x, 4) + \",\" + $math.round(point.y, 4) + \" \";\r\n}\r\n/**\r\n * Returns a quadratic curve part of an SVG path.\r\n *\r\n * @ignore Exclude from docs\r\n * @param point         End point of the curve\r\n * @param controlPoint  Control point\r\n * @return SVG path\r\n */\r\nexport function quadraticCurveTo(point, controlPoint) {\r\n    return \" Q\" + $math.round(controlPoint.x, 4)\r\n        + \",\" + $math.round(controlPoint.y, 4) + \" \" + $math.round(point.x, 4)\r\n        + \",\" + $math.round(point.y, 4);\r\n}\r\n/**\r\n * Returns a cubic curve part of an SVG path.\r\n *\r\n * @ignore Exclude from docs\r\n * @param point          End point of the curve\r\n * @param controlPointA  Control point A\r\n * @param controlPointB  Control point B\r\n * @return SVG path\r\n */\r\nexport function cubicCurveTo(point, controlPointA, controlPointB) {\r\n    return \" C\" + $math.round(controlPointA.x, 4)\r\n        + \",\" + $math.round(controlPointA.y, 4) + \" \" + $math.round(controlPointB.x, 4)\r\n        + \",\" + $math.round(controlPointB.y, 4) + \" \" + $math.round(point.x, 4)\r\n        + \",\" + $math.round(point.y, 4);\r\n}\r\n/**\r\n * Returns a terminator for an SVG path.\r\n *\r\n * @ignore Exclude from docs\r\n * @return SVG path\r\n */\r\nexport function closePath() {\r\n    return \" Z\";\r\n}\r\n/**\r\n * Returns an arc part of an SVG path.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Better parameter descriptions\r\n * @param startAngle  Starting angle\r\n * @param arc         Arc\r\n * @param radius      Radius\r\n * @param radiusY     Vertical radius\r\n * @return SVG path\r\n */\r\nexport function arcTo(startAngle, arc, radius, radiusY) {\r\n    if (arc == 0) {\r\n        return \"\";\r\n    }\r\n    if (!$type.isNumber(radiusY)) {\r\n        radiusY = radius;\r\n    }\r\n    var path = \"\";\r\n    var c = \",\";\r\n    var segments = Math.ceil(Math.abs(arc) / 180);\r\n    var l = 1;\r\n    if (arc < 0) {\r\n        l = 0;\r\n    }\r\n    // previous, as we use a not A\r\n    var pax = 0;\r\n    var pay = 0;\r\n    // center\r\n    var cx = -$math.cos(startAngle) * radius;\r\n    var cy = -$math.sin(startAngle) * radiusY;\r\n    // foir very short angles and big radius, solves artefacts\r\n    if (arc < 0.5 && radius > 3000) {\r\n        var endAngle = startAngle + arc;\r\n        var ax = $math.round($math.cos(endAngle) * radius, 4);\r\n        var ay = $math.round($math.sin(endAngle) * radiusY, 4);\r\n        return lineTo({ x: ax, y: ay });\r\n    }\r\n    for (var i = 0; i < segments; i++) {\r\n        var endAngle = startAngle + arc / segments * (i + 1);\r\n        var ax = $math.round($math.cos(endAngle) * radius + cx - pax, 4);\r\n        var ay = $math.round($math.sin(endAngle) * radiusY + cy - pay, 4);\r\n        path += \" a\" + radius + c + radiusY + c + 0 + c + 0 + c + l + c + ax + c + ay;\r\n        pax = ax;\r\n        pay = ay;\r\n    }\r\n    return path;\r\n}\r\n/**\r\n * Creates an arc path.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param startAngle         [description]\r\n * @param arc                [description]\r\n * @param radius             [description]\r\n * @param innerRadius        [description]\r\n * @param radiusY            [description]\r\n * @param cornerRadius       [description]\r\n * @param innerCornerRadius  [description]\r\n * @return SVG path\r\n */\r\nexport function arc(startAngle, arc, radius, innerRadius, radiusY, cornerRadius, innerCornerRadius) {\r\n    if (arc == 0) {\r\n        return \"\";\r\n    }\r\n    if (!$type.isNumber(innerRadius)) {\r\n        innerRadius = 0;\r\n    }\r\n    if (radius == 0 && innerRadius <= 0) {\r\n        return \"\";\r\n    }\r\n    if (radius < innerRadius) {\r\n        var temp = radius;\r\n        radius = innerRadius;\r\n        innerRadius = temp;\r\n        if ($type.isNumber(radiusY)) {\r\n            radiusY = radiusY / innerRadius * radius;\r\n        }\r\n    }\r\n    arc = $math.min(arc, 360);\r\n    if (arc == 360) {\r\n        cornerRadius = 0;\r\n        innerCornerRadius = 0;\r\n    }\r\n    var endAngle = startAngle + arc;\r\n    var crSin = $math.sin($math.min(arc, 45) / 2);\r\n    radiusY = $type.isNumber(radiusY) ? radiusY : radius;\r\n    cornerRadius = cornerRadius || 0;\r\n    innerCornerRadius = $type.isNumber(innerCornerRadius) ? innerCornerRadius : cornerRadius;\r\n    var innerRadiusY = (radiusY / radius) * innerRadius;\r\n    var cornerRadiusY = (radiusY / radius) * cornerRadius;\r\n    var innerCornerRadiusY = (radiusY / radius) * innerCornerRadius;\r\n    cornerRadius = $math.fitToRange(cornerRadius, 0, (radius - innerRadius) / 2);\r\n    cornerRadiusY = $math.fitToRange(cornerRadiusY, 0, (radiusY - innerRadiusY) / 2);\r\n    innerCornerRadius = $math.fitToRange(innerCornerRadius, 0, (radius - innerRadius) / 2);\r\n    innerCornerRadiusY = $math.fitToRange(innerCornerRadiusY, 0, (radiusY - innerRadiusY) / 2);\r\n    cornerRadius = $math.round($math.fitToRange(cornerRadius, 0, radius * crSin), 4);\r\n    cornerRadiusY = $math.round($math.fitToRange(cornerRadiusY, 0, radiusY * crSin), 4);\r\n    innerCornerRadius = $math.round($math.fitToRange(innerCornerRadius, 0, innerRadius * crSin), 4);\r\n    innerCornerRadiusY = $math.round($math.fitToRange(innerCornerRadiusY, 0, innerRadiusY * crSin), 4);\r\n    var crAngle = Math.asin(cornerRadius / radius / 2) * $math.DEGREES * 2;\r\n    var crAngleY = Math.asin(cornerRadiusY / radiusY / 2) * $math.DEGREES * 2;\r\n    if (innerRadius < innerCornerRadius) {\r\n        innerRadius = innerCornerRadius;\r\n    }\r\n    if (innerRadiusY < innerCornerRadiusY) {\r\n        innerRadiusY = innerCornerRadiusY;\r\n    }\r\n    var crInnerAngle = Math.asin(innerCornerRadius / innerRadius / 2) * $math.DEGREES * 2;\r\n    var crInnerAngleY = Math.asin(innerCornerRadiusY / innerRadiusY / 2) * $math.DEGREES * 2;\r\n    if (!$type.isNumber(crInnerAngle)) {\r\n        crInnerAngle = 0;\r\n    }\r\n    if (!$type.isNumber(crInnerAngleY)) {\r\n        crInnerAngleY = 0;\r\n    }\r\n    var middleAngle = startAngle + arc / 2;\r\n    var mPoint = { x: $math.round($math.cos(middleAngle) * innerRadius, 4), y: $math.sin(middleAngle) * innerRadiusY };\r\n    var a0 = { x: $math.cos(startAngle) * (innerRadius + innerCornerRadius), y: $math.sin(startAngle) * (innerRadiusY + innerCornerRadiusY) };\r\n    var b0 = { x: $math.cos(startAngle) * (radius - cornerRadius), y: $math.sin(startAngle) * (radiusY - cornerRadiusY) };\r\n    var c0 = { x: $math.cos(endAngle) * (radius - cornerRadius), y: $math.sin(endAngle) * (radiusY - cornerRadiusY) };\r\n    var d0 = { x: $math.cos(endAngle) * (innerRadius + innerCornerRadius), y: $math.sin(endAngle) * (innerRadiusY + innerCornerRadiusY) };\r\n    var b1 = { x: $math.cos(startAngle + crAngle) * radius, y: $math.sin(startAngle + crAngleY) * radiusY };\r\n    var d1 = { x: $math.cos(endAngle - crInnerAngle) * innerRadius, y: $math.sin(endAngle - crInnerAngleY) * innerRadiusY };\r\n    // some magic math\r\n    innerCornerRadius += innerCornerRadius * $math.sin(crInnerAngle / 2);\r\n    innerCornerRadiusY += innerCornerRadiusY * $math.sin(crInnerAngleY / 2);\r\n    if (crInnerAngle > (endAngle - startAngle) / 2) {\r\n        d1 = mPoint;\r\n    }\r\n    var path = \"\";\r\n    // start from b if this is full circle\r\n    if (arc == 360) {\r\n        path = moveTo(b0);\r\n    }\r\n    // otherwise start from a\r\n    else {\r\n        path = moveTo(a0);\r\n        path += lineTo(b0);\r\n        path += arcToPoint(b1, cornerRadius, cornerRadiusY, true);\r\n    }\r\n    // draw arc\r\n    path += arcTo(startAngle + crAngle, arc - 2 * crAngle, radius, radiusY);\r\n    // draw inner arc\r\n    if ($type.isNumber(innerRadius) && innerRadius != 0) {\r\n        // move to B if this is full circle\r\n        if (arc == 360 && cornerRadius == 0) {\r\n            path += moveTo(d0);\r\n        }\r\n        // draw line otherwise\r\n        else {\r\n            path += arcToPoint(c0, cornerRadius, cornerRadiusY, true);\r\n            path += lineTo(d0);\r\n            path += arcToPoint(d1, innerCornerRadius, innerCornerRadiusY, true);\r\n        }\r\n        path += arcTo(endAngle - crInnerAngle, -(arc - 2 * crInnerAngle), innerRadius, innerRadiusY);\r\n        if (arc < 360 || cornerRadius > 0) {\r\n            path += arcToPoint(a0, innerCornerRadius, innerCornerRadiusY, true);\r\n        }\r\n        path += lineTo(a0);\r\n    }\r\n    else {\r\n        path += arcToPoint(c0, cornerRadius, cornerRadiusY, true);\r\n        if (arc < 360) {\r\n            path += lineTo(a0);\r\n        }\r\n    }\r\n    return path;\r\n}\r\n/**\r\n * Creates a path for an arc to specific coordinate.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param point         Reference point\r\n * @param radius        Radius\r\n * @param radiusY       Vertical radius (for skewed arcs)\r\n * @param sweepFlag     [description]\r\n * @param largeArcFlag  [description]\r\n * @param xAxisRotation [description]\r\n * @return Arc path\r\n */\r\nexport function arcToPoint(point, radius, radiusY, sweepFlag, largeArcFlag, xAxisRotation) {\r\n    if (radius == 0) {\r\n        return \"\";\r\n    }\r\n    xAxisRotation = xAxisRotation || 0;\r\n    largeArcFlag = Boolean(largeArcFlag);\r\n    sweepFlag = Boolean(sweepFlag);\r\n    var c = \",\";\r\n    var sweepFlagValue = +sweepFlag; // converts to 1 or 0\r\n    var largeArcFlagValue = +largeArcFlag; // converts to 1 or 0\r\n    return \" A\" + radius + c + radiusY + c + xAxisRotation + c + largeArcFlagValue + c + sweepFlagValue + c + $math.round(point.x, 4) + c + $math.round(point.y, 4);\r\n}\r\n/**\r\n * Creates a new rectangle.\r\n *\r\n * @ignore Exclude from docs\r\n * @param width   Width (px)\r\n * @param height  Height (px)\r\n * @param x       X position\r\n * @param y       Y position\r\n * @return Rectangle\r\n */\r\nexport function rectangle(width, height, x, y) {\r\n    if (!$type.isNumber(x)) {\r\n        x = 0;\r\n    }\r\n    if (!$type.isNumber(y)) {\r\n        y = 0;\r\n    }\r\n    return moveTo({ x: x, y: y }) + lineTo({ x: x + width, y: y }) + lineTo({ x: x + width, y: y + height }) + lineTo({ x: x, y: y + height }) + closePath();\r\n}\r\n/**\r\n * Converts a rectangle to an SVG path.\r\n *\r\n * @ignore Exclude from docs\r\n * @param rect  Rectangle\r\n * @param ccw   Counter-clockwise?\r\n * @return SVG path\r\n */\r\nexport function rectToPath(rect, ccw) {\r\n    var c = \",\";\r\n    var L = \" L\";\r\n    if (ccw) {\r\n        return \"M\" + rect.x\r\n            + c + rect.y + L + rect.x\r\n            + c + (rect.y + rect.height) + L + (rect.x + rect.width)\r\n            + c + (rect.y + rect.height) + L + (rect.x + rect.width)\r\n            + c + rect.y + L + rect.x\r\n            + c + rect.y;\r\n    }\r\n    else {\r\n        return \"M\" + rect.x\r\n            + c + rect.y + L + (rect.x + rect.width)\r\n            + c + rect.y + L + (rect.x + rect.width)\r\n            + c + (rect.y + rect.height) + L + rect.x\r\n            + c + (rect.y + rect.height) + L + rect.x\r\n            + c + rect.y;\r\n    }\r\n}\r\n/**\r\n * Converts SVG path to array of points.\r\n *\r\n * Note, this is experimental feature based on method which is deprecated\r\n * on some browsers and some browsers do not support it at all.\r\n *\r\n * You can save the output of this function, but not rely on it completely.\r\n */\r\nexport function pathToPoints(path, pointCount) {\r\n    var paper = getGhostPaper();\r\n    var svgPath = paper.add(\"path\").node;\r\n    svgPath.setAttribute(\"d\", path);\r\n    if (svgPath.getPointAtLength && svgPath.getTotalLength) {\r\n        var length_1 = svgPath.getTotalLength();\r\n        var toPoints = [];\r\n        for (var i = 0; i < pointCount; i++) {\r\n            var point = svgPath.getPointAtLength(i / pointCount * length_1);\r\n            toPoints.push({ x: point.x, y: point.y });\r\n        }\r\n        return toPoints;\r\n    }\r\n    svgPath.remove();\r\n}\r\nexport function spiralPoints(cx, cy, radius, radiusY, innerRadius, step, radiusStep, startAngle, endAngle) {\r\n    if (!$type.isNumber(startAngle)) {\r\n        startAngle = 0;\r\n    }\r\n    if (!$type.isNumber(startAngle)) {\r\n        endAngle = startAngle;\r\n    }\r\n    var r = innerRadius + 0.01;\r\n    var angle = startAngle * $math.RADIANS;\r\n    var points = [];\r\n    while (r < radius + radiusStep) {\r\n        var stepSize = step;\r\n        if (stepSize / 2 > r) {\r\n            stepSize = 2 * r;\r\n        }\r\n        angle += 2 * Math.asin(stepSize / 2 / r);\r\n        if (angle * $math.DEGREES > endAngle + ((radius - innerRadius) / radiusStep) * 360) {\r\n            break;\r\n        }\r\n        var degrees = angle * $math.DEGREES;\r\n        var point = { x: cx + r * Math.cos(angle), y: cy + r * radiusY / radius * Math.sin(angle) };\r\n        points.push(point);\r\n        r = innerRadius + degrees / 360 * radiusStep;\r\n    }\r\n    points.shift();\r\n    return points;\r\n}\r\nexport function pointsToPath(points) {\r\n    if (!points || points.length == 0) {\r\n        return \"\";\r\n    }\r\n    var path = moveTo(points[0]);\r\n    if (points && points.length > 0) {\r\n        for (var i = 1; i < points.length; i++) {\r\n            path += lineTo(points[i]);\r\n        }\r\n    }\r\n    return path;\r\n}\r\n//# sourceMappingURL=Path.js.map","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { dataLoader } from \"./DataLoader\";\r\nimport { JSONParser } from \"./JSONParser\";\r\nimport { CSVParser } from \"./CSVParser\";\r\nimport { BaseObjectEvents } from \"../Base\";\r\nimport { Adapter } from \"../utils/Adapter\";\r\nimport { Language } from \"../utils/Language\";\r\nimport { DateFormatter } from \"../formatters/DateFormatter\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $object from \"../utils/Object\";\r\n;\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a single data source - external file with all of its settings,\r\n * such as format, data parsing, etc.\r\n *\r\n * ```TypeScript\r\n * chart.dataSource.url = \"http://www.myweb.com/data.json\";\r\n * chart.dataSource.parser = am4core.JSONParser;\r\n * ```\r\n * ```JavaScript\r\n * chart.dataSource.url = \"http://www.myweb.com/data.json\";\r\n * chart.dataSource.parser = am4core.JSONParser;\r\n * ```\r\n * ```JSON\r\n * {\r\n *   // ...\r\n *   \"dataSource\": {\r\n *     \"url\": \"http://www.myweb.com/data.json\",\r\n *     \"parser\": \"JSONParser\"\r\n *   },\r\n *   // ...\r\n * }\r\n * ```\r\n *\r\n * @see {@link IDataSourceEvents} for a list of available events\r\n * @see {@link IDataSourceAdapters} for a list of available Adapters\r\n */\r\nvar DataSource = /** @class */ (function (_super) {\r\n    __extends(DataSource, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function DataSource(url, parser) {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Adapter.\r\n         */\r\n        _this.adapter = new Adapter(_this);\r\n        /**\r\n         * Custom options for HTTP(S) request.\r\n         */\r\n        _this._requestOptions = {};\r\n        /**\r\n         * If set to `true`, any subsequent data loads will be considered incremental\r\n         * (containing only new data points that are supposed to be added to existing\r\n         * data).\r\n         *\r\n         * NOTE: this setting works only with element's `data` property. It won't\r\n         * work with any other externally-loadable data property.\r\n         *\r\n         * @default false\r\n         */\r\n        _this._incremental = false;\r\n        /**\r\n         * A collection of key/value pairs to attach to a data source URL when making\r\n         * an incremental request.\r\n         */\r\n        _this._incrementalParams = {};\r\n        /**\r\n         * This setting is used only when `incremental = true`. If set to `true`,\r\n         * it will try to retain the same number of data items across each load.\r\n         *\r\n         * E.g. if incremental load yeilded 5 new records, then 5 items from the\r\n         * beginning of data will be removed so that we end up with the same number\r\n         * of data items.\r\n         *\r\n         * @default false\r\n         */\r\n        _this._keepCount = false;\r\n        /**\r\n         * If set to `true`, each subsequent load will be treated as an update to\r\n         * currently loaded data, meaning that it will try to update values on\r\n         * existing data items, not overwrite the whole data.\r\n         *\r\n         * This will work faster than complete update, and also will animate the\r\n         * values to their new positions.\r\n         *\r\n         * Data sources across loads must contain the same number of data items.\r\n         *\r\n         * Loader will not truncate the data set if loaded data has fewer data items,\r\n         * and if it is longer, the excess data items will be ignored.\r\n         *\r\n         * @default false\r\n         * @since 4.5.5\r\n         */\r\n        _this._updateCurrentData = false;\r\n        /**\r\n         * Will show loading indicator when loading files.\r\n         */\r\n        _this.showPreloader = true;\r\n        _this.className = \"DataSource\";\r\n        // Set defaults\r\n        if (url) {\r\n            _this.url = url;\r\n        }\r\n        // Set parser\r\n        if (parser) {\r\n            if (typeof parser == \"string\") {\r\n                _this.parser = dataLoader.getParserByType(parser);\r\n            }\r\n            else {\r\n                _this.parser = parser;\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Processes the loaded data.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param data         Raw (unparsed) data\r\n     * @param contentType  Content type of the loaded data (optional)\r\n     */\r\n    DataSource.prototype.processData = function (data, contentType) {\r\n        // Parsing started\r\n        this.dispatchImmediately(\"parsestarted\");\r\n        // Check if parser is set\r\n        if (!this.parser) {\r\n            // Try to resolve from data\r\n            this.parser = dataLoader.getParserByData(data, contentType);\r\n            if (!this.parser) {\r\n                // We have a problem - nobody knows what to do with the data\r\n                // Raise error\r\n                if (this.events.isEnabled(\"parseerror\")) {\r\n                    var event_1 = {\r\n                        type: \"parseerror\",\r\n                        message: this.language.translate(\"No parser available for file: %1\", null, this.url),\r\n                        target: this\r\n                    };\r\n                    this.events.dispatchImmediately(\"parseerror\", event_1);\r\n                }\r\n                this.dispatchImmediately(\"parseended\");\r\n                return;\r\n            }\r\n        }\r\n        // Apply options adapters\r\n        this.parser.options = this.adapter.apply(\"parserOptions\", this.parser.options);\r\n        this.parser.options.dateFields = this.adapter.apply(\"dateFields\", this.parser.options.dateFields || []);\r\n        this.parser.options.numberFields = this.adapter.apply(\"numberFields\", this.parser.options.numberFields || []);\r\n        // Check if we need to pass in date formatter\r\n        if (this.parser.options.dateFields && !this.parser.options.dateFormatter) {\r\n            this.parser.options.dateFormatter = this.dateFormatter;\r\n        }\r\n        // Parse\r\n        this.data = this.adapter.apply(\"parsedData\", this.parser.parse(this.adapter.apply(\"unparsedData\", data)));\r\n        // Check for parsing errors\r\n        if (!$type.hasValue(this.data) && this.events.isEnabled(\"parseerror\")) {\r\n            var event_2 = {\r\n                type: \"parseerror\",\r\n                message: this.language.translate(\"Error parsing file: %1\", null, this.url),\r\n                target: this\r\n            };\r\n            this.events.dispatchImmediately(\"parseerror\", event_2);\r\n        }\r\n        // Wrap up\r\n        this.dispatchImmediately(\"parseended\");\r\n        if ($type.hasValue(this.data)) {\r\n            this.dispatchImmediately(\"done\", {\r\n                \"data\": this.data\r\n            });\r\n        }\r\n        // The component is responsible for updating its own data vtriggered via\r\n        // events.\r\n        // Update last data load\r\n        this.lastLoad = new Date();\r\n    };\r\n    Object.defineProperty(DataSource.prototype, \"url\", {\r\n        /**\r\n         * @return URL\r\n         */\r\n        get: function () {\r\n            // Get URL\r\n            var url = this.disableCache\r\n                ? this.timestampUrl(this._url)\r\n                : this._url;\r\n            // Add incremental params\r\n            if (this.incremental && this.component.data.length) {\r\n                url = this.addUrlParams(url, this.incrementalParams);\r\n            }\r\n            return this.adapter.apply(\"url\", url);\r\n        },\r\n        /**\r\n         * URL of the data source.\r\n         *\r\n         * @param value  URL\r\n         */\r\n        set: function (value) {\r\n            this._url = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataSource.prototype, \"requestOptions\", {\r\n        /**\r\n         * @return Options\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"requestOptions\", this._requestOptions);\r\n        },\r\n        /**\r\n         * Custom options for HTTP(S) request.\r\n         *\r\n         * At this moment the only option supported is: `requestHeaders`, which holds\r\n         * an array of objects for custom request headers, e.g.:\r\n         *\r\n         * ```TypeScript\r\n         * chart.dataSource.requestOptions.requestHeaders = [{\r\n         *   \"key\": \"x-access-token\",\r\n         *   \"value\": \"123456789\"\r\n         * }];\r\n         * ``````JavaScript\r\n         * chart.dataSource.requestOptions.requestHeaders = [{\r\n         *   \"key\": \"x-access-token\",\r\n         *   \"value\": \"123456789\"\r\n         * }];\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"dataSource\": {\r\n         *     // ...\r\n         *     \"requestOptions\": {\r\n         *       \"requestHeaders\": [{\r\n         *         \"key\": \"x-access-token\",\r\n         *         \"value\": \"123456789\"\r\n         *       }]\r\n         *     }\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * NOTE: setting this options on an-already loaded DataSource will not\r\n         * trigger a reload.\r\n         *\r\n         * @param value  Options\r\n         */\r\n        set: function (value) {\r\n            this._requestOptions = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataSource.prototype, \"parser\", {\r\n        /**\r\n         * @return Data parser\r\n         */\r\n        get: function () {\r\n            if (!this._parser) {\r\n                this._parser = new JSONParser();\r\n            }\r\n            return this.adapter.apply(\"parser\", this._parser);\r\n        },\r\n        /**\r\n         * A parser to be used to parse data.\r\n         *\r\n         * ```TypeScript\r\n         * chart.dataSource.url = \"http://www.myweb.com/data.json\";\r\n         * chart.dataSource.parser = am4core.JSONParser;\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.dataSource.url = \"http://www.myweb.com/data.json\";\r\n         * chart.dataSource.parser = am4core.JSONParser;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"dataSource\": {\r\n         *     \"url\": \"http://www.myweb.com/data.json\",\r\n         *     \"parser\": \"JSONParser\"\r\n         *   },\r\n         *   // ...\r\n         * }\r\n         * ```\r\n         *\r\n         * @default JSONParser\r\n         * @param value  Data parser\r\n         */\r\n        set: function (value) {\r\n            this._parser = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataSource.prototype, \"reloadFrequency\", {\r\n        /**\r\n         * @return Reload frequency (ms)\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"reloadTimeout\", this._reloadFrequency);\r\n        },\r\n        /**\r\n         * Data source reload frequency.\r\n         *\r\n         * If set, it will reload the same URL every X milliseconds.\r\n         *\r\n         * @param value Reload frequency (ms)\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            if (this._reloadFrequency != value) {\r\n                this._reloadFrequency = value;\r\n                // Should we schedule a reload?\r\n                if (value) {\r\n                    if (!$type.hasValue(this._reloadDisposer)) {\r\n                        this._reloadDisposer = this.events.on(\"ended\", function (ev) {\r\n                            _this._reloadTimeout = setTimeout(function () {\r\n                                _this.load();\r\n                            }, _this.reloadFrequency);\r\n                        });\r\n                    }\r\n                }\r\n                else if ($type.hasValue(this._reloadDisposer)) {\r\n                    this._reloadDisposer.dispose();\r\n                    this._reloadDisposer = undefined;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataSource.prototype, \"incremental\", {\r\n        /**\r\n         * @return Incremental load?\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"incremental\", this._incremental);\r\n        },\r\n        /**\r\n         * Should subsequent reloads be treated as incremental?\r\n         *\r\n         * Incremental loads will assume that they contain only new data items\r\n         * since the last load.\r\n         *\r\n         * If `incremental = false` the loader will replace all of the target's\r\n         * data with each load.\r\n         *\r\n         * This setting does not have any effect trhe first time data is loaded.\r\n         *\r\n         * NOTE: this setting works only with element's `data` property. It won't\r\n         * work with any other externally-loadable data property.\r\n         *\r\n         * @default false\r\n         * @param Incremental load?\r\n         */\r\n        set: function (value) {\r\n            this._incremental = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataSource.prototype, \"incrementalParams\", {\r\n        /**\r\n         * @return Incremental request parameters\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"incrementalParams\", this._incrementalParams);\r\n        },\r\n        /**\r\n         * An object consisting of key/value pairs to apply to an URL when data\r\n         * source is making an incremental request.\r\n         *\r\n         * @param value  Incremental request parameters\r\n         */\r\n        set: function (value) {\r\n            this._incrementalParams = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataSource.prototype, \"keepCount\", {\r\n        /**\r\n         * @return keepCount load?\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"keepCount\", this._keepCount);\r\n        },\r\n        /**\r\n         * This setting is used only when `incremental = true`. If set to `true`,\r\n         * it will try to retain the same number of data items across each load.\r\n         *\r\n         * E.g. if incremental load yeilded 5 new records, then 5 items from the\r\n         * beginning of data will be removed so that we end up with the same number\r\n         * of data items.\r\n         *\r\n         * @default false\r\n         * @param Keep record count?\r\n         */\r\n        set: function (value) {\r\n            this._keepCount = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataSource.prototype, \"updateCurrentData\", {\r\n        /**\r\n         * @return Update current data?\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"updateCurrentData\", this._updateCurrentData);\r\n        },\r\n        /**\r\n         * If set to `true`, each subsequent load will be treated as an update to\r\n         * currently loaded data, meaning that it will try to update values on\r\n         * existing data items, not overwrite the whole data.\r\n         *\r\n         * This will work faster than complete update, and also will animate the\r\n         * values to their new positions.\r\n         *\r\n         * Data sources across loads must contain the same number of data items.\r\n         *\r\n         * Loader will not truncate the data set if loaded data has fewer data items,\r\n         * and if it is longer, the excess data items will be ignored.\r\n         *\r\n         * NOTE: this setting is ignored if `incremental = true`.\r\n         *\r\n         * @default false\r\n         * @since 2.5.5\r\n         * @param Update current data?\r\n         */\r\n        set: function (value) {\r\n            this._updateCurrentData = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataSource.prototype, \"language\", {\r\n        /**\r\n         * @return A [[Language]] instance to be used\r\n         */\r\n        get: function () {\r\n            if (this._language) {\r\n                return this._language;\r\n            }\r\n            else if (this.component) {\r\n                this._language = this.component.language;\r\n                return this._language;\r\n            }\r\n            this.language = new Language();\r\n            return this.language;\r\n        },\r\n        /**\r\n         * Language instance to use.\r\n         *\r\n         * Will inherit and use chart's language, if not set.\r\n         *\r\n         * @param value An instance of Language\r\n         */\r\n        set: function (value) {\r\n            this._language = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataSource.prototype, \"dateFormatter\", {\r\n        /**\r\n         * @return A [[DateFormatter]] instance to be used\r\n         */\r\n        get: function () {\r\n            if (this._dateFormatter) {\r\n                return this._dateFormatter;\r\n            }\r\n            else if (this.component) {\r\n                this._dateFormatter = this.component.dateFormatter;\r\n                return this._dateFormatter;\r\n            }\r\n            this.dateFormatter = new DateFormatter();\r\n            return this.dateFormatter;\r\n        },\r\n        /**\r\n         * A [[DateFormatter]] to use when parsing dates from string formats.\r\n         *\r\n         * Will inherit and use chart's DateFormatter if not ser.\r\n         *\r\n         * @param value An instance of [[DateFormatter]]\r\n         */\r\n        set: function (value) {\r\n            this._dateFormatter = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Adds current timestamp to the URL.\r\n     *\r\n     * @param url  Source URL\r\n     * @return Timestamped URL\r\n     */\r\n    DataSource.prototype.timestampUrl = function (url) {\r\n        var tstamp = new Date().getTime().toString();\r\n        var params = {};\r\n        params[tstamp] = \"\";\r\n        return this.addUrlParams(url, params);\r\n    };\r\n    /**\r\n     * Disposes of this object.\r\n     */\r\n    DataSource.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        if (this._reloadTimeout) {\r\n            clearTimeout(this._reloadTimeout);\r\n        }\r\n        if ($type.hasValue(this._reloadDisposer)) {\r\n            this._reloadDisposer.dispose();\r\n            this._reloadDisposer = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Initiate the load.\r\n     *\r\n     * All loading in JavaScript is asynchronous. This function will trigger the\r\n     * load and will exit immediately.\r\n     *\r\n     * Use DataSource's events to watch for loaded data and errors.\r\n     */\r\n    DataSource.prototype.load = function () {\r\n        if (this.url) {\r\n            if (this._reloadTimeout) {\r\n                clearTimeout(this._reloadTimeout);\r\n            }\r\n            dataLoader.load(this);\r\n        }\r\n    };\r\n    /**\r\n     * Adds parameters to `url` as query strings. Will take care of proper\r\n     * separators.\r\n     *\r\n     * @param url     Source URL\r\n     * @param params  Parameters\r\n     * @return New URL\r\n     */\r\n    DataSource.prototype.addUrlParams = function (url, params) {\r\n        var join = url.match(/\\?/) ? \"&\" : \"?\";\r\n        var add = [];\r\n        $object.each(params, function (key, value) {\r\n            if (value != \"\") {\r\n                add.push(key + \"=\" + encodeURIComponent(value));\r\n            }\r\n            else {\r\n                add.push(key);\r\n            }\r\n        });\r\n        if (add.length) {\r\n            return url + join + add.join(\"&\");\r\n        }\r\n        return url;\r\n    };\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    DataSource.prototype.processConfig = function (config) {\r\n        registry.registeredClasses[\"json\"] = JSONParser;\r\n        registry.registeredClasses[\"JSONParser\"] = JSONParser;\r\n        registry.registeredClasses[\"csv\"] = CSVParser;\r\n        registry.registeredClasses[\"CSVParser\"] = CSVParser;\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    return DataSource;\r\n}(BaseObjectEvents));\r\nexport { DataSource };\r\n//# sourceMappingURL=DataSource.js.map","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","/**\r\n * Export module.\r\n *\r\n * Parts of Export functionality rely on the following third party libraries:\r\n *\r\n * [canvg.js](https://github.com/canvg/canvg)\r\n * Copyright (c) Gabe Lerner\r\n * Licensed under [MIT](https://github.com/canvg/canvg/blob/master/LICENSE)\r\n *\r\n * [pdfmake](http://pdfmake.org/)\r\n * Copyright (c) 2014 bpampuch\r\n * Licensed under [MIT](https://github.com/bpampuch/pdfmake/blob/master/LICENSE)\r\n *\r\n * [SheetJS Community Edition](https://github.com/sheetjs/js-xlsx)\r\n * Licensed under [Apache License 2.0](https://github.com/SheetJS/js-xlsx/blob/master/LICENSE)\r\n *\r\n * [JSZip](http://stuartk.com/jszip)\r\n * Copyright (c) Stuart Knightley\r\n * Dual licenced under the [MIT license or GPLv3](https://raw.githubusercontent.com/Stuk/jszip/master/LICENSE.markdown).\r\n */\r\nimport { __awaiter, __extends, __generator } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ExportMenu } from \"./ExportMenu\";\r\nimport { Adapter } from \"../utils/Adapter\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { Modal } from \"../elements/Modal\";\r\nimport { List } from \"../utils/List\";\r\nimport { Dictionary } from \"../utils/Dictionary\";\r\nimport { DateFormatter } from \"../formatters/DateFormatter\";\r\nimport { DurationFormatter } from \"../formatters/DurationFormatter\";\r\nimport { NumberFormatter } from \"../formatters/NumberFormatter\";\r\nimport { Language } from \"../utils/Language\";\r\nimport { Validatable } from \"../utils/Validatable\";\r\nimport { color } from \"../utils/Color\";\r\nimport { registry } from \"../Registry\";\r\nimport { options } from \"../Options\";\r\nimport { StyleRule, getComputedStyle } from \"../utils/DOM\";\r\nimport * as $browser from \"../utils/Browser\";\r\nimport * as $object from \"../utils/Object\";\r\nimport * as $net from \"../utils/Net\";\r\nimport * as $dom from \"../utils/DOM\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $log from \"../utils/Log\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $array from \"../utils/Array\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $strings from \"../utils/Strings\";\r\n// This is used to cache the pdfmake loading\r\nvar pdfmakePromise;\r\n/**\r\n * Loads pdfmake dynamic module\r\n *\r\n * This is an asynchronous function. Check the description of `getImage()`\r\n * for description and example usage.\r\n *\r\n * @ignore Exclude from docs\r\n * @return Instance of pdfmake\r\n * @async\r\n */\r\nfunction _pdfmake() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var a, pdfmake, vfs_fonts, global;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, Promise.all([\r\n                        import(/* webpackChunkName: \"pdfmake\" */ \"pdfmake/build/pdfmake.js\"),\r\n                        import(/* webpackChunkName: \"pdfmake\" */ \"../../pdfmake/vfs_fonts\")\r\n                    ])];\r\n                case 1:\r\n                    a = _a.sent();\r\n                    pdfmake = a[0];\r\n                    vfs_fonts = a[1];\r\n                    global = window;\r\n                    global.pdfMake = global.pdfMake || {};\r\n                    global.pdfMake.vfs = vfs_fonts.default;\r\n                    pdfmake.vfs = vfs_fonts.default;\r\n                    return [2 /*return*/, pdfmake];\r\n            }\r\n        });\r\n    });\r\n}\r\n// TODO better parsing\r\nvar fontFamilySrcRegexp = /src: ([^;]+);/;\r\n// TODO better checks\r\nfunction supportsBlobUri() {\r\n    return window.navigator.msSaveOrOpenBlob != null;\r\n}\r\n// TODO move into utils or something ?\r\nfunction blobToDataUri(blob) {\r\n    return new Promise(function (resolve, reject) {\r\n        // TODO handle abort ?\r\n        var f = new FileReader();\r\n        f.onload = function (e) { resolve(f.result); };\r\n        f.onerror = function (e) { reject(e); };\r\n        f.readAsDataURL(blob);\r\n    });\r\n}\r\nfunction getCssRules(s) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var sheet, e_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    sheet = s.sheet;\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 2, , 4]);\r\n                    return [2 /*return*/, sheet.cssRules];\r\n                case 2:\r\n                    e_1 = _a.sent();\r\n                    return [4 /*yield*/, new Promise(function (success, error) {\r\n                            s.addEventListener(\"load\", function () {\r\n                                success(sheet.cssRules);\r\n                            }, true);\r\n                            s.addEventListener(\"error\", function (e) {\r\n                                error(e);\r\n                            }, true);\r\n                            setTimeout(function () {\r\n                                error(new Error(\"Timeout while waiting for <style> to load\"));\r\n                            }, 10000);\r\n                        })];\r\n                case 3: \r\n                // Needed because of https://bugzilla.mozilla.org/show_bug.cgi?id=625013\r\n                return [2 /*return*/, _a.sent()];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n// This loads a stylesheet by URL and then calls the function with it\r\n// TODO this should be moved into utils or something\r\nfunction loadStylesheet(doc, url, f) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var response, e_2, s, rules;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 2, , 3]);\r\n                    return [4 /*yield*/, $net.load(url)];\r\n                case 1:\r\n                    response = _a.sent();\r\n                    return [3 /*break*/, 3];\r\n                case 2:\r\n                    e_2 = _a.sent();\r\n                    console.error(\"Failed to load stylesheet\", url, e_2);\r\n                    return [2 /*return*/];\r\n                case 3:\r\n                    s = doc.createElement(\"style\");\r\n                    s.textContent = response.response;\r\n                    doc.head.appendChild(s);\r\n                    _a.label = 4;\r\n                case 4:\r\n                    _a.trys.push([4, , 7, 8]);\r\n                    return [4 /*yield*/, getCssRules(s)];\r\n                case 5:\r\n                    rules = _a.sent();\r\n                    return [4 /*yield*/, eachStylesheet(doc, url, rules, f)];\r\n                case 6:\r\n                    _a.sent();\r\n                    return [3 /*break*/, 8];\r\n                case 7:\r\n                    doc.head.removeChild(s);\r\n                    return [7 /*endfinally*/];\r\n                case 8: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n// This calls a function for each CSSRule inside of a CSSStyleSheet.\r\n// If the CSSStyleSheet has any @import, then it will recursively call the function for those CSSRules too.\r\n// TODO this should be moved into utils or something\r\nfunction eachStylesheet(doc, topUrl, rules, f) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var promises, length, i, rule, url;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    promises = [];\r\n                    length = rules.length;\r\n                    for (i = 0; i < length; i++) {\r\n                        rule = rules[i];\r\n                        if (rule.type === CSSRule.IMPORT_RULE) {\r\n                            url = rule.href;\r\n                            if (url) {\r\n                                url = $utils.joinUrl(topUrl, url);\r\n                                promises.push(loadStylesheet(doc, url, f));\r\n                            }\r\n                        }\r\n                        else {\r\n                            f(topUrl, rule);\r\n                        }\r\n                    }\r\n                    if (!promises.length) return [3 /*break*/, 2];\r\n                    return [4 /*yield*/, Promise.all(promises)];\r\n                case 1:\r\n                    _a.sent();\r\n                    _a.label = 2;\r\n                case 2: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n// This calls a function for each CSSRule for all of the stylesheets in the page.\r\n// If the CSSStyleSheet has any @import, then it will recursively call the function for those CSSRules too.\r\n// TODO this should be moved into utils or something\r\nfunction eachStylesheets(f) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var iframe, doc_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    iframe = document.createElement(\"iframe\");\r\n                    // This causes it to use the same origin policy as the parent page\r\n                    iframe.src = \"about:blank\";\r\n                    // This tries to make it more accessible for screen readers\r\n                    iframe.setAttribute(\"title\", \"\");\r\n                    document.head.appendChild(iframe);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, , 3, 4]);\r\n                    doc_1 = iframe.contentDocument;\r\n                    // TODO use $dom.getRoot instead of document ?\r\n                    return [4 /*yield*/, Promise.all($array.map(document.styleSheets, function (sheet) {\r\n                            var url = sheet.href;\r\n                            if (url == null) {\r\n                                return eachStylesheet(doc_1, location.href, sheet.cssRules, f);\r\n                            }\r\n                            else {\r\n                                url = $utils.joinUrl(location.href, url);\r\n                                return loadStylesheet(doc_1, url, f);\r\n                            }\r\n                        }))];\r\n                case 2:\r\n                    // TODO use $dom.getRoot instead of document ?\r\n                    _a.sent();\r\n                    return [3 /*break*/, 4];\r\n                case 3:\r\n                    document.head.removeChild(iframe);\r\n                    return [7 /*endfinally*/];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * [[Export]] allows downloading of current snapshot of the chart as an\r\n * image, PDF, or its data in various formats.\r\n *\r\n * The export functionality is enabled by default in charts and is accessible\r\n * via API or optional export menu.\r\n *\r\n * To enable menu, simply access export's `menu` property. E.g.:\r\n *\r\n * ```TypeScript\r\n * chart.exporting.menu = new am4core.ExportMenu();\r\n * ```\r\n * ```JavaScript\r\n * chart.exporting.menu = new am4core.ExportMenu();\r\n * ```\r\n * ```JSON\r\n * {\r\n *   // ...\r\n *   \"exporting\": {\r\n *     \"menu\": {}\r\n *   }\r\n * }\r\n * ```\r\n *\r\n * To export via API, use `export()` method:\r\n *\r\n * ```TypeScript\r\n * chart.exporting.export(type, [options]);\r\n * ```\r\n * ```JavaScript\r\n * chart.exporting.export(type, [options]);\r\n * ```\r\n *\r\n * E.g.:\r\n *\r\n * ```TypeScript\r\n * chart.exporting.export(\"png\");\r\n * ```\r\n * ```JavaScript\r\n * chart.exporting.export(\"png\");\r\n * ```\r\n *\r\n * @todo Better loading indicator?\r\n * @todo Implement multiplier option\r\n * @todo Handling of hanged exports\r\n * @important\r\n */\r\nvar Export = /** @class */ (function (_super) {\r\n    __extends(Export, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Export(container) {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Adapter.\r\n         */\r\n        _this.adapter = new Adapter(_this);\r\n        /**\r\n         * Holds options for each format.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._formatOptions = new Dictionary();\r\n        /**\r\n         * Extra [[Sprite]] elements to include in exports.\r\n         */\r\n        _this._extraSprites = [];\r\n        /**\r\n         * A list of [[Sprite]] elements that need to be valid before export\r\n         * commences.\r\n         */\r\n        _this._validateSprites = [];\r\n        /**\r\n         * Holds an array of data field names. If set, exported data fields will try\r\n         * to maintain this order.\r\n         *\r\n         * If not set (default), the export will try to maintain the same order as\r\n         * in source data, or as in `dataFields` (if set).\r\n         *\r\n         * @since 4.9.7\r\n         */\r\n        _this.dataFieldsOrder = [];\r\n        /**\r\n         * Indicates whether data fields were generated dynamically (`true`) or\r\n         * if they were pre-set by the user (`false`).\r\n         */\r\n        _this._dynamicDataFields = true;\r\n        /**\r\n         * Holds a list of objects that were temporarily removed from the DOM while\r\n         * exporting. Those most probably are tainted images, or foreign objects that\r\n         * would otherwise prevent SVG to be converted to canvas.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._removedObjects = new List();\r\n        /**\r\n         * Holds references to the objects that were temporarily hidden when export\r\n         * started, so that we can reveal them back when export ends.\r\n         */\r\n        _this._hiddenObjects = [];\r\n        /**\r\n         * Indicates if non-exportable objects are now hidden;\r\n         */\r\n        _this._objectsAlreadyHidden = false;\r\n        /**\r\n         * Exported files will be prefixed with whatever it is set here.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._filePrefix = \"amCharts\";\r\n        /**\r\n         * If you are using web fonts (such as Google Fonts), your chart might be\r\n         * using them as well.\r\n         *\r\n         * Normally, exporting to image will require to download these fonts so the\r\n         * are carried over to exported image.\r\n         *\r\n         * This setting can be used to disable or enable this functionality.\r\n         *\r\n         * @default true\r\n         */\r\n        _this.useWebFonts = true;\r\n        /**\r\n         * Many modern displays have use more actual pixels per displayed pixel. This\r\n         * results in sharper images on screen. Unfortunately, when exported to a\r\n         * bitmap image of the sam width/height size it will lose those extra pixels,\r\n         * resulting in somewhat blurry image.\r\n         *\r\n         * This is why we are going to export images larger than they are, so that we\r\n         * don't lose any details.\r\n         *\r\n         * If you'd rather export images without change in size, set this to `false`.\r\n         *\r\n         * @default true\r\n         */\r\n        _this.useRetina = true;\r\n        /**\r\n         * By default Export will try to use built-in method for transforming chart\r\n         * into an image for download, then fallback to external library (canvg) for\r\n         * conversion if failed.\r\n         *\r\n         * Setting this to `false` will force use of external library for all export\r\n         * operations.\r\n         *\r\n         * It might be useful to turn off simplified export if you are using strict\r\n         * content security policies, that disallow images with blobs as their\r\n         * source.\r\n         *\r\n         * @default true\r\n         * @since 4.2.5\r\n         */\r\n        _this.useSimplifiedExport = true;\r\n        /**\r\n         * If export operation takes longer than milliseconds in this second, we will\r\n         * show a modal saying export operation took longer than expected.\r\n         */\r\n        _this.timeoutDelay = 2000;\r\n        _this._exportRunning = false;\r\n        /**\r\n         * Indicator used by [[Component]].\r\n         *\r\n         * @ignore\r\n         */\r\n        _this._prevHasData = false;\r\n        _this._container = container;\r\n        _this.className = \"Export\";\r\n        // Set default options\r\n        _this._formatOptions.setKey(\"png\", {});\r\n        _this._formatOptions.setKey(\"jpg\", {\r\n            quality: 0.8\r\n        });\r\n        _this._formatOptions.setKey(\"gif\", {});\r\n        _this._formatOptions.setKey(\"svg\", {});\r\n        _this._formatOptions.setKey(\"pdf\", {\r\n            fontSize: 14,\r\n            imageFormat: \"png\",\r\n            align: \"left\",\r\n            addURL: true,\r\n            addColumnNames: true\r\n        });\r\n        _this._formatOptions.setKey(\"json\", {\r\n            indent: 2,\r\n            useLocale: true\r\n        });\r\n        _this._formatOptions.setKey(\"csv\", {\r\n            addColumnNames: true,\r\n            emptyAs: \"\"\r\n        });\r\n        _this._formatOptions.setKey(\"xlsx\", {\r\n            addColumnNames: true,\r\n            useLocale: true,\r\n            emptyAs: \"\"\r\n        });\r\n        _this._formatOptions.setKey(\"html\", {\r\n            addColumnNames: true,\r\n            emptyAs: \"\"\r\n        });\r\n        _this._formatOptions.setKey(\"pdfdata\", {\r\n            fontSize: 14,\r\n            imageFormat: \"png\",\r\n            addURL: true,\r\n            addColumnNames: true,\r\n            emptyAs: \"\"\r\n        });\r\n        _this._formatOptions.setKey(\"print\", {\r\n            delay: 500,\r\n            printMethod: \"iframe\"\r\n        });\r\n        // Add options adapter\r\n        _this.adapter.add(\"options\", function (arg) {\r\n            var formatOptions = _this._formatOptions.getKey(arg.type);\r\n            if (arg.options) {\r\n                arg.options = $object.merge(formatOptions, arg.options);\r\n            }\r\n            else {\r\n                arg.options = formatOptions;\r\n            }\r\n            return arg;\r\n        });\r\n        _this.applyTheme();\r\n        _this.dispatchImmediately(\"inited\");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Export.prototype, \"menu\", {\r\n        /**\r\n         * @return ExportMenu instance\r\n         */\r\n        get: function () {\r\n            return this._menu;\r\n        },\r\n        /**\r\n         * An instance of [[ExportMenu]].\r\n         *\r\n         * To add an export menu to a chart, set this to a new instance of\r\n         * [[ExportMenu]].\r\n         *\r\n         * ```TypeScript\r\n         * chart.exporting.menu = new am4core.ExportMenu();\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.exporting.menu = new am4core.ExportMenu();\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"exporting\": {\r\n         *     \"menu\": {}\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * @param menu  ExportMenu instance\r\n         */\r\n        set: function (menu) {\r\n            var _this = this;\r\n            if (this._menu) {\r\n                this.removeDispose(this._menu);\r\n            }\r\n            this._menu = menu;\r\n            // Set container and language\r\n            this._menu.container = this.container;\r\n            this._menu.language = this._language;\r\n            // Add adapter to check for browser support\r\n            this._menu.adapter.add(\"branch\", function (arg) {\r\n                arg.branch.unsupported = !_this.typeSupported(arg.branch.type);\r\n                return arg;\r\n            });\r\n            // Add click events\r\n            this._menu.events.on(\"hit\", function (ev) {\r\n                _this.export(ev.branch.type, ev.branch.options);\r\n                _this.menu.close();\r\n            });\r\n            this._menu.events.on(\"enter\", function (ev) {\r\n                _this.export(ev.branch.type, ev.branch.options);\r\n                _this.menu.close();\r\n            });\r\n            this._menu.events.on(\"over\", function (ev) {\r\n                _this._disablePointers();\r\n            });\r\n            this._menu.events.on(\"out\", function (ev) {\r\n                setTimeout(function () { _this._releasePointers(); }, 10);\r\n            });\r\n            // Dispatch event\r\n            this.dispatchImmediately(\"menucreated\");\r\n            // Prefix with Sprite's class name\r\n            this._menu.adapter.add(\"classPrefix\", function (obj) {\r\n                obj.classPrefix = options.classNamePrefix + obj.classPrefix;\r\n                return obj;\r\n            });\r\n            // Add menu to disposers so that it's destroyed when Export is disposed\r\n            this._disposers.push(this._menu);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if this specific menu item type is supported by current system.\r\n     *\r\n     * @param type  Menu item type\r\n     * @return `false` if not supported\r\n     */\r\n    Export.prototype.typeSupported = function (type) {\r\n        var supported = true;\r\n        var options = this.getFormatOptions(type);\r\n        if ($type.hasValue(options) && options.disabled) {\r\n            supported = false;\r\n        }\r\n        else if (type === \"pdf\") {\r\n            //supported = this.downloadSupport();\r\n        }\r\n        else if (type === \"xlsx\") {\r\n            //supported = (this.downloadSupport() && this._hasData()) ? true : false;\r\n            supported = this._hasData() ? true : false;\r\n        }\r\n        else if (type == \"print\" && !window.print) {\r\n            supported = false;\r\n        }\r\n        else if ([\"json\", \"csv\", \"html\", \"pdfdata\"].indexOf(type) !== -1 && !this._hasData()) {\r\n            supported = false;\r\n        }\r\n        return this.adapter.apply(\"supported\", {\r\n            supported: supported,\r\n            type: type\r\n        }).supported;\r\n    };\r\n    /**\r\n     * Checks if data is available.\r\n     *\r\n     * @return Has data?\r\n     */\r\n    Export.prototype._hasData = function () {\r\n        return this.data && this.data.length;\r\n    };\r\n    /**\r\n     * Get function to handle export for particular format.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Export.prototype._getFunction = function (type) {\r\n        switch (type) {\r\n            case \"png\":\r\n            case \"gif\":\r\n            case \"jpg\":\r\n                return this.getImage;\r\n            case \"svg\":\r\n                return this.getSVG;\r\n            case \"pdf\":\r\n            case \"pdfdata\":\r\n                return this.getPDF;\r\n            case \"xlsx\":\r\n                return this.getExcel;\r\n            case \"csv\":\r\n                return this.getCSV;\r\n            case \"json\":\r\n                return this.getJSON;\r\n            case \"html\":\r\n                return this.getHTML;\r\n            case \"print\":\r\n                return this.getPrint;\r\n            default:\r\n                return this.unsupported;\r\n        }\r\n    };\r\n    /**\r\n     * Initiates export procedure.\r\n     *\r\n     * @param type     Export type\r\n     * @param options  Options\r\n     * @return `true` if export was successful\r\n     * @async\r\n     */\r\n    Export.prototype.export = function (type, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var event_1, func, data, event_2, event_3;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // Check if it's a custom item, and do nothing or execute custom callback\r\n                        if (type == \"custom\") {\r\n                            this.handleCustom(options);\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        // Set export running flag\r\n                        this._exportRunning = true;\r\n                        // Dispatch event\r\n                        if (this.events.isEnabled(\"exportstarted\")) {\r\n                            event_1 = {\r\n                                \"type\": \"exportstarted\",\r\n                                \"target\": this,\r\n                                \"format\": type,\r\n                                \"options\": options\r\n                            };\r\n                            this.events.dispatchImmediately(\"exportstarted\", event_1);\r\n                        }\r\n                        // Schedule a preloader\r\n                        this.showPreloader();\r\n                        // Schedule a timeout\r\n                        if (this.timeoutDelay) {\r\n                            this.hideTimeout();\r\n                            this._timeoutTimeout = this.setTimeout(function () {\r\n                                // Dispatch event\r\n                                if (_this.events.isEnabled(\"exporttimedout\")) {\r\n                                    var event_4 = {\r\n                                        \"type\": \"exporttimedout\",\r\n                                        \"target\": _this,\r\n                                        \"format\": type,\r\n                                        \"options\": options\r\n                                    };\r\n                                    _this.events.dispatchImmediately(\"exporttimedout\", event_4);\r\n                                }\r\n                                // Show modal\r\n                                _this.showTimeout();\r\n                            }, this.timeoutDelay);\r\n                        }\r\n                        // Hide items that should not be exported\r\n                        this.hideNonExportableSprites();\r\n                        func = this._getFunction(type);\r\n                        // Give chance for plugins to override both function and options\r\n                        options = this.adapter.apply(\"options\", {\r\n                            options: options,\r\n                            type: type\r\n                        }).options;\r\n                        func = this.adapter.apply(\"exportFunction\", {\r\n                            func: func,\r\n                            type: type,\r\n                            options: options\r\n                        }).func;\r\n                        return [4 /*yield*/, func.call(this, type, options)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        // Release pointers\r\n                        this._exportRunning = false;\r\n                        this._releasePointers();\r\n                        // Restore temporarily hidden elements\r\n                        this.restoreNonExportableSprites();\r\n                        if (data) {\r\n                            // Dispatch event\r\n                            if (this.events.isEnabled(\"exportfinished\")) {\r\n                                event_2 = {\r\n                                    \"type\": \"exportfinished\",\r\n                                    \"target\": this,\r\n                                    \"format\": type,\r\n                                    \"options\": options\r\n                                };\r\n                                this.events.dispatchImmediately(\"exportfinished\", event_2);\r\n                            }\r\n                            // Hide preloader and timeout modals\r\n                            this.hidePreloader();\r\n                            this.hideTimeout();\r\n                            if (this.menu) {\r\n                                this.menu.close();\r\n                            }\r\n                            // Download or print\r\n                            if (type === \"print\") {\r\n                                return [2 /*return*/, this.print(data, options, this.adapter.apply(\"title\", {\r\n                                        title: this.title,\r\n                                        options: options\r\n                                    }).title)];\r\n                            }\r\n                            else {\r\n                                if (type == \"pdfdata\") {\r\n                                    return [2 /*return*/, this.download(data, this.filePrefix + \".pdf\")];\r\n                                }\r\n                                return [2 /*return*/, this.download(data, this.filePrefix + \".\" + type)];\r\n                            }\r\n                        }\r\n                        else {\r\n                            // Throw exception?\r\n                            // @todo\r\n                            // Dispatch event\r\n                            if (this.events.isEnabled(\"error\")) {\r\n                                event_3 = {\r\n                                    \"type\": \"error\",\r\n                                    \"target\": this,\r\n                                    \"format\": type,\r\n                                    \"options\": options\r\n                                };\r\n                                this.events.dispatchImmediately(\"error\", event_3);\r\n                            }\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * A function that should handle unsupported export types.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param type     Export type\r\n     * @param options  Options\r\n     * @return Promise\r\n     * @async\r\n     */\r\n    Export.prototype.unsupported = function (type, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                // TODO should this return `undefined`?\r\n                return [2 /*return*/, \"\"];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Handles click on a \"custom\" menu item.\r\n     *\r\n     * Basically, if it has \"callback\" enabled, it will be called. Nothing else.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param options  Options\r\n     */\r\n    Export.prototype.handleCustom = function (options) {\r\n        if ($type.hasValue(options) && $type.hasValue(options.callback)) {\r\n            options.callback.call(options.callbackTarget || this, options);\r\n        }\r\n    };\r\n    /**\r\n     * Requests a Print of the chart.\r\n     *\r\n     * @param type     Export type\r\n     * @param options  Options\r\n     * @return Promise\r\n     * @async\r\n     */\r\n    Export.prototype.getPrint = function (type, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.getImage(\"png\", options)];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * A function that returns data: URI encoded @font-family, so that way it can be embedded into SVG.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return String which can be embedded directly into a <style> element.\r\n     * @async\r\n     */\r\n    Export.prototype.getFontFamilies = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var DOMURL, blobs, promises, a;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        DOMURL = this.getDOMURL();\r\n                        blobs = [];\r\n                        promises = [];\r\n                        return [4 /*yield*/, eachStylesheets(function (topUrl, rule) {\r\n                                if (rule.type === CSSRule.FONT_FACE_RULE) {\r\n                                    var cssText_1 = rule.cssText;\r\n                                    // TODO this is necessary because Edge doesn't let you access the src using getPropertyValue\r\n                                    var src = fontFamilySrcRegexp.exec(cssText_1);\r\n                                    if (src !== null) {\r\n                                        // TODO make this faster (don't create Promises for non-url stuff)\r\n                                        var urls = src[1].split(/ *, */).map(function (url) { return __awaiter(_this, void 0, void 0, function () {\r\n                                            var a, after, fullUrl, response, url_1, e_3;\r\n                                            return __generator(this, function (_a) {\r\n                                                switch (_a.label) {\r\n                                                    case 0:\r\n                                                        a = /^url\\([\"']?([^\"'\\)]+)[\"']?\\)([^,]*)$/.exec(url);\r\n                                                        if (!(a === null)) return [3 /*break*/, 1];\r\n                                                        return [2 /*return*/, url];\r\n                                                    case 1:\r\n                                                        after = a[2];\r\n                                                        fullUrl = $utils.joinUrl(topUrl, a[1]);\r\n                                                        _a.label = 2;\r\n                                                    case 2:\r\n                                                        _a.trys.push([2, 7, , 8]);\r\n                                                        return [4 /*yield*/, $net.load(fullUrl, undefined, { responseType: \"blob\" })];\r\n                                                    case 3:\r\n                                                        response = _a.sent();\r\n                                                        if (!supportsBlobUri()) return [3 /*break*/, 4];\r\n                                                        url_1 = DOMURL.createObjectURL(response.blob);\r\n                                                        blobs.push(url_1);\r\n                                                        return [3 /*break*/, 6];\r\n                                                    case 4: return [4 /*yield*/, blobToDataUri(response.blob)];\r\n                                                    case 5:\r\n                                                        url_1 = _a.sent();\r\n                                                        _a.label = 6;\r\n                                                    case 6: \r\n                                                    // TODO should it should escape the URI ?\r\n                                                    return [2 /*return*/, \"url(\\\"\" + url_1 + \"\\\")\" + after];\r\n                                                    case 7:\r\n                                                        e_3 = _a.sent();\r\n                                                        console.error(\"Failed to load font\", fullUrl, e_3);\r\n                                                        return [2 /*return*/, null];\r\n                                                    case 8: return [2 /*return*/];\r\n                                                }\r\n                                            });\r\n                                        }); });\r\n                                        promises.push(Promise.all(urls).then(function (a) {\r\n                                            a = a.filter(function (x) { return x != null; });\r\n                                            if (a.length === 0) {\r\n                                                return \"\";\r\n                                            }\r\n                                            else {\r\n                                                return cssText_1.replace(fontFamilySrcRegexp, \"src: \" + a.join(\", \") + \";\");\r\n                                            }\r\n                                        }));\r\n                                    }\r\n                                }\r\n                            })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, Promise.all(promises)];\r\n                    case 2:\r\n                        a = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                blobs: blobs,\r\n                                cssText: a.filter(function (x) { return !!x; }).join(\"\\n\")\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Produces image output from the element.\r\n     *\r\n     * Converts to a `Canvas` first, then produces an image to download.\r\n     *\r\n     * This is an asynchronous function. Rather than returning a result, it\r\n     * returns a Promise.\r\n     *\r\n     * You can use `await` notion from other async functions, or `then()`\r\n     * anywhere else.\r\n     *\r\n     * ```TypeScript\r\n     * let img;\r\n     *\r\n     * // Async\r\n     * img = await chart.exporting.getImage( \"png\" );\r\n     *\r\n     * // Sync\r\n     * chart.exporting.getImage( \"png\" ).then( ( data ) => {\r\n     *   img = data;\r\n     * } );\r\n     * ```\r\n     * ```JavaScript\r\n     * var img;\r\n     * chart.exporting.getImage( \"png\" ).then( ( data ) => {\r\n     *   img = data;\r\n     * } );\r\n     * ```\r\n     *\r\n     * @param  type           Image format\r\n     * @param  options        Options\r\n     * @param  includeExtras  Should extra sprites be included if set?\r\n     * @return Promise\r\n     */\r\n    Export.prototype.getImage = function (type, options, includeExtras) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var prehidden, canvas, uri, e_4, data, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        prehidden = this._objectsAlreadyHidden;\r\n                        if (!prehidden) {\r\n                            this.hideNonExportableSprites();\r\n                        }\r\n                        if (!$type.hasValue(options)) {\r\n                            options = this.getFormatOptions(type);\r\n                        }\r\n                        // Wait for required elements to be ready before proceeding\r\n                        return [4 /*yield*/, this.awaitValidSprites()];\r\n                    case 1:\r\n                        // Wait for required elements to be ready before proceeding\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.simplifiedImageExport()];\r\n                    case 2:\r\n                        if (!_a.sent()) return [3 /*break*/, 10];\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _a.trys.push([3, 7, , 9]);\r\n                        return [4 /*yield*/, this.getCanvas(options)];\r\n                    case 4:\r\n                        canvas = _a.sent();\r\n                        if (!(includeExtras !== false)) return [3 /*break*/, 6];\r\n                        return [4 /*yield*/, this.addExtras(canvas, options)];\r\n                    case 5:\r\n                        canvas = _a.sent();\r\n                        _a.label = 6;\r\n                    case 6:\r\n                        uri = canvas.toDataURL(this.getContentType(type), options.quality);\r\n                        // Get rid of the canvas\r\n                        this.disposeCanvas(canvas);\r\n                        if (!prehidden) {\r\n                            this.restoreNonExportableSprites();\r\n                        }\r\n                        return [2 /*return*/, uri];\r\n                    case 7:\r\n                        e_4 = _a.sent();\r\n                        console.error(e_4.message + \"\\n\" + e_4.stack);\r\n                        $log.warn(\"Simple export failed, falling back to advanced export\");\r\n                        return [4 /*yield*/, this.getImageAdvanced(type, options, includeExtras)];\r\n                    case 8:\r\n                        data = _a.sent();\r\n                        if (!prehidden) {\r\n                            this.restoreNonExportableSprites();\r\n                        }\r\n                        return [2 /*return*/, data];\r\n                    case 9: return [3 /*break*/, 12];\r\n                    case 10: return [4 /*yield*/, this.getImageAdvanced(type, options, includeExtras)];\r\n                    case 11:\r\n                        data = _a.sent();\r\n                        if (!prehidden) {\r\n                            this.restoreNonExportableSprites();\r\n                        }\r\n                        return [2 /*return*/, data];\r\n                    case 12: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Adds extra elements to the canvas.\r\n     *\r\n     * @param  canvas   Original canvas\r\n     * @param  options  Options\r\n     */\r\n    Export.prototype.addExtras = function (canvas, options, advanced) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var middleLeft_1, middleTop_1, middleWidth_1, middleHeight_1, extraRight_1, extraBottom_1, extras, newCanvas, ctx_1, background, left_1, top_1, right_1, bottom_1;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.extraSprites.length) return [3 /*break*/, 2];\r\n                        middleLeft_1 = 0;\r\n                        middleTop_1 = 0;\r\n                        middleWidth_1 = canvas.width;\r\n                        middleHeight_1 = canvas.height;\r\n                        extraRight_1 = 0;\r\n                        extraBottom_1 = 0;\r\n                        return [4 /*yield*/, Promise.all($array.map(this.extraSprites, function (extraSprite) { return __awaiter(_this, void 0, void 0, function () {\r\n                                var extra, extraCanvas, extraWidth, extraHeight;\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0:\r\n                                            if (extraSprite instanceof Sprite) {\r\n                                                extra = {\r\n                                                    sprite: extraSprite,\r\n                                                    position: \"bottom\"\r\n                                                };\r\n                                            }\r\n                                            else {\r\n                                                extra = extraSprite;\r\n                                            }\r\n                                            // Set defaults\r\n                                            extra.position = extra.position || \"bottom\";\r\n                                            extra.marginTop = extra.marginTop || 0;\r\n                                            extra.marginRight = extra.marginRight || 0;\r\n                                            extra.marginBottom = extra.marginBottom || 0;\r\n                                            extra.marginLeft = extra.marginLeft || 0;\r\n                                            if (!advanced) return [3 /*break*/, 2];\r\n                                            return [4 /*yield*/, extra.sprite.exporting.getCanvasAdvanced(options)];\r\n                                        case 1:\r\n                                            extraCanvas = _a.sent();\r\n                                            return [3 /*break*/, 4];\r\n                                        case 2: return [4 /*yield*/, extra.sprite.exporting.getCanvas(options)];\r\n                                        case 3:\r\n                                            extraCanvas = _a.sent();\r\n                                            _a.label = 4;\r\n                                        case 4:\r\n                                            extraWidth = extraCanvas.width + extra.marginLeft + extra.marginRight;\r\n                                            extraHeight = extraCanvas.height + extra.marginTop + extra.marginBottom;\r\n                                            if (extra.position == \"top\") {\r\n                                                middleWidth_1 = extra.crop ? middleHeight_1 : $math.max(middleWidth_1, extraWidth);\r\n                                                middleTop_1 += extraHeight;\r\n                                            }\r\n                                            else if (extra.position == \"right\") {\r\n                                                middleHeight_1 = extra.crop ? middleHeight_1 : $math.max(middleHeight_1, extraHeight);\r\n                                                extraRight_1 += extraWidth;\r\n                                            }\r\n                                            else if (extra.position == \"left\") {\r\n                                                middleHeight_1 = extra.crop ? middleHeight_1 : $math.max(middleHeight_1, extraHeight);\r\n                                                middleLeft_1 += extraWidth;\r\n                                            }\r\n                                            else if (extra.position === \"bottom\") {\r\n                                                middleWidth_1 = extra.crop ? middleHeight_1 : $math.max(middleWidth_1, extraWidth);\r\n                                                extraBottom_1 += extraHeight;\r\n                                            }\r\n                                            return [2 /*return*/, {\r\n                                                    canvas: extraCanvas,\r\n                                                    position: extra.position,\r\n                                                    left: extra.marginLeft,\r\n                                                    top: extra.marginTop,\r\n                                                    width: extraWidth,\r\n                                                    height: extraHeight\r\n                                                }];\r\n                                    }\r\n                                });\r\n                            }); }))];\r\n                    case 1:\r\n                        extras = _a.sent();\r\n                        newCanvas = this.getDisposableCanvas();\r\n                        newCanvas.width = middleLeft_1 + middleWidth_1 + extraRight_1;\r\n                        newCanvas.height = middleTop_1 + middleHeight_1 + extraBottom_1;\r\n                        ctx_1 = newCanvas.getContext(\"2d\");\r\n                        background = this.backgroundColor || this.findBackgroundColor(this.sprite.dom);\r\n                        if (background) {\r\n                            ctx_1.fillStyle = background.toString();\r\n                            ctx_1.fillRect(0, 0, newCanvas.width, newCanvas.height);\r\n                        }\r\n                        left_1 = middleLeft_1;\r\n                        top_1 = middleTop_1;\r\n                        right_1 = left_1 + middleWidth_1;\r\n                        bottom_1 = top_1 + middleHeight_1;\r\n                        // Radiates outwards from center\r\n                        $array.each(extras, function (extra) {\r\n                            if (extra.position == \"top\") {\r\n                                top_1 -= extra.height;\r\n                                ctx_1.drawImage(extra.canvas, middleLeft_1 + extra.left, top_1 + extra.top);\r\n                            }\r\n                            else if (extra.position == \"right\") {\r\n                                ctx_1.drawImage(extra.canvas, right_1 + extra.left, middleTop_1 + extra.top);\r\n                                right_1 += extra.width;\r\n                            }\r\n                            else if (extra.position == \"left\") {\r\n                                left_1 -= extra.width;\r\n                                ctx_1.drawImage(extra.canvas, left_1 + extra.left, middleTop_1 + extra.top);\r\n                            }\r\n                            else if (extra.position === \"bottom\") {\r\n                                ctx_1.drawImage(extra.canvas, middleLeft_1 + extra.left, bottom_1 + extra.top);\r\n                                bottom_1 += extra.height;\r\n                            }\r\n                            _this.disposeCanvas(extra.canvas);\r\n                        });\r\n                        ctx_1.drawImage(canvas, middleLeft_1, middleTop_1);\r\n                        return [2 /*return*/, newCanvas];\r\n                    case 2: return [2 /*return*/, canvas];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns canvas representation of the [[Sprite]].\r\n     *\r\n     * @param   options  Options\r\n     * @return           Canvas\r\n     */\r\n    Export.prototype.getCanvas = function (options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var background, DOMURL, url, blobs, canvas, width, height, font, fontSize, scale, pixelRatio, ctx, promises, a, data, svg, img;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // Options are set?\r\n                        if (!$type.hasValue(options)) {\r\n                            options = {};\r\n                        }\r\n                        background = this.backgroundColor || this.findBackgroundColor(this.sprite.dom);\r\n                        DOMURL = this.getDOMURL();\r\n                        url = null;\r\n                        blobs = null;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, , 4, 5]);\r\n                        width = this.sprite.pixelWidth;\r\n                        height = this.sprite.pixelHeight;\r\n                        font = $dom.findFont(this.sprite.dom);\r\n                        fontSize = $dom.findFontSize(this.sprite.dom);\r\n                        scale = options.scale || 1;\r\n                        pixelRatio = this.getPixelRatio(options);\r\n                        // Check if scale needs to be updated as per min/max dimensions\r\n                        scale = this.getAdjustedScale(width * pixelRatio, height * pixelRatio, scale, options);\r\n                        // Create canvas and its 2D context\r\n                        canvas = this.getDisposableCanvas();\r\n                        // Set canvas width/height\r\n                        canvas.style.width = width * scale + 'px';\r\n                        canvas.style.height = height * scale + 'px';\r\n                        canvas.width = width * scale;\r\n                        canvas.height = height * scale;\r\n                        ctx = canvas.getContext(\"2d\");\r\n                        // if (pixelRatio != 1) {\r\n                        // \tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\r\n                        // }\r\n                        // Add background if necessary\r\n                        if (background) {\r\n                            ctx.fillStyle = background.toString();\r\n                            ctx.fillRect(0, 0, width * scale, height * scale);\r\n                        }\r\n                        promises = [];\r\n                        if (this.useWebFonts) {\r\n                            // TODO what if one of the other things errors before it's been able to set `blobs` ?\r\n                            promises.push(this.getFontFamilies().then(function (fonts) {\r\n                                blobs = fonts.blobs;\r\n                                return fonts.cssText;\r\n                            }));\r\n                        }\r\n                        promises.push(this.imagesToDataURI(this.sprite.dom, options));\r\n                        promises.push(this.prepForeignObjects(this.sprite.dom, options));\r\n                        return [4 /*yield*/, Promise.all(promises)];\r\n                    case 2:\r\n                        a = _a.sent();\r\n                        data = this.normalizeSVG(\"<style>\" + a[0] + \"</style>\" + this.serializeElement(this.sprite.paper.defs) + this.serializeElement(this.sprite.dom), options, width, height, scale, font, fontSize);\r\n                        svg = new Blob([data], { type: \"image/svg+xml\" });\r\n                        url = DOMURL.createObjectURL(svg);\r\n                        return [4 /*yield*/, this.loadNewImage(url, width * scale * pixelRatio, height * scale * pixelRatio, \"anonymous\")];\r\n                    case 3:\r\n                        img = _a.sent();\r\n                        // Draw image on canvas\r\n                        ctx.drawImage(img, 0, 0);\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        if (url !== null) {\r\n                            DOMURL.revokeObjectURL(url);\r\n                        }\r\n                        if (blobs !== null) {\r\n                            $array.each(blobs, function (url) {\r\n                                DOMURL.revokeObjectURL(url);\r\n                            });\r\n                        }\r\n                        // Restore replaced tainted images in DOM\r\n                        this.restoreRemovedObjects();\r\n                        return [7 /*endfinally*/];\r\n                    case 5: return [2 /*return*/, canvas];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns canvas representation of the [[Sprite]] using canvg.\r\n     *\r\n     * @param   options  Options\r\n     * @return           Canvas\r\n     */\r\n    Export.prototype.getCanvasAdvanced = function (options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var background, canvg, width, height, font, fontSize, scale, pixelRatio, data, canvas, config;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // Options are set?\r\n                        if (!$type.hasValue(options)) {\r\n                            options = {};\r\n                        }\r\n                        // Convert external images to data uris\r\n                        return [4 /*yield*/, this.imagesToDataURI(this.sprite.dom, options)];\r\n                    case 1:\r\n                        // Convert external images to data uris\r\n                        _a.sent();\r\n                        background = this.backgroundColor || this.findBackgroundColor(this.sprite.dom);\r\n                        return [4 /*yield*/, this.canvg];\r\n                    case 2:\r\n                        canvg = _a.sent();\r\n                        width = this.sprite.pixelWidth;\r\n                        height = this.sprite.pixelHeight;\r\n                        font = $dom.findFont(this.sprite.dom);\r\n                        fontSize = $dom.findFontSize(this.sprite.dom);\r\n                        scale = options.scale || 1;\r\n                        pixelRatio = this.getPixelRatio(options);\r\n                        // Check if scale needs to be updated as per min/max dimensions\r\n                        scale = this.getAdjustedScale(width * pixelRatio, height * pixelRatio, scale, options);\r\n                        data = this.normalizeSVG(this.serializeElement(this.sprite.paper.defs) + this.serializeElement(this.sprite.dom), options, width, height, scale, font, fontSize, background);\r\n                        canvas = this.getDisposableCanvas();\r\n                        // Set canvas width/height\r\n                        canvas.style.width = (width * pixelRatio * scale) + 'px';\r\n                        canvas.style.height = (height * pixelRatio * scale) + 'px';\r\n                        canvas.width = width * pixelRatio * scale;\r\n                        canvas.height = height * pixelRatio * scale;\r\n                        config = {\r\n                            //ignoreDimensions: true,\r\n                            useCORS: true\r\n                        };\r\n                        if (pixelRatio != 1) {\r\n                            config.ignoreDimensions = true;\r\n                            config.scaleWidth = width * pixelRatio * scale;\r\n                            config.scaleHeight = height * pixelRatio * scale;\r\n                        }\r\n                        return [4 /*yield*/, canvg.fromString(canvas.getContext(\"2d\"), data, config).render()];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2 /*return*/, canvas];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Tries to dynamically load [canvg.js](https://github.com/canvg/canvg) and\r\n     * export an image using its functions.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @param type     Image format\r\n     * @param options  Options\r\n     * @return Data uri\r\n     */\r\n    Export.prototype.getImageAdvanced = function (type, options, includeExtras) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var prehidden, canvas, uri;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        prehidden = this._objectsAlreadyHidden;\r\n                        if (!prehidden) {\r\n                            this.hideNonExportableSprites();\r\n                        }\r\n                        if (!$type.hasValue(options)) {\r\n                            options = this.getFormatOptions(type);\r\n                        }\r\n                        return [4 /*yield*/, this.getCanvasAdvanced(options)];\r\n                    case 1:\r\n                        canvas = _a.sent();\r\n                        if (!(includeExtras !== false)) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.addExtras(canvas, options, true)];\r\n                    case 2:\r\n                        canvas = _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        uri = canvas.toDataURL(this.getContentType(type), options.quality);\r\n                        // Get rid of the canvas\r\n                        this.disposeCanvas(canvas);\r\n                        if (!prehidden) {\r\n                            this.restoreNonExportableSprites();\r\n                        }\r\n                        return [2 /*return*/, uri];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Creates a `<canvas>` element and returns it.\r\n     *\r\n     * @return Canvas element\r\n     */\r\n    Export.prototype.getDisposableCanvas = function () {\r\n        var canvas = document.createElement(\"canvas\");\r\n        canvas.style.position = \"fixed\";\r\n        canvas.style.top = \"-10000px\";\r\n        document.body.appendChild(canvas);\r\n        return canvas;\r\n    };\r\n    /**\r\n     * Removes canvas.\r\n     *\r\n     * @param canvas  Canvas element\r\n     */\r\n    Export.prototype.disposeCanvas = function (canvas) {\r\n        document.body.removeChild(canvas);\r\n    };\r\n    /**\r\n     * Returns pixel ratio for retina displays.\r\n     *\r\n     * @return Pixel ratio\r\n     */\r\n    Export.prototype.getPixelRatio = function (options) {\r\n        // const scale = options && options.scale ? options.scale : 1;\r\n        // return (this.useRetina ? $utils.getPixelRatio() : 1) * scale;\r\n        return this.useRetina ? $utils.getPixelRatio() : 1;\r\n    };\r\n    /**\r\n     * Calculates adjusted scale if image does not fit or is larger than min/max\r\n     * settings.\r\n     *\r\n     * @param   width    Width of the source image\r\n     * @param   height   Height of the source image\r\n     * @param   scale    Current scale\r\n     * @param   options  Options\r\n     * @return           Adjusted scale\r\n     */\r\n    Export.prototype.getAdjustedScale = function (width, height, scale, options) {\r\n        if (!options) {\r\n            return scale;\r\n        }\r\n        var adjWidth = width * scale;\r\n        var adjHeight = width * scale;\r\n        // Check max restrictions\r\n        var widthScale;\r\n        var heightScale;\r\n        if (options.maxWidth && (adjWidth > options.maxWidth)) {\r\n            widthScale = options.maxWidth / width;\r\n        }\r\n        if (options.maxHeight && (adjHeight > options.maxHeight)) {\r\n            heightScale = options.maxHeight / height;\r\n        }\r\n        if (widthScale || heightScale) {\r\n            return $math.min(widthScale, heightScale);\r\n        }\r\n        // Check min restrictions\r\n        if (options.minWidth && (adjWidth < options.minWidth)) {\r\n            widthScale = options.minWidth / width;\r\n        }\r\n        if (options.minHeight && (adjHeight < options.minHeight)) {\r\n            heightScale = options.minHeight / height;\r\n        }\r\n        if (widthScale || heightScale) {\r\n            return $math.max(widthScale, heightScale);\r\n        }\r\n        return scale;\r\n    };\r\n    /**\r\n     * Converts all `<image>` tags in SVG to use data uris instead of external\r\n     * URLs\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param el       SVG node\r\n     * @param options  Options\r\n     * @return Promise\r\n     */\r\n    Export.prototype.imagesToDataURI = function (el, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var images, promises, count, i, image, href;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        images = el.querySelectorAll(\"image\");\r\n                        if (!images.length) return [3 /*break*/, 2];\r\n                        promises = [];\r\n                        // There are images, process each of them\r\n                        for (count = images.length, i = 0; i < count; i++) {\r\n                            image = images[i];\r\n                            href = image.getAttributeNS(Export.XLINK, \"href\");\r\n                            // no href?\r\n                            if (!href) {\r\n                                continue;\r\n                            }\r\n                            if (href.indexOf(\"data:image\") !== -1) {\r\n                                // Ignore image if it's already in Data URI format\r\n                            }\r\n                            else {\r\n                                // SVG or bitmap image?\r\n                                if (href.indexOf(\".svg\") !== -1) {\r\n                                    promises.push(this.svgToDataURI(image, options));\r\n                                }\r\n                                else {\r\n                                    promises.push(this.imageToDataURI(image, options));\r\n                                }\r\n                            }\r\n                        }\r\n                        return [4 /*yield*/, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * `foreignObject` elements cannot be exported. This function hides them\r\n     * temprarily. In the future it might try to convert them to SVG to make them\r\n     * exportable.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param el       SVG node\r\n     * @param options  Options\r\n     * @return Promise\r\n     */\r\n    Export.prototype.prepForeignObjects = function (el, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var objects, count, i;\r\n            return __generator(this, function (_a) {\r\n                objects = el.querySelectorAll(\"foreignObject\");\r\n                if (objects.length) {\r\n                    // There are foreign objects, process each of them\r\n                    for (count = objects.length, i = 0; i < count; i++) {\r\n                        this.temporarilyRemoveObject(objects[i]);\r\n                    }\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Converts an SVG `<image>` to use its data uri for `href` instead of\r\n     * external file.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param el       SVG element\r\n     * @param options  Options\r\n     */\r\n    Export.prototype.imageToDataURI = function (el, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var img, canvas, uri, e_5;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this.loadNewImage(el.getAttributeNS(Export.XLINK, \"href\"), null, null, \"anonymous\")];\r\n                    case 1:\r\n                        // Create image\r\n                        img = _a.sent();\r\n                        canvas = document.createElement(\"canvas\");\r\n                        canvas.width = img.width;\r\n                        canvas.height = img.height;\r\n                        // Draw new image on it via `toDataURL`\r\n                        canvas.getContext(\"2d\").drawImage(img, 0, 0);\r\n                        // Replace image `href` with data uri\r\n                        // If we got to this point it means image has loaded, however we might\r\n                        // still get an error with `toDataURL()`\r\n                        try {\r\n                            uri = canvas.toDataURL();\r\n                            el.setAttribute(\"href\", uri);\r\n                            return [2 /*return*/, uri];\r\n                        }\r\n                        catch (e) {\r\n                            // Give up and temporarily remove the element href temporarily\r\n                            if (options.keepTainted !== false) {\r\n                                /*this._removedObjects.push({\r\n                                    \"element\": el,\r\n                                    \"originalHref\": el.getAttributeNS(Export.XLINK, \"href\")\r\n                                });\r\n                                el.setAttributeNS(Export.XLINK, \"href\", \"\");*/\r\n                                this.temporarilyRemoveObject(el);\r\n                            }\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        e_5 = _a.sent();\r\n                        // Give up and temporarily remove the element's href\r\n                        if (!options || options.keepTainted !== false) {\r\n                            /*this._removedObjects.push({\r\n                                \"element\": el,\r\n                                \"originalHref\": el.getAttributeNS(Export.XLINK, \"href\")\r\n                            });\r\n                            el.setAttributeNS(Export.XLINK, \"href\", \"\");*/\r\n                            this.temporarilyRemoveObject(el);\r\n                        }\r\n                        return [2 /*return*/, undefined];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Converts `<image>` with external SVG source to data uri. Loads external SVG\r\n     * file, then converts it to data uri and replaces the `xlink:href` parameter.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param el        An SVG element\r\n     * @param options   Options\r\n     */\r\n    Export.prototype.svgToDataURI = function (el, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var href, data, charset, uri, e_6;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        href = el.getAttributeNS(Export.XLINK, \"href\");\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, $net.load(href)];\r\n                    case 2:\r\n                        data = _a.sent();\r\n                        charset = this.adapter.apply(\"charset\", {\r\n                            charset: \"base64\",\r\n                            type: \"svg\",\r\n                            options: options\r\n                        }).charset;\r\n                        uri = this.adapter.apply(\"svgToDataURI\", {\r\n                            data: \"data:\" + this.getContentType(\"svg\") + \";\" + charset + \",\" + btoa(data.response),\r\n                            options: options\r\n                        }).data;\r\n                        el.setAttributeNS(Export.XLINK, \"href\", uri);\r\n                        return [2 /*return*/, uri];\r\n                    case 3:\r\n                        e_6 = _a.sent();\r\n                        // Disable temporarily\r\n                        if (!options || options.keepTainted !== false) {\r\n                            /*this._removedObjects.push({\r\n                                \"element\": el,\r\n                                \"originalHref\": href\r\n                            });\r\n                            el.setAttributeNS(Export.XLINK, \"href\", \"\");*/\r\n                            this.temporarilyRemoveObject(el);\r\n                        }\r\n                        return [2 /*return*/, undefined];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Temporarily removes element from DOM, and replaces it with a dummy\r\n     * placeholder, as well as stores it for later restoration.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param el Node\r\n     */\r\n    Export.prototype.temporarilyRemoveObject = function (el, placeholder) {\r\n        // Get parent\r\n        var parent = el.parentElement || el.parentNode;\r\n        // Create a placeholder group element if it has not been passed in\r\n        if (!placeholder) {\r\n            placeholder = this.sprite.paper.add(\"g\").node;\r\n        }\r\n        parent.insertBefore(placeholder, el);\r\n        // Check if we have a textContents we can replace with\r\n        // @todo Perhaps we should explore alternatives to creating text nodes\r\n        // i.e. creating a text version of the HTML-based Text, just for export\r\n        // purposes. Converting HTML into SVG is very complicated\r\n        if (el.textContent) {\r\n            /*let text = this.sprite.paper.add(\"text\").node;\r\n            text.textContent = el.textContent;\r\n            placeholder.appendChild(text);\r\n\r\n            // Copy properties from the removing element to the placeholder\r\n            $dom.copyAttributes(el, placeholder);*/\r\n        }\r\n        // Remove the old element\r\n        parent.removeChild(el);\r\n        // Log removed item\r\n        this._removedObjects.push({\r\n            \"element\": el,\r\n            \"placeholder\": placeholder\r\n        });\r\n    };\r\n    /**\r\n     * Restores all (possibly tainted or unsupported) objects that were\r\n     * temporarily removed when exporting.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Export.prototype.restoreRemovedObjects = function () {\r\n        var obj;\r\n        while (true) {\r\n            obj = this._removedObjects.pop();\r\n            if (!obj) {\r\n                break;\r\n            }\r\n            //obj.element.setAttribute(\"href\", obj.originalHref);\r\n            var parent_1 = obj.placeholder.parentElement || obj.placeholder.parentNode;\r\n            parent_1.insertBefore(obj.element, obj.placeholder);\r\n            //parent.removeChild(obj.placeholder);\r\n        }\r\n    };\r\n    /**\r\n     * Checkes if simplified export can be used using `createObjectURL` and SVG\r\n     * document does not contain any external images.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return `true` if simplified export can be used\r\n     */\r\n    Export.prototype.simplifiedImageExport = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var cache, canvas, ctx, DOMURL, svg, url, img, e_7, e_8;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.useSimplifiedExport === false) {\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        cache = registry.getCache(\"simplifiedImageExport\");\r\n                        if (cache === false || cache === true) {\r\n                            return [2 /*return*/, cache];\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 6, , 7]);\r\n                        canvas = document.createElement(\"canvas\");\r\n                        canvas.width = 1;\r\n                        canvas.height = 1;\r\n                        ctx = canvas.getContext(\"2d\");\r\n                        DOMURL = this.getDOMURL();\r\n                        svg = new Blob([this.normalizeSVG(\"<g></g>\", {}, 1, 1)], { type: \"image/svg+xml\" });\r\n                        url = DOMURL.createObjectURL(svg);\r\n                        img = void 0;\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 4, , 5]);\r\n                        return [4 /*yield*/, this.loadNewImage(url, 1, 1)];\r\n                    case 3:\r\n                        img = _a.sent();\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        e_7 = _a.sent();\r\n                        return [2 /*return*/, false];\r\n                    case 5:\r\n                        ctx.drawImage(img, 0, 0);\r\n                        DOMURL.revokeObjectURL(url);\r\n                        try {\r\n                            //let uri = canvas.toDataURL(\"image/png\");\r\n                            registry.setCache(\"simplifiedImageExport\", true);\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        catch (e) {\r\n                            registry.setCache(\"simplifiedImageExport\", false);\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        return [3 /*break*/, 7];\r\n                    case 6:\r\n                        e_8 = _a.sent();\r\n                        registry.setCache(\"simplifiedImageExport\", false);\r\n                        return [2 /*return*/, false];\r\n                    case 7: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns a new `<image>` element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param url          URL of the image\r\n     * @param width        Width (px)\r\n     * @param height       Height (px)\r\n     * @param crossOrigin  Cross-Origin setting\r\n     * @return Promise\r\n     */\r\n    Export.prototype.loadNewImage = function (url, width, height, crossOrigin) {\r\n        return new Promise(function (success, error) {\r\n            // New image\r\n            var image;\r\n            if (width && height) {\r\n                image = new Image(width, height);\r\n            }\r\n            else {\r\n                image = new Image();\r\n            }\r\n            // Set crossorigin\r\n            if (crossOrigin) {\r\n                image.setAttribute(\"crossOrigin\", crossOrigin);\r\n            }\r\n            // Report success on load\r\n            image.onload = function () {\r\n                success(image);\r\n            };\r\n            function onerror() {\r\n                // Error occurred. Just in case it's the crossOrigin issue, let's try\r\n                // stripping off this attribute and trying again\r\n                if (crossOrigin) {\r\n                    // Retain old uri\r\n                    var currentHref = image.src;\r\n                    // Set up another `onerror` to handle situations where image is not\r\n                    // loadable at all (i.e. protected by CORS)\r\n                    image.onerror = function () {\r\n                        // Nope, no luck\r\n                        error(new Error(\"Loading image \\\"\" + url + \"\\\" failed\"));\r\n                    };\r\n                    // remove the `crossOrigin` attribute\r\n                    image.removeAttribute(\"crossorigin\");\r\n                    // retry\r\n                    image.src = \"\";\r\n                    image.src = currentHref;\r\n                }\r\n                else {\r\n                    error(new Error(\"Loading image \\\"\" + url + \"\\\" failed\"));\r\n                }\r\n            }\r\n            // Set image error handlers\r\n            image.onabort = onerror;\r\n            image.onerror = onerror;\r\n            // Trigger load\r\n            image.src = url;\r\n        });\r\n    };\r\n    /**\r\n     * Returns current DOM URL.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return URL\r\n     */\r\n    Export.prototype.getDOMURL = function () {\r\n        return self.URL || self.webkitURL || self;\r\n    };\r\n    /**\r\n     * Returns an SVG representation of the chart.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @param type       Type of the export\r\n     * @param options    Options\r\n     * @param encodeURI  If true, will return result will be data URI\r\n     * @return Promise\r\n     */\r\n    Export.prototype.getSVG = function (type, options, encodeURI) {\r\n        if (encodeURI === void 0) { encodeURI = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var prehidden, width, height, font, fontSize, svg, charset, uri;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        prehidden = this._objectsAlreadyHidden;\r\n                        if (!prehidden) {\r\n                            this.hideNonExportableSprites();\r\n                        }\r\n                        // Wait for required elements to be ready before proceeding\r\n                        return [4 /*yield*/, this.awaitValidSprites()];\r\n                    case 1:\r\n                        // Wait for required elements to be ready before proceeding\r\n                        _a.sent();\r\n                        width = this.sprite.pixelWidth, height = this.sprite.pixelHeight, font = $dom.findFont(this.sprite.dom), fontSize = $dom.findFontSize(this.sprite.dom);\r\n                        svg = this.normalizeSVG(this.serializeElement(this.sprite.paper.defs) + this.serializeElement(this.sprite.dom), options, width, height, 1, font, fontSize);\r\n                        charset = this.adapter.apply(\"charset\", {\r\n                            charset: \"charset=utf-8\",\r\n                            type: \"svg\",\r\n                            options: options\r\n                        }).charset;\r\n                        uri = this.adapter.apply(\"getSVG\", {\r\n                            data: encodeURI ? \"data:\" + this.getContentType(type) + \";\" + charset + \",\" + encodeURIComponent(svg) : svg,\r\n                            options: options\r\n                        }).data;\r\n                        if (!prehidden) {\r\n                            this.restoreNonExportableSprites();\r\n                        }\r\n                        return [2 /*return*/, uri];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Checks if SVG is fully formatted. Encloses in `<svg>...</svg>` if\r\n     * necessary.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param svg       Input SVG\r\n     * @param options   Options\r\n     * @param width     Width of the SVG viewport\r\n     * @param height    Height of the SVG viewport\r\n     * @param font      Font family to use as a base\r\n     * @param fontSize  Font size to use as a base\r\n     * @return Output SVG\r\n     * @todo Add style params to existing <svg>\r\n     */\r\n    Export.prototype.normalizeSVG = function (svg, options, width, height, scale, font, fontSize, background) {\r\n        // Construct width/height params\r\n        var dimParams = \"\";\r\n        if (width) {\r\n            dimParams += \"width=\\\"\" + Math.round(width * scale) + \"px\\\" \";\r\n        }\r\n        if (height) {\r\n            dimParams += \"height=\\\"\" + Math.round(height * scale) + \"px\\\" \";\r\n        }\r\n        // Apply font settings\r\n        var styleParams = \"\";\r\n        if (font) {\r\n            styleParams += \"font-family: \" + font.replace(/\"/g, \"\") + \";\";\r\n        }\r\n        if (fontSize) {\r\n            styleParams += \"font-size: \" + fontSize + \";\";\r\n        }\r\n        // Scale\r\n        if (scale) {\r\n            dimParams += \"viewBox=\\\"0 0 \" + (width) + \" \" + (height) + \"\\\" \";\r\n        }\r\n        // Remove foreign objects temporarily\r\n        var fos = [];\r\n        var ms = svg.match(/<foreignObject[\\s\\S]*<\\/foreignObject>/gi);\r\n        if (ms) {\r\n            for (var i = 0; i < ms.length; i++) {\r\n                svg = svg.replace(ms[i], $strings.PLACEHOLDER);\r\n                fos.push(ms[i]);\r\n            }\r\n        }\r\n        // Add missing <svg> enclosure\r\n        if (!svg.match(/<svg/)) {\r\n            svg = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?><svg \" + dimParams + \" style=\\\"\" + styleParams + \"\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\" + svg + \"</svg>\";\r\n        }\r\n        else {\r\n            if (dimParams !== \"\") {\r\n                // Clear current params\r\n                svg = svg.replace(/(<svg[^>]*)width=\"[^\"]*\"/, \"$1\");\r\n                svg = svg.replace(/(<svg[^>]*)height=\"[^\"]*\"/, \"$1\");\r\n                // Add new params\r\n                svg = svg.replace(/(<svg)/, \"$1\" + dimParams);\r\n            }\r\n            /*if (styleParams !== \"\") {\r\n                // Clear current params\r\n                svg = svg.replace(/(<svg[^>]*)stylewidth=\"[^\"]*\"/, \"$1\");\r\n                svg = svg.replace(/(<svg[^>]*)height=\"[^\"]*\"/, \"$1\");\r\n\r\n                // Add new params\r\n                svg = svg.replace(/(<svg)/, \"$1\" + dimParams);\r\n            }*/\r\n        }\r\n        if (background) {\r\n            svg = svg.replace(/(<svg[^>]*>)/, \"$1<rect width=\\\"100%\\\" height=\\\"100%\\\" fill=\\\"\" + background.rgba + \"\\\"/>\");\r\n            //svg = svg.replace(/<\\/svg>/, \"<rect width=\\\"100%\\\" height=\\\"100%\\\" fill=\\\"\" + background.rgba + \"\\\"/></svg>\");\r\n        }\r\n        if ($browser.isInternetExplorer()) {\r\n            // IE can't handle exporting <feColorMatrix> for some reason\r\n            svg = svg.replace(/<feColorMatrix [^\\/>]*\\/>/gi, \"\");\r\n        }\r\n        // Remove base uri-related stuff\r\n        var reg = new RegExp(\"url\\\\(\" + $utils.escapeForRgex($utils.getBaseURI()), \"g\");\r\n        svg = svg.replace(reg, \"url(#\");\r\n        // Remove escaped quotes in url() parameters\r\n        svg = svg.replace(/url\\(&quot;([^)]*)&quot;\\)/gm, \"url($1)\");\r\n        // Put foreignObjects back in\r\n        if (fos.length) {\r\n            for (var i = 0; i < fos.length; i++) {\r\n                svg = svg.replace($strings.PLACEHOLDER, fos[i]);\r\n            }\r\n        }\r\n        svg = this.adapter.apply(\"normalizeSVG\", {\r\n            data: svg,\r\n            options: options\r\n        }).data;\r\n        return svg;\r\n    };\r\n    /**\r\n     * Serializes an element and returns its contents.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param element  An element to serialize\r\n     * @return A serialized XML\r\n     */\r\n    Export.prototype.serializeElement = function (element) {\r\n        return new XMLSerializer().serializeToString(element);\r\n    };\r\n    /**\r\n     * Returns a PDF containing chart image.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @param type     Type of the export\r\n     * @param options  Options\r\n     * @return Promise\r\n     * @async\r\n     * @todo Account for header when calculating vertical fit\r\n     */\r\n    Export.prototype.getPDF = function (type, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            function addFont(font) {\r\n                var paths = {};\r\n                paths.normal = font.normal.path;\r\n                vfs[font.normal.path] = font.normal.bytes;\r\n                if (font.bold) {\r\n                    paths.bold = font.bold.path;\r\n                    vfs[font.bold.path] = font.bold.bytes;\r\n                }\r\n                else {\r\n                    paths.bold = font.normal.path;\r\n                }\r\n                if (font.italics) {\r\n                    paths.italics = font.italics.path;\r\n                    vfs[font.italics.path] = font.italics.bytes;\r\n                }\r\n                else {\r\n                    paths.italics = font.normal.path;\r\n                }\r\n                if (font.bolditalics) {\r\n                    paths.bolditalics = font.bolditalics.path;\r\n                    vfs[font.bolditalics.path] = font.bolditalics.bytes;\r\n                }\r\n                else {\r\n                    paths.bolditalics = font.normal.path;\r\n                }\r\n                fonts[font.name] = paths;\r\n            }\r\n            var image, pdfmake, defaultMargins, doc, title, extraMargin, _a, _b, _c, fonts, vfs;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0: return [4 /*yield*/, this.getImage(options.imageFormat || \"png\", options)];\r\n                    case 1:\r\n                        image = _d.sent();\r\n                        return [4 /*yield*/, this.pdfmake];\r\n                    case 2:\r\n                        pdfmake = _d.sent();\r\n                        defaultMargins = [30, 30, 30, 30];\r\n                        doc = {\r\n                            pageSize: options.pageSize || \"A4\",\r\n                            pageOrientation: options.pageOrientation || \"portrait\",\r\n                            pageMargins: options.pageMargins || defaultMargins,\r\n                            defaultStyle: {\r\n                                font: options.font ? options.font.name : undefined,\r\n                            },\r\n                            //header: <any>[],\r\n                            content: []\r\n                        };\r\n                        title = this.adapter.apply(\"title\", {\r\n                            title: this.title,\r\n                            options: options\r\n                        }).title;\r\n                        extraMargin = 0;\r\n                        if (title) {\r\n                            doc.content.push({\r\n                                text: title,\r\n                                fontSize: options.fontSize,\r\n                                bold: true,\r\n                                margin: [0, 0, 0, 15]\r\n                            });\r\n                            // Add some leftover margin for title\r\n                            extraMargin += 50;\r\n                        }\r\n                        // Add page URL?\r\n                        if (options.addURL) {\r\n                            doc.content.push({\r\n                                text: this.language.translate(\"Saved from\") + \": \" + document.location.href,\r\n                                fontSize: options.fontSize,\r\n                                margin: [0, 0, 0, 15]\r\n                            });\r\n                            // Add some leftover margin for URL\r\n                            extraMargin += 50;\r\n                        }\r\n                        // Add image\r\n                        if (type != \"pdfdata\") {\r\n                            doc.content.push({\r\n                                image: image,\r\n                                alignment: options.align || \"left\",\r\n                                fit: this.getPageSizeFit(doc.pageSize, doc.pageMargins, extraMargin)\r\n                            });\r\n                        }\r\n                        if (!(type == \"pdfdata\" || options.addData)) return [3 /*break*/, 4];\r\n                        _b = (_a = doc.content).push;\r\n                        _c = {};\r\n                        return [4 /*yield*/, this.getPDFData(\"pdf\", options)];\r\n                    case 3:\r\n                        _b.apply(_a, [(_c.table = _d.sent(),\r\n                                _c)]);\r\n                        _d.label = 4;\r\n                    case 4:\r\n                        // Apply adapters\r\n                        doc = this.adapter.apply(\"pdfmakeDocument\", {\r\n                            doc: doc,\r\n                            options: options\r\n                        }).doc;\r\n                        fonts = null;\r\n                        vfs = null;\r\n                        if (options.font) {\r\n                            fonts = {};\r\n                            vfs = {};\r\n                            addFont(options.font);\r\n                            if (options.extraFonts) {\r\n                                $array.each(options.extraFonts, addFont);\r\n                            }\r\n                        }\r\n                        return [4 /*yield*/, new Promise(function (success, error) {\r\n                                pdfmake.createPdf(doc, null, fonts, vfs).getDataUrl(function (uri) {\r\n                                    success(uri);\r\n                                });\r\n                            })];\r\n                    case 5: \r\n                    // Create PDF\r\n                    return [2 /*return*/, _d.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns chart's data formatted suitable for PDF export (pdfmake).\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @since 4.7.0\r\n     * @param type     Type of the export\r\n     * @param options  Options\r\n     * @return Promise\r\n     * @async\r\n     */\r\n    Export.prototype.getPDFData = function (type, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var content, dataFields, data, dataFieldsOrder_1, len, i;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                content = {\r\n                    \"body\": []\r\n                };\r\n                dataFields = this.adapter.apply(\"formatDataFields\", {\r\n                    dataFields: this.dataFields,\r\n                    format: \"pdf\"\r\n                }).dataFields;\r\n                data = this.data;\r\n                // Vertical or horizontal (default) layout\r\n                if (options.pivot) {\r\n                    dataFieldsOrder_1 = this.adapter.apply(\"dataFieldsOrder\", {\r\n                        dataFieldsOrder: this.dataFieldsOrder,\r\n                        format: \"pdfdata\"\r\n                    }).dataFieldsOrder;\r\n                    $object.eachOrdered(dataFields, function (key, val) {\r\n                        var dataRow = [];\r\n                        if (options.addColumnNames) {\r\n                            dataRow.push(val);\r\n                        }\r\n                        for (var len = data.length, i = 0; i < len; i++) {\r\n                            var dataValue = data[i][key];\r\n                            dataRow.push(_this.convertToSpecialFormat(key, dataValue, options, true));\r\n                        }\r\n                        content.body.push(_this.getPDFDataRow(dataRow, options, undefined, true));\r\n                    }, function (a, b) {\r\n                        //console.log(a, b)\r\n                        var ai = dataFieldsOrder_1.indexOf(a);\r\n                        var bi = dataFieldsOrder_1.indexOf(b);\r\n                        if (ai > bi) {\r\n                            return 1;\r\n                        }\r\n                        else if (ai < bi) {\r\n                            return -1;\r\n                        }\r\n                        return 0;\r\n                    });\r\n                }\r\n                else {\r\n                    // Add column names?\r\n                    if (options.addColumnNames) {\r\n                        content.body.push(this.getPDFDataRow(dataFields, options, undefined, true));\r\n                        content.headerRows = 1;\r\n                    }\r\n                    for (len = data.length, i = 0; i < len; i++) {\r\n                        content.body.push(this.getPDFDataRow(data[i], options, dataFields));\r\n                    }\r\n                }\r\n                return [2 /*return*/, this.adapter.apply(\"pdfmakeTable\", {\r\n                        table: content,\r\n                        options: options\r\n                    }).table];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Formats a row of data for use in PDF data table (pdfmake).\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @since 4.7.0\r\n     * @param  row         An object holding data for the row\r\n     * @param  options     Options\r\n     * @param  dataFields  Data fields\r\n     * @param  asIs        Do not try to convert to dates\r\n     * @return Formated Data line\r\n     */\r\n    Export.prototype.getPDFDataRow = function (row, options, dataFields, asIs) {\r\n        var _this = this;\r\n        if (asIs === void 0) { asIs = false; }\r\n        // Init\r\n        var items = [];\r\n        // Data fields\r\n        if (!dataFields) {\r\n            dataFields = row;\r\n        }\r\n        // Data fields order\r\n        var dataFieldsOrder = this.adapter.apply(\"dataFieldsOrder\", {\r\n            dataFieldsOrder: this.dataFieldsOrder,\r\n            format: \"pdfdata\"\r\n        }).dataFieldsOrder;\r\n        // Process each row item\r\n        $object.eachOrdered(dataFields, function (key, name) {\r\n            // Get value\r\n            var value = _this.convertEmptyValue(key, row[key], options);\r\n            // Convert dates\r\n            var item = asIs ? value : _this.convertToSpecialFormat(key, value, options);\r\n            item = \"\" + item;\r\n            // Add to item\r\n            items.push(item);\r\n        }, function (a, b) {\r\n            //console.log(a, b)\r\n            var ai = dataFieldsOrder.indexOf(a);\r\n            var bi = dataFieldsOrder.indexOf(b);\r\n            if (ai > bi) {\r\n                return 1;\r\n            }\r\n            else if (ai < bi) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        });\r\n        return items;\r\n    };\r\n    /**\r\n     * Returns fit dimensions for available page sizes.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param pageSize Page size\r\n     * @return `[width, height]` in pixels\r\n     */\r\n    Export.prototype.getPageSizeFit = function (pageSize, margins, extraMargin) {\r\n        if (extraMargin === void 0) { extraMargin = 0; }\r\n        // Check margins\r\n        var newMargins = [0, 0, 0, 0];\r\n        if (typeof margins == \"number\") {\r\n            newMargins = [margins, margins, margins, margins];\r\n        }\r\n        else if (margins.length == 2) {\r\n            newMargins = [margins[0], margins[1], margins[0], margins[1]];\r\n        }\r\n        else if (margins.length == 4) {\r\n            newMargins = margins;\r\n        }\r\n        // Define available page sizes\r\n        var sizes = {\r\n            \"4A0\": [4767.87, 6740.79],\r\n            \"2A0\": [3370.39, 4767.87],\r\n            A0: [2383.94, 3370.39],\r\n            A1: [1683.78, 2383.94],\r\n            A2: [1190.55, 1683.78],\r\n            A3: [841.89, 1190.55],\r\n            A4: [595.28, 841.89],\r\n            A5: [419.53, 595.28],\r\n            A6: [297.64, 419.53],\r\n            A7: [209.76, 297.64],\r\n            A8: [147.40, 209.76],\r\n            A9: [104.88, 147.40],\r\n            A10: [73.70, 104.88],\r\n            B0: [2834.65, 4008.19],\r\n            B1: [2004.09, 2834.65],\r\n            B2: [1417.32, 2004.09],\r\n            B3: [1000.63, 1417.32],\r\n            B4: [708.66, 1000.63],\r\n            B5: [498.90, 708.66],\r\n            B6: [354.33, 498.90],\r\n            B7: [249.45, 354.33],\r\n            B8: [175.75, 249.45],\r\n            B9: [124.72, 175.75],\r\n            B10: [87.87, 124.72],\r\n            C0: [2599.37, 3676.54],\r\n            C1: [1836.85, 2599.37],\r\n            C2: [1298.27, 1836.85],\r\n            C3: [918.43, 1298.27],\r\n            C4: [649.13, 918.43],\r\n            C5: [459.21, 649.13],\r\n            C6: [323.15, 459.21],\r\n            C7: [229.61, 323.15],\r\n            C8: [161.57, 229.61],\r\n            C9: [113.39, 161.57],\r\n            C10: [79.37, 113.39],\r\n            RA0: [2437.80, 3458.27],\r\n            RA1: [1729.13, 2437.80],\r\n            RA2: [1218.90, 1729.13],\r\n            RA3: [864.57, 1218.90],\r\n            RA4: [609.45, 864.57],\r\n            SRA0: [2551.18, 3628.35],\r\n            SRA1: [1814.17, 2551.18],\r\n            SRA2: [1275.59, 1814.17],\r\n            SRA3: [907.09, 1275.59],\r\n            SRA4: [637.80, 907.09],\r\n            EXECUTIVE: [521.86, 756.00],\r\n            FOLIO: [612.00, 936.00],\r\n            LEGAL: [612.00, 1008.00],\r\n            LETTER: [612.00, 792.00],\r\n            TABLOID: [792.00, 1224.00]\r\n        };\r\n        // Calculate size\r\n        var fitSize = sizes[pageSize];\r\n        fitSize[0] -= newMargins[0] + newMargins[2];\r\n        fitSize[1] -= newMargins[1] + newMargins[3] + extraMargin;\r\n        return fitSize;\r\n    };\r\n    /**\r\n     * Returns an Excel file of chart's data.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @param type     Type of the export\r\n     * @param options  Options\r\n     * @return Promise\r\n     * @async\r\n     * @todo Handle dates\r\n     * @todo Support for multi-sheet\r\n     */\r\n    Export.prototype.getExcel = function (type, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var XLSX, wbOptions, sheetName, wb, data, dataFields, dataFieldsOrder_2, len, i, uri;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.xlsx];\r\n                    case 1:\r\n                        XLSX = _a.sent();\r\n                        wbOptions = this.adapter.apply(\"xlsxWorkbookOptions\", {\r\n                            options: {\r\n                                bookType: \"xlsx\",\r\n                                bookSST: false,\r\n                                type: \"base64\",\r\n                            }\r\n                        }).options;\r\n                        sheetName = this.normalizeExcelSheetName(this.adapter.apply(\"xlsxSheetName\", {\r\n                            name: this.title || this.language.translate(\"Data\")\r\n                        }).name);\r\n                        wb = {\r\n                            SheetNames: [sheetName],\r\n                            Sheets: {}\r\n                        };\r\n                        data = [];\r\n                        dataFields = this.adapter.apply(\"formatDataFields\", {\r\n                            dataFields: this.dataFields,\r\n                            format: \"xslx\"\r\n                        }).dataFields;\r\n                        // Vertical or horizontal (default) layout\r\n                        if (options.pivot) {\r\n                            dataFieldsOrder_2 = this.adapter.apply(\"dataFieldsOrder\", {\r\n                                dataFieldsOrder: this.dataFieldsOrder,\r\n                                format: \"xlsx\"\r\n                            }).dataFieldsOrder;\r\n                            $object.eachOrdered(dataFields, function (key, val) {\r\n                                var dataRow = [];\r\n                                if (options.addColumnNames) {\r\n                                    dataRow.push(val);\r\n                                }\r\n                                for (var len = _this.data.length, i = 0; i < len; i++) {\r\n                                    var dataValue = _this.data[i][key];\r\n                                    dataRow.push(_this.convertToSpecialFormat(key, dataValue, options, true));\r\n                                }\r\n                                data.push(_this.getExcelRow(dataRow, options, undefined, true));\r\n                            }, function (a, b) {\r\n                                //console.log(a, b)\r\n                                var ai = dataFieldsOrder_2.indexOf(a);\r\n                                var bi = dataFieldsOrder_2.indexOf(b);\r\n                                if (ai > bi) {\r\n                                    return 1;\r\n                                }\r\n                                else if (ai < bi) {\r\n                                    return -1;\r\n                                }\r\n                                return 0;\r\n                            });\r\n                        }\r\n                        else {\r\n                            // Add column names?\r\n                            if (options.addColumnNames) {\r\n                                data.push(this.getExcelRow(dataFields, options, undefined, true));\r\n                            }\r\n                            // Add lines\r\n                            for (len = this.data.length, i = 0; i < len; i++) {\r\n                                data.push(this.getExcelRow(this.data[i], options, dataFields));\r\n                            }\r\n                        }\r\n                        // Create sheet and add data\r\n                        wb.Sheets[sheetName] = XLSX.utils.aoa_to_sheet(data);\r\n                        // Apply adapters\r\n                        wb = this.adapter.apply(\"xlsxWorkbook\", {\r\n                            workbook: wb,\r\n                            options: options\r\n                        }).workbook;\r\n                        uri = this.adapter.apply(\"getExcel\", {\r\n                            data: \"data:\" + this.getContentType(type) + \";base64,\" + XLSX.write(wb, wbOptions),\r\n                            options: options\r\n                        }).data;\r\n                        return [2 /*return*/, uri];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * This is needed to work around Excel limitations.\r\n     *\r\n     * @param name  Source name\r\n     * @return Normalized name\r\n     */\r\n    Export.prototype.normalizeExcelSheetName = function (name) {\r\n        name = name.replace(/([:\\\\\\/?*\\[\\]]+)/g, \" \");\r\n        return $utils.truncateWithEllipsis(name, 31, \"...\", true);\r\n    };\r\n    /**\r\n     * Rertuns an array of values to be used as Excel row.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param  row         Row data\r\n     * @param  options     Options\r\n     * @param  dataFields  Data fields\r\n     * @param  asIs        Do not try to convert to dates\r\n     * @return Array of values\r\n     */\r\n    Export.prototype.getExcelRow = function (row, options, dataFields, asIs) {\r\n        var _this = this;\r\n        if (asIs === void 0) { asIs = false; }\r\n        // Init\r\n        var items = [];\r\n        // Data fields\r\n        if (!dataFields) {\r\n            dataFields = row;\r\n        }\r\n        // Data fields order\r\n        var dataFieldsOrder = this.adapter.apply(\"dataFieldsOrder\", {\r\n            dataFieldsOrder: this.dataFieldsOrder,\r\n            format: \"xlsx\"\r\n        }).dataFieldsOrder;\r\n        // Process each row item\r\n        $object.eachOrdered(dataFields, function (key, name) {\r\n            // Get value\r\n            var value = _this.convertEmptyValue(key, row[key], options);\r\n            // Convert dates\r\n            var item = asIs ? value : _this.convertToSpecialFormat(key, value, options, true);\r\n            items.push(item);\r\n        }, function (a, b) {\r\n            //console.log(a, b)\r\n            var ai = dataFieldsOrder.indexOf(a);\r\n            var bi = dataFieldsOrder.indexOf(b);\r\n            if (ai > bi) {\r\n                return 1;\r\n            }\r\n            else if (ai < bi) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        });\r\n        return items;\r\n    };\r\n    /**\r\n     * Returns chart's data formatted as CSV.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @param type       Type of the export\r\n     * @param options    Options\r\n     * @param encodeURI  If true, will return result will be data URI\r\n     * @return Promise\r\n     * @async\r\n     */\r\n    Export.prototype.getCSV = function (type, options, encodeURI) {\r\n        if (encodeURI === void 0) { encodeURI = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var csv, dataFields, br, data, dataFieldsOrder_3, len, i, row, charset, uri;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                csv = \"\";\r\n                dataFields = this.adapter.apply(\"formatDataFields\", {\r\n                    dataFields: this.dataFields,\r\n                    format: \"csv\"\r\n                }).dataFields;\r\n                br = \"\";\r\n                data = this.data;\r\n                // Vertical or horizontal (default) layout\r\n                if (options.pivot) {\r\n                    dataFieldsOrder_3 = this.adapter.apply(\"dataFieldsOrder\", {\r\n                        dataFieldsOrder: this.dataFieldsOrder,\r\n                        format: \"csv\"\r\n                    }).dataFieldsOrder;\r\n                    $object.eachOrdered(dataFields, function (key, val) {\r\n                        var dataRow = [];\r\n                        if (options.addColumnNames) {\r\n                            dataRow.push(val);\r\n                        }\r\n                        for (var len = data.length, i = 0; i < len; i++) {\r\n                            var dataValue = data[i][key];\r\n                            dataRow.push(_this.convertToSpecialFormat(key, dataValue, options, true));\r\n                        }\r\n                        csv += br + _this.getCSVRow(dataRow, options, undefined, true);\r\n                        br = \"\\n\";\r\n                    }, function (a, b) {\r\n                        var ai = dataFieldsOrder_3.indexOf(a);\r\n                        var bi = dataFieldsOrder_3.indexOf(b);\r\n                        if (ai > bi) {\r\n                            return -1;\r\n                        }\r\n                        else if (ai < bi) {\r\n                            return 1;\r\n                        }\r\n                        return 0;\r\n                    });\r\n                }\r\n                else {\r\n                    for (len = data.length, i = 0; i < len; i++) {\r\n                        row = this.getCSVRow(data[i], options, dataFields);\r\n                        if (options.reverse) {\r\n                            csv = row + br + csv;\r\n                        }\r\n                        else {\r\n                            csv += br + row;\r\n                        }\r\n                        br = \"\\n\";\r\n                    }\r\n                    // Add column names?\r\n                    if (options.addColumnNames) {\r\n                        csv = this.getCSVRow(dataFields, options, undefined, true) + br + csv;\r\n                    }\r\n                }\r\n                charset = this.adapter.apply(\"charset\", {\r\n                    charset: \"charset=utf-8\",\r\n                    type: type,\r\n                    options: options\r\n                }).charset;\r\n                uri = this.adapter.apply(\"getCSV\", {\r\n                    data: encodeURI ? \"data:\" + this.getContentType(type) + \";\" + charset + \",\" + encodeURIComponent(csv) : csv,\r\n                    options: options\r\n                }).data;\r\n                return [2 /*return*/, uri];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Formats a row of CSV data.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param  row         An object holding data for the row\r\n     * @param  options     Options\r\n     * @param  dataFields  Data fields\r\n     * @param  asIs        Do not try to convert to dates\r\n     * @return Formated CSV line\r\n     */\r\n    Export.prototype.getCSVRow = function (row, options, dataFields, asIs) {\r\n        var _this = this;\r\n        if (asIs === void 0) { asIs = false; }\r\n        // Init\r\n        var separator = options.separator || \",\";\r\n        var items = [];\r\n        // Data fields\r\n        if (!dataFields) {\r\n            dataFields = row;\r\n        }\r\n        // Data fields order\r\n        var dataFieldsOrder = this.adapter.apply(\"dataFieldsOrder\", {\r\n            dataFieldsOrder: this.dataFieldsOrder,\r\n            format: \"csv\"\r\n        }).dataFieldsOrder;\r\n        // Process each row item\r\n        $object.eachOrdered(dataFields, function (key, name) {\r\n            // Get value\r\n            var value = _this.convertEmptyValue(key, row[key], options);\r\n            // Check if we need to skip\r\n            // This is no longer required because we are iterating via dataFields anyway\r\n            /*if ($type.hasValue(this.dataFields) && !$type.hasValue(this.dataFields[key])) {\r\n                return;\r\n            }*/\r\n            // Convert dates\r\n            var item = asIs ? value : _this.convertToSpecialFormat(key, value, options);\r\n            // Cast and escape doublequotes\r\n            item = \"\" + item;\r\n            item = item.replace(/\"/g, '\"\"');\r\n            // Enclose into double quotes\r\n            if (options.forceQuotes || (item.search(new RegExp(\"\\\"|\\n|\" + separator, \"g\")) >= 0)) {\r\n                item = \"\\\"\" + item + \"\\\"\";\r\n            }\r\n            // Add to item\r\n            items.push(item);\r\n        }, function (a, b) {\r\n            //console.log(a, b)\r\n            var ai = dataFieldsOrder.indexOf(a);\r\n            var bi = dataFieldsOrder.indexOf(b);\r\n            if (ai > bi) {\r\n                return 1;\r\n            }\r\n            else if (ai < bi) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        });\r\n        return items.join(separator);\r\n    };\r\n    /**\r\n     * Returns chart's data formatted as HTML table.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @since 4.7.0\r\n     * @param type       Type of the export\r\n     * @param options    Options\r\n     * @param encodeURI  If true, will return result will be data URI\r\n     * @return Promise\r\n     * @async\r\n     */\r\n    Export.prototype.getHTML = function (type, options, encodeURI) {\r\n        if (encodeURI === void 0) { encodeURI = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var html, dataFields, data, dataFieldsOrder_4, len, i, charset, uri;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                html = \"<table>\";\r\n                if (options.tableClass) {\r\n                    html = \"<table class=\\\"\" + options.tableClass + \"\\\">\";\r\n                }\r\n                dataFields = this.adapter.apply(\"formatDataFields\", {\r\n                    dataFields: this.dataFields,\r\n                    format: \"html\"\r\n                }).dataFields;\r\n                data = this.data;\r\n                // Vertical or horizontal (default) layout\r\n                if (options.pivot) {\r\n                    dataFieldsOrder_4 = this.adapter.apply(\"dataFieldsOrder\", {\r\n                        dataFieldsOrder: this.dataFieldsOrder,\r\n                        format: \"html\"\r\n                    }).dataFieldsOrder;\r\n                    html += \"\\n<tbody>\";\r\n                    $object.eachOrdered(dataFields, function (key, val) {\r\n                        var dataRow = [];\r\n                        if (options.addColumnNames) {\r\n                            dataRow.push(val);\r\n                        }\r\n                        for (var len = data.length, i = 0; i < len; i++) {\r\n                            var dataValue = data[i][key];\r\n                            dataRow.push(_this.convertToSpecialFormat(key, dataValue, options, true));\r\n                        }\r\n                        html += \"\\n\" + _this.getHTMLRow(dataRow, options, undefined, true);\r\n                    }, function (a, b) {\r\n                        var ai = dataFieldsOrder_4.indexOf(a);\r\n                        var bi = dataFieldsOrder_4.indexOf(b);\r\n                        if (ai > bi) {\r\n                            return -1;\r\n                        }\r\n                        else if (ai < bi) {\r\n                            return 1;\r\n                        }\r\n                        return 0;\r\n                    });\r\n                    html += \"\\n</tbody>\";\r\n                }\r\n                else {\r\n                    // Add column names?\r\n                    if (options.addColumnNames) {\r\n                        html += \"\\n<thead>\\n\" + this.getHTMLRow(dataFields, options, undefined, true, true) + \"\\n</thead>\";\r\n                    }\r\n                    html += \"\\n<tbody>\";\r\n                    for (len = data.length, i = 0; i < len; i++) {\r\n                        html += \"\\n\" + this.getHTMLRow(data[i], options, dataFields);\r\n                    }\r\n                    html += \"\\n</tbody>\";\r\n                }\r\n                html += \"\\n</table>\";\r\n                charset = this.adapter.apply(\"charset\", {\r\n                    charset: \"charset=utf-8\",\r\n                    type: type,\r\n                    options: options\r\n                }).charset;\r\n                uri = this.adapter.apply(\"getHTML\", {\r\n                    data: encodeURI ? \"data:\" + this.getContentType(type) + \";\" + charset + \",\" + encodeURIComponent(html) : html,\r\n                    options: options\r\n                }).data;\r\n                return [2 /*return*/, uri];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Formats a row of HTML data.\r\n     *\r\n     * @since 4.7.0\r\n     * @ignore Exclude from docs\r\n     * @param  row         An object holding data for the row\r\n     * @param  options     Options\r\n     * @param  dataFields  Data fields\r\n     * @param  asIs        Do not try to convert to dates\r\n     * @return Formated HTML row\r\n     */\r\n    Export.prototype.getHTMLRow = function (row, options, dataFields, asIs, headerRow) {\r\n        var _this = this;\r\n        if (asIs === void 0) { asIs = false; }\r\n        if (headerRow === void 0) { headerRow = false; }\r\n        // Init output\r\n        var html = \"\\t<tr>\";\r\n        if (options.rowClass) {\r\n            html = \"\\t<tr class=\\\"\" + options.rowClass + \"\\\">\";\r\n        }\r\n        // Data fields\r\n        if (!dataFields) {\r\n            dataFields = row;\r\n        }\r\n        // Data fields order\r\n        var dataFieldsOrder = this.adapter.apply(\"dataFieldsOrder\", {\r\n            dataFieldsOrder: this.dataFieldsOrder,\r\n            format: \"html\"\r\n        }).dataFieldsOrder;\r\n        // th or dh?\r\n        var tag = headerRow ? \"th\" : \"td\";\r\n        // Process each row item\r\n        var first = true;\r\n        $object.eachOrdered(dataFields, function (key, name) {\r\n            // Get value\r\n            var value = _this.convertEmptyValue(key, row[key], options);\r\n            // Convert dates\r\n            var item = asIs ? value : _this.convertToSpecialFormat(key, value, options);\r\n            // Escape HTML entities\r\n            item = \"\" + item;\r\n            item = item.replace(/[\\u00A0-\\u9999<>\\&]/gim, function (i) {\r\n                return \"&#\" + i.charCodeAt(0) + \";\";\r\n            });\r\n            // Which tag to use\r\n            var useTag = tag;\r\n            if (options.pivot && first) {\r\n                useTag = \"th\";\r\n            }\r\n            // Add cell\r\n            if (options.cellClass) {\r\n                html += \"\\n\\t\\t<\" + useTag + \" class=\\\"\" + options.cellClass + \"\\\">\" + item + \"</\" + useTag + \">\";\r\n            }\r\n            else {\r\n                html += \"\\n\\t\\t<\" + useTag + \">\" + item + \"</\" + useTag + \">\";\r\n            }\r\n            first = false;\r\n        }, function (a, b) {\r\n            var ai = dataFieldsOrder.indexOf(a);\r\n            var bi = dataFieldsOrder.indexOf(b);\r\n            if (ai > bi) {\r\n                return 1;\r\n            }\r\n            else if (ai < bi) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        });\r\n        html += \"\\n\\t</tr>\";\r\n        return html;\r\n    };\r\n    /**\r\n     * Returns chart's data in JSON format.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @param type       Type of the export\r\n     * @param options    Options\r\n     * @param encodeURI  If true, will return result will be data URI\r\n     * @return Promise\r\n     * @async\r\n     */\r\n    Export.prototype.getJSON = function (type, options, encodeURI) {\r\n        if (encodeURI === void 0) { encodeURI = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data, dataFields, sourceData, _loop_1, len, i, json, charset, uri;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                dataFields = this.adapter.apply(\"formatDataFields\", {\r\n                    dataFields: this.dataFields,\r\n                    format: \"csv\"\r\n                }).dataFields;\r\n                if (!this._dynamicDataFields) {\r\n                    data = [];\r\n                    sourceData = this.data;\r\n                    _loop_1 = function (len, i) {\r\n                        var value = sourceData[i];\r\n                        if (typeof value == \"object\") {\r\n                            var newValue_1 = {};\r\n                            $object.each(value, function (field, item) {\r\n                                if ($type.hasValue(dataFields[field])) {\r\n                                    newValue_1[dataFields[field]] = _this.convertToSpecialFormat(field, item, options);\r\n                                }\r\n                            });\r\n                            data.push(newValue_1);\r\n                        }\r\n                    };\r\n                    for (len = sourceData.length, i = 0; i < len; i++) {\r\n                        _loop_1(len, i);\r\n                    }\r\n                }\r\n                else {\r\n                    data = this.data;\r\n                }\r\n                json = JSON.stringify(data, function (key, value) {\r\n                    if (typeof value == \"object\") {\r\n                        $object.each(value, function (field, item) {\r\n                            value[field] = _this.convertToSpecialFormat(field, item, options);\r\n                        });\r\n                    }\r\n                    return value;\r\n                }, options.indent);\r\n                charset = this.adapter.apply(\"charset\", {\r\n                    charset: \"charset=utf-8\",\r\n                    type: type,\r\n                    options: options\r\n                }).charset;\r\n                uri = this.adapter.apply(\"getJSON\", {\r\n                    data: encodeURI ? \"data:\" + this.getContentType(type) + \";\" + charset + \",\" + encodeURIComponent(json) : json,\r\n                    options: options\r\n                }).data;\r\n                return [2 /*return*/, uri];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Converts the value to proper date format.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param  field         Field name\r\n     * @param  value         Value\r\n     * @param  options       Options\r\n     * @param  keepOriginal  Will ignore formatting and will keep value as it is in data\r\n     * @return Formatted date value or unmodified value\r\n     */\r\n    Export.prototype.convertToSpecialFormat = function (field, value, options, keepOriginal) {\r\n        // Is this a timestamp or duration?\r\n        if (typeof value == \"number\") {\r\n            if (this.isDateField(field)) {\r\n                value = new Date(value);\r\n            }\r\n            else if (this.isDurationField(field)) {\r\n                return this.durationFormatter.format(value, this.durationFormat);\r\n            }\r\n            else if (this.isNumberField(field) && this.numberFormat) {\r\n                return this.numberFormatter.format(value, this.numberFormat);\r\n            }\r\n        }\r\n        if (value instanceof Date) {\r\n            if (options.useTimestamps) {\r\n                value = value.getTime();\r\n            }\r\n            else if (options.useLocale) {\r\n                if (!keepOriginal) {\r\n                    value = value.toLocaleString();\r\n                }\r\n            }\r\n            else {\r\n                value = this.dateFormatter.format(value, this.dateFormat);\r\n            }\r\n        }\r\n        else if ($type.isString(value) && this.isDateField(field) && this.dateFormat) {\r\n            value = this.dateFormatter.format(this.dateFormatter.parse(value), this.dateFormat);\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Converts empty value based on `emptyAs` option.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Export.prototype.convertEmptyValue = function (field, value, options) {\r\n        return $type.hasValue(value) ? value : options.emptyAs;\r\n    };\r\n    /**\r\n     * Triggers download of the file.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @param uri       Data URI with file content\r\n     * @param fileName  File name\r\n     * @return Promise\r\n     * @async\r\n     */\r\n    Export.prototype.download = function (uri, fileName) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var parts, contentType, decoded, blob_1, chars, i, charCode, blob, link_1, parts, contentType, decoded, blob_2, url_2, chars, i, charCode, blob, url_3, link, parts, contentType, iframe, idoc;\r\n            return __generator(this, function (_a) {\r\n                if (this.msBlobDownloadSupport()) {\r\n                    parts = uri.split(\";\");\r\n                    contentType = parts.shift().replace(/data:/, \"\");\r\n                    uri = decodeURIComponent(parts.join(\";\").replace(/^[^,]*,/, \"\"));\r\n                    // Check if we need to Base64-decode\r\n                    if ([\"image/svg+xml\", \"application/json\", \"text/csv\"].indexOf(contentType) == -1) {\r\n                        try {\r\n                            decoded = atob(uri);\r\n                            uri = decoded;\r\n                        }\r\n                        catch (e) {\r\n                            // Error occurred, meaning string was not Base64-encoded. Do nothing.\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                    }\r\n                    else {\r\n                        blob_1 = new Blob([uri], { type: contentType });\r\n                        window.navigator.msSaveBlob(blob_1, fileName);\r\n                        return [2 /*return*/, true];\r\n                    }\r\n                    chars = new Array(uri.length);\r\n                    for (i = 0; i < uri.length; ++i) {\r\n                        charCode = uri.charCodeAt(i);\r\n                        chars[i] = charCode;\r\n                    }\r\n                    blob = new Blob([new Uint8Array(chars)], { type: contentType });\r\n                    window.navigator.msSaveBlob(blob, fileName);\r\n                }\r\n                else if (this.blobDownloadSupport()) {\r\n                    link_1 = document.createElement(\"a\");\r\n                    link_1.download = fileName;\r\n                    document.body.appendChild(link_1);\r\n                    parts = uri.split(\";\");\r\n                    contentType = parts.shift().replace(/data:/, \"\");\r\n                    uri = decodeURIComponent(parts.join(\";\").replace(/^[^,]*,/, \"\"));\r\n                    if ([\"image/svg+xml\", \"application/json\", \"text/csv\", \"text/html\"].indexOf(contentType) == -1) {\r\n                        try {\r\n                            decoded = atob(uri);\r\n                            uri = decoded;\r\n                        }\r\n                        catch (e) {\r\n                            // Error occurred, meaning string was not Base64-encoded. Do nothing.\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                    }\r\n                    else {\r\n                        blob_2 = new Blob([uri], { type: contentType });\r\n                        url_2 = window.URL.createObjectURL(blob_2);\r\n                        link_1.href = url_2;\r\n                        link_1.download = fileName;\r\n                        link_1.click();\r\n                        setTimeout(function () {\r\n                            document.body.removeChild(link_1);\r\n                            window.URL.revokeObjectURL(url_2);\r\n                        }, 100);\r\n                        return [2 /*return*/, true];\r\n                    }\r\n                    chars = new Array(uri.length);\r\n                    for (i = 0; i < uri.length; ++i) {\r\n                        charCode = uri.charCodeAt(i);\r\n                        chars[i] = charCode;\r\n                    }\r\n                    blob = new Blob([new Uint8Array(chars)], { type: contentType });\r\n                    url_3 = window.URL.createObjectURL(blob);\r\n                    link_1.href = url_3;\r\n                    link_1.download = fileName;\r\n                    document.body.appendChild(link_1);\r\n                    link_1.click();\r\n                    document.body.removeChild(link_1);\r\n                    setTimeout(function () {\r\n                        window.URL.revokeObjectURL(url_3);\r\n                    }, 100);\r\n                }\r\n                else if (this.linkDownloadSupport()) {\r\n                    link = document.createElement(\"a\");\r\n                    link.download = fileName;\r\n                    link.href = uri;\r\n                    document.body.appendChild(link);\r\n                    link.click();\r\n                    document.body.removeChild(link);\r\n                }\r\n                else if (this.legacyIE()) {\r\n                    parts = uri.match(/^data:(.*);[ ]*([^,]*),(.*)$/);\r\n                    if (parts.length === 4) {\r\n                        // Base64-encoded or text-based stuff?\r\n                        if (parts[2] == \"base64\") {\r\n                            // Base64-encoded - probably an image\r\n                            if (parts[1].match(/^image\\//)) {\r\n                                // Yep, an image. Let's create a temporary image placeholder,\r\n                                // so that user can use do Save As.\r\n                                this.showModal(\"<img src=\\\"\" + uri + \"\\\" style=\\\"float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;\\\" />\" +\r\n                                    \"<p>\" + this.language.translate(\"To save the image, right-click thumbnail on the left and choose \\\"Save picture as...\\\"\") +\r\n                                    \"</p>\" +\r\n                                    \"<p style=\\\"text-align: center;\\\"><small>\" + this.language.translate(\"(Press ESC to close this message)\") + \"</small></p>\", this.language.translate(\"Image Export Complete\"));\r\n                            }\r\n                        }\r\n                        else {\r\n                            contentType = void 0;\r\n                            if (fileName.match(/\\.svg$/)) {\r\n                                contentType = \"image/svg+xml\";\r\n                            }\r\n                            else {\r\n                                contentType = \"text/plain\";\r\n                                fileName += \".txt\";\r\n                            }\r\n                            iframe = document.createElement(\"iframe\");\r\n                            iframe.width = \"1px\";\r\n                            iframe.height = \"1px\";\r\n                            iframe.style.display = \"none\";\r\n                            document.body.appendChild(iframe);\r\n                            idoc = iframe.contentDocument;\r\n                            idoc.open(contentType, \"replace\");\r\n                            // TODO test this with various encodings (e.g. UTF)\r\n                            //idoc.charset = parts[2].replace(/charset=/, \"\");\r\n                            idoc.write(decodeURIComponent(parts[3]));\r\n                            idoc.close();\r\n                            idoc.execCommand(\"SaveAs\", true, fileName);\r\n                            // Destroy the iframe\r\n                            document.body.removeChild(iframe);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    /**\r\n                     * Something else - perhaps a mobile.\r\n                     * Let's just display it in the same page.\r\n                     * (hey we don't like it either)\r\n                     */\r\n                    window.location.href = uri;\r\n                }\r\n                return [2 /*return*/, true];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns `true` if browser has any supported methods to trigger download\r\n     * of a binary file.\r\n     *\r\n     * @return Supports downloads?\r\n     */\r\n    Export.prototype.downloadSupport = function () {\r\n        //return !this.legacyIE();\r\n        return this.linkDownloadSupport() || this.msBlobDownloadSupport();\r\n    };\r\n    /**\r\n     * Checks if the browser supports \"download\" attribute on links.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Browser supports triggering downloads?\r\n     */\r\n    Export.prototype.linkDownloadSupport = function () {\r\n        // Do we have this cached?\r\n        var cache = registry.getCache(\"linkDownloadSupport\");\r\n        if (cache === false || cache === true) {\r\n            return cache;\r\n        }\r\n        var a = document.createElement(\"a\");\r\n        var res = typeof a.download !== \"undefined\";\r\n        registry.setCache(\"linkDownloadSupport\", res);\r\n        return res;\r\n    };\r\n    /**\r\n     * Checks if the browser supports download via `msBlob`.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Browser supports triggering downloads?\r\n     */\r\n    Export.prototype.blobDownloadSupport = function () {\r\n        return $type.hasValue(window.Blob);\r\n    };\r\n    /**\r\n     * Checks if the browser supports download via `msBlob`.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Browser supports triggering downloads?\r\n     */\r\n    Export.prototype.msBlobDownloadSupport = function () {\r\n        return $type.hasValue(window.navigator.msSaveOrOpenBlob);\r\n    };\r\n    /**\r\n     * Checks if this is a legacy version of IE.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return IE9 or less?\r\n     */\r\n    Export.prototype.legacyIE = function () {\r\n        // Create a temporary <div> with conditional tags in it an an <i> tag.\r\n        // Count <i>s. If there are some, we have IE9 or late on our hands.\r\n        var div = document.createElement(\"div\");\r\n        div.innerHTML = \"<!--[if lt IE 10]><i></i><![endif]-->\";\r\n        return div.getElementsByTagName(\"i\").length == 1;\r\n    };\r\n    /**\r\n     * Initiates print of the chart.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @param data     Data URI for the image\r\n     * @param options  Options\r\n     * @param title    Optional title to use (uses window's title by default)\r\n     * @return Promise\r\n     * @async\r\n     */\r\n    Export.prototype.print = function (data, options, title) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (options.printMethod == \"css\") {\r\n                    return [2 /*return*/, this.printViaCSS(data, options, title)];\r\n                }\r\n                else {\r\n                    return [2 /*return*/, this.printViaIframe(data, options, title)];\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    Export.prototype.printViaCSS = function (data, options, title) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var scroll, rule, originalTitle, img, isIOS;\r\n            return __generator(this, function (_a) {\r\n                scroll = document.documentElement.scrollTop || document.body.scrollTop;\r\n                rule = new StyleRule($dom.getShadowRoot(this.container), \"body > *\", {\r\n                    \"display\": \"none\",\r\n                    \"position\": \"fixed\",\r\n                    \"visibility\": \"hidden\",\r\n                    \"opacity\": \"0\",\r\n                    \"clipPath\": \"polygon(0px 0px,0px 0px,0px 0px,0px 0px);\"\r\n                });\r\n                if (title && document && document.title) {\r\n                    originalTitle = document.title;\r\n                    document.title = title;\r\n                }\r\n                img = new Image();\r\n                img.src = data;\r\n                img.style.maxWidth = \"100%\";\r\n                img.style.display = \"block\";\r\n                img.style.position = \"relative\";\r\n                img.style.visibility = \"visible\";\r\n                img.style.opacity = \"1\";\r\n                img.style.clipPath = \"none\";\r\n                document.body.appendChild(img);\r\n                // Print\r\n                this.setTimeout(function () {\r\n                    window.print();\r\n                }, 50);\r\n                isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n                if (isIOS && (options.delay < 1000)) {\r\n                    options.delay = 1000;\r\n                }\r\n                else if (options.delay < 100) {\r\n                    options.delay = 100;\r\n                }\r\n                // Delay function that resets back the document the way ot was before\r\n                this.setTimeout(function () {\r\n                    // Remove image\r\n                    document.body.removeChild(img);\r\n                    // Reset back all elements\r\n                    /*for (let len = items.length, i = 0; i < len; i++) {\r\n                        let item = <HTMLElement>items[i];\r\n                        if ($dom.isElement(item)) {\r\n                            item.style.display = states[i];\r\n                        }\r\n                    }*/\r\n                    rule.dispose();\r\n                    // Restore title\r\n                    if (originalTitle) {\r\n                        document.title = document.title;\r\n                    }\r\n                    // Scroll back the document the way it was before\r\n                    document.documentElement.scrollTop = document.body.scrollTop = scroll;\r\n                }, options.delay || 500);\r\n                return [2 /*return*/, true];\r\n            });\r\n        });\r\n    };\r\n    Export.prototype.printViaIframe = function (data, options, title) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var iframe, img, isIOS;\r\n            return __generator(this, function (_a) {\r\n                iframe = document.createElement(\"iframe\");\r\n                iframe.style.visibility = \"hidden\";\r\n                document.body.appendChild(iframe);\r\n                // This is needed for FireFox\r\n                iframe.contentWindow.document.open();\r\n                iframe.contentWindow.document.close();\r\n                img = new Image();\r\n                img.src = data;\r\n                img.style.maxWidth = \"100%\";\r\n                if (title) {\r\n                    iframe.contentWindow.document.title = title;\r\n                }\r\n                iframe.contentWindow.document.body.appendChild(img);\r\n                iframe.load = function () {\r\n                    iframe.contentWindow.document.body.appendChild(img);\r\n                };\r\n                // Print\r\n                this.setTimeout(function () {\r\n                    try {\r\n                        if (!iframe.contentWindow.document.execCommand(\"print\", false, null)) {\r\n                            iframe.contentWindow.print();\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        iframe.contentWindow.print();\r\n                    }\r\n                }, options.delay || 50);\r\n                isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n                if (isIOS && (options.delay < 1000)) {\r\n                    options.delay = 1000;\r\n                }\r\n                else if (options.delay < 100) {\r\n                    options.delay = 100;\r\n                }\r\n                // Delay function that resets back the document the way ot was before\r\n                this.setTimeout(function () {\r\n                    // Remove image\r\n                    document.body.removeChild(iframe);\r\n                }, options.delay + 50 || 100);\r\n                return [2 /*return*/, true];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Finds a background color for the element. If element is transparent it goes\r\n     * up the DOM hierarchy to find a parent element that does.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param element Element\r\n     * @return Color code\r\n     */\r\n    Export.prototype.findBackgroundColor = function (element) {\r\n        // Check if element has styles set\r\n        var opacity = 1, currentColor = getComputedStyle(element, \"background-color\");\r\n        // Check opacity\r\n        if (currentColor.match(/[^,]*,[^,]*,[^,]*,[ ]?0/) || currentColor == \"transparent\") {\r\n            opacity = 0;\r\n        }\r\n        if (opacity == 0) {\r\n            var parent_2 = element.parentElement; // || <Element>element.parentNode;\r\n            // Completely transparent. Look for a parent\r\n            if (parent_2) {\r\n                return this.findBackgroundColor(parent_2);\r\n            }\r\n            else {\r\n                return color(\"#fff\");\r\n            }\r\n        }\r\n        else {\r\n            return color(currentColor, opacity);\r\n        }\r\n    };\r\n    Object.defineProperty(Export.prototype, \"container\", {\r\n        /**\r\n         * @return Reference\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"container\", {\r\n                container: this._container\r\n            }).container;\r\n        },\r\n        /**\r\n         * A reference to a container to be used to place [[ExportMenu]] in.\r\n         *\r\n         * @param value Reference\r\n         */\r\n        set: function (value) {\r\n            this._container = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"sprite\", {\r\n        /**\r\n         * @return Sprite\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"sprite\", {\r\n                sprite: this._sprite\r\n            }).sprite;\r\n        },\r\n        /**\r\n         * A reference to [[Sprite]] to export. Can be any Sprite, including some\r\n         * internal elements.\r\n         *\r\n         * @param value Sprite\r\n         */\r\n        set: function (value) {\r\n            this._sprite = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"extraSprites\", {\r\n        /**\r\n         * @return Sprite\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"extraSprites\", {\r\n                extraSprites: this._extraSprites\r\n            }).extraSprites;\r\n        },\r\n        /**\r\n         * An array of extra [[Sprite]] elements to include in export.\r\n         *\r\n         * It can be used to export any external elements, or even other charts.\r\n         *\r\n         * E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * chart.exporting.extraSprites.push(chart2);\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.exporting.extraSprites.push(chart2);\r\n         * ```\r\n         *\r\n         * @since 4.2.0\r\n         * @param value Sprite\r\n         */\r\n        set: function (value) {\r\n            this._extraSprites = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"validateSprites\", {\r\n        /**\r\n         * @return Sprite\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"validateSprites\", {\r\n                validateSprites: this._validateSprites\r\n            }).validateSprites;\r\n        },\r\n        /**\r\n         * An array of [[Sprite]] elements that need to be valid before export\r\n         * commences.\r\n         *\r\n         * If any of those elements is not completely ready when export is triggered,\r\n         * the export will wait until they are (their `validated` event triggers)\r\n         * before going through with the export opertaion.\r\n         *\r\n         * This is useful if you need to modify chart appearance for the export.\r\n         *\r\n         * E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * // Add watermark\r\n         * let watermark = chart.createChild(am4core.Label);\r\n         * watermark.text = \"Copyright (C) 2019\";\r\n         * watermark.disabled = true;\r\n         *\r\n         * // Add watermark to validated sprites\r\n         * chart.exporting.validateSprites.push(watermark);\r\n         *\r\n         * // Enable watermark on export\r\n         * chart.exporting.events.on(\"exportstarted\", function(ev) {\r\n         *   watermark.disabled = false;\r\n         * });\r\n         *\r\n         * // Disable watermark when export finishes\r\n         * chart.exporting.events.on(\"exportfinished\", function(ev) {\r\n         *   watermark.disabled = true;\r\n         * });\r\n         * ```\r\n         * ```JavaScript\r\n         * // Add watermark\r\n         * var watermark = chart.createChild(am4core.Label);\r\n         * watermark.text = \"Copyright (C) 2019\";\r\n         * watermark.disabled = true;\r\n         *\r\n         * // Add watermark to validated sprites\r\n         * chart.exporting.validateSprites.push(watermark);\r\n         *\r\n         * // Enable watermark on export\r\n         * chart.exporting.events.on(\"exportstarted\", function(ev) {\r\n         *   watermark.disabled = false;\r\n         * });\r\n         *\r\n         * // Disable watermark when export finishes\r\n         * chart.exporting.events.on(\"exportfinished\", function(ev) {\r\n         *   watermark.disabled = true;\r\n         * });\r\n         * ```\r\n         *\r\n         * @since 4.6.8\r\n         * @param value Sprite\r\n         */\r\n        set: function (value) {\r\n            this._validateSprites = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"data\", {\r\n        /**\r\n         * @return Data\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"data\", {\r\n                data: this._data\r\n            }).data;\r\n        },\r\n        /**\r\n         * Data to export.\r\n         *\r\n         * @param value Data\r\n         */\r\n        set: function (value) {\r\n            this._data = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"dataFields\", {\r\n        /**\r\n         * @return Field names `{ field: fieldName }`\r\n         */\r\n        get: function () {\r\n            if (!this._dataFields) {\r\n                this.generateDataFields();\r\n            }\r\n            return this.adapter.apply(\"dataFields\", {\r\n                dataFields: this._dataFields\r\n            }).dataFields;\r\n        },\r\n        /**\r\n         * Data fields in `{ field: fieldName }` format. Those are used for\r\n         * exporting in data formats to name the columns.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/exporting/#Changing_order_and_names_of_columns} for examples and details\r\n         * @param value Field names\r\n         */\r\n        set: function (value) {\r\n            this._dataFields = value;\r\n            this._dynamicDataFields = false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Called after target chart's data updates.\r\n     *\r\n     * @ignore\r\n     */\r\n    Export.prototype.handleDataUpdated = function () {\r\n        if (this._dynamicDataFields) {\r\n            this._dataFields = undefined;\r\n        }\r\n        var hasData = this.data.length > 0;\r\n        if (this._prevHasData != hasData) {\r\n            this._prevHasData = hasData;\r\n            if (this.menu) {\r\n                this.menu.invalidate();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Export.prototype, \"dateFormatter\", {\r\n        /**\r\n         * @return A DateFormatter instance\r\n         */\r\n        get: function () {\r\n            if (!this._dateFormatter) {\r\n                this._dateFormatter = new DateFormatter();\r\n                this._dateFormatter.language = this.language;\r\n            }\r\n            return this.adapter.apply(\"dateFormatter\", {\r\n                dateFormatter: this._dateFormatter\r\n            }).dateFormatter;\r\n        },\r\n        /**\r\n         * A [[DateFormatter]] to use when formatting dates when exporting data.\r\n         *\r\n         * @param value DateFormatter instance\r\n         */\r\n        set: function (value) {\r\n            this._dateFormatter = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"dateFormat\", {\r\n        /**\r\n         * @return Date format\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"dateFormat\", {\r\n                dateFormat: this._dateFormat\r\n            }).dateFormat;\r\n        },\r\n        /**\r\n         * A date format to use for exporting dates. Will use [[DateFormatter]]\r\n         * format if not set.\r\n         *\r\n         * @param value Date format\r\n         */\r\n        set: function (value) {\r\n            this._dateFormat = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"dateFields\", {\r\n        /**\r\n         * @return Date field list\r\n         */\r\n        get: function () {\r\n            if (!this._dateFields) {\r\n                this._dateFields = new List();\r\n            }\r\n            return this.adapter.apply(\"dateFields\", {\r\n                dateFields: this._dateFields\r\n            }).dateFields;\r\n        },\r\n        /**\r\n         * A list of fields that hold date values.\r\n         *\r\n         * @param value Date field list\r\n         */\r\n        set: function (value) {\r\n            this._dateFields = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"numberFormatter\", {\r\n        /**\r\n         * @return A NumberFormatter instance\r\n         */\r\n        get: function () {\r\n            if (!this._numberFormatter) {\r\n                this._numberFormatter = new NumberFormatter();\r\n                this._numberFormatter.language = this.language;\r\n            }\r\n            return this.adapter.apply(\"numberFormatter\", {\r\n                numberFormatter: this._numberFormatter\r\n            }).numberFormatter;\r\n        },\r\n        /**\r\n         * A [[NumberFormatter]] to use when formatting dates when exporting data.\r\n         *\r\n         * @since 4.5.15\r\n         * @param value NumberFormatter instance\r\n         */\r\n        set: function (value) {\r\n            this._numberFormatter = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"numberFormat\", {\r\n        /**\r\n         * @return Number format\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"numberFormat\", {\r\n                numberFormat: this._numberFormat\r\n            }).numberFormat;\r\n        },\r\n        /**\r\n         * A number format to use for exporting dates. Will use [[NumberFormatter]]\r\n         * format if not set.\r\n         *\r\n         * @since 4.5.15\r\n         * @param value Number format\r\n         */\r\n        set: function (value) {\r\n            this._numberFormat = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"numberFields\", {\r\n        /**\r\n         * @return Number field list\r\n         */\r\n        get: function () {\r\n            if (!this._numberFields) {\r\n                this._numberFields = new List();\r\n            }\r\n            return this.adapter.apply(\"numberFields\", {\r\n                numberFields: this._numberFields\r\n            }).numberFields;\r\n        },\r\n        /**\r\n         * A list of fields that hold number values.\r\n         *\r\n         * @since 4.5.15\r\n         * @param value Number field list\r\n         */\r\n        set: function (value) {\r\n            this._numberFields = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"durationFormatter\", {\r\n        /**\r\n         * @return A DurationFormatter instance\r\n         */\r\n        get: function () {\r\n            if (!this._durationFormatter) {\r\n                this._durationFormatter = new DurationFormatter();\r\n                this._durationFormatter.language = this.language;\r\n            }\r\n            return this.adapter.apply(\"durationFormatter\", {\r\n                durationFormatter: this._durationFormatter\r\n            }).durationFormatter;\r\n        },\r\n        /**\r\n         * A [[DurationFormatter]] to use when formatting duration values when\r\n         * exporting data.\r\n         *\r\n         * @param value  DurationFormatter instance\r\n         */\r\n        set: function (value) {\r\n            this._durationFormatter = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"durationFormat\", {\r\n        /**\r\n         * @return Duration format\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"durationFormat\", {\r\n                durationFormat: this._durationFormat\r\n            }).durationFormat;\r\n        },\r\n        /**\r\n         * A format to use when formatting values from `durationFields`.\r\n         * Will use [[DurationFormatter]] format if not set.\r\n         *\r\n         * @param value Duration format\r\n         */\r\n        set: function (value) {\r\n            this._durationFormat = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"durationFields\", {\r\n        /**\r\n         * @return Duration field list\r\n         */\r\n        get: function () {\r\n            if (!this._durationFields) {\r\n                this._durationFields = new List();\r\n            }\r\n            return this.adapter.apply(\"durationFields\", {\r\n                durationFields: this._durationFields\r\n            }).durationFields;\r\n        },\r\n        /**\r\n         * A list of fields that hold duration values.\r\n         *\r\n         * @param value Duration field list\r\n         */\r\n        set: function (value) {\r\n            this._durationFields = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Generates data fields out of the first row of data.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Export.prototype.generateDataFields = function () {\r\n        var _this = this;\r\n        this._dataFields = {};\r\n        if (this.data.length) {\r\n            $array.each(this.data, function (row) {\r\n                $object.each(row, function (key, value) {\r\n                    if (!$type.hasValue(_this._dataFields[key])) {\r\n                        _this._dataFields[key] = _this.adapter.apply(\"dataFieldName\", {\r\n                            name: key,\r\n                            field: key\r\n                        }).name;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Cheks against `dateFields` property to determine if this field holds\r\n     * dates.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param field   Field name\r\n     * @param options Options\r\n     * @return `true` if it's a date field\r\n     */\r\n    Export.prototype.isDateField = function (field) {\r\n        return this.adapter.apply(\"isDateField\", {\r\n            isDateField: this.dateFields.contains(field),\r\n            field: field\r\n        }).isDateField;\r\n    };\r\n    /**\r\n     * Cheks against `numberFields` property to determine if this field holds\r\n     * numbers.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param field   Field name\r\n     * @param options Options\r\n     * @return `true` if it's a number field\r\n     */\r\n    Export.prototype.isNumberField = function (field) {\r\n        return this.adapter.apply(\"isNumberField\", {\r\n            isNumberField: this.numberFields.contains(field),\r\n            field: field\r\n        }).isNumberField;\r\n    };\r\n    /**\r\n     * Cheks against `durationFields` property to determine if this field holds\r\n     * durations.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param field   Field name\r\n     * @param options Options\r\n     * @return `true` if it's a date field\r\n     */\r\n    Export.prototype.isDurationField = function (field) {\r\n        return this.adapter.apply(\"isDurationField\", {\r\n            isDurationField: this.durationFields.contains(field),\r\n            field: field\r\n        }).isDurationField;\r\n    };\r\n    /**\r\n     * Returns proper content type for the export type.\r\n     *\r\n     * @param type  Export format/type\r\n     * @return Proper content type, i.e. \"image/jpeg\"\r\n     */\r\n    Export.prototype.getContentType = function (type) {\r\n        var contentType = \"\";\r\n        switch (type) {\r\n            case \"png\":\r\n            case \"gif\":\r\n                contentType = \"image/\" + type;\r\n                break;\r\n            case \"jpg\":\r\n                contentType = \"image/jpeg\";\r\n                break;\r\n            case \"svg\":\r\n                contentType = \"image/svg+xml\";\r\n                break;\r\n            case \"csv\":\r\n                contentType = \"text/csv\";\r\n                break;\r\n            case \"json\":\r\n                contentType = \"application/json\";\r\n                break;\r\n            case \"html\":\r\n                contentType = \"text/html\";\r\n                break;\r\n            case \"pdf\":\r\n            case \"pdfdata\":\r\n                contentType = \"application/pdf\";\r\n                break;\r\n            case \"xlsx\":\r\n                contentType = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\r\n                break;\r\n        }\r\n        return this.adapter.apply(\"contentType\", {\r\n            contentType: contentType,\r\n            type: type\r\n        }).contentType;\r\n    };\r\n    Object.defineProperty(Export.prototype, \"filePrefix\", {\r\n        /**\r\n         * @return File prefix\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"filePrefix\", {\r\n                filePrefix: this._filePrefix\r\n            }).filePrefix;\r\n        },\r\n        /**\r\n         * A file prefix to be used for all exported formats.\r\n         *\r\n         * Export will apply format-related extension to it. E.g. if this is set to\r\n         * \"myExport\", the file name of the PNG exported image will be \"myExport.png\".\r\n         *\r\n         * @param value File prefix\r\n         */\r\n        set: function (value) {\r\n            this._filePrefix = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"backgroundColor\", {\r\n        /**\r\n         * @return Background color\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"backgroundColor\", {\r\n                backgroundColor: this._backgroundColor\r\n            }).backgroundColor;\r\n        },\r\n        /**\r\n         * A background color to be used for exported images. If set, this will\r\n         * override the automatically acquired background color.\r\n         *\r\n         * @param value Color\r\n         */\r\n        set: function (value) {\r\n            this._backgroundColor = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"title\", {\r\n        /**\r\n         * @return Title\r\n         */\r\n        get: function () {\r\n            return this.adapter.apply(\"title\", {\r\n                title: this._title\r\n            }).title;\r\n        },\r\n        /**\r\n         * A title to be used when printing.\r\n         *\r\n         * @param value Title\r\n         */\r\n        set: function (value) {\r\n            this._title = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Displays a preloader/exporting indicator.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Add ability to change text\r\n     */\r\n    Export.prototype.showPreloader = function () {\r\n        var preloader = this.preloader;\r\n        if (preloader) {\r\n            preloader.progress = 0.5;\r\n            preloader.label.text = \"...\";\r\n        }\r\n    };\r\n    /**\r\n     * Hides preloader/exporting indicator\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Export.prototype.hidePreloader = function () {\r\n        var preloader = this.preloader;\r\n        if (preloader) {\r\n            preloader.progress = 1;\r\n        }\r\n    };\r\n    Object.defineProperty(Export.prototype, \"preloader\", {\r\n        /**\r\n         * Returns a an instance of [[Preloader]] associated with the Sprite being\r\n         * exported.\r\n         *\r\n         * @return Preloader\r\n         */\r\n        get: function () {\r\n            return this._sprite && this._sprite.parent && this._sprite.parent.preloader ?\r\n                this._sprite.parent.preloader :\r\n                undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Displays a modal saying export is taking longer than expected.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Export.prototype.showTimeout = function () {\r\n        this.showModal(this.adapter.apply(\"timeoutMessage\", {\r\n            message: this.language.translate(\"Export operation took longer than expected. Something might have gone wrong.\")\r\n        }).message);\r\n    };\r\n    /**\r\n     * Hides preloader/exporting indicator.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Export.prototype.hideTimeout = function () {\r\n        if (this._timeoutTimeout) {\r\n            this.removeDispose(this._timeoutTimeout);\r\n            this._timeoutTimeout = null;\r\n        }\r\n        this.hideModal();\r\n    };\r\n    Object.defineProperty(Export.prototype, \"language\", {\r\n        /**\r\n         * @return A [[Language]] instance to be used\r\n         */\r\n        get: function () {\r\n            if (!this._language) {\r\n                this._language = new Language();\r\n            }\r\n            return this._language;\r\n        },\r\n        /**\r\n         * A [[Language]] instance to be used for translations.\r\n         *\r\n         * @param value An instance of [[Language]]\r\n         */\r\n        set: function (value) {\r\n            this._language = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"modal\", {\r\n        /**\r\n         * Returns (and creates) [[Modal]].\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Modal instance\r\n         */\r\n        get: function () {\r\n            if (!this._modal) {\r\n                this._modal = new Modal();\r\n                // Prefix with Sprite's class name\r\n                this._modal.adapter.add(\"classPrefix\", function (value) {\r\n                    value = options.classNamePrefix + value;\r\n                    return value;\r\n                });\r\n            }\r\n            return this._modal;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Shows [[Modal]] with specific text.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text Modal contents\r\n     */\r\n    Export.prototype.showModal = function (text, title) {\r\n        // Hide previous modal and preloader\r\n        this.hideModal();\r\n        this.hidePreloader();\r\n        // Create modal\r\n        var modal = this.modal;\r\n        modal.container = this.sprite.svgContainer.SVGContainer;\r\n        modal.content = text;\r\n        modal.readerTitle = title;\r\n        modal.open();\r\n    };\r\n    /**\r\n     * Hides modal window if one's currently open.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Export.prototype.hideModal = function () {\r\n        if (this._modal) {\r\n            this.modal.close();\r\n        }\r\n    };\r\n    /**\r\n     * Loads canvg dynamic module.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Instance of canvg\r\n     * @async\r\n     */\r\n    Export.prototype._canvg = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var canvg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, import(/* webpackChunkName: \"canvg\" */ \"../../canvg/index.js\")];\r\n                    case 1:\r\n                        canvg = (_a.sent());\r\n                        if (canvg.default != null) {\r\n                            return [2 /*return*/, canvg.default];\r\n                        }\r\n                        else {\r\n                            return [2 /*return*/, canvg];\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(Export.prototype, \"canvg\", {\r\n        /**\r\n         * Returns canvg instance.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Instance of canvg\r\n         */\r\n        get: function () {\r\n            return this._canvg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Export.prototype, \"pdfmake\", {\r\n        /**\r\n         * Returns pdfmake instance.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Instance of pdfmake\r\n         */\r\n        get: function () {\r\n            if (pdfmakePromise == null) {\r\n                pdfmakePromise = _pdfmake();\r\n            }\r\n            return pdfmakePromise;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Loads xlsx dynamic module.\r\n     *\r\n     * This is an asynchronous function. Check the description of `getImage()`\r\n     * for description and example usage.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Instance of pdfmake\r\n     * @async\r\n     */\r\n    Export.prototype._xlsx = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, import(/* webpackChunkName: \"xlsx\" */ \"xlsx\")];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(Export.prototype, \"xlsx\", {\r\n        /**\r\n         * Returns xlsx instance.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Instance of pdfmake\r\n         */\r\n        get: function () {\r\n            return this._xlsx();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets options for a format.\r\n     */\r\n    Export.prototype.setFormatOptions = function (type, options) {\r\n        this._formatOptions.setKey(type, options);\r\n    };\r\n    /**\r\n     * Returns current options for a format.\r\n     */\r\n    Export.prototype.getFormatOptions = function (type) {\r\n        return this._formatOptions.getKey(type);\r\n    };\r\n    Object.defineProperty(Export.prototype, \"formatOptions\", {\r\n        /**\r\n         * A [[Dictionary]] object containing format-specific options.\r\n         *\r\n         * May be used to change specific option for the format:\r\n         *\r\n         * ```TypeScript\r\n         * chart.exporting.formatOptions.getKey(\"csv\").disabled = true;\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.exporting.formatOptions.getKey(\"csv\").disabled = true;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"exporting\": {\r\n         *     // ...\r\n         *     \"formatOptions\": {\r\n         *       \"csv\": {\r\n         *         \"disabled\": true\r\n         *       }\r\n         *     }\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * @since 4.9.12\r\n         * @return  Options\r\n         */\r\n        get: function () {\r\n            return this._formatOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Disables interactivity on parent chart.\r\n     */\r\n    Export.prototype._disablePointers = function () {\r\n        if (!$type.hasValue(this._spriteInteractionsEnabled)) {\r\n            this._spriteInteractionsEnabled = this.sprite.interactionsEnabled;\r\n        }\r\n        this.sprite.interactionsEnabled = false;\r\n    };\r\n    /**\r\n     * Releases temporarily disabled pointers on parent chart.\r\n     */\r\n    Export.prototype._releasePointers = function () {\r\n        if ($type.hasValue(this._spriteInteractionsEnabled) && !this._exportRunning) {\r\n            this.sprite.interactionsEnabled = this._spriteInteractionsEnabled;\r\n        }\r\n    };\r\n    /**\r\n     * Hides all elements that should not be included in the exported image.\r\n     */\r\n    Export.prototype.hideNonExportableSprites = function () {\r\n        var _this = this;\r\n        if (this._objectsAlreadyHidden) {\r\n            return;\r\n        }\r\n        var svgContainer = this.sprite.svgContainer;\r\n        if (svgContainer) {\r\n            $array.each(svgContainer.nonExportableSprites, function (item) {\r\n                if (!item.isHidden && !item.isHiding && item.visible) {\r\n                    _this._hiddenObjects.push(item);\r\n                }\r\n                item.hide(0);\r\n            });\r\n        }\r\n        this._objectsAlreadyHidden = true;\r\n    };\r\n    /**\r\n     * Respores elements that were hidden before export.\r\n     */\r\n    Export.prototype.restoreNonExportableSprites = function () {\r\n        if (!this._objectsAlreadyHidden) {\r\n            return;\r\n        }\r\n        $array.each(this._hiddenObjects, function (item) {\r\n            item.show(0);\r\n        });\r\n        this._hiddenObjects = [];\r\n        this._objectsAlreadyHidden = false;\r\n    };\r\n    /**\r\n     * Checks if there are elements that absolutely need to be validated before\r\n     * export.\r\n     *\r\n     * If there are invalid elements, it will await for them to be validated.\r\n     *\r\n     * @return Promise\r\n     */\r\n    Export.prototype.awaitValidSprites = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        promises = [];\r\n                        if (this.validateSprites.length) {\r\n                            $array.each(this.validateSprites, function (sprite, index) {\r\n                                if (sprite.invalid) {\r\n                                    promises.push(new Promise(function (resolve, reject) {\r\n                                        sprite.events.once(\"validated\", function (ev) {\r\n                                            resolve();\r\n                                        });\r\n                                    }));\r\n                                }\r\n                            });\r\n                        }\r\n                        if (!promises.length) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    Export.prototype.processConfig = function (config) {\r\n        registry.registeredClasses[\"ExportMenu\"] = ExportMenu;\r\n        if (config) {\r\n            // Set up menu\r\n            if ($type.hasValue(config.menu) && !$type.hasValue(config.menu.type)) {\r\n                config.menu.type = \"ExportMenu\";\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    /**\r\n     * XLINK namespace definition.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Export.XLINK = \"http://www.w3.org/1999/xlink\";\r\n    return Export;\r\n}(Validatable));\r\nexport { Export };\r\n//# sourceMappingURL=Export.js.map","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","/**\r\n * Functionality for drawing rectangles with waved edges.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Rectangle } from \"./Rectangle\";\r\nimport { wavedLine } from \"../rendering/Smoothing\";\r\nimport * as $path from \"../rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a rectangle with waved edges.\r\n *\r\n * @see {@link IWavedRectangleEvents} for a list of available events\r\n * @see {@link IWavedRectangleAdapters} for a list of available Adapters\r\n */\r\nvar WavedRectangle = /** @class */ (function (_super) {\r\n    __extends(WavedRectangle, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function WavedRectangle() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"WavedRectangle\";\r\n        // Add path element\r\n        _this.element = _this.paper.add(\"path\");\r\n        // Set defaults\r\n        _this.waveLength = 16;\r\n        _this.waveHeight = 4;\r\n        _this.tension = 0.8;\r\n        _this.setPropertyValue(\"wavedLeft\", true);\r\n        _this.setPropertyValue(\"wavedRight\", true);\r\n        _this.setPropertyValue(\"wavedTop\", true);\r\n        _this.setPropertyValue(\"wavedBottom\", true);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the waved rectangle.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    WavedRectangle.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var w = this.pixelWidth;\r\n        var h = this.pixelHeight;\r\n        if (w > 0 && h > 0) {\r\n            var p1 = { x: 0, y: 0 };\r\n            var p2 = { x: w, y: 0 };\r\n            var p3 = { x: w, y: h };\r\n            var p4 = { x: 0, y: h };\r\n            var waveLengthH = Math.min(w, this.waveLength);\r\n            var waveHeightH = Math.min(h, this.waveHeight);\r\n            var waveLengthV = Math.min(h, this.waveLength);\r\n            var waveHeightV = Math.min(w, this.waveHeight);\r\n            var td = \"\";\r\n            var rd = \"\";\r\n            var bd = \"\";\r\n            var ld = \"\";\r\n            if (this.wavedTop) {\r\n                td = wavedLine(p1, p2, waveLengthH, waveHeightH, this.tension, true);\r\n            }\r\n            if (this.wavedRight) {\r\n                rd = wavedLine(p2, p3, waveLengthV, waveHeightV, this.tension, true);\r\n            }\r\n            if (this.wavedBottom) {\r\n                bd = wavedLine(p3, p4, waveLengthH, waveHeightH, this.tension, true);\r\n            }\r\n            if (this.wavedLeft) {\r\n                ld = wavedLine(p4, p1, waveLengthV, waveHeightV, this.tension, true);\r\n            }\r\n            this.path = $path.moveTo(p1) + td + $path.lineTo(p2) + rd + $path.lineTo(p3) + bd + $path.lineTo(p4) + ld + \"z\";\r\n        }\r\n    };\r\n    Object.defineProperty(WavedRectangle.prototype, \"waveLength\", {\r\n        /**\r\n         * @return Wave length (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"waveLength\");\r\n        },\r\n        /**\r\n         * Wave length in pixels.\r\n         *\r\n         * @default 16\r\n         * @param value  Wave length (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"waveLength\", value);\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WavedRectangle.prototype, \"waveHeight\", {\r\n        /**\r\n         * @return Wave height (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"waveHeight\");\r\n        },\r\n        /**\r\n         * Wave height in pixels.\r\n         *\r\n         * @default 4\r\n         * @param value  Wave height (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"waveHeight\", value);\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets which side should be waved or not. If particular side is set to\r\n     * `false`, a straight line will be drawn on that side.\r\n     *\r\n     * @param top     Top waved?\r\n     * @param right   Right side waved?\r\n     * @param bottom  Bottom Waved?\r\n     * @param left    Left side waved?\r\n     */\r\n    WavedRectangle.prototype.setWavedSides = function (top, right, bottom, left) {\r\n        this.wavedTop = top;\r\n        this.wavedRight = right;\r\n        this.wavedBottom = bottom;\r\n        this.wavedLeft = left;\r\n    };\r\n    Object.defineProperty(WavedRectangle.prototype, \"tension\", {\r\n        /**\r\n         * @return Tension\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tension\");\r\n        },\r\n        /**\r\n         * Tension of the wave.\r\n         *\r\n         * @default 0.8\r\n         * @param value  Tension\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tension\", value);\r\n            this.invalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WavedRectangle.prototype, \"wavedRight\", {\r\n        /**\r\n         * @return Wave right side?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"wavedRight\");\r\n        },\r\n        /**\r\n         * Specifies if right side should be waved.\r\n         *\r\n         * @default true\r\n         * @param value Waved?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"wavedRight\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WavedRectangle.prototype, \"wavedLeft\", {\r\n        /**\r\n         * @return Wave left side?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"wavedLeft\");\r\n        },\r\n        /**\r\n         * Specifies if left side should be waved.\r\n         *\r\n         * @default true\r\n         * @param value Waved?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"wavedLeft\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WavedRectangle.prototype, \"wavedTop\", {\r\n        /**\r\n         * @return Wave top side?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"wavedTop\");\r\n        },\r\n        /**\r\n         * Specifies if top side should be waved.\r\n         *\r\n         * @default true\r\n         * @param value Waved?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"wavedTop\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WavedRectangle.prototype, \"wavedBottom\", {\r\n        /**\r\n         * @return Wave bottom side?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"wavedBottom\");\r\n        },\r\n        /**\r\n         * Specifies if bottom side should be waved.\r\n         *\r\n         * @default true\r\n         * @param value Waved?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"wavedBottom\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return WavedRectangle;\r\n}(Rectangle));\r\nexport { WavedRectangle };\r\n//# sourceMappingURL=WavedRectangle.js.map","// Also detects iOS\r\nexport function isSafari() {\r\n    return /apple/i.test(navigator.vendor);\r\n}\r\nexport function isInternetExplorer() {\r\n    return /MSIE |Trident\\//.test(navigator.userAgent);\r\n}\r\n//# sourceMappingURL=Browser.js.map","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","import * as $type from \"../utils/Type\";\r\n/**\r\n * Maps time period names to their numeric representations in milliseconds.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var timeUnitDurations = {\r\n    millisecond: 1,\r\n    second: 1000,\r\n    minute: 60000,\r\n    hour: 3600000,\r\n    day: 86400000,\r\n    week: 604800000,\r\n    month: 2592000000,\r\n    year: 31536000000\r\n};\r\n/**\r\n * Returns the next time unit that goes after source `unit`.\r\n *\r\n * E.g. \"hour\" is the next unit after \"minute\", etc.\r\n *\r\n * @ignore Exclude from docs\r\n * @param unit  Source time unit\r\n * @return Next time unit\r\n */\r\nexport function getNextUnit(unit) {\r\n    switch (unit) {\r\n        case \"year\":\r\n            return;\r\n        case \"month\":\r\n            return \"year\";\r\n        case \"week\":\r\n            return \"month\";\r\n        case \"day\":\r\n            return \"month\"; // not a mistake\r\n        case \"hour\":\r\n            return \"day\";\r\n        case \"minute\":\r\n            return \"hour\";\r\n        case \"second\":\r\n            return \"minute\";\r\n        case \"millisecond\":\r\n            return \"second\";\r\n    }\r\n}\r\n/**\r\n * Returns number of milliseconds in the `count` of time `unit`.\r\n *\r\n * Available units: \"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\",\r\n * \"month\", and \"year\".\r\n *\r\n * @ignore Exclude from docs\r\n * @param unit   Time unit\r\n * @param count  Number of units\r\n * @return Milliseconds\r\n */\r\nexport function getDuration(unit, count) {\r\n    if (!$type.hasValue(count)) {\r\n        count = 1;\r\n    }\r\n    return timeUnitDurations[unit] * count;\r\n}\r\n/**\r\n * Returns current `Date` object.\r\n *\r\n * @return Current date\r\n */\r\nexport function now() {\r\n    return new Date();\r\n}\r\n/**\r\n * Returns current timestamp.\r\n *\r\n * @return Current timestamp\r\n */\r\nexport function getTime() {\r\n    return now().getTime();\r\n}\r\n/**\r\n * Returns a copy of the `Date` object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param date  Source date\r\n * @return Copy\r\n */\r\nexport function copy(date) {\r\n    return new Date(date.getTime()); // todo: check if this is ok. new Date(date) used to strip milliseconds on FF in v3\r\n}\r\n/**\r\n * Checks if the `unit` part of two `Date` objects do not match. Two dates\r\n * represent a \"range\" of time, rather the same time date.\r\n *\r\n * @ignore Exclude from docs\r\n * @param dateOne  Date 1\r\n * @param dateTwo  Date 2\r\n * @param unit     Time unit to check\r\n * @return Range?\r\n */\r\nexport function checkChange(dateOne, dateTwo, unit, utc) {\r\n    dateOne = new Date(dateOne.getTime());\r\n    dateTwo = new Date(dateTwo.getTime());\r\n    var timeZoneOffset1 = 0;\r\n    var timeZoneOffset2 = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset1 = dateOne.getTimezoneOffset();\r\n        dateOne.setUTCMinutes(dateOne.getUTCMinutes() - timeZoneOffset1);\r\n        timeZoneOffset2 = dateTwo.getTimezoneOffset();\r\n        dateTwo.setUTCMinutes(dateTwo.getUTCMinutes() - timeZoneOffset2);\r\n    }\r\n    var changed = false;\r\n    switch (unit) {\r\n        case \"year\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"month\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"day\":\r\n            if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCDate() != dateTwo.getUTCDate()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"hour\":\r\n            if (dateOne.getUTCHours() != dateTwo.getUTCHours()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"minute\":\r\n            if (dateOne.getUTCMinutes() != dateTwo.getUTCMinutes()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"second\":\r\n            if (dateOne.getUTCSeconds() != dateTwo.getUTCSeconds()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"millisecond\":\r\n            if (dateOne.getTime() != dateTwo.getTime()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n    }\r\n    if (changed) {\r\n        return true;\r\n    }\r\n    var nextUnit = getNextUnit(unit);\r\n    if (nextUnit) {\r\n        dateOne.setUTCMinutes(dateOne.getUTCMinutes() + timeZoneOffset1);\r\n        dateTwo.setUTCMinutes(dateTwo.getUTCMinutes() + timeZoneOffset2);\r\n        return checkChange(dateOne, dateTwo, nextUnit, utc);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds `count` of time `unit` to the source date. Returns a modified `Date` object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param date   Source date\r\n * @param unit   Time unit\r\n * @param count  Number of units to add\r\n * @return Modified date\r\n */\r\nexport function add(date, unit, count, utc) {\r\n    var timeZoneOffset = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset = date.getTimezoneOffset();\r\n        date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n    }\r\n    switch (unit) {\r\n        case \"day\":\r\n            var day = date.getUTCDate();\r\n            date.setUTCDate(day + count);\r\n            break;\r\n        case \"second\":\r\n            var seconds = date.getUTCSeconds();\r\n            date.setUTCSeconds(seconds + count);\r\n            break;\r\n        case \"millisecond\":\r\n            var milliseconds = date.getUTCMilliseconds();\r\n            date.setUTCMilliseconds(milliseconds + count);\r\n            break;\r\n        case \"hour\":\r\n            var hours = date.getUTCHours();\r\n            date.setUTCHours(hours + count);\r\n            break;\r\n        case \"minute\":\r\n            var minutes = date.getUTCMinutes();\r\n            date.setUTCMinutes(minutes + count);\r\n            break;\r\n        case \"year\":\r\n            var year = date.getUTCFullYear();\r\n            date.setUTCFullYear(year + count);\r\n            break;\r\n        case \"month\":\r\n            var month = date.getUTCMonth();\r\n            date.setUTCMonth(month + count);\r\n            break;\r\n        case \"week\":\r\n            var wday = date.getUTCDate();\r\n            date.setUTCDate(wday + count * 7);\r\n            break;\r\n    }\r\n    if (!utc && unit != \"millisecond\") {\r\n        date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n        if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n            var newTimeZoneOffset = date.getTimezoneOffset();\r\n            if (newTimeZoneOffset != timeZoneOffset) {\r\n                var diff = newTimeZoneOffset - timeZoneOffset;\r\n                date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                // solves issues if newe time falls back to old time zone\r\n                if (date.getTimezoneOffset() != newTimeZoneOffset) {\r\n                    date.setUTCMinutes(date.getUTCMinutes() - diff);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return date;\r\n}\r\n/**\r\n * \"Rounds\" the date to specific time unit.\r\n *\r\n * @ignore Exclude from docs\r\n * @param date             Source date\r\n * @param unit             Time unit\r\n * @param count            Number of units to round to\r\n * @param firstDateOfWeek  First day of week\r\n * @return New date\r\n */\r\nexport function round(date, unit, count, firstDateOfWeek, utc, firstDate) {\r\n    if (!$type.isNumber(count)) {\r\n        count = 1;\r\n    }\r\n    var timeZoneOffset = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset = date.getTimezoneOffset();\r\n        date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n    }\r\n    switch (unit) {\r\n        case \"day\":\r\n            var day = date.getUTCDate();\r\n            if (count > 1) {\r\n                //\tday = Math.floor(day / count) * count;\r\n                if (firstDate) {\r\n                    firstDate = round(firstDate, \"day\", 1);\r\n                    var difference = date.getTime() - firstDate.getTime();\r\n                    var unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                    var duration = getDuration(\"day\", unitCount * count);\r\n                    date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                }\r\n            }\r\n            else {\r\n                date.setUTCDate(day);\r\n            }\r\n            date.setUTCHours(0, 0, 0, 0);\r\n            break;\r\n        case \"second\":\r\n            var seconds = date.getUTCSeconds();\r\n            if (count > 1) {\r\n                seconds = Math.floor(seconds / count) * count;\r\n            }\r\n            date.setUTCSeconds(seconds, 0);\r\n            break;\r\n        case \"millisecond\":\r\n            if (count == 1) {\r\n                return date; // much better for perf!\r\n            }\r\n            var milliseconds = date.getUTCMilliseconds();\r\n            milliseconds = Math.floor(milliseconds / count) * count;\r\n            date.setUTCMilliseconds(milliseconds);\r\n            break;\r\n        case \"hour\":\r\n            var hours = date.getUTCHours();\r\n            if (count > 1) {\r\n                hours = Math.floor(hours / count) * count;\r\n            }\r\n            date.setUTCHours(hours, 0, 0, 0);\r\n            break;\r\n        case \"minute\":\r\n            var minutes = date.getUTCMinutes();\r\n            milliseconds = date.getUTCMilliseconds();\r\n            if (count > 1) {\r\n                minutes = Math.floor(minutes / count) * count;\r\n            }\r\n            date.setUTCMinutes(minutes, 0, 0);\r\n            break;\r\n        case \"month\":\r\n            var month = date.getUTCMonth();\r\n            if (count > 1) {\r\n                month = Math.floor(month / count) * count;\r\n            }\r\n            date.setUTCMonth(month, 1);\r\n            date.setUTCHours(0, 0, 0, 0);\r\n            break;\r\n        case \"year\":\r\n            var year = date.getUTCFullYear();\r\n            if (count > 1) {\r\n                year = Math.floor(year / count) * count;\r\n            }\r\n            date.setUTCFullYear(year, 0, 1);\r\n            date.setUTCHours(0, 0, 0, 0);\r\n            //let nonUTCDateY = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\r\n            //timeZoneOffset = nonUTCDateY.getTimezoneOffset();\r\n            break;\r\n        case \"week\":\r\n            var wday = date.getUTCDate();\r\n            var weekDay = date.getUTCDay();\r\n            if (!$type.isNumber(firstDateOfWeek)) {\r\n                firstDateOfWeek = 1;\r\n            }\r\n            // todo: rounding when count is not 1\r\n            if (weekDay >= firstDateOfWeek) {\r\n                wday = wday - weekDay + firstDateOfWeek;\r\n            }\r\n            else {\r\n                wday = wday - (7 + weekDay) + firstDateOfWeek;\r\n            }\r\n            date.setUTCDate(wday);\r\n            date.setUTCHours(0, 0, 0, 0);\r\n            break;\r\n    }\r\n    if (!utc && unit != \"millisecond\") {\r\n        date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n        if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n            var newTimeZoneOffset = date.getTimezoneOffset();\r\n            if (newTimeZoneOffset != timeZoneOffset) {\r\n                var diff = newTimeZoneOffset - timeZoneOffset;\r\n                date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n            }\r\n        }\r\n    }\r\n    return date;\r\n}\r\n//# sourceMappingURL=Time.js.map","import { EventDispatcher } from \"./utils/EventDispatcher\";\r\nimport { Dictionary } from \"./utils/Dictionary\";\r\nimport { cache } from \"./utils/Cache\";\r\nimport * as $type from \"./utils/Type\";\r\nimport * as $string from \"./utils/String\";\r\nimport * as $array from \"./utils/Array\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Registry is used to store miscellaneous system-wide information, like ids,\r\n * maps, themes, and registered classes.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar Registry = /** @class */ (function () {\r\n    function Registry() {\r\n        var _this = this;\r\n        /**\r\n         * Event dispacther.\r\n         */\r\n        this.events = new EventDispatcher();\r\n        /**\r\n         * All currently applied themes. All new chart instances created will\r\n         * automatically inherit and retain System's themes.\r\n         */\r\n        this.themes = [];\r\n        /**\r\n         * List of all loaded available themes.\r\n         *\r\n         * Whenever a theme loads, it registers itself in System's `loadedThemes`\r\n         * collection.\r\n         */\r\n        this.loadedThemes = {};\r\n        /**\r\n         * An indeternal counter used to generate unique IDs.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this._uidCount = 0;\r\n        /**\r\n         * Keeps register of class references so that they can be instnatiated using\r\n         * string key.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.registeredClasses = {};\r\n        /**\r\n         * Holds all generated placeholders.\r\n         */\r\n        this._placeholders = {};\r\n        /**\r\n         * A list of invalid(ated) [[Sprite]] objects that need to be re-validated\r\n         * during next cycle.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidSprites = {};\r\n        /**\r\n         * Components are added to this list when their data provider changes to\r\n         * a new one or data is added/removed from their data provider.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidDatas = {};\r\n        /**\r\n         * Components are added to this list when values of their raw data change.\r\n         * Used when we want a smooth animation from one set of values to another.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidRawDatas = [];\r\n        /**\r\n         * Components are added to this list when values of their data changes\r\n         * (but not data provider itself).\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidDataItems = [];\r\n        /**\r\n         * Components are added to this list when their data range (selection) is\r\n         * changed, e.g. zoomed.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidDataRange = [];\r\n        /**\r\n         * A list of [[Sprite]] objects that have invalid(ated) positions, that need\r\n         * to be recalculated.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidPositions = {};\r\n        /**\r\n         * A list of [[Container]] objects with invalid(ated) layouts.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidLayouts = {};\r\n        /**\r\n         * An array holding all active (non-disposed) top level elemens.\r\n         *\r\n         * When, for example, a new chart is created, its instance will be added to\r\n         * this array, and will be removed when the chart is disposed.\r\n         */\r\n        this.baseSprites = [];\r\n        this.baseSpritesByUid = {};\r\n        this.queue = [];\r\n        this.uid = this.getUniqueId();\r\n        this.invalidSprites.noBase = [];\r\n        this.invalidDatas.noBase = [];\r\n        this.invalidLayouts.noBase = [];\r\n        this.invalidPositions.noBase = [];\r\n        // This is needed to prevent charts from being cut off when printing\r\n        addEventListener(\"beforeprint\", function () {\r\n            $array.each(_this.baseSprites, function (sprite) {\r\n                var svg = sprite.paper.svg;\r\n                svg.setAttribute(\"viewBox\", \"0 0 \" + svg.clientWidth + \" \" + svg.clientHeight);\r\n            });\r\n        });\r\n        addEventListener(\"afterprint\", function () {\r\n            $array.each(_this.baseSprites, function (sprite) {\r\n                var svg = sprite.paper.svg;\r\n                svg.removeAttribute(\"viewBox\");\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * Generates a unique chart system-wide ID.\r\n     *\r\n     * @return Generated ID\r\n     */\r\n    Registry.prototype.getUniqueId = function () {\r\n        var uid = this._uidCount;\r\n        this._uidCount += 1;\r\n        return \"id-\" + uid;\r\n    };\r\n    Object.defineProperty(Registry.prototype, \"map\", {\r\n        /**\r\n         * Returns a universal collection for mapping ids with objects.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Map collection\r\n         */\r\n        get: function () {\r\n            if (!this._map) {\r\n                this._map = new Dictionary();\r\n            }\r\n            return this._map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Caches value in object's cache.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param key    Key\r\n     * @param value  Value\r\n     * @param ttl    TTL in seconds\r\n     */\r\n    Registry.prototype.setCache = function (key, value, ttl) {\r\n        cache.set(this.uid, key, value, ttl);\r\n    };\r\n    /**\r\n     * Retrieves cached value.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param key    Key\r\n     * @param value  Value to return if cache is not available\r\n     * @return Value\r\n     */\r\n    Registry.prototype.getCache = function (key, value) {\r\n        if (value === void 0) { value = undefined; }\r\n        return cache.get(this.uid, key, value);\r\n    };\r\n    /**\r\n     * Dispatches an event using own event dispatcher. Will automatically\r\n     * populate event data object with event type and target (this element).\r\n     * It also checks if there are any handlers registered for this sepecific\r\n     * event.\r\n     *\r\n     * @param eventType Event type (name)\r\n     * @param data      Data to pass into event handler(s)\r\n     */\r\n    Registry.prototype.dispatch = function (eventType, data) {\r\n        // @todo Implement proper type check\r\n        if (this.events.isEnabled(eventType)) {\r\n            if (data) {\r\n                data.type = eventType;\r\n                data.target = data.target || this;\r\n                this.events.dispatch(eventType, {\r\n                    type: eventType,\r\n                    target: this\r\n                });\r\n            }\r\n            else {\r\n                this.events.dispatch(eventType, {\r\n                    type: eventType,\r\n                    target: this\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Works like `dispatch`, except event is triggered immediately, without\r\n     * waiting for the next frame cycle.\r\n     *\r\n     * @param eventType Event type (name)\r\n     * @param data      Data to pass into event handler(s)\r\n     */\r\n    Registry.prototype.dispatchImmediately = function (eventType, data) {\r\n        // @todo Implement proper type check\r\n        if (this.events.isEnabled(eventType)) {\r\n            if (data) {\r\n                data.type = eventType;\r\n                data.target = data.target || this;\r\n                this.events.dispatchImmediately(eventType, data);\r\n            }\r\n            else {\r\n                this.events.dispatchImmediately(eventType, {\r\n                    type: eventType,\r\n                    target: this\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns a unique placeholder suitable for the key.\r\n     *\r\n     * @param key  Key\r\n     * @return Random string to be used as placeholder\r\n     */\r\n    Registry.prototype.getPlaceholder = function (key) {\r\n        if ($type.hasValue(this._placeholders[key])) {\r\n            return this._placeholders[key];\r\n        }\r\n        this._placeholders[key] = \"__amcharts_\" + key + \"_\" + $string.random(8) + \"__\";\r\n        return this._placeholders[key];\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.addToInvalidComponents = function (component) {\r\n        if (component.baseId) {\r\n            $array.move(this.invalidDatas[component.baseId], component);\r\n        }\r\n        else {\r\n            $array.move(this.invalidDatas[\"noBase\"], component);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.removeFromInvalidComponents = function (component) {\r\n        if (component.baseId) {\r\n            $array.remove(this.invalidDatas[component.baseId], component);\r\n        }\r\n        $array.remove(this.invalidDatas[\"noBase\"], component);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.addToInvalidSprites = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.add(this.invalidSprites[sprite.baseId], sprite);\r\n        }\r\n        else {\r\n            $array.add(this.invalidSprites[\"noBase\"], sprite);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.removeFromInvalidSprites = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.remove(this.invalidSprites[sprite.baseId], sprite);\r\n        }\r\n        $array.remove(this.invalidSprites[\"noBase\"], sprite);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.addToInvalidPositions = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.add(this.invalidPositions[sprite.baseId], sprite);\r\n        }\r\n        else {\r\n            $array.add(this.invalidPositions[\"noBase\"], sprite);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.removeFromInvalidPositions = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.remove(this.invalidPositions[sprite.baseId], sprite);\r\n        }\r\n        $array.remove(this.invalidPositions[\"noBase\"], sprite);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.addToInvalidLayouts = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.add(this.invalidLayouts[sprite.baseId], sprite);\r\n        }\r\n        else {\r\n            $array.add(this.invalidLayouts[\"noBase\"], sprite);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.removeFromInvalidLayouts = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.remove(this.invalidLayouts[sprite.baseId], sprite);\r\n        }\r\n        $array.remove(this.invalidLayouts[\"noBase\"], sprite);\r\n    };\r\n    return Registry;\r\n}());\r\nexport { Registry };\r\n/**\r\n * A singleton global instance of [[Registry]].\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var registry = new Registry();\r\n/**\r\n * Returns `true` if object is an instance of the class. It's the same as `instanceof` except it doesn't need to import the class.\r\n *\r\n * @param object Object\r\n * @param name Class name\r\n * @return Is instance of class\r\n */\r\nexport function is(object, name) {\r\n    var x = registry.registeredClasses[name];\r\n    return x != null && object instanceof x;\r\n}\r\n//# sourceMappingURL=Registry.js.map","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { registry } from \"../Registry\";\r\nimport * as $path from \"./Path\";\r\nimport * as $array from \"../utils/Array\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $math from \"../utils/Math\";\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar Tension = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param tensionX [description]\r\n     * @param tensionY [description]\r\n     */\r\n    function Tension(tensionX, tensionY) {\r\n        this._tensionX = tensionX;\r\n        this._tensionY = tensionY;\r\n    }\r\n    /**\r\n     * [smooth description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param points  [description]\r\n     * @return [description]\r\n     */\r\n    Tension.prototype.smooth = function (points) {\r\n        for (var i = points.length - 1; i > 0; i--) {\r\n            var p0 = points[i];\r\n            var p1 = points[i - 1];\r\n            if (Math.abs(p0.x - p1.x) < 0.1 && Math.abs(p0.y - p1.y) < 0.1) {\r\n                points.splice(i - 1, 1);\r\n            }\r\n        }\r\n        var tensionX = this._tensionX;\r\n        var tensionY = this._tensionY;\r\n        if (points.length < 3 || (tensionX >= 1 && tensionY >= 1)) {\r\n            return $path.polyline(points);\r\n        }\r\n        var first = points[0];\r\n        var last = points[points.length - 1];\r\n        var closed = false;\r\n        if ($math.round(first.x, 3) == $math.round(last.x) && $math.round(first.y) == $math.round(last.y)) {\r\n            closed = true;\r\n        }\r\n        // Can't moveTo here, as it wont be possible to have fill then.\r\n        var path = \"\";\r\n        for (var i = 0, len = points.length - 1; i < len; i++) {\r\n            var p0 = points[i - 1];\r\n            var p1 = points[i];\r\n            var p2 = points[i + 1];\r\n            var p3 = points[i + 2];\r\n            if (i === 0) {\r\n                if (closed) {\r\n                    p0 = points[points.length - 2];\r\n                }\r\n                else {\r\n                    p0 = points[i];\r\n                }\r\n            }\r\n            else if (i == points.length - 2) {\r\n                if (closed) {\r\n                    p3 = points[1];\r\n                }\r\n                else {\r\n                    p3 = points[i + 1];\r\n                }\r\n            }\r\n            var controlPointA = $math.getCubicControlPointA(p0, p1, p2, p3, tensionX, tensionY);\r\n            var controlPointB = $math.getCubicControlPointB(p0, p1, p2, p3, tensionX, tensionY);\r\n            path += $path.cubicCurveTo(p2, controlPointA, controlPointB);\r\n        }\r\n        return path;\r\n    };\r\n    return Tension;\r\n}());\r\nexport { Tension };\r\n/**\r\n * Returns a waved line SVG path between two points.\r\n *\r\n * @ignore Exclude from docs\r\n * @param point1            Starting point\r\n * @param point2            Ending point\r\n * @param waveLength        Wave length\r\n * @param waveHeight        Wave height\r\n * @param adjustWaveLength  Adjust wave length based on the actual line length\r\n * @return SVG path\r\n */\r\nexport function wavedLine(point1, point2, waveLength, waveHeight, tension, adjustWaveLength) {\r\n    var x1 = point1.x;\r\n    var y1 = point1.y;\r\n    var x2 = point2.x;\r\n    var y2 = point2.y;\r\n    var distance = $math.getDistance(point1, point2);\r\n    if (adjustWaveLength) {\r\n        waveLength = distance / Math.round(distance / waveLength);\r\n    }\r\n    var d = registry.getCache($utils.stringify([\"wavedLine\", point1.x, point2.x, point1.y, point2.y, waveLength, waveHeight]));\r\n    if (!d) {\r\n        if (distance > 0) {\r\n            var angle = Math.atan2(y2 - y1, x2 - x1);\r\n            var cos = Math.cos(angle);\r\n            var sin = Math.sin(angle);\r\n            var waveLengthX = waveLength * cos;\r\n            var waveLengthY = waveLength * sin;\r\n            if (waveLength <= 1 || waveHeight <= 1) {\r\n                d = $path.lineTo(point2);\r\n            }\r\n            else {\r\n                var halfWaveCount = Math.round(2 * distance / waveLength);\r\n                var points = [];\r\n                var sign = 1;\r\n                if (x2 < x1) {\r\n                    sign *= -1;\r\n                }\r\n                if (y2 < y1) {\r\n                    sign *= -1;\r\n                }\r\n                for (var i = 0; i <= halfWaveCount; i++) {\r\n                    sign *= -1;\r\n                    var x = x1 + i * waveLengthX / 2 + sign * waveHeight / 2 * sin;\r\n                    var y = y1 + i * waveLengthY / 2 - sign * waveHeight / 2 * cos;\r\n                    points.push({ x: x, y: y });\r\n                }\r\n                d = new Tension(tension, tension).smooth(points);\r\n            }\r\n        }\r\n        else {\r\n            d = \"\";\r\n        }\r\n        registry.setCache($utils.stringify([\"wavedLine\", point1.x, point2.x, point1.y, point2.y, waveLength, waveHeight]), d);\r\n    }\r\n    return d;\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar Basis = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param info  [description]\r\n     */\r\n    function Basis(info) {\r\n        this._closed = info.closed;\r\n    }\r\n    /**\r\n     * [smooth description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param points  [description]\r\n     * @return [description]\r\n     */\r\n    Basis.prototype.smooth = function (points) {\r\n        var _this = this;\r\n        var x0 = NaN;\r\n        var x1 = NaN;\r\n        var x2 = NaN;\r\n        var x3 = NaN;\r\n        var x4 = NaN;\r\n        var y0 = NaN;\r\n        var y1 = NaN;\r\n        var y2 = NaN;\r\n        var y3 = NaN;\r\n        var y4 = NaN;\r\n        var point = 0;\r\n        var output = \"\";\r\n        var pushCurve = function (x, y) {\r\n            output += $path.cubicCurveTo({\r\n                x: (x0 + 4 * x1 + x) / 6,\r\n                y: (y0 + 4 * y1 + y) / 6\r\n            }, {\r\n                x: (2 * x0 + x1) / 3,\r\n                y: (2 * y0 + y1) / 3\r\n            }, {\r\n                x: (x0 + 2 * x1) / 3,\r\n                y: (y0 + 2 * y1) / 3\r\n            });\r\n        };\r\n        var pushPoint = function (_a) {\r\n            var x = _a.x, y = _a.y;\r\n            switch (point) {\r\n                case 0:\r\n                    point = 1;\r\n                    if (_this._closed) {\r\n                        x2 = x;\r\n                        y2 = y;\r\n                    }\r\n                    else {\r\n                        output += $path.lineTo({ x: x, y: y });\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    point = 2;\r\n                    if (_this._closed) {\r\n                        x3 = x;\r\n                        y3 = y;\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    point = 3;\r\n                    if (_this._closed) {\r\n                        x4 = x;\r\n                        y4 = y;\r\n                        output += $path.moveTo({ x: (x0 + 4 * x1 + x) / 6, y: (y0 + 4 * y1 + y) / 6 });\r\n                        break;\r\n                    }\r\n                    else {\r\n                        output += $path.lineTo({ x: (5 * x0 + x1) / 6, y: (5 * y0 + y1) / 6 });\r\n                        // fall-through\r\n                    }\r\n                default:\r\n                    pushCurve(x, y);\r\n                    break;\r\n            }\r\n            x0 = x1;\r\n            x1 = x;\r\n            y0 = y1;\r\n            y1 = y;\r\n        };\r\n        $array.each(points, pushPoint);\r\n        if (this._closed) {\r\n            switch (point) {\r\n                case 1:\r\n                    output += $path.moveTo({ x: x2, y: y2 });\r\n                    output += $path.closePath();\r\n                    break;\r\n                case 2:\r\n                    output += $path.moveTo({ x: (x2 + 2 * x3) / 3, y: (y2 + 2 * y3) / 3 });\r\n                    output += $path.lineTo({ x: (x3 + 2 * x2) / 3, y: (y3 + 2 * y2) / 3 });\r\n                    output += $path.closePath();\r\n                    break;\r\n                case 3:\r\n                    pushPoint({ x: x2, y: y2 });\r\n                    pushPoint({ x: x3, y: y3 });\r\n                    pushPoint({ x: x4, y: y4 });\r\n                    break;\r\n            }\r\n        }\r\n        else {\r\n            switch (point) {\r\n                case 3:\r\n                    pushCurve(x1, y1);\r\n                // fall-through\r\n                case 2:\r\n                    output += $path.lineTo({ x: x1, y: y1 });\r\n                    break;\r\n            }\r\n            output += $path.closePath();\r\n        }\r\n        return output;\r\n    };\r\n    return Basis;\r\n}());\r\nexport { Basis };\r\n//# sourceMappingURL=Smoothing.js.map","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","import { __extends, __generator } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $array from \"./Array\";\r\nimport * as $iter from \"./Iterator\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Ordered list contains values of any type in an indexed array.\r\n */\r\nvar OrderedList = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param initial  Inital list of values to add to list\r\n     */\r\n    function OrderedList(initial) {\r\n        /**\r\n         * Holds list values.\r\n         */\r\n        this._values = [];\r\n        /**\r\n         * Event dispatcher.\r\n         */\r\n        this.events = new EventDispatcher();\r\n        if (initial != null) {\r\n            this.setAll(initial);\r\n        }\r\n    }\r\n    Object.defineProperty(OrderedList.prototype, \"values\", {\r\n        /**\r\n         * All items of the list.\r\n         *\r\n         * Do not modify the list directly. Rather use `insert()` and `remove()`\r\n         * methods.\r\n         *\r\n         * @return List values\r\n         */\r\n        get: function () {\r\n            return this._values;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Inserts a value into list item array.\r\n     *\r\n     * @param value  Value\r\n     */\r\n    OrderedList.prototype._insert = function (value) {\r\n        this._values.push(value);\r\n        return this._values.length - 1;\r\n    };\r\n    Object.defineProperty(OrderedList.prototype, \"length\", {\r\n        /**\r\n         * Number of items in the list.\r\n         *\r\n         * @readonly\r\n         * @return Length\r\n         */\r\n        get: function () {\r\n            return this._values.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns the index of the specific `value`.\r\n     *\r\n     * -1 if not found.\r\n     *\r\n     * @param value  Value\r\n     * @return Index\r\n     */\r\n    OrderedList.prototype.indexOf = function (value) {\r\n        return $array.indexOf(this._values, value);\r\n    };\r\n    /**\r\n     * Checks if list contains the `value`.\r\n     *\r\n     * @param value  Value\r\n     * @return In the list?\r\n     */\r\n    OrderedList.prototype.contains = function (value) {\r\n        return this.indexOf(value) !== -1;\r\n    };\r\n    /**\r\n     * Returns an item at specific `index`.\r\n     *\r\n     * @param index  Index\r\n     * @return Item\r\n     */\r\n    OrderedList.prototype.getIndex = function (index) {\r\n        return this._values[index];\r\n    };\r\n    Object.defineProperty(OrderedList.prototype, \"first\", {\r\n        /**\r\n         * First item in the list.\r\n         *\r\n         * @return Item\r\n         */\r\n        get: function () {\r\n            return this._values[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OrderedList.prototype, \"last\", {\r\n        /**\r\n         * Last item in the list.\r\n         *\r\n         * @return Item\r\n         */\r\n        get: function () {\r\n            return this._values[this._values.length - 1];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Inserts a value into list.\r\n     *\r\n     * @param value  Value\r\n     */\r\n    OrderedList.prototype.insert = function (value) {\r\n        var index = this._insert(value);\r\n        if (this.events.isEnabled(\"inserted\")) {\r\n            this.events.dispatchImmediately(\"inserted\", {\r\n                type: \"inserted\",\r\n                target: this,\r\n                index: index,\r\n                newValue: value\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Removes an item with the `value` from the list.\r\n     *\r\n     * @param value  Value\r\n     */\r\n    OrderedList.prototype.remove = function (value) {\r\n        var index = this.indexOf(value);\r\n        if (index !== -1) {\r\n            var oldValue = this._values[index];\r\n            $array.removeIndex(this._values, index);\r\n            if (this.events.isEnabled(\"removed\")) {\r\n                this.events.dispatchImmediately(\"removed\", {\r\n                    type: \"removed\",\r\n                    target: this,\r\n                    index: index,\r\n                    oldValue: oldValue,\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets multiple items to the list.\r\n     *\r\n     * All current items are removed.\r\n     *\r\n     * @param newArray  New items\r\n     */\r\n    OrderedList.prototype.setAll = function (newArray) {\r\n        var _this = this;\r\n        $array.eachReverse(this._values, function (x, i) {\r\n            _this._values.pop();\r\n            if (_this.events.isEnabled(\"removed\")) {\r\n                _this.events.dispatchImmediately(\"removed\", {\r\n                    type: \"removed\",\r\n                    target: _this,\r\n                    index: i,\r\n                    oldValue: x\r\n                });\r\n            }\r\n        });\r\n        $array.each(newArray, function (value) {\r\n            _this.insert(value);\r\n        });\r\n    };\r\n    /**\r\n     * Removes all items from the list.\r\n     */\r\n    OrderedList.prototype.clear = function () {\r\n        this.setAll([]);\r\n    };\r\n    /**\r\n     * Returns part of the list between `start` and `end` indexes, as a new\r\n     * [[OrderedList]].\r\n     *\r\n     * @param start  Start index\r\n     * @param end    End index\r\n     * @return Items in range\r\n     */\r\n    OrderedList.prototype.slice = function (start, end) {\r\n        var out = new OrderedList();\r\n        out._values = this._values.slice(start, end);\r\n        return out;\r\n    };\r\n    /**\r\n     * Finds a closest available index to the `value` in specified direction.\r\n     *\r\n     * @ignore exclude from docs\r\n     * @param value      value to search for\r\n     * @param fn         A callback function that returns value of the item\r\n     * @param direction  Direciton\r\n     * @return Index\r\n     */\r\n    OrderedList.prototype.findClosestIndex = function (value, fn, direction) {\r\n        if (direction === void 0) { direction = \"any\"; }\r\n        // Init temporary values\r\n        var closestIndex = -1;\r\n        var closestValue;\r\n        var closestDifference;\r\n        var i = 0;\r\n        $iter.eachContinue(this.iterator(), function (element) {\r\n            var item = fn(element);\r\n            // Calc difference\r\n            if (direction === \"any\") {\r\n                // Exact match?\r\n                if (item === value) {\r\n                    // Found exact value - don't bother searching further\r\n                    closestIndex = i;\r\n                    return false;\r\n                }\r\n                var difference = Math.abs(value - item);\r\n                if (!$type.hasValue(closestDifference) || (closestDifference > difference)) {\r\n                    closestIndex = i;\r\n                    closestValue = item;\r\n                    closestDifference = difference;\r\n                }\r\n            }\r\n            else if (direction === \"left\" && (item < value)) {\r\n                if (!$type.hasValue(closestValue) || (closestValue < item)) {\r\n                    closestIndex = i;\r\n                    closestValue = item;\r\n                }\r\n            }\r\n            else if (direction === \"right\" && (item >= value)) {\r\n                if (!$type.hasValue(closestValue) || (closestValue >= item)) {\r\n                    closestIndex = i;\r\n                    closestValue = item;\r\n                }\r\n            }\r\n            ++i;\r\n            return true;\r\n        });\r\n        // Found nothing?\r\n        if (closestIndex === -1) {\r\n            if (direction === \"left\") {\r\n                // Use First one\r\n                closestIndex = 0;\r\n            }\r\n            else if (direction === \"right\") {\r\n                // Use last item\r\n                closestIndex = this.length - 1;\r\n            }\r\n        }\r\n        return closestIndex;\r\n    };\r\n    /**\r\n     * Returns a list iterator.\r\n     *\r\n     * @return Iterator\r\n     */\r\n    OrderedList.prototype.iterator = function () {\r\n        return $iter.fromArray(this._values);\r\n    };\r\n    /**\r\n     * Returns an ES6 iterator for the list.\r\n     */\r\n    OrderedList.prototype[Symbol.iterator] = function () {\r\n        var length, i;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    length = this._values.length;\r\n                    i = 0;\r\n                    _a.label = 1;\r\n                case 1:\r\n                    if (!(i < length)) return [3 /*break*/, 4];\r\n                    return [4 /*yield*/, this._values[i]];\r\n                case 2:\r\n                    _a.sent();\r\n                    _a.label = 3;\r\n                case 3:\r\n                    ++i;\r\n                    return [3 /*break*/, 1];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Calls `f` for each element in the list.\r\n     */\r\n    OrderedList.prototype.each = function (f) {\r\n        $array.each(this._values, f);\r\n    };\r\n    return OrderedList;\r\n}());\r\nexport { OrderedList };\r\n/**\r\n * A list where all items are ordered according to specific ordering function,\r\n * which is passed in via constructor parameter, when creating an instance of\r\n * [[SortedList]].\r\n */\r\nvar SortedList = /** @class */ (function (_super) {\r\n    __extends(SortedList, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param sort  Ordering function\r\n     */\r\n    function SortedList(sort) {\r\n        var _this = _super.call(this) || this;\r\n        _this._ordering = sort;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Inserts item into the list.\r\n     *\r\n     * @param value  Item\r\n     */\r\n    SortedList.prototype._insert = function (value) {\r\n        var index = $array.getSortedIndex(this._values, this._ordering, value).index;\r\n        $array.insertIndex(this._values, index, value);\r\n        return index;\r\n    };\r\n    /**\r\n     * Returns index of the item in list if found.\r\n     *\r\n     * -1 if item is not in the list.\r\n     *\r\n     * @param value  Item to search for\r\n     * @return Index\r\n     */\r\n    SortedList.prototype.indexOf = function (value) {\r\n        var _a = $array.getSortedIndex(this._values, this._ordering, value), found = _a.found, index = _a.index;\r\n        if (found) {\r\n            return index;\r\n        }\r\n        else {\r\n            return -1;\r\n        }\r\n    };\r\n    /**\r\n     * [udpate description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param value [description]\r\n     */\r\n    SortedList.prototype.update = function (value) {\r\n        // @todo test this\r\n        var index = $array.indexOf(this._values, value);\r\n        // @todo throw an error if it doesn't exist ?\r\n        if (index !== -1) {\r\n            var last = this._values.length - 1;\r\n            // Check if the current ordering is correct\r\n            if (!((index === 0 || this._ordering(this._values[index - 1], value) < 0) &&\r\n                (index === last || this._ordering(value, this._values[index + 1]) < 0))) {\r\n                // TODO send remove/insert/move events\r\n                $array.removeIndex(this._values, index);\r\n                this._insert(value);\r\n            }\r\n        }\r\n    };\r\n    return SortedList;\r\n}(OrderedList));\r\nexport { SortedList };\r\n/**\r\n * A version of a [[OrderedList]] that has a \"template\".\r\n *\r\n * A template is an instance of an object, that can be used to create new\r\n * elements in the list without actually needing to create instances for those.\r\n *\r\n * When new element is created in the list, e.g. by calling its `create()`\r\n * method, an exact copy of the element is created (including properties and\r\n * other attributes), inserted into the list and returned.\r\n */\r\nvar OrderedListTemplate = /** @class */ (function (_super) {\r\n    __extends(OrderedListTemplate, _super);\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param t Template object\r\n     */\r\n    function OrderedListTemplate(t) {\r\n        var _this = _super.call(this) || this;\r\n        _this.template = t;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(OrderedListTemplate.prototype, \"template\", {\r\n        /**\r\n         * @return Template object\r\n         */\r\n        get: function () {\r\n            return this._template;\r\n        },\r\n        /**\r\n         * A \"template\" object to copy all properties from when creating new list\r\n         * items.\r\n         *\r\n         * @param v  Template object\r\n         */\r\n        set: function (v) {\r\n            v.isTemplate = true;\r\n            this._template = v;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all elements from other list.\r\n     *\r\n     * @param source  Source list\r\n     */\r\n    OrderedListTemplate.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        $iter.each(source.iterator(), function (value) {\r\n            _this.insert(value.clone());\r\n        });\r\n    };\r\n    /**\r\n     * Returns part of the list, starting at `start` and ending at `end` indexes,\r\n     * as a new [[OrderedListTemplate]].\r\n     *\r\n     * @param start  Start index\r\n     * @param end    End index\r\n     * @return New list\r\n     */\r\n    OrderedListTemplate.prototype.slice = function (start, end) {\r\n        var out = new OrderedListTemplate(this.template);\r\n        out._values = this._values.slice(start, end);\r\n        return out;\r\n    };\r\n    OrderedListTemplate.prototype.create = function (make) {\r\n        var clone = (make != null\r\n            ? new make()\r\n            : this.template.clone());\r\n        this.insert(clone);\r\n        return clone;\r\n    };\r\n    return OrderedListTemplate;\r\n}(OrderedList));\r\nexport { OrderedListTemplate };\r\n/**\r\n * A version of a [[SortedList]] that has a \"template\".\r\n *\r\n * A template is an instance of an object, that can be used to create new\r\n * elements in the list without actually needing to create instances for those.\r\n *\r\n * When new element is created in the list, e.g. by calling its `create()`\r\n * method, an exact copy of the element is created (including properties and\r\n * other attributes), inserted into the list and returned.\r\n */\r\nvar SortedListTemplate = /** @class */ (function (_super) {\r\n    __extends(SortedListTemplate, _super);\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param t     Template object\r\n     * @param sort  Ordering function\r\n     */\r\n    function SortedListTemplate(t, sort) {\r\n        var _this = _super.call(this, sort) || this;\r\n        _this.template = t;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SortedListTemplate.prototype, \"template\", {\r\n        /**\r\n         * @return Template object\r\n         */\r\n        get: function () {\r\n            return this._template;\r\n        },\r\n        /**\r\n         * A \"template\" object to copy all properties from when creating new list\r\n         * items.\r\n         *\r\n         * @param v  Template object\r\n         */\r\n        set: function (v) {\r\n            v.isTemplate = true;\r\n            this._template = v;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all elements from other list.\r\n     *\r\n     * @param source  Source list\r\n     */\r\n    SortedListTemplate.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        $iter.each(source.iterator(), function (value) {\r\n            _this.insert(value.clone());\r\n        });\r\n    };\r\n    SortedListTemplate.prototype.create = function (make) {\r\n        var clone = (make != null\r\n            ? new make()\r\n            : this.template.clone());\r\n        this.insert(clone);\r\n        return clone;\r\n    };\r\n    return SortedListTemplate;\r\n}(SortedList));\r\nexport { SortedListTemplate };\r\n//# sourceMappingURL=SortedList.js.map","/**\r\n * Handles date and time formatting\r\n */\r\nimport { __extends } from \"tslib\";\r\nimport { Language } from \"../utils/Language\";\r\nimport { BaseObject } from \"../Base\";\r\nimport { getTextFormatter } from \"../formatters/TextFormatter\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $strings from \"../utils/Strings\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * Handles date and time formatting.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-date-time/} Tutorial on date/time formatting\r\n * @todo Better type casting of passed in date?\r\n * @todo Quarter support?\r\n * @todo When parsing named months make the search case-insensitive\r\n * @todo Escape a.m./p.m. properly when used in RegEx\r\n */\r\nvar DateFormatter = /** @class */ (function (_super) {\r\n    __extends(DateFormatter, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function DateFormatter() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Date format.\r\n         */\r\n        _this._dateFormat = \"yyyy-MM-dd\";\r\n        /**\r\n         * Input date format.\r\n         */\r\n        _this._inputDateFormat = \"yyyy-MM-dd\";\r\n        /**\r\n         * Assume UTC time zone.\r\n         */\r\n        _this._utc = false;\r\n        /**\r\n         * First day of week.\r\n         *\r\n         * 0 - Sunday\r\n         * 1 - Monday\r\n         *\r\n         * Etc.\r\n         */\r\n        _this._firstDayOfWeek = 1;\r\n        /**\r\n         * A list of month names.\r\n         */\r\n        _this.months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n        /**\r\n         * A list of short month names.\r\n         */\r\n        _this.monthsShort = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May(short)\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n        /**\r\n         * A list of weekday names.\r\n         */\r\n        _this.weekdays = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n        /**\r\n         * A list of short weekday names.\r\n         */\r\n        _this.weekdaysShort = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n        /**\r\n         * Output format to produce. If the format calls for applying color to the\r\n         * formatted value, this setting will determine what markup to use: SVG or\r\n         * HTML.\r\n         *\r\n         * Available options: svg, html.\r\n         *\r\n         * @default \"svg\"\r\n         */\r\n        _this._outputFormat = \"svg\";\r\n        /**\r\n         * Should the first letter of the formatted date be capitalized?\r\n         *\r\n         * @default true\r\n         */\r\n        _this.capitalize = true;\r\n        _this.className = \"DateFormatter\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DateFormatter.prototype, \"language\", {\r\n        /**\r\n         * @return Language\r\n         */\r\n        get: function () {\r\n            return this._language;\r\n        },\r\n        /**\r\n         * A reference to [[Language]] object.\r\n         *\r\n         * @param  value  Language\r\n         */\r\n        set: function (value) {\r\n            this._language = value;\r\n            this.dateFormat = this._language.translate(\"_date\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Formats the date value according to specified format.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-date-time/} Tutorial on date/time formatting\r\n     * @param source  Date value\r\n     * @param format  Format\r\n     * @return Formatted date string\r\n     */\r\n    DateFormatter.prototype.format = function (source, format) {\r\n        // No language?\r\n        if (!this.language) {\r\n            if (this.sprite) {\r\n                this.language = this.sprite.language;\r\n            }\r\n            else {\r\n                this.language = new Language();\r\n            }\r\n        }\r\n        // No format passed in or it's empty\r\n        if (typeof format === \"undefined\" || format === \"\") {\r\n            format = this._dateFormat;\r\n        }\r\n        // Init return value\r\n        var formatted;\r\n        // Do casting if required\r\n        // This will take care of timestamps as well as Date objects\r\n        var date;\r\n        if ($type.isString(source)) {\r\n            // If it's a string, let's try parsing it using our own functionality\r\n            date = this.parse(source);\r\n        }\r\n        else {\r\n            date = $utils.anyToDate(source);\r\n        }\r\n        // Is it a built-in format or Intl.DateTimeFormat\r\n        if (format instanceof Object) {\r\n            try {\r\n                if (this.intlLocales) {\r\n                    return new Intl.DateTimeFormat(this.intlLocales, format).format(date);\r\n                }\r\n                else {\r\n                    return new Intl.DateTimeFormat(undefined, format).format(date);\r\n                }\r\n            }\r\n            catch (e) {\r\n                return \"Invalid\";\r\n            }\r\n        }\r\n        else {\r\n            // Clean format\r\n            format = $utils.cleanFormat(format);\r\n            // get format info (it will also deal with parser caching)\r\n            var info = this.parseFormat(format);\r\n            // Should we apply custom time zone?\r\n            if ($type.hasValue(this.timezoneOffset)) {\r\n                date.setMinutes(date.getMinutes() + date.getTimezoneOffset() - this.timezoneOffset);\r\n            }\r\n            // Check if it's a valid date\r\n            if (!$type.isNumber(date.getTime())) {\r\n                return this.language.translate(\"Invalid date\");\r\n            }\r\n            // Apply format\r\n            formatted = this.applyFormat(date, info, this.language);\r\n            // Capitalize\r\n            if (this.capitalize) {\r\n                formatted = formatted.replace(/^.{1}/, formatted.substr(0, 1).toUpperCase());\r\n            }\r\n        }\r\n        // We're done\r\n        return formatted;\r\n    };\r\n    /**\r\n     * Parses format into structured infromation.\r\n     *\r\n     * @param format Format template\r\n     */\r\n    DateFormatter.prototype.parseFormat = function (format) {\r\n        // Check cache\r\n        var cached = this.getCache(format);\r\n        if ($type.hasValue(cached)) {\r\n            return cached;\r\n        }\r\n        // Init format parse info holder\r\n        var info = {\r\n            \"template\": \"\",\r\n            \"parts\": []\r\n        };\r\n        // Let TextFormatter split into chunks\r\n        var chunks = getTextFormatter().chunk(format, true);\r\n        for (var i = 0; i < chunks.length; i++) {\r\n            var chunk = chunks[i];\r\n            if (chunk.type === \"value\") {\r\n                // Just \"Date\"?\r\n                if (chunk.text.match(/^date$/i) && $type.isString(this._dateFormat)) {\r\n                    chunk.text = this._dateFormat;\r\n                }\r\n                // Find all possible parts\r\n                var matches = chunk.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);\r\n                // Found?\r\n                if (matches) {\r\n                    // Populate template\r\n                    for (var x = 0; x < matches.length; x++) {\r\n                        info.parts.push(matches[x]);\r\n                        chunk.text = chunk.text.replace(matches[x], $strings.PLACEHOLDER);\r\n                    }\r\n                }\r\n            }\r\n            // Apply to template\r\n            info.template += chunk.text;\r\n        }\r\n        // Apply style formatting\r\n        //info.template = getTextFormatter().format(info.template, this.outputFormat);\r\n        // Save cache\r\n        this.setCache(format, info);\r\n        return info;\r\n    };\r\n    /**\r\n     * Applies format to Date.\r\n     *\r\n     * @param date      Date object\r\n     * @param info      Parsed format information\r\n     * @param language  Language\r\n     * @return Formatted date string\r\n     */\r\n    DateFormatter.prototype.applyFormat = function (date, info, language) {\r\n        // Init return value\r\n        var res = info.template;\r\n        // Get values\r\n        var fullYear, month, weekday, day, hours, minutes, seconds, milliseconds, offset = date.getTimezoneOffset(), timestamp = date.getTime();\r\n        if (this.utc) {\r\n            fullYear = date.getUTCFullYear();\r\n            month = date.getUTCMonth();\r\n            weekday = date.getUTCDay();\r\n            day = date.getUTCDate();\r\n            hours = date.getUTCHours();\r\n            minutes = date.getUTCMinutes();\r\n            seconds = date.getUTCSeconds();\r\n            milliseconds = date.getUTCMilliseconds();\r\n        }\r\n        else {\r\n            fullYear = date.getFullYear();\r\n            month = date.getMonth();\r\n            weekday = date.getDay();\r\n            day = date.getDate();\r\n            hours = date.getHours();\r\n            minutes = date.getMinutes();\r\n            seconds = date.getSeconds();\r\n            milliseconds = date.getMilliseconds();\r\n        }\r\n        // Go through each part and format/replace it in template\r\n        for (var i = 0, len = info.parts.length; i < len; i++) {\r\n            var value = \"\";\r\n            switch (info.parts[i]) {\r\n                case \"G\":\r\n                    value = language.translate(fullYear < 0\r\n                        ? \"_era_bc\"\r\n                        : \"_era_ad\");\r\n                    break;\r\n                case \"yyyy\":\r\n                    value = Math.abs(fullYear).toString();\r\n                    if (fullYear < 0) {\r\n                        value += language.translate(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"yyy\":\r\n                case \"yy\":\r\n                case \"y\":\r\n                    value = Math.abs(fullYear).toString().substr(-info.parts[i].length);\r\n                    if (fullYear < 0) {\r\n                        value += language.translate(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"YYYY\":\r\n                case \"YYY\":\r\n                case \"YY\":\r\n                case \"Y\":\r\n                    var week = $utils.getWeek(date);\r\n                    var year = fullYear;\r\n                    if (week == 1 && (weekday > 4)) {\r\n                        year--;\r\n                    }\r\n                    if (info.parts[i] == \"YYYY\") {\r\n                        value = Math.abs(year).toString();\r\n                    }\r\n                    else {\r\n                        value = Math.abs(year).toString().substr(-info.parts[i].length);\r\n                    }\r\n                    if (year < 0) {\r\n                        value += language.translate(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"u\":\r\n                    // @todo\r\n                    break;\r\n                case \"MMMMM\":\r\n                    value = language.translate(this.months[month]).substr(0, 1);\r\n                    break;\r\n                case \"MMMM\":\r\n                    value = language.translate(this.months[month]);\r\n                    break;\r\n                case \"MMM\":\r\n                    value = language.translate(this.monthsShort[month]);\r\n                    break;\r\n                case \"MM\":\r\n                    value = $utils.padString(month + 1, 2, \"0\");\r\n                    break;\r\n                case \"M\":\r\n                    value = (month + 1).toString();\r\n                    break;\r\n                case \"ww\":\r\n                    value = $utils.padString($utils.getWeek(date, this.utc), 2, \"0\");\r\n                    break;\r\n                case \"w\":\r\n                    value = $utils.getWeek(date, this.utc).toString();\r\n                    break;\r\n                case \"W\":\r\n                    value = $utils.getMonthWeek(date, this.utc).toString();\r\n                    break;\r\n                case \"dd\":\r\n                    value = $utils.padString(day, 2, \"0\");\r\n                    break;\r\n                case \"d\":\r\n                    value = day.toString();\r\n                    break;\r\n                case \"DD\":\r\n                case \"DDD\":\r\n                    value = $utils.padString($utils.getYearDay(date, this.utc).toString(), info.parts[i].length, \"0\");\r\n                    break;\r\n                case \"D\":\r\n                    value = $utils.getYearDay(date, this.utc).toString();\r\n                    break;\r\n                case \"F\":\r\n                    // @todo\r\n                    break;\r\n                case \"g\":\r\n                    // @todo\r\n                    break;\r\n                case \"t\":\r\n                    value = language.translateFunc(\"_dateOrd\").call(this, day);\r\n                    break;\r\n                case \"E\":\r\n                    value = (weekday || 7).toString();\r\n                    break;\r\n                case \"EE\":\r\n                    value = $utils.padString((weekday || 7).toString(), 2, \"0\");\r\n                    break;\r\n                case \"EEE\":\r\n                case \"eee\":\r\n                    value = language.translate(this.weekdaysShort[weekday]);\r\n                    break;\r\n                case \"EEEE\":\r\n                case \"eeee\":\r\n                    value = language.translate(this.weekdays[weekday]);\r\n                    break;\r\n                case \"EEEEE\":\r\n                case \"eeeee\":\r\n                    value = language.translate(this.weekdays[weekday]).substr(0, 1);\r\n                    break;\r\n                case \"e\":\r\n                case \"ee\":\r\n                    value = (weekday - this.firstDayOfWeek + 1).toString();\r\n                    if (info.parts[i] == \"ee\") {\r\n                        value = $utils.padString(value, 2, \"0\");\r\n                    }\r\n                    break;\r\n                case \"a\":\r\n                    if (hours >= 12) {\r\n                        value = language.translate(\"PM\");\r\n                    }\r\n                    else {\r\n                        value = language.translate(\"AM\");\r\n                    }\r\n                    break;\r\n                case \"aa\":\r\n                    if (hours >= 12) {\r\n                        value = language.translate(\"P.M.\");\r\n                    }\r\n                    else {\r\n                        value = language.translate(\"A.M.\");\r\n                    }\r\n                    break;\r\n                case \"aaa\":\r\n                    if (hours >= 12) {\r\n                        value = language.translate(\"P\");\r\n                    }\r\n                    else {\r\n                        value = language.translate(\"A\");\r\n                    }\r\n                    break;\r\n                case \"h\":\r\n                    value = $utils.get12Hours(hours).toString();\r\n                    break;\r\n                case \"hh\":\r\n                    value = $utils.padString($utils.get12Hours(hours), 2, \"0\");\r\n                    break;\r\n                case \"H\":\r\n                    value = hours.toString();\r\n                    break;\r\n                case \"HH\":\r\n                    value = $utils.padString(hours, 2, \"0\");\r\n                    break;\r\n                case \"K\":\r\n                    value = $utils.get12Hours(hours, 0).toString();\r\n                    break;\r\n                case \"KK\":\r\n                    value = $utils.padString($utils.get12Hours(hours, 0), 2, \"0\");\r\n                    break;\r\n                case \"k\":\r\n                    value = (hours + 1).toString();\r\n                    break;\r\n                case \"kk\":\r\n                    value = $utils.padString(hours + 1, 2, \"0\");\r\n                    break;\r\n                case \"m\":\r\n                    value = minutes.toString();\r\n                    break;\r\n                case \"mm\":\r\n                    value = $utils.padString(minutes, 2, \"0\");\r\n                    break;\r\n                case \"s\":\r\n                    value = seconds.toString();\r\n                    break;\r\n                case \"ss\":\r\n                    value = $utils.padString(seconds, 2, \"0\");\r\n                    break;\r\n                case \"S\":\r\n                case \"SS\":\r\n                case \"SSS\":\r\n                    value = Math.round((milliseconds / 1000) * Math.pow(10, info.parts[i].length)).toString();\r\n                    break;\r\n                case \"x\":\r\n                    value = timestamp.toString();\r\n                    break;\r\n                case \"n\":\r\n                case \"nn\":\r\n                case \"nnn\":\r\n                    value = $utils.padString(milliseconds, info.parts[i].length, \"0\");\r\n                    break;\r\n                case \"z\":\r\n                    value = $utils.getTimeZone(date, false, false, this.utc);\r\n                    break;\r\n                case \"zz\":\r\n                    value = $utils.getTimeZone(date, true, false, this.utc);\r\n                    break;\r\n                case \"zzz\":\r\n                    value = $utils.getTimeZone(date, false, true, this.utc);\r\n                    break;\r\n                case \"zzzz\":\r\n                    value = $utils.getTimeZone(date, true, true, this.utc);\r\n                    break;\r\n                case \"Z\":\r\n                case \"ZZ\":\r\n                    var tz = Math.abs(offset) / 60;\r\n                    var tzh = Math.floor(tz);\r\n                    var tzm = tz * 60 - tzh * 60;\r\n                    if (this.utc) {\r\n                        tzh = 0;\r\n                        tzm = 0;\r\n                    }\r\n                    if (info.parts[i] == \"Z\") {\r\n                        value = \"GMT\";\r\n                        value += offset > 0 ? \"-\" : \"+\";\r\n                        value += $utils.padString(tzh, 2) + \":\" + $utils.padString(tzm, 2);\r\n                    }\r\n                    else {\r\n                        value = offset > 0 ? \"-\" : \"+\";\r\n                        value += $utils.padString(tzh, 2) + $utils.padString(tzm, 2);\r\n                    }\r\n                    break;\r\n                case \"i\":\r\n                    value = date.toISOString();\r\n                    break;\r\n                case \"I\":\r\n                    value = date.toUTCString();\r\n                    break;\r\n            }\r\n            res = res.replace($strings.PLACEHOLDER, value);\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Parses any input value into Date object.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-date-time/#Parsing_Dates} Tutorial on date/time parsing\r\n     * @param source  Source value\r\n     * @param format  Source format\r\n     * @return Date object\r\n     */\r\n    DateFormatter.prototype.parse = function (source, format) {\r\n        // Format set?\r\n        if (!$type.hasValue(format)) {\r\n            format = this.inputDateFormat;\r\n        }\r\n        // Is it already a Date\r\n        if (source instanceof Date) {\r\n            return source;\r\n        }\r\n        // Is it a numeric timestamp\r\n        if (typeof source === \"number\") {\r\n            return new Date(source);\r\n        }\r\n        // No? Let's check if it's string, and try converting to it if nec\r\n        if (typeof source !== \"string\") {\r\n            source = source.toString();\r\n        }\r\n        // no language?\r\n        if (!this.language) {\r\n            if (this.sprite) {\r\n                this.language = this.sprite.language;\r\n            }\r\n            else {\r\n                this.language = new Language;\r\n            }\r\n        }\r\n        // Init return value\r\n        var res;\r\n        // Init RegEx for parsing\r\n        var reg = \"\";\r\n        // Clean format\r\n        format = $utils.cleanFormat(format);\r\n        // Clip format to length of the source string\r\n        format = format.substr(0, source.length);\r\n        // Parse format\r\n        var info = this.parseFormat(format);\r\n        // Init parsed items holder\r\n        var parsedIndexes = {\r\n            \"year\": -1,\r\n            \"year3\": -1,\r\n            \"year2\": -1,\r\n            \"year1\": -1,\r\n            \"month\": -1,\r\n            \"monthShort\": -1,\r\n            \"monthLong\": -1,\r\n            \"weekdayShort\": -1,\r\n            \"weekdayLong\": -1,\r\n            \"day\": -1,\r\n            \"yearDay\": -1,\r\n            \"week\": -1,\r\n            \"hourBase0\": -1,\r\n            \"hour12Base0\": -1,\r\n            \"hourBase1\": -1,\r\n            \"hour12Base1\": -1,\r\n            \"minute\": -1,\r\n            \"second\": -1,\r\n            \"millisecond\": -1,\r\n            \"millisecondDigits\": -1,\r\n            \"am\": -1,\r\n            \"zone\": -1,\r\n            \"timestamp\": -1,\r\n            \"iso\": -1\r\n        };\r\n        // Init values\r\n        var resValues = {\r\n            \"year\": 1970,\r\n            \"month\": 0,\r\n            \"day\": 1,\r\n            \"hour\": 0,\r\n            \"minute\": 0,\r\n            \"second\": 0,\r\n            \"millisecond\": 0,\r\n            \"timestamp\": null,\r\n            \"offset\": 0,\r\n            \"utc\": this.utc\r\n        };\r\n        // Index adjuster\r\n        var indexAdjust = 0, index = 0;\r\n        // Iterate through all of the parts\r\n        for (var i = 0; i < info.parts.length; i++) {\r\n            // Set current match index\r\n            index = i + indexAdjust + 1;\r\n            switch (info.parts[i]) {\r\n                case \"yyyy\":\r\n                case \"YYYY\":\r\n                    reg += \"([0-9]{4})\";\r\n                    parsedIndexes.year = index;\r\n                    break;\r\n                case \"yyy\":\r\n                case \"YYY\":\r\n                    reg += \"([0-9]{3})\";\r\n                    parsedIndexes.year3 = index;\r\n                    break;\r\n                case \"yy\":\r\n                case \"YY\":\r\n                    reg += \"([0-9]{2})\";\r\n                    parsedIndexes.year2 = index;\r\n                    break;\r\n                case \"y\":\r\n                case \"Y\":\r\n                    reg += \"([0-9]{1})\";\r\n                    parsedIndexes.year1 = index;\r\n                    break;\r\n                case \"MMMM\":\r\n                    reg += \"(\" + this.getStringList(this.months).join(\"|\") + \")\";\r\n                    parsedIndexes.monthLong = index;\r\n                    break;\r\n                case \"MMM\":\r\n                    reg += \"(\" + this.getStringList(this.monthsShort).join(\"|\") + \")\";\r\n                    parsedIndexes.monthShort = index;\r\n                    break;\r\n                case \"MM\":\r\n                case \"M\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.month = index;\r\n                    break;\r\n                case \"ww\":\r\n                case \"w\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.week = index;\r\n                    break;\r\n                case \"dd\":\r\n                case \"d\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.day = index;\r\n                    break;\r\n                case \"DDD\":\r\n                case \"DD\":\r\n                case \"D\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.yearDay = index;\r\n                    break;\r\n                case \"dddd\":\r\n                    reg += \"(\" + this.getStringList(this.weekdays).join(\"|\") + \")\";\r\n                    parsedIndexes.weekdayLong = index;\r\n                    break;\r\n                case \"ddd\":\r\n                    reg += \"(\" + this.getStringList(this.weekdaysShort).join(\"|\") + \")\";\r\n                    parsedIndexes.weekdayShort = index;\r\n                    break;\r\n                case \"aaa\":\r\n                case \"aa\":\r\n                case \"a\":\r\n                    // TODO: fix (escape regex)\r\n                    reg += \"(\" + this.getStringList([\"AM\", \"PM\", \"A\\.M\\.\", \"P\\.M\\.\", \"A\", \"P\"]).join(\"|\") + \")\";\r\n                    parsedIndexes.am = index;\r\n                    break;\r\n                case \"hh\":\r\n                case \"h\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hour12Base1 = index;\r\n                    break;\r\n                case \"HH\":\r\n                case \"H\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hourBase0 = index;\r\n                    break;\r\n                case \"KK\":\r\n                case \"K\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hour12Base0 = index;\r\n                    break;\r\n                case \"kk\":\r\n                case \"k\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hourBase1 = index;\r\n                    break;\r\n                case \"mm\":\r\n                case \"m\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.minute = index;\r\n                    break;\r\n                case \"ss\":\r\n                case \"s\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.second = index;\r\n                    break;\r\n                case \"SSS\":\r\n                case \"SS\":\r\n                case \"S\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.millisecond = index;\r\n                    parsedIndexes.millisecondDigits = info.parts[i].length;\r\n                    break;\r\n                case \"nnn\":\r\n                case \"nn\":\r\n                case \"n\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.millisecond = index;\r\n                    break;\r\n                case \"x\":\r\n                    reg += \"([0-9]{1,})\";\r\n                    parsedIndexes.timestamp = index;\r\n                    break;\r\n                case \"Z\":\r\n                    reg += \"GMT([-+]+[0-9]{2}:[0-9]{2})\";\r\n                    parsedIndexes.zone = index;\r\n                    break;\r\n                case \"ZZ\":\r\n                    reg += \"([\\\\-+]+[0-9]{2}[0-9]{2})\";\r\n                    parsedIndexes.zone = index;\r\n                    break;\r\n                case \"i\":\r\n                    reg += \"([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})\\.([0-9]{3})[0-9]*([Zz]?)\";\r\n                    parsedIndexes.iso = index;\r\n                    indexAdjust += 7;\r\n                    break;\r\n                case \"G\":\r\n                case \"YYYY\":\r\n                case \"YYY\":\r\n                case \"YY\":\r\n                case \"Y\":\r\n                case \"MMMMM\":\r\n                case \"W\":\r\n                case \"EEEEE\":\r\n                case \"EEEE\":\r\n                case \"EEE\":\r\n                case \"EE\":\r\n                case \"E\":\r\n                case \"eeeee\":\r\n                case \"eeee\":\r\n                case \"eee\":\r\n                case \"ee\":\r\n                case \"e\":\r\n                case \"zzzz\":\r\n                case \"zzz\":\r\n                case \"zz\":\r\n                case \"z\":\r\n                case \"t\":\r\n                    // Ignore\r\n                    indexAdjust--;\r\n                    break;\r\n            }\r\n            reg += \"[^0-9]*\";\r\n        }\r\n        // Try matching\r\n        var regex = new RegExp(reg);\r\n        var matches = source.match(regex);\r\n        if (matches) {\r\n            // Populate the date object\r\n            // Full year\r\n            if (parsedIndexes.year > -1) {\r\n                resValues.year = parseInt(matches[parsedIndexes.year]);\r\n            }\r\n            // 3-digit year\r\n            if (parsedIndexes.year3 > -1) {\r\n                var val = parseInt(matches[parsedIndexes.year3]);\r\n                val += 1000;\r\n                resValues.year = val;\r\n            }\r\n            // 2-digit year\r\n            if (parsedIndexes.year2 > -1) {\r\n                var val = parseInt(matches[parsedIndexes.year2]);\r\n                if (val > 50) {\r\n                    val += 1000;\r\n                }\r\n                else {\r\n                    val += 2000;\r\n                }\r\n                resValues.year = val;\r\n            }\r\n            // 1-digit year\r\n            if (parsedIndexes.year1 > -1) {\r\n                var val = parseInt(matches[parsedIndexes.year1]);\r\n                val = Math.floor((new Date().getFullYear()) / 10) * 10 + val;\r\n                resValues.year = val;\r\n            }\r\n            // Full month\r\n            if (parsedIndexes.monthLong > -1) {\r\n                resValues.month = this.resolveMonth(matches[parsedIndexes.monthLong]);\r\n            }\r\n            // Short month\r\n            if (parsedIndexes.monthShort > -1) {\r\n                resValues.month = this.resolveShortMonth(matches[parsedIndexes.monthShort]);\r\n            }\r\n            // Numeric month\r\n            if (parsedIndexes.month > -1) {\r\n                resValues.month = parseInt(matches[parsedIndexes.month]) - 1;\r\n            }\r\n            // Weekday\r\n            // @todo\r\n            // Week\r\n            if ((parsedIndexes.week > -1) && (parsedIndexes.day === -1)) {\r\n                // We parse weeks ONLY if day is not explicitly set\r\n                // TODO: this needs work\r\n                // (but maybe later - I can hardly imagine anyone passing their dates in weeks)\r\n                resValues.month = 0;\r\n                resValues.day = $utils.getDayFromWeek(parseInt(matches[parsedIndexes.week]), resValues.year, 1, this.utc);\r\n            }\r\n            // Day\r\n            if (parsedIndexes.day > -1) {\r\n                resValues.day = parseInt(matches[parsedIndexes.day]);\r\n            }\r\n            // Year day\r\n            if (parsedIndexes.yearDay > -1) {\r\n                resValues.month = 0;\r\n                resValues.day = parseInt(matches[parsedIndexes.yearDay]);\r\n            }\r\n            // 24 Hour (0-23)\r\n            if (parsedIndexes.hourBase0 > -1) {\r\n                resValues.hour = parseInt(matches[parsedIndexes.hourBase0]);\r\n            }\r\n            // 24 Hour (1-24)\r\n            if (parsedIndexes.hourBase1 > -1) {\r\n                resValues.hour = parseInt(matches[parsedIndexes.hourBase1]) - 1;\r\n            }\r\n            // 12 Hour (0-11)\r\n            if (parsedIndexes.hour12Base0 > -1) {\r\n                var val = parseInt(matches[parsedIndexes.hour12Base0]);\r\n                if (val == 11) {\r\n                    val = 0;\r\n                }\r\n                if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                    val += 12;\r\n                }\r\n                resValues.hour = val;\r\n            }\r\n            // 12 Hour (1-12)\r\n            if (parsedIndexes.hour12Base1 > -1) {\r\n                var val = parseInt(matches[parsedIndexes.hour12Base1]);\r\n                if (val == 12) {\r\n                    val = 0;\r\n                }\r\n                if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                    val += 12;\r\n                }\r\n                resValues.hour = val;\r\n            }\r\n            // Minute\r\n            if (parsedIndexes.minute > -1) {\r\n                resValues.minute = parseInt(matches[parsedIndexes.minute]);\r\n            }\r\n            // Second\r\n            if (parsedIndexes.second > -1) {\r\n                resValues.second = parseInt(matches[parsedIndexes.second]);\r\n            }\r\n            // Millisecond\r\n            if (parsedIndexes.millisecond > -1) {\r\n                var val = parseInt(matches[parsedIndexes.millisecond]);\r\n                if (parsedIndexes.millisecondDigits == 2) {\r\n                    val *= 10;\r\n                }\r\n                else if (parsedIndexes.millisecondDigits == 1) {\r\n                    val *= 100;\r\n                }\r\n                resValues.millisecond = val;\r\n            }\r\n            // Timestamp\r\n            if (parsedIndexes.timestamp > -1) {\r\n                resValues.timestamp = parseInt(matches[parsedIndexes.timestamp]);\r\n                var ts = new Date(resValues.timestamp);\r\n                resValues.year = ts.getUTCFullYear();\r\n                resValues.month = ts.getUTCMonth();\r\n                resValues.day = ts.getUTCDate();\r\n                resValues.hour = ts.getUTCHours();\r\n                resValues.minute = ts.getUTCMinutes();\r\n                resValues.second = ts.getUTCSeconds();\r\n                resValues.millisecond = ts.getUTCMilliseconds();\r\n            }\r\n            // Adjust time zone\r\n            if (parsedIndexes.zone > -1) {\r\n                var zone = matches[parsedIndexes.zone].replace(/:/, \"\");\r\n                var match = $type.getValue(zone.match(/([+\\-]?)([0-9]{2})([0-9]{2})/));\r\n                var dir = match[1];\r\n                var hour = match[2];\r\n                var minute = match[3];\r\n                var offset = parseInt(hour) * 60 + parseInt(minute);\r\n                // Adjust offset\r\n                // Making it negative does not seem to make sense, but it's right\r\n                // because of how JavaScript calculates GTM offsets\r\n                if (dir == \"+\") {\r\n                    offset *= -1;\r\n                }\r\n                // Check the difference in offset\r\n                var originalOffset = new Date().getTimezoneOffset();\r\n                var diff = offset - originalOffset;\r\n                resValues.offset = diff;\r\n            }\r\n            // ISO\r\n            if (parsedIndexes.iso > -1) {\r\n                if (matches[parsedIndexes.iso + 7] == \"Z\" || matches[parsedIndexes.iso + 7] == \"z\") {\r\n                    resValues.utc = true;\r\n                }\r\n                resValues.year = $type.toNumber(matches[parsedIndexes.iso + 0]);\r\n                resValues.month = $type.toNumber(matches[parsedIndexes.iso + 1]) - 1;\r\n                resValues.day = $type.toNumber(matches[parsedIndexes.iso + 2]);\r\n                resValues.hour = $type.toNumber(matches[parsedIndexes.iso + 3]);\r\n                resValues.minute = $type.toNumber(matches[parsedIndexes.iso + 4]);\r\n                resValues.second = $type.toNumber(matches[parsedIndexes.iso + 5]);\r\n                resValues.millisecond = $type.toNumber(matches[parsedIndexes.iso + 6]);\r\n            }\r\n            // Create Date object\r\n            if (resValues.utc) {\r\n                res = new Date(Date.UTC(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute, resValues.second, resValues.millisecond));\r\n            }\r\n            else {\r\n                res = new Date(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute + resValues.offset, resValues.second, resValues.millisecond);\r\n            }\r\n        }\r\n        else {\r\n            // Didn't match anything\r\n            // Let's try dropping it into Date constructor and hope for the best\r\n            res = new Date(source);\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Resolves month name (i.e. \"December\") into a month number (11).\r\n     *\r\n     * @param value  Month name\r\n     * @return Month number\r\n     */\r\n    DateFormatter.prototype.resolveMonth = function (value) {\r\n        // Let's try English first\r\n        var month = this.months.indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Try the translation\r\n        if (this.language && !this.language.isDefault()) {\r\n            month = this.language.translateAll(this.months).indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    /**\r\n     * Resolves short month name (i.e. \"Dec\") into a month number.\r\n     *\r\n     * @param value  Short month name\r\n     * @return Month number\r\n     */\r\n    DateFormatter.prototype.resolveShortMonth = function (value) {\r\n        // Let's try English first\r\n        var month = this.monthsShort.indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Maybe long month (workaround for May)\r\n        month = this.months.indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Try the translation\r\n        if (this.language && !this.language.isDefault()) {\r\n            month = this.language.translateAll(this.monthsShort).indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    /**\r\n     * Checks if passed in string represents AM/PM notation in many of its\r\n     * versions.\r\n     *\r\n     * @param value  Source string\r\n     * @return Is it AM/PM?\r\n     */\r\n    DateFormatter.prototype.isAm = function (value) {\r\n        var list = this.getStringList([\"AM\", \"A.M.\", \"A\"]);\r\n        return list.indexOf(value.toUpperCase()) > -1;\r\n    };\r\n    /**\r\n     * Invalidates related [[Sprite]] causing it to redraw.\r\n     */\r\n    DateFormatter.prototype.invalidateSprite = function () {\r\n        if (this.sprite) {\r\n            this.sprite.invalidate();\r\n        }\r\n    };\r\n    /**\r\n     * Translates list of strings.\r\n     *\r\n     * @param list  Source strings\r\n     * @return Translated strings\r\n     */\r\n    DateFormatter.prototype.getStringList = function (list) {\r\n        var res = [];\r\n        for (var i = 0; i < list.length; i++) {\r\n            // translate?\r\n            if (this.language) {\r\n                res.push($utils.escapeForRgex(this.language.translate(list[i])));\r\n            }\r\n            else {\r\n                res.push($utils.escapeForRgex(list[i]));\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    Object.defineProperty(DateFormatter.prototype, \"dateFormat\", {\r\n        /**\r\n         * @return Date format\r\n         */\r\n        get: function () {\r\n            return this._dateFormat;\r\n        },\r\n        /**\r\n         * Date format to use.\r\n         *\r\n         * If format is not supplied in-line in the string, this setting will be\r\n         * used.\r\n         *\r\n         * @default \"yyyy-MM-dd\"\r\n         * @param value Date format\r\n         */\r\n        set: function (value) {\r\n            this._dateFormat = value;\r\n            this.invalidateSprite();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"inputDateFormat\", {\r\n        /**\r\n         * @return Date format\r\n         */\r\n        get: function () {\r\n            return this._inputDateFormat;\r\n        },\r\n        /**\r\n         * Date format to use when parsing dates.\r\n         *\r\n         * @default \"yyyy-MM-dd\"\r\n         * @param value Date format\r\n         */\r\n        set: function (value) {\r\n            this._inputDateFormat = value;\r\n            this.invalidateSprite();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"intlLocales\", {\r\n        /**\r\n         * @return Date format\r\n         */\r\n        get: function () {\r\n            return this._intlLocales;\r\n        },\r\n        /**\r\n         * Locales if you are using date formats in `Intl.DateTimeFormatOptions` syntax.\r\n         *\r\n         * @param value Locales\r\n         */\r\n        set: function (value) {\r\n            this._intlLocales = value;\r\n            this.invalidateSprite();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"utc\", {\r\n        /**\r\n         * @return Use UTC?\r\n         */\r\n        get: function () {\r\n            return this._utc;\r\n        },\r\n        /**\r\n         * Should formatter use UTC functions?\r\n         *\r\n         * If UTC is used, all date/time values will be independent on client's\r\n         * time zone.\r\n         *\r\n         * @param value Use UTC?\r\n         */\r\n        set: function (value) {\r\n            this._utc = value;\r\n            this.invalidateSprite();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"timezoneOffset\", {\r\n        /**\r\n         * @return Offset (minutes)\r\n         */\r\n        get: function () {\r\n            return this._timezoneOffset;\r\n        },\r\n        /**\r\n         * If set, will format date/time in specific time zone.\r\n         *\r\n         * The value is a number of minutes from target time zone to UTC.\r\n         *\r\n         * E.g. `300` will recalculate Dates in \"GMT-5\" time zone.\r\n         *\r\n         * @param  value  Offset (minutes)\r\n         */\r\n        set: function (value) {\r\n            if (this._timezoneOffset != value) {\r\n                this._timezoneOffset = value;\r\n                this.invalidateSprite();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"firstDayOfWeek\", {\r\n        /**\r\n         * @return First day of week\r\n         */\r\n        get: function () {\r\n            return this._firstDayOfWeek;\r\n        },\r\n        /**\r\n         * First day of the week:\r\n         *\r\n         * * 0 - Sunday\r\n         * * 1 - Monday\r\n         * * 2 - Tuesday\r\n         *\r\n         * Etc.\r\n         *\r\n         * @param value First day of week\r\n         */\r\n        set: function (value) {\r\n            this._firstDayOfWeek = value;\r\n            this.invalidateSprite();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"outputFormat\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Format\r\n         */\r\n        get: function () {\r\n            return this._outputFormat;\r\n        },\r\n        /**\r\n         * Output format for the formatted date.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value  Format\r\n         */\r\n        set: function (value) {\r\n            this._outputFormat = value.toLowerCase();\r\n            this.invalidateSprite();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return DateFormatter;\r\n}(BaseObject));\r\nexport { DateFormatter };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"DateFormatter\"] = DateFormatter;\r\n//# sourceMappingURL=DateFormatter.js.map","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","/**\r\n * Pattern module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../../Base\";\r\nimport { getGhostPaper } from \"../Paper\";\r\nimport { List, ListDisposer } from \"../../utils/List\";\r\nimport { Animation, AnimationDisposer } from \"../../utils/Animation\";\r\nimport { registry } from \"../../Registry\";\r\nimport { InterfaceColorSet } from \"../../utils/InterfaceColorSet\";\r\nimport * as $iter from \"../../utils/Iterator\";\r\nimport * as $object from \"../../utils/Object\";\r\nimport * as $type from \"../../utils/Type\";\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Base class to define patterns.\r\n */\r\nvar Pattern = /** @class */ (function (_super) {\r\n    __extends(Pattern, _super);\r\n    //public propertyValues = new Dictionary<PatternProperties, any>();\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Pattern() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * List of elements the pattern consists of.\r\n         */\r\n        _this._elements = new List();\r\n        /**\r\n         * A storage for Filter property/value pairs.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @see {@link PatternProperties}\r\n         */\r\n        _this.properties = {};\r\n        _this.className = \"Pattern\";\r\n        // Set defaults\r\n        _this.width = 10;\r\n        _this.height = 10;\r\n        _this.x = 0;\r\n        _this.y = 0;\r\n        _this.patternUnits = \"userSpaceOnUse\";\r\n        var interfaceColors = new InterfaceColorSet();\r\n        _this.backgroundFill = interfaceColors.getFor(\"background\");\r\n        _this.backgroundOpacity = 0;\r\n        _this.fillOpacity = 1;\r\n        _this.fill = interfaceColors.getFor(\"alternativeBackground\");\r\n        _this.stroke = interfaceColors.getFor(\"alternativeBackground\");\r\n        _this.strokeOpacity = 1;\r\n        _this.strokeWidth = 1;\r\n        _this.shapeRendering = \"crispEdges\";\r\n        _this.rotation = 0;\r\n        // Create main group to store pattern elements inelements\r\n        _this.element = _this.paper.addGroup(\"pattern\");\r\n        _this.id = \"pattern-\" + registry.getUniqueId();\r\n        _this.element.attr({ \"id\": _this.id });\r\n        _this._disposers.push(_this.element);\r\n        // Make elements disposable\r\n        _this._disposers.push(new ListDisposer(_this._elements));\r\n        // Request again to trigger getter/setter code\r\n        _this.patternUnits = _this.patternUnits;\r\n        _this.width = _this.width;\r\n        _this.height = _this.height;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the pattern.\r\n     */\r\n    Pattern.prototype.draw = function () {\r\n        var _this = this;\r\n        var patternElement = this.element;\r\n        if (patternElement) {\r\n            patternElement.removeChildNodes();\r\n            var background = this.paper.add(\"rect\");\r\n            background.attr({ \"width\": this.width, \"height\": this.height, \"shape-rendering\": \"crispEdges\", \"fill\": this.backgroundFill.hex, \"fill-opacity\": this.backgroundOpacity, \"stroke\": this.backgroundFill.hex, \"stroke-opacity\": 0 });\r\n            patternElement.add(background);\r\n            patternElement.attr({ \"x\": this.x, \"y\": this.y, \"width\": this.width, \"height\": this.height, \"stroke\": this.stroke.hex, \"fill\": this.fill.hex, \"fill-opacity\": this.fillOpacity, \"stroke-opacity\": this.strokeOpacity, \"stroke-width\": this.strokeWidth, \"shape-rendering\": this.shapeRendering, \"patternUnits\": this.patternUnits, \"stroke-dasharray\": this.strokeDasharray });\r\n            $iter.each(this._elements.iterator(), function (element) {\r\n                element.rotation = _this.rotation;\r\n                element.rotationX = _this.properties[\"rotationX\"];\r\n                element.rotationY = _this.properties[\"rotationY\"];\r\n                _this.element.add(element);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Animate pattern properties.\r\n     *\r\n     * @see {@link Animation}\r\n     * @param animationOptions  Animation options\r\n     * @param duration          Duration (ms)\r\n     * @param easing            Easing function\r\n     * @return Animation instance\r\n     */\r\n    Pattern.prototype.animate = function (animationOptions, duration, easing) {\r\n        return new Animation(this, animationOptions, duration, easing).start();\r\n    };\r\n    /**\r\n     * Adds an element to the pattern.\r\n     *\r\n     * @param element  Element\r\n     */\r\n    Pattern.prototype.addElement = function (element) {\r\n        this._elements.push(element);\r\n        this._disposers.push(element);\r\n    };\r\n    /**\r\n     * Remove an element from the pattern.\r\n     *\r\n     * @param element  Element\r\n     */\r\n    Pattern.prototype.removeElement = function (element) {\r\n        this._elements.removeValue(element);\r\n        this.removeDispose(element);\r\n    };\r\n    Object.defineProperty(Pattern.prototype, \"elements\", {\r\n        /**\r\n         * Returns the list of SVG elements comprising the pattern.\r\n         *\r\n         * @return Pattern elements\r\n         */\r\n        get: function () {\r\n            return this._elements;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"fillOpacity\", {\r\n        /**\r\n         * @return Opacity (0-1)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"fillOpacity\"];\r\n        },\r\n        /**\r\n         * Pattern fill opacity. (0-1)\r\n         *\r\n         * @param value  Opacity (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"fillOpacity\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"fill\", {\r\n        /**\r\n         * @return Fill color\r\n         */\r\n        get: function () {\r\n            return this.properties[\"fill\"];\r\n        },\r\n        /**\r\n         * Fill color of the pattern.\r\n         *\r\n         * @param value  Fill color\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"fill\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"backgroundFill\", {\r\n        /**\r\n         * @return Background color\r\n         */\r\n        get: function () {\r\n            return this.properties[\"backgroundFill\"];\r\n        },\r\n        /**\r\n         * Pattern background fill color.\r\n         *\r\n         * @param value  Background color\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"backgroundFill\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"backgroundOpacity\", {\r\n        /**\r\n         * @return Background opacity (0-1)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"backgroundOpacity\"];\r\n        },\r\n        /**\r\n         * Pattern backgorund opacity. (0-1)\r\n         *\r\n         * @param value  Background opacity (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"backgroundOpacity\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"stroke\", {\r\n        /**\r\n         * @return Color\r\n         */\r\n        get: function () {\r\n            return this.properties[\"stroke\"];\r\n        },\r\n        /**\r\n         * Pattern stroke (border) color.\r\n         *\r\n         * @param value  Color\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"stroke\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"strokeOpacity\", {\r\n        /**\r\n         * @return Opacity (0-1)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"strokeOpacity\"];\r\n        },\r\n        /**\r\n         * Pattern stroke opacity. (0-1)\r\n         *\r\n         * @param value  Opacity (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"strokeOpacity\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"strokeWidth\", {\r\n        /**\r\n         * @return Stroke thickness (px)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"strokeWidth\"];\r\n        },\r\n        /**\r\n         * Pattern stroke thickness in pixels.\r\n         *\r\n         * @param value  Stroke thickness (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"strokeWidth\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"shapeRendering\", {\r\n        get: function () {\r\n            return this.properties[\"shapeRendering\"];\r\n        },\r\n        /**\r\n         * Shape rendering\r\n         * @param value [description]\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"shapeRendering\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"rotation\", {\r\n        /**\r\n         * @return Rotation\r\n         */\r\n        get: function () {\r\n            return this.properties[\"rotation\"];\r\n        },\r\n        /**\r\n         * Pattern rotation in degrees.\r\n         *\r\n         * @param value  Rotation\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"rotation\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"patternUnits\", {\r\n        /**\r\n         * @return Units\r\n         */\r\n        get: function () {\r\n            return this.properties[\"patternUnits\"];\r\n        },\r\n        /**\r\n         * Pattern measuring units.\r\n         *\r\n         * Available options: \"userSpaceOnUse\" | \"objectBoundingBox\".\r\n         *\r\n         * @param value  Units\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"patternUnits\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"width\", {\r\n        /**\r\n         * @return Width (px)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"width\"];\r\n        },\r\n        /**\r\n         * Pattern width in pixels.\r\n         *\r\n         * @param value  Width (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"width\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"height\", {\r\n        /**\r\n         * @return Height (px)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"height\"];\r\n        },\r\n        /**\r\n         * Pattern height in pixels.\r\n         *\r\n         * @param value Height (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"height\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"x\", {\r\n        /**\r\n         * @return X (px)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"x\"];\r\n        },\r\n        /**\r\n         * X position. (pixels)\r\n         *\r\n         * @param value X (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"x\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"y\", {\r\n        /**\r\n         * @return Y (px)\r\n         */\r\n        get: function () {\r\n            return this.properties[\"y\"];\r\n        },\r\n        /**\r\n         * Y position (px).\r\n         *\r\n         * @param value Y (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"y\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"paper\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Paper\r\n         */\r\n        get: function () {\r\n            if (this._paper) {\r\n                return this._paper;\r\n            }\r\n            return getGhostPaper();\r\n        },\r\n        /**\r\n         * [[Paper]] instance to draw pattern in.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param paper  Paper\r\n         */\r\n        set: function (paper) {\r\n            if (this._paper != paper) {\r\n                this._paper = paper;\r\n                this.draw();\r\n                paper.appendDef(this.element);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies properties from another Pattern instance.\r\n     *\r\n     * @param source  Source pattern\r\n     */\r\n    Pattern.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        _super.prototype.copyFrom.call(this, source);\r\n        $object.each(source.properties, function (key, value) {\r\n            _this[key] = value;\r\n        });\r\n    };\r\n    Object.defineProperty(Pattern.prototype, \"animations\", {\r\n        /**\r\n         * A list of animations currently running on the patter.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Animation list\r\n         */\r\n        get: function () {\r\n            if (!this._animations) {\r\n                this._animations = [];\r\n                this._disposers.push(new AnimationDisposer(this._animations));\r\n            }\r\n            return this._animations;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"strokeDasharray\", {\r\n        /**\r\n         * @return `stroke-dasharray`\r\n         */\r\n        get: function () {\r\n            return this.properties[\"strokeDashArray\"];\r\n        },\r\n        /**\r\n         * A `stroke-dasharray` for the stroke (outline).\r\n         *\r\n         * \"Dasharray\" allows setting rules to make lines dashed, dotted, etc.\r\n         *\r\n         * @see {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dasharray} for more info on `stroke-dasharray`\r\n         * @param value  `stroke-dasharray`\r\n         */\r\n        set: function (value) {\r\n            this.properties[\"strokeDashArray\"] = value;\r\n            this.draw();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    Pattern.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            // Set up series\r\n            if ($type.hasValue(config.elements) && $type.isArray(config.elements)) {\r\n                for (var i = 0, len = config.elements.length; i < len; i++) {\r\n                    var element = config.elements[i];\r\n                    if ($type.hasValue(element[\"type\"])) {\r\n                        var sprite = this.createEntryInstance(element);\r\n                        if (sprite instanceof BaseObject) {\r\n                            sprite.config = element;\r\n                        }\r\n                        this.addElement($type.hasValue(element[\"typeProperty\"])\r\n                            ? sprite[element[\"typeProperty\"]]\r\n                            : sprite.element);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    return Pattern;\r\n}(BaseObject));\r\nexport { Pattern };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Pattern\"] = Pattern;\r\n//# sourceMappingURL=Pattern.js.map","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","/**\r\n * A collection of utility functions for various type checks and conversion\r\n * @todo Review unused functions for removal\r\n * @hidden\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { percent, isPercent } from \"./Percent\";\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns `true` if value is not a number (NaN).\r\n *\r\n * @param value Input value\r\n * @return Is NaN?\r\n * @deprecated Is not used anywhere. JS built-in isNaN is used everywhere. Maybe we don't need this, or if we do, then we should use it everywhere\r\n */\r\nexport function isNaN(value) {\r\n    return Number(value) !== value;\r\n}\r\n/**\r\n * Returns a type of the value.\r\n *\r\n * @param value  Input value\r\n * @return Type of the value\r\n */\r\nexport function getType(value) {\r\n    return ({}).toString.call(value);\r\n}\r\n/**\r\n * Returns a default value if the passed in value is empty.\r\n *\r\n * @param value     Input value\r\n * @param optional  Default value\r\n * @return Value or default value whichever is available\r\n * @deprecated Not used anywhere\r\n */\r\nexport function getDefault(value, optional) {\r\n    return value || optional;\r\n}\r\n/**\r\n * Checks if the passed in value is a string.\r\n *\r\n * @param value  Value\r\n * @return Is string?\r\n * @throws {Error}\r\n * @deprecated Not used anywhere\r\n */\r\nexport function checkString(value) {\r\n    if (typeof value === \"string\") {\r\n        return true;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected a string but got \" + getType(value));\r\n    }\r\n}\r\n/**\r\n * Checks if the passed in value is a boolean.\r\n *\r\n * @param value  Value\r\n * @return Is boolean?\r\n * @throws {Error}\r\n * @deprecated Not used anywhere\r\n */\r\nexport function checkBoolean(value) {\r\n    if (typeof value === \"boolean\") {\r\n        return true;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected a boolean but got \" + getType(value));\r\n    }\r\n}\r\n/**\r\n * Checks if the passed in value is a number.\r\n *\r\n * @param value  Value\r\n * @return Is number?\r\n * @throws {Error}\r\n */\r\nexport function checkNumber(value) {\r\n    if (typeof value === \"number\") {\r\n        if (isNaN(value)) {\r\n            throw new Error(\"Expected a number but got NaN\");\r\n        }\r\n    }\r\n    else {\r\n        throw new Error(\"Expected a number but got \" + getType(value));\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Checks if the passed in value is an object.\r\n *\r\n * @param value  Value\r\n * @return Is object?\r\n * @throws {Error}\r\n * @todo Is the input type correct?\r\n * @deprecated Not used anywhere\r\n */\r\nexport function checkObject(value) {\r\n    var t = getType(value);\r\n    if (t === \"[object Object]\") {\r\n        return true;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected an object but got \" + t);\r\n    }\r\n}\r\n/**\r\n * Checks if the passed in value is an array.\r\n *\r\n * @param value  Value\r\n * @return Is array?\r\n * @throws {Error}\r\n * @deprecated Not used anywhere\r\n */\r\nexport function checkArray(value) {\r\n    if (Array.isArray(value)) {\r\n        return true;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected an array but got \" + getType(value));\r\n    }\r\n}\r\n/**\r\n * Checks if the passed in value is a Date object.\r\n *\r\n * @param value  Value\r\n * @return Is Date object?\r\n * @throws {Error}\r\n * @deprecated Not used anywhere\r\n */\r\nexport function checkDate(value) {\r\n    var t = getType(value);\r\n    if (t === \"[object Date]\") {\r\n        return true;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected a date but got \" + t);\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * TYPE CASTING\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Casts string or a number into string.\r\n *\r\n * @param value  Input\r\n * @return String value\r\n * @deprecated Not used anywhere\r\n */\r\nexport function castString(value) {\r\n    if (typeof value === \"string\") {\r\n        return value;\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"\" + value;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected a string or number but got \" + getType(value));\r\n    }\r\n}\r\n/**\r\n * Casts string or a number into a number.\r\n *\r\n * @param value   Input value\r\n * @return Number  value\r\n * @throws {Error}\r\n */\r\nexport function castNumber(value) {\r\n    if (typeof value === \"string\") {\r\n        var number = +value;\r\n        if (isNaN(number)) {\r\n            throw new Error(\"Cannot cast string \" + JSON.stringify(value) + \" to a number\");\r\n        }\r\n        else {\r\n            return number;\r\n        }\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        if (isNaN(value)) {\r\n            throw new Error(\"Expected a number but got NaN\");\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n    else {\r\n        var t = getType(value);\r\n        if (t === \"[object Date]\") {\r\n            return value.getTime();\r\n        }\r\n        else {\r\n            throw new Error(\"Expected a string, number, or date but got \" + t);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Casts number, string or Date into a Date object.\r\n *\r\n * @param value  Input value\r\n * @return Date object\r\n * @deprecated Not used anywhere\r\n * @throws {Error}\r\n * @hidden\r\n * @deprecated\r\n */\r\n/*export function castDate(value: string | number | Date, formatter?: DateFormatter): Date {\r\n    if (typeof value === \"string\") {\r\n        if (formatter) {\r\n            return formatter.parse(value);\r\n        }\r\n        return new Date(value);\r\n\r\n    } else if (typeof value === \"number\") {\r\n        return new Date(value);\r\n\r\n    } else {\r\n        const t = getType(value);\r\n\r\n        if (t === \"[object Date]\") {\r\n            return value;\r\n\r\n        } else {\r\n            throw new Error(\"Expected a string, number, or date but got \" + t);\r\n        }\r\n    }\r\n}*/\r\n/**\r\n * ============================================================================\r\n * QUICK CONVERSION\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Converts any value into `boolean`.\r\n *\r\n * @param value  Source value\r\n * @return `true` or `false`\r\n */\r\nexport function toBoolean(value) {\r\n    return value ? true : false;\r\n}\r\n/**\r\n * Converts any value into a `number`.\r\n *\r\n * @param value  Source value\r\n * @return Number representation of value\r\n */\r\nexport function toNumber(value) {\r\n    if (hasValue(value) && !isNumber(value)) {\r\n        var converted = Number(value);\r\n        if (isNaN(converted) && isString(value) && value != \"\") {\r\n            return toNumber(value.replace(/[^0-9.\\-]+/g, ''));\r\n        }\r\n        return converted;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Converts any value into a string (text).\r\n *\r\n * @param value  Source value\r\n * @return String representation of the input\r\n */\r\nexport function toText(value) {\r\n    if (hasValue(value) && !isString(value)) {\r\n        if (isNumber(value)) {\r\n            return castString(value);\r\n        }\r\n        else if (isObject(value)) {\r\n            return value.toString();\r\n        }\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Converts any value to a number or [[Percent]].\r\n *\r\n * If the parameter is a string and contains \"%\", it will\r\n * convert it into a [[Percent]].\r\n *\r\n * Otherwise, it will convert into a number.\r\n *\r\n * @param value  Number or percent\r\n * @return Percent object\r\n */\r\nexport function toNumberOrPercent(value) {\r\n    if (!hasValue(value) || isNumber(value) || isPercent(value)) {\r\n        return value;\r\n    }\r\n    if (isString(value) && value.indexOf(\"%\") != -1) {\r\n        return percent(toNumber(value));\r\n    }\r\n    return toNumber(value);\r\n}\r\n/**\r\n * Checks if a variable has a value.\r\n *\r\n * @param a  Input value\r\n * @returns                        Has value?\r\n */\r\nexport function hasValue(a) {\r\n    return a != null;\r\n}\r\n/**\r\n * Returns a value or throws an {Error} exception if the variable has not\r\n * value.\r\n *\r\n * @param a  Input value\r\n * @returns                        Value\r\n */\r\nexport function getValue(a) {\r\n    if (hasValue(a)) {\r\n        return a;\r\n    }\r\n    else {\r\n        throw new Error(\"Value doesn't exist\");\r\n    }\r\n}\r\n/**\r\n * Returns a value, or returns the default value if it doesn't have a value.\r\n *\r\n * @param a  Input value\r\n * @returns                        Value\r\n */\r\nexport function getValueDefault(a, defaultValue) {\r\n    if (hasValue(a)) {\r\n        return a;\r\n    }\r\n    else {\r\n        return defaultValue;\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Checks if parameter is `Date`.\r\n *\r\n * @param value  Input value\r\n * @return Is Date?\r\n */\r\nexport function isDate(value) {\r\n    return getType(value) === \"[object Date]\";\r\n}\r\n/**\r\n * Checks if parameter is `string`.\r\n *\r\n * @param value  Input value\r\n * @return Is string?\r\n */\r\nexport function isString(value) {\r\n    return typeof value === \"string\";\r\n}\r\n/**\r\n * Checks if parameter is `number`.\r\n *\r\n * @param value  Input value\r\n * @return Is number?\r\n */\r\nexport function isNumber(value) {\r\n    return typeof value === \"number\" && Number(value) == value;\r\n}\r\n/**\r\n * Checks if parameter is `object`.\r\n *\r\n * @param value  Input value\r\n * @return Is object?\r\n */\r\nexport function isObject(value) {\r\n    return typeof value === \"object\" && value != null;\r\n}\r\n/**\r\n * Checks if parameter is `Array`.\r\n *\r\n * @param value  Input value\r\n * @return Is Array?\r\n */\r\nexport function isArray(value) {\r\n    return Array.isArray(value);\r\n}\r\n//# sourceMappingURL=Type.js.map","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","/**\r\n * Handles formatting of pseudo-markup in text.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../Base\";\r\nimport { AMElement } from \"../rendering/AMElement\";\r\nimport { Adapter } from \"../utils/Adapter\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $strings from \"../utils/Strings\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * Handles formatting of pseudo-markdown in text.\r\n *\r\n * @todo Encode < > in output\r\n * @todo Add more adapters\r\n * @important\r\n */\r\nvar TextFormatter = /** @class */ (function (_super) {\r\n    __extends(TextFormatter, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function TextFormatter() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Adapter.\r\n         */\r\n        _this.adapter = new Adapter(_this);\r\n        _this.className = \"TextFormatter\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    TextFormatter.prototype.debug = function () { };\r\n    /**\r\n     * Formats the text according to specifications passed in.\r\n     *\r\n     * @param text    Text to format\r\n     * @param output  Output format (svg, html)\r\n     * @return Formatted text\r\n     */\r\n    TextFormatter.prototype.format = function (text, output) {\r\n        // Apply default\r\n        if (!$type.hasValue(output)) {\r\n            output = \"svg\";\r\n        }\r\n        // Init return value\r\n        var formatted = \"\";\r\n        // Replace double (escaped) square spaces with remporary codes\r\n        text = this.escape(text);\r\n        // Divvy up the string by style tags\r\n        var styles = text.match(/\\[([^\\]]*?)\\]/gm);\r\n        if (!styles) {\r\n            // Nothing to do here - no formatting elements\r\n            return this.wrap(text, \"\", output);\r\n        }\r\n        // Get pure text - no style tags\r\n        var texts = text.split(/\\[[^\\[\\]]*\\]/);\r\n        // Go through each of the texts and wrap it in style tags\r\n        for (var i = 0, len = texts.length; i < len; i++) {\r\n            // Get text bit\r\n            var t = texts[i];\r\n            // Check if string is empty\r\n            if (t === \"\") {\r\n                continue;\r\n            }\r\n            // Run through an adapter\r\n            t = this.adapter.apply(\"chunk\", t);\r\n            // Get related style\r\n            var s = \"\";\r\n            if (i > 0) {\r\n                s = styles[i - 1].replace('[', '').replace(']', '');\r\n            }\r\n            // Wrap text in tag\r\n            formatted += this.wrap(t, s, output);\r\n        }\r\n        // Replace placeholders back\r\n        formatted = this.unescape(formatted);\r\n        // Return result\r\n        return this.cleanUp(formatted);\r\n    };\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    TextFormatter.prototype.escape = function (text) {\r\n        return text.\r\n            replace(/\\[\\[/g, registry.getPlaceholder(\"1\")).\r\n            replace(/([^\\/]{1})\\]\\]/g, \"$1\" + registry.getPlaceholder(\"2\")).\r\n            replace(/\\]\\]/g, registry.getPlaceholder(\"2\")).\r\n            replace(/\\{\\{/g, registry.getPlaceholder(\"3\")).\r\n            replace(/\\}\\}/g, registry.getPlaceholder(\"4\")).\r\n            replace(/\\'\\'/g, registry.getPlaceholder(\"5\"));\r\n    };\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    TextFormatter.prototype.unescape = function (text) {\r\n        return text.\r\n            replace(new RegExp(registry.getPlaceholder(\"1\"), \"g\"), \"[[\").\r\n            replace(new RegExp(registry.getPlaceholder(\"2\"), \"g\"), \"]]\").\r\n            replace(new RegExp(registry.getPlaceholder(\"3\"), \"g\"), \"{{\").\r\n            replace(new RegExp(registry.getPlaceholder(\"4\"), \"g\"), \"}}\").\r\n            replace(new RegExp(registry.getPlaceholder(\"5\"), \"g\"), \"'\");\r\n    };\r\n    /**\r\n     * Cleans up the text text for leftover double square brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Cleaned up text\r\n     */\r\n    TextFormatter.prototype.cleanUp = function (text) {\r\n        return text.\r\n            replace(/\\[\\[/g, \"[\").\r\n            replace(/\\]\\]/g, \"]\").\r\n            replace(/\\{\\{/g, \"{\").\r\n            replace(/\\}\\}/g, \"}\").\r\n            replace(/\\'\\'/g, \"'\");\r\n    };\r\n    /**\r\n     * Wraps text into corresponding tags.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text   Text to wrap\r\n     * @param style  Styles\r\n     * @param output  Format to output in (svg, html)\r\n     * @return Formatted string\r\n     */\r\n    TextFormatter.prototype.wrap = function (text, style, output) {\r\n        if (style === \"\" || style === \"/\") {\r\n            //return text;\r\n            style = \"\";\r\n        }\r\n        switch (output) {\r\n            case \"html\":\r\n                return this.wrapHtml(text, this.translateStyleShortcuts(style));\r\n            default:\r\n                return this.wrapSvg(text, this.translateStyleShortcuts(style));\r\n        }\r\n    };\r\n    /**\r\n     * Wraps text in styled SVG tag.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text   Text to wrap\r\n     * @param style  Style property\r\n     * @return Formatted tag\r\n     */\r\n    TextFormatter.prototype.wrapSvg = function (text, style) {\r\n        if (style === \"\") {\r\n            return \"<tspan>\" + text + \"</tspan>\";\r\n        }\r\n        else {\r\n            return \"<tspan style='\" + style + \"'>\" + text + \"</tspan>\";\r\n        }\r\n    };\r\n    /**\r\n     * Returns an SVG `<tspan>` element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text   Text\r\n     * @param style  Style\r\n     * @return Element\r\n     */\r\n    TextFormatter.prototype.getSvgElement = function (text, style) {\r\n        var element = new AMElement(\"tspan\");\r\n        element.textContent = text;\r\n        if (style) {\r\n            element.node.setAttribute(\"style\", style);\r\n        }\r\n        return element;\r\n    };\r\n    /**\r\n     * Wraps text in HTML <span> tag.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text   Text to wrap\r\n     * @param style  Style property\r\n     * @return Formatted tag\r\n     * @todo Translate SVG styles into HTML ones\r\n     */\r\n    TextFormatter.prototype.wrapHtml = function (text, style) {\r\n        if (style === \"\") {\r\n            return \"<span>\" + text + \"</span>\";\r\n        }\r\n        else {\r\n            return \"<span style='\" + this.styleSvgToHtml(style) + \"'>\" + text + \"</span>\";\r\n        }\r\n    };\r\n    /**\r\n     * Returns an HTML `<span>` element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text   Text/HTML\r\n     * @param style  Style definition\r\n     * @return HTML element\r\n     */\r\n    TextFormatter.prototype.getHtmlElement = function (text, style) {\r\n        var element = document.createElement(\"span\");\r\n        element.innerHTML = text;\r\n        if (style) {\r\n            element.setAttribute(\"style\", style);\r\n        }\r\n        return element;\r\n    };\r\n    /**\r\n     * Trabslates SVG CSS into HTML CSS.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param style  SVG CSS\r\n     * @return HTML CSS\r\n     * @todo Implement actual translation\r\n     */\r\n    TextFormatter.prototype.styleSvgToHtml = function (style) {\r\n        style = style.replace(/fill:/, \"color:\");\r\n        return style;\r\n    };\r\n    /**\r\n     * Translates style shortcuts into full styles, i.e.:\r\n     * \"bold\" => \"font-weight: bold\"\r\n     * \"#f00\" => \"fill: #f00\"\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param style  Untranslated style\r\n     * @return Translated style\r\n     * @todo Implement actual translation\r\n     */\r\n    TextFormatter.prototype.translateStyleShortcuts = function (style) {\r\n        if (style == \"\" || style == \"[ ]\") {\r\n            return \"\";\r\n        }\r\n        var cached = registry.getCache(\"translateStyleShortcuts_\" + style);\r\n        if (cached) {\r\n            return cached;\r\n        }\r\n        // Pre-process quoted text\r\n        var q = style.match(/('[^']*')|(\"[^\"]*\")/gi);\r\n        if (q) {\r\n            for (var i = 0; i < q.length; i++) {\r\n                style = style.replace(q[i], q[i].replace(/['\"]*/g, \"\").replace(/[ ]+/g, \"+\"));\r\n            }\r\n        }\r\n        // Get style parts\r\n        var b = style.match(/([\\w\\-]*:[\\s]?[^;\\s\\]]*)|(\\#[\\w]{1,6})|([\\w]+)|(\\/)/gi);\r\n        // Empty?\r\n        if (!b) {\r\n            return style;\r\n        }\r\n        // Check each part\r\n        for (var i = 0; i < b.length; i++) {\r\n            if (b[i].match(/^bold$/i)) {\r\n                // Bold\r\n                b[i] = \"font-weight:\" + b[i];\r\n            }\r\n            else if (b[i] == \"/\") {\r\n                // Just closing tag\r\n                // Do nothing\r\n                b[i] = \"\";\r\n            }\r\n            else if (!b[i].match(/:/)) {\r\n                // Color\r\n                b[i] = \"fill:\" + b[i];\r\n            }\r\n            else {\r\n                b[i] = b[i].replace(/\\+/g, \" \");\r\n            }\r\n        }\r\n        var res = b.join(';');\r\n        registry.setCache(\"translateStyleShortcuts_\" + style, res);\r\n        return res;\r\n    };\r\n    /**\r\n     * Splits string into chunks. (style blocks, quoted blocks, regular blocks)\r\n     *\r\n     * If the second parameter `quotedBlocks` is set to `true` this method will\r\n     * also single out text blocks enclosed within single quotes that no\r\n     * formatting should be applied to, and they should be displayed as is.\r\n     *\r\n     * Default for the above is `false`, so that you can use single quote in text\r\n     * without escaping it.\r\n     *\r\n     * If enabled, single quotes can be escaped by doubling it - adding two\r\n     * single quotes, which will be replaced by a one single quote in the final\r\n     * output.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text          Text to chunk\r\n     * @param quotedBlocks  Use quoted blocks\r\n     * @param noFormatting  Formatting blocks will be treated as regular text\r\n     * @return Array of string chunks\r\n     */\r\n    TextFormatter.prototype.chunk = function (text, quotedBlocks, noFormatting) {\r\n        if (quotedBlocks === void 0) { quotedBlocks = false; }\r\n        if (noFormatting === void 0) { noFormatting = false; }\r\n        // Init result\r\n        var res = [];\r\n        // Replace double (escaped) square spaces and quotes with temporary codes\r\n        text = this.escape(text);\r\n        // Deal with style blocks\r\n        var chunks = quotedBlocks ? text.split(\"'\") : [text];\r\n        for (var i = 0; i < chunks.length; i++) {\r\n            var chunk = chunks[i];\r\n            // Empty?\r\n            if (chunk === \"\") {\r\n                continue;\r\n            }\r\n            if ((i % 2) === 0) {\r\n                // Text outside quotes\r\n                // Parse for style blocks which are \"text\" chunks, the rest chunks are\r\n                // \"value\"\r\n                chunk = chunk.replace(/\\]\\[/g, \"]\" + $strings.PLACEHOLDER + \"[\");\r\n                chunk = chunk.replace(/\\[\\]/g, \"[ ]\");\r\n                var chunks2 = chunk.split(/[\\[\\]]+/);\r\n                for (var i2 = 0; i2 < chunks2.length; i2++) {\r\n                    var chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                    // Placeholder?\r\n                    if (chunk2 === $strings.PLACEHOLDER) {\r\n                        continue;\r\n                    }\r\n                    // Empty?\r\n                    if (chunk2 === \"\") {\r\n                        continue;\r\n                    }\r\n                    // Block or value\r\n                    if ((i2 % 2) === 0) {\r\n                        res.push({\r\n                            \"type\": \"value\",\r\n                            \"text\": this.adapter.apply(\"chunk\", chunk2)\r\n                        });\r\n                    }\r\n                    else {\r\n                        res.push({\r\n                            \"type\": noFormatting ? \"value\" : \"format\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                // A text within doublequotes\r\n                // All chunks are \"text\"\r\n                var chunks2 = chunk.split(/[\\[\\]]+/);\r\n                for (var i2 = 0; i2 < chunks2.length; i2++) {\r\n                    var chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                    // Empty?\r\n                    if (chunk2 === \"\") {\r\n                        continue;\r\n                    }\r\n                    // Block or text\r\n                    if ((i2 % 2) === 0) {\r\n                        res.push({\r\n                            \"type\": \"text\",\r\n                            \"text\": chunk2\r\n                        });\r\n                    }\r\n                    else if (this.isImage(chunk2)) {\r\n                        res.push({\r\n                            \"type\": \"image\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                    else {\r\n                        res.push({\r\n                            \"type\": \"format\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Checks if supplied format contains image information and should be\r\n     * formatted as such.\r\n     * I.e.: `[img: myImage.png]`\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Format\r\n     * @return `true` if it is an image\r\n     */\r\n    TextFormatter.prototype.isImage = function (text) {\r\n        return text.match(/img[ ]?:/) ? true : false;\r\n    };\r\n    return TextFormatter;\r\n}(BaseObject));\r\nexport { TextFormatter };\r\nvar formatter;\r\n/**\r\n * Returns the global instance of [[TextFormatter]].\r\n *\r\n * All classes and instances should reuse this universal text formatter,\r\n * rather than create their own instance of it.\r\n */\r\nexport function getTextFormatter() {\r\n    if (formatter == null) {\r\n        formatter = new TextFormatter();\r\n    }\r\n    return formatter;\r\n}\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"TextFormatter\"] = TextFormatter;\r\n//# sourceMappingURL=TextFormatter.js.map","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","/**\r\n * Pointed rectangle module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { PointedShape } from \"./PointedShape\";\r\nimport * as $math from \"../utils/Math\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a rectangle with a pointer.\r\n *\r\n * @see {@link IPointedRectangleEvents} for a list of available events\r\n * @see {@link IPointedRectangleAdapters} for a list of available Adapters\r\n */\r\nvar PointedRectangle = /** @class */ (function (_super) {\r\n    __extends(PointedRectangle, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PointedRectangle() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PointedRectangle\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.cornerRadius = 6;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PointedRectangle.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var cr = this.cornerRadius;\r\n        var w = this.innerWidth;\r\n        var h = this.innerHeight;\r\n        if (w > 0 && h > 0) {\r\n            var x = this.pointerX;\r\n            var y = this.pointerY;\r\n            var bwh = this.pointerBaseWidth / 2;\r\n            var maxcr = $math.min(w / 2, h / 2);\r\n            var crtl = $math.fitToRange(cr, 0, maxcr);\r\n            var crtr = $math.fitToRange(cr, 0, maxcr);\r\n            var crbr = $math.fitToRange(cr, 0, maxcr);\r\n            var crbl = $math.fitToRange(cr, 0, maxcr);\r\n            // corner coordinates\r\n            // top left\r\n            var xtl = 0;\r\n            var ytl = 0;\r\n            // top right\r\n            var xtr = w;\r\n            var ytr = 0;\r\n            // bottom right\r\n            var xbr = w;\r\n            var ybr = h;\r\n            // bottom left\r\n            var xbl = 0;\r\n            var ybl = h;\r\n            var lineT = void 0;\r\n            var lineR = void 0;\r\n            var lineB = void 0;\r\n            var lineL = void 0;\r\n            // find stem base side: http://$math.stackexchange.com/questions/274712/calculate-on-which-side-of-straign-line-is-dot-located\r\n            // d=(xx1)(y2y1)(yy1)(x2x1)\r\n            var d1 = (x - xtl) * (ybr - ytl) - (y - ytl) * (xbr - xtl);\r\n            var d2 = (x - xbl) * (ytr - ybl) - (y - ybl) * (xtr - xbl);\r\n            // top\r\n            if (d1 > 0 && d2 > 0) {\r\n                var stemX = $math.fitToRange(x, crtl + bwh, w - bwh - crtr);\r\n                y = $math.fitToRange(y, -Infinity, 0);\r\n                lineT = \"M\" + crtl + \",0 L\" + (stemX - bwh) + \",0 L\" + x + \",\" + y + \" L\" + (stemX + bwh) + \",0 L\" + (w - crtr) + \",0\";\r\n            }\r\n            else {\r\n                lineT = \"M\" + crtl + \",0 L\" + (w - crtr) + \",0\";\r\n            }\r\n            // bottom\r\n            if (d1 < 0 && d2 < 0) {\r\n                var stemX = $math.fitToRange(x, crbl + bwh, w - bwh - crbr);\r\n                y = $math.fitToRange(y, h, Infinity);\r\n                lineB = \" L\" + (w - crbr) + \",\" + h + \" L\" + (stemX + bwh) + \",\" + h + \" L\" + x + \",\" + y + \" L\" + (stemX - bwh) + \",\" + h + \" L\" + crbl + \",\" + h;\r\n            }\r\n            else {\r\n                lineB = \" L\" + crbl + \",\" + h;\r\n            }\r\n            // left\r\n            if (d1 < 0 && d2 > 0) {\r\n                var stemY = $math.fitToRange(y, crtl + bwh, h - crbl - bwh);\r\n                x = $math.fitToRange(x, -Infinity, 0);\r\n                lineL = \" L0,\" + (h - crbl) + \" L0,\" + (stemY + bwh) + \" L\" + x + \",\" + y + \" L0,\" + (stemY - bwh) + \" L0,\" + crtl;\r\n            }\r\n            else {\r\n                lineL = \" L0,\" + crtl;\r\n            }\r\n            // right\r\n            if (d1 > 0 && d2 < 0) {\r\n                var stemY = $math.fitToRange(y, crtr + bwh, h - bwh - crbr);\r\n                x = $math.fitToRange(x, w, Infinity);\r\n                lineR = \" L\" + w + \",\" + crtr + \" L\" + w + \",\" + (stemY - bwh) + \" L\" + x + \",\" + y + \" L\" + w + \",\" + (stemY + bwh) + \" L\" + w + \",\" + (h - crbr);\r\n            }\r\n            else {\r\n                lineR = \" L\" + w + \",\" + (h - crbr);\r\n            }\r\n            var arcTR = \" a\" + crtr + \",\" + crtr + \" 0 0 1 \" + crtr + \",\" + crtr;\r\n            var arcBR = \" a\" + crbr + \",\" + crbr + \" 0 0 1 -\" + crbr + \",\" + crbr;\r\n            var arcBL = \" a\" + crbl + \",\" + crbl + \" 0 0 1 -\" + crbl + \",-\" + crbl;\r\n            var arcTL = \" a\" + crtl + \",\" + crtl + \" 0 0 1 \" + crtl + \",-\" + crtl;\r\n            this.path = lineT + arcTR + lineR + arcBR + lineB + arcBL + lineL + arcTL;\r\n        }\r\n    };\r\n    Object.defineProperty(PointedRectangle.prototype, \"cornerRadius\", {\r\n        /**\r\n         * @return Corner radius (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cornerRadius\");\r\n        },\r\n        /**\r\n         * Radius of rectangle's border in pixels.\r\n         *\r\n         * @default 0\r\n         * @param value  Corner radius (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"cornerRadius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PointedRectangle;\r\n}(PointedShape));\r\nexport { PointedRectangle };\r\n//# sourceMappingURL=PointedRectangle.js.map","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","/**\r\n * Data Loader is responsible for loading and parsing external data\r\n */\r\nimport { CSVParser } from \"./CSVParser\";\r\nimport { JSONParser } from \"./JSONParser\";\r\nimport { Adapter } from \"../utils/Adapter\";\r\nimport * as $net from \"../utils/Net\";\r\nimport * as $array from \"../utils/Array\";\r\n;\r\n/**\r\n * Data Loader is responsible for loading and parsing external data.\r\n *\r\n * There is just one instance of DataLoader per system. Unless you have a\r\n * speicific reason, do not instantiate additional instances.\r\n *\r\n * The global instance of Data Loader is accessible via:\r\n *\r\n * ```TypeScript\r\n * am4core.dataLoader;\r\n * ```\r\n * ```JavaScript\r\n * am4core.dataLoader;\r\n * ```\r\n *\r\n * A loading of specific data source is done via [[DataSource]].\r\n *\r\n     Please refer to [[DataSource]] for information how to use it.\r\n *\r\n * @see {@link IDataLoaderAdapters} for a list of available Adapters\r\n */\r\nvar DataLoader = /** @class */ (function () {\r\n    function DataLoader() {\r\n        /**\r\n         * Adapter.\r\n         */\r\n        this.adapter = new Adapter(this);\r\n    }\r\n    /**\r\n     * Loads a supplied [[DataSource]] or an array of data sources, then calls\r\n     * their respective `parse` methods.\r\n     *\r\n     * @param source  A single data source or an array of multiple of data sources\r\n     */\r\n    DataLoader.prototype.load = function (source) {\r\n        var sources = Array.isArray(source) ? source : [source];\r\n        // Add each Source to the list to be loaded simultaneously\r\n        var promises = $array.map(sources, function (x) {\r\n            // Dispatch events\r\n            x.dispatchImmediately(\"started\");\r\n            x.dispatchImmediately(\"loadstarted\");\r\n            return $net.load(x.url, x, x.requestOptions);\r\n        });\r\n        // Run all promises in parallel\r\n        Promise.all(promises).then(function (res) {\r\n            // Process each loaded source\r\n            $array.each(res, function (result) {\r\n                // Get Source\r\n                var source = result.target;\r\n                // Dispatch events\r\n                source.dispatchImmediately(\"loadended\");\r\n                if (result.error) {\r\n                    if (source.events.isEnabled(\"error\")) {\r\n                        source.events.dispatchImmediately(\"error\", {\r\n                            type: \"error\",\r\n                            code: result.xhr.status,\r\n                            message: source.language.translate(\"Unable to load file: %1\", null, source.url),\r\n                            target: source\r\n                        });\r\n                    }\r\n                }\r\n                else {\r\n                    // Initiate parsing of the loaded data\r\n                    source.processData(result.response, result.type);\r\n                }\r\n                source.dispatchImmediately(\"ended\");\r\n            });\r\n        }).catch(function (res) {\r\n            if (res.target) {\r\n                res.target.dispatchImmediately(\"loadended\");\r\n                if (res.target.events.isEnabled(\"error\")) {\r\n                    res.target.events.dispatchImmediately(\"error\", {\r\n                        type: \"error\",\r\n                        code: res.xhr.status,\r\n                        message: res.target.language.translate(\"Unable to load file: %1\", null, res.target.url),\r\n                        target: res.target\r\n                    });\r\n                }\r\n                res.target.dispatchImmediately(\"ended\");\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Instantiates a [[DataParser]] object based on the data type.\r\n     * Built-in parser types are as follows:\r\n     *\r\n     * * \"csv\" or \"text/csv\"\r\n     * * \"json\" or \"application/json\"\r\n     *\r\n     * @param contentType  A format type\r\n     * @return A parser object\r\n     */\r\n    DataLoader.prototype.getParserByType = function (contentType) {\r\n        // Let some plugin decide\r\n        var parser = this.adapter.apply(\"getParserByType\", {\r\n            parser: null,\r\n            type: contentType\r\n        }).parser;\r\n        if (parser) {\r\n            return parser;\r\n        }\r\n        if (contentType == \"csv\" || contentType == \"text/csv\" || contentType == \"application/vnd.ms-excel\") {\r\n            return new CSVParser();\r\n        }\r\n        if (contentType == \"json\" || contentType == \"application/json\") {\r\n            return new JSONParser();\r\n        }\r\n        return;\r\n    };\r\n    /**\r\n     * Tries to determine a parser out of content type and/or actual data.\r\n     *\r\n     * @param data         Data\r\n     * @param contentType  Content-type\r\n     * @return Parser instance\r\n     */\r\n    DataLoader.prototype.getParserByData = function (data, contentType) {\r\n        // Let some plugin decide\r\n        var parser = this.adapter.apply(\"getParserByData\", {\r\n            parser: null,\r\n            data: data,\r\n            type: contentType\r\n        }).parser;\r\n        // Check if we have parser from outside code\r\n        if (!parser) {\r\n            // No, let's try to figure it out\r\n            parser = this.getParserByType(contentType);\r\n            if (parser) {\r\n                // We're able to figure out parser by content-type\r\n                return parser;\r\n            }\r\n            else if (JSONParser.isJSON(data)) {\r\n                return this.getParserByType(\"json\");\r\n            }\r\n            else if (CSVParser.isCSV(data)) {\r\n                return this.getParserByType(\"csv\");\r\n            }\r\n        }\r\n        return parser;\r\n    };\r\n    return DataLoader;\r\n}());\r\nexport { DataLoader };\r\n/**\r\n * Create instance of Data Loader\r\n */\r\nexport var dataLoader = new DataLoader();\r\n//# sourceMappingURL=DataLoader.js.map","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","/**\r\n * Functionality for drawing simple buttons.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../Container\";\r\nimport { Label } from \"./Label\";\r\nimport { RoundedRectangle } from \"../elements/RoundedRectangle\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { registry } from \"../Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Button class is capable of drawing a simple rectangular button with\r\n * optionally rounded corners and an icon in it.\r\n *\r\n * @see {@link IButtonEvents} for a list of available events\r\n * @see {@link IButtonAdapters} for a list of available Adapters\r\n */\r\nvar Button = /** @class */ (function (_super) {\r\n    __extends(Button, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Button() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"Button\";\r\n        _this.tooltipY = 0;\r\n        // Set defaults\r\n        _this.iconPosition = \"left\";\r\n        _this.layout = \"horizontal\";\r\n        _this.contentAlign = \"center\";\r\n        _this.contentValign = \"middle\";\r\n        _this.padding(8, 16, 8, 16);\r\n        _this.setStateOnChildren = true;\r\n        var interfaceColors = new InterfaceColorSet();\r\n        // Create background\r\n        var background = _this.background;\r\n        background.fill = interfaceColors.getFor(\"secondaryButton\");\r\n        background.stroke = interfaceColors.getFor(\"secondaryButtonStroke\");\r\n        background.fillOpacity = 1;\r\n        background.strokeOpacity = 1;\r\n        background.cornerRadius(3, 3, 3, 3);\r\n        // Create the label element\r\n        _this.label = new Label();\r\n        _this.label.fill = interfaceColors.getFor(\"secondaryButtonText\");\r\n        ;\r\n        _this.label.shouldClone = false;\r\n        // Create default states\r\n        var hoverState = background.states.create(\"hover\");\r\n        hoverState.properties.fillOpacity = 1;\r\n        hoverState.properties.fill = interfaceColors.getFor(\"secondaryButtonHover\");\r\n        var downState = background.states.create(\"down\");\r\n        downState.transitionDuration = 100;\r\n        downState.properties.fill = interfaceColors.getFor(\"secondaryButtonDown\");\r\n        downState.properties.fillOpacity = 1;\r\n        // Set up accessibility\r\n        // A button should be always focusable\r\n        _this.role = \"button\";\r\n        _this.focusable = true;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Button.prototype, \"icon\", {\r\n        /**\r\n         * @return Icon Sprite\r\n         */\r\n        get: function () {\r\n            return this._icon;\r\n        },\r\n        /**\r\n         * A [[Sprite]] to be used as an icon on button.\r\n         *\r\n         * @param icon Icon Sprite\r\n         */\r\n        set: function (icon) {\r\n            var currentIcon = this._icon;\r\n            if (currentIcon) {\r\n                //this._icon.dispose();\r\n                //this.removeDispose(currentIcon);\r\n                currentIcon.parent = undefined;\r\n            }\r\n            if (icon) {\r\n                this._icon = icon;\r\n                icon.parent = this;\r\n                icon.interactionsEnabled = false;\r\n                icon.shouldClone = false;\r\n                this.iconPosition = this.iconPosition;\r\n                this._disposers.push(icon);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Button.prototype, \"iconPosition\", {\r\n        /**\r\n         * @return Icon position\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"iconPosition\");\r\n        },\r\n        /**\r\n         * Icon position: \"left\" or \"right\".\r\n         *\r\n         * @default \"left\"\r\n         * @param position  Icon position\r\n         */\r\n        set: function (position) {\r\n            this.setPropertyValue(\"iconPosition\", position);\r\n            if (this.icon) {\r\n                if (position == \"left\") {\r\n                    this.icon.toBack();\r\n                }\r\n                else {\r\n                    this.icon.toFront();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Button.prototype, \"label\", {\r\n        /**\r\n         * @return Label element\r\n         */\r\n        get: function () {\r\n            return this._label;\r\n        },\r\n        /**\r\n         * [[Label]] element to be used for text.\r\n         *\r\n         * @param label element\r\n         */\r\n        set: function (label) {\r\n            if (this._label) {\r\n                //this._label.dispose();\r\n                this.removeDispose(this._label);\r\n            }\r\n            this._label = label;\r\n            if (label) {\r\n                label.parent = this;\r\n                label.interactionsEnabled = false;\r\n                this._disposers.push(this._label);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates a background element for the button.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Background element\r\n     */\r\n    Button.prototype.createBackground = function () {\r\n        return new RoundedRectangle();\r\n    };\r\n    /**\r\n     * Copies properties and other attributes.\r\n     *\r\n     * @param source  Source\r\n     */\r\n    Button.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (source.label) {\r\n            this.label.copyFrom(source.label);\r\n        }\r\n        if (source.icon) {\r\n            this.icon = source.icon.clone();\r\n        }\r\n    };\r\n    return Button;\r\n}(Container));\r\nexport { Button };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Button\"] = Button;\r\n//# sourceMappingURL=Button.js.map","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns an iterator for all entries in object.\r\n *\r\n * Can be used to safely iterate through all properties of the object.\r\n *\r\n * @param object  Source object\r\n * @returns Iterator\r\n */\r\nexport function entries(object) {\r\n    return function (push) {\r\n        // TODO make this more efficient ?\r\n        for (var key in object) {\r\n            if (hasKey(object, key)) {\r\n                if (!push([key, object[key]])) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\n/**\r\n * Returns an array of object's property names.\r\n *\r\n * @param object  Source object\r\n * @returns Object property names\r\n */\r\nexport function keys(object) {\r\n    var output = [];\r\n    for (var key in object) {\r\n        if (hasKey(object, key)) {\r\n            output.push(key);\r\n        }\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Returns an array of object's property names ordered using specific ordering\r\n * function.\r\n *\r\n * @param object  Source object\r\n * @param order   Ordering function\r\n * @returns Object property names\r\n */\r\nexport function keysOrdered(object, order) {\r\n    return keys(object).sort(order);\r\n}\r\n/**\r\n * Checks if `object` has a specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Has key?\r\n */\r\nexport function hasKey(object, key) {\r\n    return {}.hasOwnProperty.call(object, key);\r\n}\r\n/**\r\n * Returns value of the specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Key value\r\n */\r\nexport function getKey(object, key) {\r\n    return object[key];\r\n}\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * If return value of the function evaluates to `false` further iteration is\r\n * cancelled.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nexport function eachContinue(object, fn) {\r\n    for (var key in object) {\r\n        if (hasKey(object, key)) {\r\n            if (!fn(key, object[key])) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nexport function each(object, fn) {\r\n    eachContinue(object, function (key, value) {\r\n        fn(key, value);\r\n        return true;\r\n    });\r\n}\r\n/**\r\n * Orders object properties using custom `ord` function and iterates through\r\n * them calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n * @param order   Ordering function\r\n */\r\nexport function eachOrdered(object, fn, ord) {\r\n    $array.each(keysOrdered(object, ord), function (key) {\r\n        fn(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Returns a copy of the object.\r\n *\r\n * @param object  Source object\r\n * @returns Copy of the object\r\n */\r\nexport function copy(object) {\r\n    return Object.assign({}, object);\r\n}\r\n/**\r\n * Merges two objects and returns a new object that contains properties from\r\n * both source objects.\r\n *\r\n * @param object1  Source object #1\r\n * @param object2  Source object #2\r\n * @returns Combined object\r\n */\r\nexport function merge(object1, object2) {\r\n    return Object.assign({}, object1, object2);\r\n}\r\n/**\r\n * Returns object clone.\r\n *\r\n * @param object  Source object\r\n * @returns       Clone\r\n */\r\nexport function clone(object) {\r\n    return JSON.parse(JSON.stringify(object));\r\n}\r\n/**\r\n * Copies a list of properties from one object to another.\r\n *\r\n * Will not copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\r\nexport function copyProperties(source, target, keys) {\r\n    $array.each(keys, function (key) {\r\n        if ($type.hasValue(source[key])) {\r\n            target[key] = source[key];\r\n        }\r\n    });\r\n}\r\n/**\r\n * Copies a list of properties from one object to another only if target does't have value of the property set.\r\n *\r\n * Will not copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\r\nexport function softCopyProperties(source, target, keys) {\r\n    $array.each(keys, function (key) {\r\n        if ($type.hasValue(source[key]) && !($type.hasValue(target[key]))) {\r\n            target[key] = source[key];\r\n        }\r\n    });\r\n}\r\n/**\r\n * Copies a list of properties from one object to another.\r\n *\r\n * Will copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\r\nexport function forceCopyProperties(source, target, keys) {\r\n    $array.each(keys, function (key) {\r\n        target[key] = source[key];\r\n    });\r\n}\r\n/**\r\n * Copies all properties from one object to another.\r\n *\r\n * @param from  Source object\r\n * @param to    Target object\r\n */\r\nexport function copyAllProperties(from, to) {\r\n    copyProperties(from, to, keys(from));\r\n}\r\n//# sourceMappingURL=Object.js.map","/**\r\n * Modal class is used to display information over chart area.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Popup } from \"./Popup\";\r\nimport { Adapter } from \"../utils/Adapter\";\r\n/**\r\n * Shows an HTML modal which covers window or a chart area.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/popups-and-modals/} For examples and docs on Popups and Modals.\r\n */\r\nvar Modal = /** @class */ (function (_super) {\r\n    __extends(Modal, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Modal() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Adapter.\r\n         */\r\n        _this.adapter = new Adapter(_this);\r\n        _this.className = \"Modal\";\r\n        _this.showCurtain = true;\r\n        _this.draggable = false;\r\n        return _this;\r\n    }\r\n    return Modal;\r\n}(Popup));\r\nexport { Modal };\r\n//# sourceMappingURL=Modal.js.map","/**\r\n * An Adapter can be used to apply chained synchronous transformations to any\r\n * value at runtime.\r\n *\r\n * Each type class using Adapters must have `adapters` property and adapter\r\n * interface defined.\r\n *\r\n * Adapters can be used to allow external code to apply transformations to any\r\n * value at any time.\r\n *\r\n * For example we have a Weather class which has a method `now()` which returns\r\n * current temperature.\r\n *\r\n * ```\r\n * function now() {\r\n *   // ... calculate temperature\r\n *   let temp = \"Temperature now is \" + degrees + \"F\";\r\n *   return temp;\r\n * }\r\n * ```\r\n *\r\n * Now, supposed we want to let other classes to modify the output of the\r\n * `now()`? We just apply an adapter to the `temp` before it is returned:\r\n *\r\n * ```\r\n * temp = this.adapters.apply(\"now\", {\r\n *   temp: temp,\r\n *   degrees: degrees\r\n * }).temp;\r\n * ```\r\n *\r\n * Some other class might tap onto it by defining an Adapter that calculates\r\n * the temperature in Celsius:\r\n *\r\n * weather.adapters.add(\"now\", (arg) => {\r\n *   arg.temp += \"(\" + farenheitToCelsius(arg.degrees) + \"C)\";\r\n *   return arh;\r\n * });\r\n *\r\n * Furthermore some time-related class could add time:\r\n *\r\n * weather.adapters.add(\"now\", (arg) => {\r\n *   arg.temp += \"; the time now is \" + (new Date().toLocaleString());\r\n *   return arh;\r\n * });\r\n *\r\n * So without adapters we would get output like this:\r\n *\r\n * ```\r\n * Temperature now is 90F\r\n * ```\r\n *\r\n * With adapters applied we now have:\r\n *\r\n * ```\r\n * Temperature now is 90F (32C); the time now is 12/11/2012, 7:00:00 PM\r\n * ```\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { SortedList } from \"./SortedList\";\r\nimport * as $number from \"./Number\";\r\nimport * as $order from \"./Order\";\r\nimport * as $iter from \"../utils/Iterator\";\r\nimport * as $array from \"../utils/Array\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $object from \"../utils/Object\";\r\n/**\r\n * ============================================================================\r\n * GLOBAL ADAPTER\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A global adapter is an adpater that is attached to a class type rather than\r\n * specific object instance.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar GlobalAdapter = /** @class */ (function () {\r\n    function GlobalAdapter() {\r\n        /**\r\n         * Callback id iterator.\r\n         */\r\n        this._callbackId = 0;\r\n        /**\r\n         * A list of if callbacks (adapters).\r\n         */\r\n        this._callbacks = new SortedList(function (left, right) {\r\n            return $order.or($number.order(left.priority, right.priority), $number.order(left.id, right.id));\r\n        });\r\n    }\r\n    /**\r\n     * Adds a global callback which is not specific to any particular object.\r\n     * Whenever an adapter in any object of the specific class type is invoked\r\n     * global adapters will kick in.\r\n     *\r\n     * @param type      Class type\r\n     * @param key       Adapter key\r\n     * @param callback  Callback function\r\n     * @param priority  Priority (higher priority meaning adapter will be applied later)\r\n     * @param scope     Callback function scaope\r\n     */\r\n    GlobalAdapter.prototype.addAll = function (type, key, callback, priority, scope) {\r\n        if (priority === void 0) { priority = 0; }\r\n        this._callbacks.insert({\r\n            id: ++this._callbackId,\r\n            key: key,\r\n            callback: callback,\r\n            priority: priority,\r\n            scope: scope,\r\n            type: type\r\n        });\r\n    };\r\n    /**\r\n     * Returns if there are adapters for specific type available.\r\n     *\r\n     * @param type  Adapter type\r\n     * @param key   Adapter key\r\n     * @return {boolean}\r\n     */\r\n    GlobalAdapter.prototype.isEnabled = function (type, key) {\r\n        return $array.any(this._callbacks.values, function (x) { return x.key === key && type instanceof x.type; });\r\n    };\r\n    /**\r\n     * Applies global adapters for the object of the specific type.\r\n     *\r\n     * @param type   Class type\r\n     * @param key    Adapter key\r\n     * @param value  Value\r\n     */\r\n    GlobalAdapter.prototype.applyAll = function (type, key, value) {\r\n        // This is needed to improve the performance and reduce garbage collection\r\n        var callbacks = this._callbacks.values;\r\n        var length = callbacks.length;\r\n        if (length == 0) {\r\n            return value;\r\n        }\r\n        // Cycle through all callbacks and find the ones we need to use\r\n        for (var i = 0; i < length; ++i) {\r\n            var item = callbacks[i];\r\n            if (item.key === key && type instanceof item.type) {\r\n                value = item.callback.call(item.scope, value, type, key);\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    return GlobalAdapter;\r\n}());\r\nexport { GlobalAdapter };\r\n/**\r\n * A global Adapter for plugins that want to add specific\r\n * functionality for any chart, not just specific instance.\r\n *\r\n * If you want to add an adapter which applies to all instances of the same\r\n * object type, like, for instance all slices in PieSeries, you can use\r\n * global adapter.\r\n *\r\n * Global adapter is a system-wide instance, accessible via `globalAdapter`.\r\n *\r\n * ```TypeScript\r\n * am4core.globalAdapter.addAll<am4charts.IPieSeriesAdapters, am4charts.PieSeries, \"fill\">(am4charts.PieSeries, \"fill\", (value, target, key) => {\r\n *   return am4core.color(\"#005500\");\r\n * });\r\n * ```\r\n * ```JavaScript\r\n * am4core.globalAdapter.addAll(am4charts.PieSeries, \"fill\", (value, target, key) => {\r\n *   return am4core.color(\"#005500\");\r\n * });\r\n * ```\r\n *\r\n * @ignore\r\n */\r\nexport var globalAdapter = new GlobalAdapter();\r\n/**\r\n * ============================================================================\r\n * REGULAR ADAPTER\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Adapter allows adding ordered callback functions and associating them with a\r\n * string-based key. An Adapter user can then easily invoke those callbacks to\r\n * apply custom functions on its input, output or intermediate values.\r\n *\r\n * Custom code and plugins can add their own callbacks to modify and enhance\r\n * core functionality.\r\n *\r\n * See the description of `add()` for an example.\r\n *\r\n * Almost any object in amCharts4 has own adapter, accessible with `adapter`\r\n * property.\r\n *\r\n * Any adapters added to it will be applied to that object only.\r\n *\r\n * ### Global Adapters\r\n *\r\n * If you want to add an adapter which applies to all instances of the same\r\n * object type, like, for instance all slices in PieSeries, you can use\r\n * global adapter.\r\n *\r\n * Global adapter is a system-wide instance, accessible via `globalAdapter`.\r\n *\r\n * ```TypeScript\r\n * am4core.globalAdapter.addAll<am4charts.IPieSeriesAdapters, am4charts.PieSeries, \"fill\">(am4charts.PieSeries. \"fill\", (value, target, key) => {\r\n *   return am4core.color(\"#005500\");\r\n * });\r\n * ```\r\n * ```JavaScript\r\n * am4core.globalAdapter.addAll(am4charts.PieSeries. \"fill\", (value, target, key) => {\r\n *   return am4core.color(\"#005500\");\r\n * });\r\n * ```\r\n *\r\n * {@link https://www.amcharts.com/docs/v4/reference/adapter_module/#globalAdapter_property More info}.\r\n *\r\n * @important\r\n */\r\nvar Adapter = /** @class */ (function () {\r\n    /**\r\n     * Constructor, sets the object referece this Adapter should be used for.\r\n     *\r\n     * @param c Object\r\n     */\r\n    function Adapter(c) {\r\n        /**\r\n         * Internal counter for callback ids.\r\n         */\r\n        this._callbackId = 0;\r\n        /**\r\n         * A list of adapter callbacks.\r\n         *\r\n         * @param $number.order(left.priority, right.priority) [description]\r\n         * @param $number.order(left.id,       right.id));\t}  [description]\r\n         */\r\n        this._callbacks = new SortedList(function (left, right) {\r\n            return $order.or($number.order(left.priority, right.priority), $number.order(left.id, right.id));\r\n        });\r\n        this._disabled = {};\r\n        this.object = c;\r\n        // TODO this exposes the internal events\r\n        this.events = this._callbacks.events;\r\n    }\r\n    /**\r\n     * Adds a callback for a specific key.\r\n     *\r\n     * ```TypeScript\r\n     * // Override fill color value and make all slices green\r\n     * chart.series.template.adapter.add(\"fill\", (value, target, key) => {\r\n     *   return am4core.color(\"#005500\");\r\n     * });\r\n     * ```\r\n     * ```JavaScript\r\n     * // Override fill color value and make all slices green\r\n     * chart.series.template.adapter.add(\"fill\", function(value, target, key) {\r\n     *   return am4core.color(\"#005500\");\r\n     * });\r\n     * ```\r\n     * ```JSON\r\n     * {\r\n     *   // ...\r\n     *   \"series\": [{\r\n     *     // ...\r\n     *     \"adapter\": {\r\n     *     \t// Override fill color value and make all slices green\r\n     *     \t\"fill\": function(value, target, key) {\r\n     *     \t  return am4core.color(\"#005500\");\r\n     *     \t}\r\n     *     }\r\n     *   }]\r\n     * }\r\n     * ```\r\n     *\r\n     * The above will call user-defined function (adapter) whenever `fill` value\r\n     * is requested from the Pie series, allowing it to override the default\r\n     * using custom code and any fuzzy logic.\r\n     *\r\n     * There can be any number of adapters set on one property key.\r\n     *\r\n     * In this case adapters will be applied in daisy-chain fashion. The first\r\n     * adapter in queue will make its transformation. The next one will have\r\n     * the output of the first adapter as a starting value, etc.\r\n     *\r\n     * The order of the adapters are determined either by the order they were\r\n     * added in, or their `priority` value.\r\n     *\r\n     * The heigher the `priority`, the later in the game adapter will be applied.\r\n     *\r\n     * @param key       Key\r\n     * @param callback  A callback function\r\n     * @param priority  The higher priority, the more chance the adapter will be applied last\r\n     * @param scope     Scope for the callback function\r\n     */\r\n    Adapter.prototype.add = function (key, callback, priority, scope) {\r\n        if (priority === void 0) { priority = 0; }\r\n        this._callbacks.insert({\r\n            id: ++this._callbackId,\r\n            key: key,\r\n            callback: callback,\r\n            priority: priority,\r\n            scope: scope\r\n        });\r\n    };\r\n    /**\r\n     * Checks whether specific adapter is already set.\r\n     *\r\n     * @param key       Key\r\n     * @param callback  A callback function\r\n     * @param priority  The higher priority, the more chance the adapter will be applied last\r\n     * @param scope     Scope for the callback function\r\n     * @returns                            Adapter set?\r\n     */\r\n    Adapter.prototype.has = function (key, callback, priority, scope) {\r\n        if (priority === void 0) { priority = 0; }\r\n        return $iter.contains(this._callbacks.iterator(), function (item) {\r\n            return item.key === key && item.callback === callback && item.priority === priority && item.scope === scope;\r\n        });\r\n    };\r\n    /**\r\n     * Removes adapter callbacks for the specific `key`.\r\n     *\r\n     * If `priority` is specified, only callbacks for that priority are removed.\r\n     *\r\n     * @param key      Key\r\n     * @param priority Priority\r\n     * @todo Implement\r\n     */\r\n    Adapter.prototype.remove = function (key, priority) {\r\n        var _this = this;\r\n        // It has to make a copy because it removes the elements while iterating\r\n        // TODO inefficient\r\n        // TODO should this re-enable the key ?\r\n        $array.each($iter.toArray(this._callbacks.iterator()), function (item) {\r\n            // TODO test this\r\n            if (item.key === key && (!$type.isNumber(priority) || priority === item.priority)) {\r\n                _this._callbacks.remove(item);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Enable applying adapters for a certain key, if it was disabled before by\r\n     * `disableKey()`.\r\n     *\r\n     * @param key Key\r\n     */\r\n    Adapter.prototype.enableKey = function (key) {\r\n        delete this._disabled[key];\r\n    };\r\n    /**\r\n     * Disable applying adapters for a certain key.\r\n     *\r\n     * Optionally, can set how many applies to skip before automatically\r\n     * re-enabling the applying.\r\n     *\r\n     * @param key     Key\r\n     * @param amount  Number of applies to skip\r\n     */\r\n    Adapter.prototype.disableKey = function (key, amount) {\r\n        if (amount === void 0) { amount = Infinity; }\r\n        this._disabled[key] = amount;\r\n    };\r\n    Adapter.prototype._hasListenersByType = function (key) {\r\n        return $array.any(this._callbacks.values, function (x) { return x.key === key; });\r\n    };\r\n    /**\r\n     * Returns if there are any enabled adapters set for the specific `key`.\r\n     *\r\n     * @returns Are there any adapters for the key?\r\n     */\r\n    Adapter.prototype.isEnabled = function (key) {\r\n        return this._disabled[key] == null && (this._hasListenersByType(key) || globalAdapter.isEnabled(this.object, key));\r\n    };\r\n    Adapter.prototype._shouldDispatch = function (key) {\r\n        var count = this._disabled[key];\r\n        if (!$type.isNumber(count)) {\r\n            return true;\r\n        }\r\n        else {\r\n            if (count <= 1) {\r\n                delete this._disabled[key];\r\n            }\r\n            else {\r\n                --this._disabled[key];\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * Passes the input value through all the callbacks for the defined `key`.\r\n     *\r\n     * @param key      Key\r\n     * @param value    Input value\r\n     * @param ...rest  Rest of the parameters to be passed into callback\r\n     * @return Output value\r\n     */\r\n    Adapter.prototype.apply = function (key, value) {\r\n        if (this._shouldDispatch(key)) {\r\n            // This is needed to improve the performance and reduce garbage collection\r\n            var callbacks = this._callbacks.values;\r\n            var length_1 = callbacks.length;\r\n            if (length_1 > 0) {\r\n                for (var i = 0; i < length_1; ++i) {\r\n                    var item = callbacks[i];\r\n                    if (item.key === key) {\r\n                        value = item.callback.call(item.scope, value, this.object, key);\r\n                    }\r\n                }\r\n            }\r\n            // Apply global adapters\r\n            value = globalAdapter.applyAll(this.object, key, value);\r\n            return value;\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    };\r\n    /**\r\n     * Returns all adapter keys which are in this adapter.\r\n     *\r\n     * @return Adapter keys\r\n     */\r\n    Adapter.prototype.keys = function () {\r\n        // TODO inefficient\r\n        return $iter.toArray($iter.map(this._callbacks.iterator(), function (x) { return x.key; }));\r\n    };\r\n    /**\r\n     * Copies all the adapter callbacks from `source`.\r\n     *\r\n     * @param source  An Adapter to copy items from\r\n     */\r\n    Adapter.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        $iter.each(source._callbacks.iterator(), function (x) {\r\n            _this.add(x.key, x.callback, x.priority, x.scope);\r\n        });\r\n        $object.each(source._disabled, function (key, val) {\r\n            _this._disabled[key] = val;\r\n        });\r\n    };\r\n    /**\r\n     * Clears all callbacks from this Adapter.\r\n     */\r\n    Adapter.prototype.clear = function () {\r\n        // TODO should this also re-enable all the keys ?\r\n        this._callbacks.clear();\r\n    };\r\n    return Adapter;\r\n}());\r\nexport { Adapter };\r\n//# sourceMappingURL=Adapter.js.map","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","/**\r\n * Data parser module.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { DateFormatter } from \"../formatters/DateFormatter\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Base class for the data parsers.\r\n */\r\nvar DataParser = /** @class */ (function () {\r\n    function DataParser() {\r\n    }\r\n    /**\r\n     * A \"placeholder\" function for real parsers to override.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param data  Source data\r\n     * @return Parsed data (empty)\r\n     */\r\n    DataParser.prototype.parse = function (data) {\r\n        return [];\r\n    };\r\n    ;\r\n    Object.defineProperty(DataParser.prototype, \"parsableNumbers\", {\r\n        /**\r\n         * Checks if there are any numeric fields that need to be converted to\r\n         * numbers.\r\n         *\r\n         * @return Numeric fields?\r\n         */\r\n        get: function () {\r\n            return this.options.numberFields && (this.options.numberFields.length > 0);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Converts a value to 'number' if it is in `numberFields`.\r\n     *\r\n     * @param field  Field name\r\n     * @param value  Value\r\n     * @return Parsed or original value\r\n     */\r\n    DataParser.prototype.maybeToNumber = function (field, value) {\r\n        if (this.options.numberFields.indexOf(field) !== -1) {\r\n            return $utils.anyToNumber(value);\r\n        }\r\n        return value;\r\n    };\r\n    Object.defineProperty(DataParser.prototype, \"parsableDates\", {\r\n        /**\r\n         * Checks if there are any date fields that need to be converted to `Date`\r\n         * objects.\r\n         *\r\n         * @return Date fields?\r\n         */\r\n        get: function () {\r\n            return this.options.dateFields && (this.options.dateFields.length > 0);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Converts a value to `Date` if it is in `dateFields`.\r\n     *\r\n     * @param field  Field name\r\n     * @param value  Value\r\n     * @return Parsed or original value\r\n     */\r\n    DataParser.prototype.maybeToDate = function (field, value) {\r\n        if (this.options.dateFields.indexOf(field) !== -1) {\r\n            return this.options.dateFormatter.parse(value, this.dateFormat);\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Replaces empty value with something else.\r\n     *\r\n     * @param value  Source value\r\n     * @return Source value or replacement\r\n     */\r\n    DataParser.prototype.maybeToEmpty = function (value) {\r\n        if ((!$type.hasValue(value) || value == \"\") && $type.hasValue(this.options.emptyAs)) {\r\n            return this.options.emptyAs;\r\n        }\r\n        return value;\r\n    };\r\n    Object.defineProperty(DataParser.prototype, \"dateFormatter\", {\r\n        /**\r\n         * [[DateFormatter]] object for date parsing.\r\n         *\r\n         * If there was not [[DateFormatter]] supplied in parser options, a new one\r\n         * is created.\r\n         *\r\n         * @return Date formatter\r\n         * @see {@link DateFormatter}\r\n         */\r\n        get: function () {\r\n            if (!this.options.dateFormatter) {\r\n                this.options.dateFormatter = new DateFormatter;\r\n                if (this.options.dateFormat) {\r\n                    this.options.dateFormat = this.options.dateFormat;\r\n                }\r\n            }\r\n            return this.options.dateFormatter;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataParser.prototype, \"dateFormat\", {\r\n        /**\r\n         * A date format to use when parsing dates.\r\n         *\r\n         * @return Date format\r\n         * @see {@link DateFormatter}\r\n         */\r\n        get: function () {\r\n            return this.options.dateFormat || this.dateFormatter.inputDateFormat;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return DataParser;\r\n}());\r\nexport { DataParser };\r\n//# sourceMappingURL=DataParser.js.map","/**\r\n * Module contains functionality related to [[Sprite]] states.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"./Base\";\r\nimport { registry } from \"./Registry\";\r\nimport { Adapter } from \"./utils/Adapter\";\r\nimport { List, ListDisposer } from \"./utils/List\";\r\nimport { toColor } from \"./utils/Color\";\r\nimport { percent } from \"./utils/Percent\";\r\nimport * as $utils from \"./utils/Utils\";\r\nimport * as $ease from \"./utils/Ease\";\r\nimport * as $object from \"./utils/Object\";\r\nimport * as $type from \"./utils/Type\";\r\n/**\r\n * Defines a state for [[Sprite]].\r\n *\r\n * A \"state\" is a special object that has all the same properties as the\r\n * [[Sprite]] of the same type, and which can be used to quickly apply a set\r\n * of property values. (set state)\r\n *\r\n * When [[Sprite]] (or any object that extends Sprite) is created it creates a\r\n * \"default\" state. You can modify the \"default\" state so that when the Sprite\r\n * returns to default state certain properties are added.\r\n *\r\n * Default state can be accessed using Sprite's `defaultState` getter.\r\n *\r\n * ```TypeScript\r\n * sprite.defaultState.properties.fillOpacity = 0.5;\r\n * ```\r\n * ```JavaScript\r\n * sprite.defaultState.properties.fillOpacity = 0.5;\r\n * ```\r\n * ```JSON\r\n * {\r\n *   // ...\r\n *   \"defaultState\": {\r\n *     \"properties\": {\r\n *       \"fillOpacity\": 0.5\r\n *     }\r\n *   }\r\n * }\r\n * ```\r\n *\r\n * If Sprite is \"hoverable\", it automatically adds a \"hover\" state, which is\r\n * applied when it has a cursor over it.\r\n *\r\n * ```TypeScript\r\n * let hoverstate = sprite.states.create(\"hover\");\r\n * hoverstate.properties.fillOpacity = 1;\r\n * ```\r\n * ```JavaScript\r\n * var hoverstate = sprite.states.create(\"hover\");\r\n * hoverstate.properties.fillOpacity = 1;\r\n * ```\r\n * ```JSON\r\n * {\r\n *   // ...\r\n *   \"states\": {\r\n *     \"hover\": {\r\n *       \"properties\": {\r\n *         \"fillOpacity\": 0.5\r\n *       }\r\n *     }\r\n *   }\r\n * }\r\n * ```\r\n *\r\n * The above will automatically apply \"hover\" state when the Sprite is hovered,\r\n * thus will set its `fillOpacity` property to 1, and will reset it to 0.5 when\r\n * it's no longer hovered.\r\n *\r\n * Every object that inherits from [[Sprite]] can and will add their own\r\n * properties to the available list.\r\n *\r\n * User can create their own states, and apply them as needed:\r\n *\r\n * ```TypeScript\r\n * let myCustomState = sprite.states.create(\"mystate\");\r\n * myCustomState.properties.fillOpacity = 0.5;\r\n * myCustomState.properties.strokeOpacity = 0.8;\r\n * sprite.setState(\"mystate\");\r\n * ```\r\n * ```JavaScript\r\n * var myCustomState = sprite.states.create(\"mystate\");\r\n * myCustomState.properties.fillOpacity = 0.5;\r\n * myCustomState.properties.strokeOpacity = 0.8;\r\n * sprite.setState(\"mystate\");\r\n * ```\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/states/}\r\n * @important\r\n */\r\nvar SpriteState = /** @class */ (function (_super) {\r\n    __extends(SpriteState, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function SpriteState() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Duration of the transition to this state. 0 means instantenous transition.\r\n         * Any number means the [[Sprite]] will transit smoothly to this state,\r\n         * animating all animatable properties.\r\n         *\r\n         * @default 0\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/animations/} for more info about animations\r\n         */\r\n        _this.transitionDuration = 0;\r\n        /**\r\n         * Easing function to use when transitioning to this state.\r\n         *\r\n         * @default cubicOut\r\n         * @see {@link Ease}\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/animations/} for more info about animations\r\n         */\r\n        _this.transitionEasing = $ease.cubicOut;\r\n        /**\r\n         * Collection of properties and their values that should be applied to [[Sprite]]\r\n         * when switching to this State.\r\n         *\r\n         * The property values set on a [[SpriteState]] will override the ones set\r\n         * directly on a [[Sprite]].\r\n         */\r\n        _this.properties = {};\r\n        /**\r\n         * A collection of key/value pairs that can be used to bind specific Sprite\r\n         * properties to [[DataItem]].\r\n         *\r\n         * For example: `fill` property can be bound to `myCustomColor` field in\r\n         * DataItem. The Sprite will automatically get the value for `fill` from its\r\n         * DataItem.\r\n         *\r\n         * SpriteState-specific binding will override binding set directly on\r\n         * [[Sprite]]. I.e. you can make Sprite use different fill color on hover by\r\n         * adding a `fill` binding to a different DataItem key for Sprite's \"hover\"\r\n         * state object.\r\n         *\r\n         * @see {@link Sprite}\r\n         */\r\n        _this.propertyFields = {};\r\n        //public propertyFields: Dictionary<keyof this[\"_properties\"], string> = new Dictionary<keyof this[\"_properties\"], string>();;\r\n        /**\r\n         * A list of [[Filter]] elements to be applied to the relative [[Sprite]]\r\n         * when switching to this State.\r\n         *\r\n         * @param {List}\r\n         */\r\n        _this.filters = new List();\r\n        /**\r\n         * Identifies if this object is a \"template\" and should not be treated as\r\n         * real object that is drawn or actually used in the chart.\r\n         */\r\n        _this.isTemplate = false;\r\n        _this.className = \"SpriteState\";\r\n        // Make filter list disposable\r\n        _this._disposers.push(new ListDisposer(_this.filters));\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SpriteState.prototype, \"adapter\", {\r\n        /**\r\n         * Holds Adapter.\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._adapterO) {\r\n                this._adapterO = new Adapter(this);\r\n                // Decorate adapter with events so that we can apply its settings whenever\r\n                // it is modified\r\n                this._adapterO.events.on(\"inserted\", function (ev) {\r\n                    _this[ev.newValue.key] = _this[ev.newValue.key];\r\n                }, undefined, false);\r\n                this._adapterO.events.on(\"removed\", function (ev) {\r\n                    _this[ev.newValue.key] = _this[ev.newValue.key];\r\n                }, undefined, false);\r\n            }\r\n            return this._adapterO;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns [[Sprite]] element's property value.\r\n     *\r\n     * Will check if there are any bindings with [[DataItem]] and if there are\r\n     * any method callbacks set up for the specific property.\r\n     *\r\n     * @param propertyName  Property name\r\n     * @return Property value\r\n     */\r\n    SpriteState.prototype.getPropertyValue = function (propertyName) {\r\n        var propValue = this.properties[propertyName];\r\n        var sprite = this.sprite;\r\n        if (sprite) {\r\n            var fieldName = this.propertyFields[propertyName];\r\n            if ($type.hasValue(fieldName)) {\r\n                if (sprite.dataItem) {\r\n                    propValue = sprite.dataItem.dataContext[fieldName];\r\n                }\r\n                if (propValue == undefined) {\r\n                    propValue = \"__unset\";\r\n                }\r\n            }\r\n            // Apply adapters\r\n            // If the value itself is undefined, we're going to pass in Sprite's\r\n            // value to adapters\r\n            // @todo get rid of <any>\r\n            if (!$type.hasValue(propValue)) {\r\n                var spriteValue = sprite.getPropertyValue(propertyName);\r\n                if (this._adapterO) {\r\n                    propValue = this._adapterO.apply(propertyName, spriteValue);\r\n                }\r\n                else {\r\n                    propValue = spriteValue;\r\n                }\r\n                if (propValue == spriteValue) {\r\n                    propValue = undefined;\r\n                }\r\n            }\r\n            else {\r\n                if (this._adapterO) {\r\n                    propValue = this._adapterO.apply(propertyName, propValue);\r\n                }\r\n            }\r\n            /*let method = this.propertyMethods.getKey(propertyName);\r\n            if (method) {\r\n                propValue = method(sprite, propertyName);\r\n            }*/\r\n        }\r\n        return propValue;\r\n    };\r\n    /**\r\n     * Copies all property and style values from another [[SpriteState]] object.\r\n     *\r\n     * @param source  Source [[SpriteState]]\r\n     */\r\n    SpriteState.prototype.copyFrom = function (source) {\r\n        if (source && source != this) {\r\n            this.transitionDuration = source.transitionDuration;\r\n            this.transitionEasing = source.transitionEasing;\r\n            $utils.copyProperties(source.properties, this.properties);\r\n            $utils.copyProperties(source.propertyFields, this.propertyFields);\r\n            this.filters.copyFrom(source.filters);\r\n            if (source._adapterO) {\r\n                this.adapter.copyFrom(source._adapterO);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(SpriteState.prototype, \"allValues\", {\r\n        /**\r\n         * Returns all values that should be applied by the SpriteState.\r\n         *\r\n         * It takes adapters into account.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Properties\r\n         * @todo Add adapter values\r\n         * @todo proper type this[\"_properties\"]\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            // Init return value\r\n            var res = {};\r\n            // Apply adapters to all values\r\n            $object.each(this.properties, function (prop, value) {\r\n                res[prop] = _this.getPropertyValue(prop);\r\n            });\r\n            // Cycle through all adapters and add values for missing properties\r\n            if (this._adapterO) {\r\n                var keys = this._adapterO.keys();\r\n                $object.each(keys, function (_x, prop) {\r\n                    var value = _this.getPropertyValue(prop);\r\n                    res[prop] = value;\r\n                });\r\n            }\r\n            // Cycle through all property fileds and add values for missing properties\r\n            var propertyFields = this.propertyFields;\r\n            $object.each(propertyFields, function (prop) {\r\n                var value = _this.getPropertyValue(prop);\r\n                res[prop] = value;\r\n            });\r\n            return res;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Resets the State to initial state - no values or Filters applied.\r\n     */\r\n    SpriteState.prototype.reset = function () {\r\n        this.properties = {};\r\n        this.filters.clear();\r\n    };\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    SpriteState.prototype.processConfig = function (config) {\r\n        if ($type.hasValue(config) && $type.hasValue(config[\"properties\"])) {\r\n            $object.each(config[\"properties\"], function (key, value) {\r\n                if ($type.isString(value)) {\r\n                    if (value.match(/^[0-9.\\-]+\\%$/)) {\r\n                        config[\"properties\"][key] = percent($type.toNumber(value));\r\n                    }\r\n                    else if (value.match(/^\\#[0-9abcdef]{3,}$/i)) {\r\n                        config[\"properties\"][key] = toColor(value);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    /**\r\n     * Adds easing functions to \"function\" fields.\r\n     *\r\n     * @param field  Field name\r\n     * @return Assign as function?\r\n     */\r\n    SpriteState.prototype.asFunction = function (field) {\r\n        return field == \"transitionEasing\" || _super.prototype.asIs.call(this, field);\r\n    };\r\n    return SpriteState;\r\n}(BaseObject));\r\nexport { SpriteState };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"SpriteState\"] = SpriteState;\r\n//# sourceMappingURL=SpriteState.js.map","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","/**\r\n * Module for \"Drop Shadow\" filter.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Filter } from \"./Filter\";\r\nimport { color } from \"../../utils/Color\";\r\nimport { registry } from \"../../Registry\";\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creats a \"Drop Shadow\" filter.\r\n */\r\nvar DropShadowFilter = /** @class */ (function (_super) {\r\n    __extends(DropShadowFilter, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function DropShadowFilter() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"DropShadowFilter\";\r\n        // Create elements\r\n        // NOTE: we do not need to add each individual element to `_disposers`\r\n        // because `filterPrimitives` has an event handler which automatically adds\r\n        // anything added to it to `_disposers`\r\n        _this.color = color(\"#000\");\r\n        _this.feGaussianBlur = _this.paper.add(\"feGaussianBlur\");\r\n        _this.feGaussianBlur.attr({ \"result\": \"blurOut\", \"in\": \"SourceGraphic\" });\r\n        _this.filterPrimitives.push(_this.feGaussianBlur);\r\n        _this.feOffset = _this.paper.add(\"feOffset\");\r\n        _this.feOffset.attr({ \"result\": \"offsetBlur\" });\r\n        _this.filterPrimitives.push(_this.feOffset);\r\n        _this.feFlood = _this.paper.add(\"feFlood\");\r\n        _this.feFlood.attr({ \"flood-color\": _this.color });\r\n        _this.filterPrimitives.push(_this.feFlood);\r\n        _this.feComposite = _this.paper.add(\"feComposite\");\r\n        _this.feComposite.attr({ \"in2\": \"offsetBlur\", operator: \"in\" });\r\n        _this.filterPrimitives.push(_this.feComposite);\r\n        _this.feMerge = _this.paper.addGroup(\"feMerge\");\r\n        _this.feMerge.add(_this.paper.add(\"feMergeNode\"));\r\n        _this.feMerge.add(_this.paper.add(\"feMergeNode\").attr({ \"in\": \"SourceGraphic\" }));\r\n        _this.filterPrimitives.push(_this.feMerge);\r\n        // Set default properties\r\n        _this.width = 200;\r\n        _this.height = 200;\r\n        _this.blur = 1.5;\r\n        _this.dx = 3;\r\n        _this.dy = 3;\r\n        _this.opacity = 0.5;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DropShadowFilter.prototype, \"color\", {\r\n        /**\r\n         * @return Color\r\n         */\r\n        get: function () {\r\n            return this.properties.color;\r\n        },\r\n        /**\r\n         * Shadow color.\r\n         *\r\n         * @param value  Color\r\n         */\r\n        set: function (value) {\r\n            this.properties.color = value;\r\n            if (this.feFlood) {\r\n                this.feFlood.attr({ \"flood-color\": value });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DropShadowFilter.prototype, \"opacity\", {\r\n        /**\r\n         * @return Opacity (0-1)\r\n         */\r\n        get: function () {\r\n            return this.properties.opacity;\r\n        },\r\n        /**\r\n         * Opacity of the shadow. (0-1)\r\n         *\r\n         * @param value  Opacity (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.properties.opacity = value;\r\n            this.feFlood.attr({ \"flood-opacity\": value });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DropShadowFilter.prototype, \"dx\", {\r\n        /**\r\n         * @return Horizontal offset (px)\r\n         */\r\n        get: function () {\r\n            return this.properties.dx;\r\n        },\r\n        /**\r\n         * Horizontal offset in pixels.\r\n         *\r\n         * @param value  Horizontal offset (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties.dx = value;\r\n            this.feOffset.attr({ \"dx\": value / this.scale });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DropShadowFilter.prototype, \"dy\", {\r\n        /**\r\n         * @return Vertical offset (px)\r\n         */\r\n        get: function () {\r\n            return this.properties.dy;\r\n        },\r\n        /**\r\n         * Vertical offset in pixels.\r\n         *\r\n         * @param value Vertical offset (px)\r\n         */\r\n        set: function (value) {\r\n            this.properties.dy = value;\r\n            this.feOffset.attr({ \"dy\": value / this.scale });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DropShadowFilter.prototype, \"blur\", {\r\n        /**\r\n         * @return Blur\r\n         */\r\n        get: function () {\r\n            return this.properties.blur;\r\n        },\r\n        /**\r\n         * Blur.\r\n         *\r\n         * @param value  Blur\r\n         */\r\n        set: function (value) {\r\n            this.properties.blur = value;\r\n            this.feGaussianBlur.attr({ \"stdDeviation\": value / this.scale });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * [updateScale description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    DropShadowFilter.prototype.updateScale = function () {\r\n        this.dx = this.dx;\r\n        this.dy = this.dy;\r\n        this.blur = this.blur;\r\n    };\r\n    return DropShadowFilter;\r\n}(Filter));\r\nexport { DropShadowFilter };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"DropShadowFilter\"] = DropShadowFilter;\r\n//# sourceMappingURL=DropShadowFilter.js.map","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","/**\r\n * CSV parser.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { DataParser } from \"./DataParser\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $array from \"../utils/Array\";\r\n/**\r\n * Define possible separators.\r\n */\r\nvar separators = [\",\", \";\", \"\\t\"];\r\n/**\r\n * A parser for CSV format.\r\n *\r\n * @important\r\n */\r\nvar CSVParser = /** @class */ (function (_super) {\r\n    __extends(CSVParser, _super);\r\n    function CSVParser() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * Content-type suitable for CSV format.\r\n         */\r\n        _this.contentType = \"text/csv\";\r\n        /**\r\n         * Parser options.\r\n         *\r\n         * @see {@link ICSVOptions} for description of each option\r\n         */\r\n        _this.options = {\r\n            delimiter: \"\",\r\n            reverse: false,\r\n            skipRows: 0,\r\n            skipEmpty: true,\r\n            useColumnNames: false\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * Tests if the format is CSV.\r\n     *\r\n     * @param data  Source data\r\n     * @return Is it CSV?\r\n     */\r\n    CSVParser.isCSV = function (data) {\r\n        return CSVParser.getDelimiterFromData(data) ? true : false;\r\n    };\r\n    /**\r\n     * Tries to determine a column separator.\r\n     *\r\n     * @param data  Source data\r\n     * @return Separator\r\n     */\r\n    CSVParser.getDelimiterFromData = function (data) {\r\n        // We're going to take first few lines of the CSV with different\r\n        // possible separators and check if it results in same number of columns.\r\n        // If it does, we're going to assume it's a CSV\r\n        var lines = data.split(\"\\n\");\r\n        var len = lines.length;\r\n        var separator;\r\n        $array.each(separators, function (sep) {\r\n            var columns = 0, lineColums = 0;\r\n            // TODO replace with iterators\r\n            for (var i = 0; i < len; ++i) {\r\n                // Get number of columns in a line\r\n                columns = lines[i].split(sep).length;\r\n                if (columns > 1) {\r\n                    // More than one column - possible candidate\r\n                    if (lineColums === 0) {\r\n                        // First line\r\n                        lineColums = columns;\r\n                    }\r\n                    else if (columns != lineColums) {\r\n                        // Incorrect number of columns, give up on this separator\r\n                        lineColums = 0;\r\n                        break;\r\n                    }\r\n                }\r\n                else {\r\n                    // Not this separator\r\n                    // Not point in continuing\r\n                    lineColums = 0;\r\n                    break;\r\n                }\r\n            }\r\n            // Check if we have a winner\r\n            if (lineColums) {\r\n                separator = sep;\r\n            }\r\n        });\r\n        return separator;\r\n    };\r\n    /**\r\n     * Parses and returns data.\r\n     *\r\n     * @param data  Unparsed data\r\n     * @return Parsed data\r\n     */\r\n    CSVParser.prototype.parse = function (csv) {\r\n        // Check if we have delimiter set\r\n        if (!this.options.delimiter) {\r\n            this.options.delimiter = CSVParser.getDelimiterFromData(csv);\r\n        }\r\n        // Get CSV data as array\r\n        var data = this.CSVToArray(csv, this.options.delimiter);\r\n        // Do we need to cast some fields to numbers?\r\n        var empty = $type.hasValue(this.options.emptyAs);\r\n        var numbers = this.parsableNumbers;\r\n        var dates = this.parsableDates;\r\n        // Init resuling array\r\n        var res = [], cols = [], col, i;\r\n        // Skip rows\r\n        for (i = 0; i < this.options.skipRows; i++) {\r\n            data.shift();\r\n        }\r\n        // First row holds column names?\r\n        if (this.options.useColumnNames) {\r\n            cols = data.shift();\r\n            // Normalize column names\r\n            for (var x = 0; x < cols.length; x++) {\r\n                // trim\r\n                col = $type.hasValue(cols[x]) ? cols[x].replace(/^\\s+|\\s+$/gm, \"\") : \"\";\r\n                // Check for empty\r\n                if (\"\" === col) {\r\n                    col = \"col\" + x;\r\n                }\r\n                cols[x] = col;\r\n            }\r\n        }\r\n        // Iterate through the result set\r\n        var row;\r\n        while (true) {\r\n            row = this.options.reverse ? data.pop() : data.shift();\r\n            if (!row) {\r\n                break;\r\n            }\r\n            if (this.options.skipEmpty && row.length === 1 && row[0] === \"\") {\r\n                continue;\r\n            }\r\n            var dataPoint = {};\r\n            for (i = 0; i < row.length; i++) {\r\n                col = undefined === cols[i] ? \"col\" + i : cols[i];\r\n                dataPoint[col] = row[i] === \"\" ? this.options.emptyAs : row[i];\r\n                // Convert\r\n                if (empty) {\r\n                    dataPoint[col] = this.maybeToEmpty(dataPoint[col]);\r\n                }\r\n                if (numbers) {\r\n                    dataPoint[col] = this.maybeToNumber(col, dataPoint[col]);\r\n                }\r\n                if (dates) {\r\n                    dataPoint[col] = this.maybeToDate(col, dataPoint[col]);\r\n                }\r\n            }\r\n            res.push(dataPoint);\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Converts CSV into array.\r\n     *\r\n     * The functionality of this function is taken from here:\r\n     * http://www.bennadel.com/blog/1504-ask-ben-parsing-csv-strings-with-javascript-exec-regular-expression-command.htm\r\n     *\r\n     * @param data       Source data\r\n     * @param delimiter  Column delimiter\r\n     * @return Parsed array\r\n     */\r\n    CSVParser.prototype.CSVToArray = function (data, delimiter) {\r\n        // Check to see if the delimiter is defined. If not,\r\n        // then default to comma.\r\n        delimiter = (delimiter || ',');\r\n        // Create a regular expression to parse the CSV values.\r\n        var objPattern = new RegExp((\r\n        // Delimiters.\r\n        \"(\\\\\" + delimiter + \"|\\\\r?\\\\n|\\\\r|^)\" +\r\n            // Quoted fields.\r\n            \"(?:\\\"([^\\\"]*(?:\\\"\\\"[^\\\"]*)*)\\\"|\" +\r\n            // Standard fields.\r\n            \"([^\\\"\\\\\" + delimiter + \"\\\\r\\\\n]*))\"), \"gi\");\r\n        // Create an array to hold our data. Give the array\r\n        // a default empty first row.\r\n        var arrData = [\r\n            []\r\n        ];\r\n        // Create an array to hold our individual pattern\r\n        // matching groups.\r\n        var arrMatches = null;\r\n        // Keep looping over the regular expression matches\r\n        // until we can no longer find a match.\r\n        while (true) {\r\n            arrMatches = objPattern.exec(data);\r\n            if (!arrMatches) {\r\n                break;\r\n            }\r\n            // Get the delimiter that was found.\r\n            var strMatchedDelimiter = arrMatches[1];\r\n            // Check to see if the given delimiter has a length\r\n            // (is not the start of string) and if it matches\r\n            // field delimiter. If id does not, then we know\r\n            // that this delimiter is a row delimiter.\r\n            if (strMatchedDelimiter.length &&\r\n                (strMatchedDelimiter !== delimiter)) {\r\n                // Since we have reached a new row of data,\r\n                // add an empty row to our data array.\r\n                arrData.push([]);\r\n            }\r\n            // Now that we have our delimiter out of the way,\r\n            // let's check to see which kind of value we\r\n            // captured (quoted or unquoted).\r\n            var strMatchedValue = void 0;\r\n            if (arrMatches[2]) {\r\n                // We found a quoted value. When we capture\r\n                // this value, unescape any double quotes.\r\n                strMatchedValue = arrMatches[2].replace(new RegExp(\"\\\"\\\"\", \"g\"), \"\\\"\");\r\n            }\r\n            else {\r\n                // We found a non-quoted value.\r\n                strMatchedValue = arrMatches[3];\r\n            }\r\n            // Now that we have our value string, let's add\r\n            // it to the data array.\r\n            arrData[arrData.length - 1].push(strMatchedValue);\r\n        }\r\n        // Return the parsed data.\r\n        return (arrData);\r\n    };\r\n    return CSVParser;\r\n}(DataParser));\r\nexport { CSVParser };\r\n//# sourceMappingURL=CSVParser.js.map","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","/**\r\n * A collection of Math-related functions\r\n *\r\n * @todo Comment trigonometric functions?\r\n */\r\nimport * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nexport var PI = Math.PI;\r\nexport var HALFPI = PI / 2;\r\nexport var RADIANS = PI / 180;\r\nexport var DEGREES = 180 / PI;\r\n/**\r\n * Converts any value and fits it into a specific value range.\r\n *\r\n * @param value  Source value\r\n * @param min    Minimum allowable value\r\n * @param max    Maximum allowable value\r\n * @return Number\r\n */\r\nexport function toNumberRange(value, min, max) {\r\n    if ($type.hasValue(value)) {\r\n        value = $type.toNumber(value);\r\n        return fitToRange(value, min, max);\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Rounds the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @param floor  In case value ends with 0.5 and precision is 0, we might need to floor the value instead of ceiling it.\r\n * @return Rounded value\r\n */\r\nexport function round(value, precision, floor) {\r\n    if (!$type.isNumber(precision) || precision <= 0) {\r\n        var rounded = Math.round(value);\r\n        if (floor) {\r\n            if (rounded - value == 0.5) {\r\n                rounded--;\r\n            }\r\n        }\r\n        return rounded;\r\n    }\r\n    else {\r\n        var d = Math.pow(10, precision);\r\n        return Math.round(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * Ceils the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @return Rounded value\r\n */\r\nexport function ceil(value, precision) {\r\n    if (!$type.isNumber(precision) || precision <= 0) {\r\n        return Math.ceil(value);\r\n    }\r\n    else {\r\n        var d = Math.pow(10, precision);\r\n        return Math.ceil(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * Stretches `t` so that it will always be between `from` and `to`.\r\n *\r\n * @param t     Number from 0 to 1\r\n * @param from  Lowest possible value\r\n * @param to    Highest possible value\r\n * @return Adjusted value\r\n */\r\nexport function stretch(t, from, to) {\r\n    return (t * (to - from)) + from;\r\n}\r\n/**\r\n * Adjust numeric value so it fits to specific value range.\r\n *\r\n * @param value     Value\r\n * @param minValue  Lowest possible value\r\n * @param maxValue  Highest possible value\r\n * @return Adjusted value\r\n */\r\nexport function fitToRange(value, minValue, maxValue) {\r\n    if ($type.isNumber(minValue)) {\r\n        if ($type.isNumber(maxValue) && maxValue < minValue) {\r\n            var temp = maxValue;\r\n            maxValue = minValue;\r\n            minValue = temp;\r\n        }\r\n        if (value < minValue) {\r\n            value = minValue;\r\n        }\r\n    }\r\n    if ($type.isNumber(maxValue)) {\r\n        if (value > maxValue) {\r\n            value = maxValue;\r\n        }\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Returns sine of a number.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function sin(value) {\r\n    return round(Math.sin(RADIANS * value), 10);\r\n}\r\n/**\r\n * Returns tan of a number.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function tan(value) {\r\n    return round(Math.tan(RADIANS * value), 10);\r\n}\r\n/**\r\n * Returns cosine of a number.\r\n *\r\n * @param value  Value\r\n * @return Cosine\r\n */\r\nexport function cos(value) {\r\n    return round(Math.cos(RADIANS * value), 10);\r\n}\r\nexport function max(left, right) {\r\n    if ($type.isNumber(left)) {\r\n        if ($type.isNumber(right)) {\r\n            if (right > left) {\r\n                return right;\r\n            }\r\n            else {\r\n                return left;\r\n            }\r\n        }\r\n        else {\r\n            return left;\r\n        }\r\n    }\r\n    else if ($type.isNumber(right)) {\r\n        return right;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nexport function min(left, right) {\r\n    if ($type.isNumber(left)) {\r\n        if ($type.isNumber(right)) {\r\n            if (right < left) {\r\n                return right;\r\n            }\r\n            else {\r\n                return left;\r\n            }\r\n        }\r\n        else {\r\n            return left;\r\n        }\r\n    }\r\n    else if ($type.isNumber(right)) {\r\n        return right;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\n/**\r\n * Returns the closest value from the array of values to the reference value.\r\n *\r\n * @param values  Array of values\r\n * @param value   Reference value\r\n * @return Closes value from the array\r\n */\r\nexport function closest(values, referenceValue) {\r\n    return values.reduce(function (prev, curr) {\r\n        return (Math.abs(curr - referenceValue) < Math.abs(prev - referenceValue) ? curr : prev);\r\n    });\r\n}\r\n/**\r\n * Checks whether two ranges of values intersect.\r\n *\r\n * @param range1  Range 1\r\n * @param range2  Range 2\r\n * @return Any intersecting numbers?\r\n */\r\nexport function intersect(range1, range2) {\r\n    var start1 = $type.getValue(range1.start);\r\n    var start2 = $type.getValue(range2.start);\r\n    var end1 = $type.getValue(range1.end);\r\n    var end2 = $type.getValue(range2.end);\r\n    return Math.max(start1, start2) <= Math.min(end1, end2);\r\n}\r\n/**\r\n * Inverts the range of values.\r\n *\r\n * @param range  Range\r\n */\r\nexport function invertRange(range) {\r\n    var start = $type.getValue(range.start);\r\n    var end = $type.getValue(range.end);\r\n    return { start: 1 - end, end: 1 - start };\r\n}\r\n/**\r\n * Returns an intersection range between two ranges of values.\r\n *\r\n * @param range1  Range 1\r\n * @param range2  Range 2\r\n * @return Intersecting value range\r\n */\r\nexport function intersection(range1, range2) {\r\n    var start1 = $type.getValue(range1.start);\r\n    var start2 = $type.getValue(range2.start);\r\n    var end1 = $type.getValue(range1.end);\r\n    var end2 = $type.getValue(range2.end);\r\n    var startMax = Math.max(start1, start2);\r\n    var endMin = Math.min(end1, end2);\r\n    if (endMin < startMax) {\r\n        return undefined;\r\n    }\r\n    else {\r\n        return { start: startMax, end: endMin };\r\n    }\r\n}\r\n/**\r\n * Returns pixel \"distance\" between two points.\r\n *\r\n * If second point is not specified, distance from {x:0, y:0} point is\r\n * calculated.\r\n *\r\n * @param point1  Point 1\r\n * @param point2  Point 2\r\n * @return Distance in relative pixels\r\n */\r\nexport function getDistance(point1, point2) {\r\n    if (!point1) {\r\n        return 0;\r\n    }\r\n    if (!point2) {\r\n        point2 = { x: 0, y: 0 };\r\n    }\r\n    return Math.sqrt(Math.pow(Math.abs(point1.x - point2.x), 2) + Math.pow(Math.abs(point1.y - point2.y), 2));\r\n}\r\n/**\r\n * Returns pixel \"horizontal distance\" between two points.\r\n *\r\n * If second point is not specified, distance from {x:0, y:0} point is\r\n * calculated.\r\n *\r\n * @param point1  Point 1\r\n * @param point2  Point 2\r\n * @return Distance in relative pixels\r\n */\r\nexport function getHorizontalDistance(point1, point2) {\r\n    if (!point1) {\r\n        return 0;\r\n    }\r\n    if (!point2) {\r\n        point2 = { x: 0, y: 0 };\r\n    }\r\n    return Math.abs(point1.x - point2.x);\r\n}\r\n/**\r\n * Returns pixel \"vertical distance\" between two points.\r\n *\r\n * If second point is not specified, distance from {x:0, y:0} point is\r\n * calculated.\r\n *\r\n * @param point1  Point 1\r\n * @param point2  Point 2\r\n * @return Distance in relative pixels\r\n */\r\nexport function getVerticalDistance(point1, point2) {\r\n    if (!point1) {\r\n        return 0;\r\n    }\r\n    if (!point2) {\r\n        point2 = { x: 0, y: 0 };\r\n    }\r\n    return Math.abs(point1.y - point2.y);\r\n}\r\n/**\r\n * Returns approximate pixel \"distance\" between two points of cubic curve\r\n *\r\n * If second point is not specified, distance from {x:0, y:0} point is\r\n * calculated.\r\n *\r\n * @param point1  Point 1\r\n * @param point2  Point 2\r\n * @param controlPointA  Control Point 1\r\n * @param controlPointB  Control Point 2\r\n * @param stepCount  number of steps (the more, the more accurate result)\r\n * @return Distance in relative pixels\r\n */\r\nexport function getCubicCurveDistance(point1, point2, controlPointA, controlPointB, stepCount) {\r\n    if (!point1) {\r\n        return 0;\r\n    }\r\n    if (!point2) {\r\n        point2 = { x: 0, y: 0 };\r\n    }\r\n    var distance = 0;\r\n    var prevPoint = point1;\r\n    if (stepCount > 0) {\r\n        for (var s = 0; s <= stepCount; s++) {\r\n            var point = getPointOnCubicCurve(point1, point2, controlPointA, controlPointB, s / stepCount);\r\n            distance += getDistance(prevPoint, point);\r\n            prevPoint = point;\r\n        }\r\n    }\r\n    return distance;\r\n}\r\n/**\r\n * Returns scale based on original and end position of the two points.\r\n *\r\n * @param point1       Current position of point 1\r\n * @param startPoint1  Start position of point 1\r\n * @param point2       Current position of point 1\r\n * @param startPoint2  Start position of point 2\r\n * @return Scale        Calculated scale\r\n */\r\nexport function getScale(point1, startPoint1, point2, startPoint2) {\r\n    var initialDistance = getDistance(startPoint1, startPoint2);\r\n    var currentDistance = getDistance(point1, point2);\r\n    return Math.abs(currentDistance / initialDistance);\r\n}\r\n/**\r\n * Returns an exact mid point between two points.\r\n *\r\n * @param point1     Position of point 1\r\n * @param point2     Position of point 2\r\n * @return Mid point  Position of mid-point\r\n */\r\nexport function getMidPoint(point1, point2, position) {\r\n    if (!$type.isNumber(position)) {\r\n        position = 0.5;\r\n    }\r\n    return {\r\n        \"x\": (point1.x + (point2.x - point1.x) * position),\r\n        \"y\": (point1.y + (point2.y - point1.y) * position)\r\n    };\r\n}\r\n/**\r\n * Returns difference in angles between starting and ending position of two\r\n * vectors.\r\n *\r\n * @param point1       Current position of point 1\r\n * @param startPoint1  Start position of point 1\r\n * @param point2       Current position of point 1\r\n * @param startPoint2  Start position of point 2\r\n * @return Angle difference in degrees\r\n */\r\nexport function getRotation(point1, startPoint1, point2, startPoint2) {\r\n    // Get start and end angles\r\n    var startAngle = getAngle(startPoint1, startPoint2);\r\n    var angle = getAngle(point1, point2);\r\n    // Calculate angle\r\n    var diff = startAngle - angle;\r\n    if (diff < 0) {\r\n        diff += 360;\r\n    }\r\n    return diff;\r\n}\r\n/**\r\n * Calculates angle of the vector based on two or one point.\r\n *\r\n * @param point1  Point 1\r\n * @param point2  Point 2\r\n * @return Angle in degrees\r\n */\r\nexport function getAngle(point1, point2) {\r\n    if (!point2) {\r\n        point2 = { x: point1.x * 2, y: point1.y * 2 };\r\n    }\r\n    var diffX = point2.x - point1.x;\r\n    var diffY = point2.y - point1.y;\r\n    var angle = Math.atan2(diffY, diffX) * DEGREES;\r\n    if (angle < 0) {\r\n        angle += 360;\r\n    }\r\n    return normalizeAngle(angle);\r\n}\r\n/**\r\n * Returns the shift in coordinates of the center when item is rotated, moved\r\n * and scaled at the same time.\r\n *\r\n * @param center       Current center\r\n * @param point1       Frst reference point\r\n * @param startPoint1  Original position of the first reference point\r\n * @param point2       Second reference point\r\n * @param startPoint2  Original position of the first reference point\r\n * @return Shift in center point coordinates\r\n */\r\nexport function getCenterShift(center, point1, startPoint1, point2, startPoint2) {\r\n    // Get angle\r\n    var angle = getRotation(point1, startPoint1, point2, startPoint2) - 90;\r\n    if (angle < 0) {\r\n        angle += 360;\r\n    }\r\n    // Get distance between new position\r\n    var distance = getDistance(point1, point2);\r\n    // Calculate new X\r\n    var x = Math.cos(angle) / distance + point1.x;\r\n    var y = Math.cos(angle) / distance + point1.y;\r\n    var shift = {\r\n        \"x\": x - center.x,\r\n        \"y\": y - center.y\r\n    };\r\n    return shift;\r\n}\r\n/**\r\n * Converts an array of points into a bounding box rectangle.\r\n *\r\n * Array can contain any number of points.\r\n *\r\n * @param points  Points\r\n * @return Bounding box rectangle\r\n */\r\nexport function getBBox(points) {\r\n    if (points) {\r\n        var length_1 = points.length;\r\n        if (length_1 !== 0) {\r\n            var left = void 0;\r\n            var right = void 0;\r\n            var top_1;\r\n            var bottom = void 0;\r\n            for (var i = 0; i < length_1; i++) {\r\n                var point = points[i];\r\n                if (!$type.isNumber(right) || (point.x > right)) {\r\n                    right = point.x;\r\n                }\r\n                if (!$type.isNumber(left) || (point.x < left)) {\r\n                    left = point.x;\r\n                }\r\n                if (!$type.isNumber(top_1) || (point.y < top_1)) {\r\n                    top_1 = point.y;\r\n                }\r\n                if (!$type.isNumber(bottom) || (point.y > bottom)) {\r\n                    bottom = point.y;\r\n                }\r\n            }\r\n            return { x: left, y: top_1, width: right - left, height: bottom - top_1 };\r\n        }\r\n    }\r\n    return { x: 0, y: 0, width: 0, height: 0 };\r\n}\r\n/**\r\n * Returns a [[IRectangle]] object representing a common rectangle that fits\r\n * all passed in rectangles in it.\r\n *\r\n * @param rectangles  An array of rectangles\r\n * @return Common rectangle\r\n */\r\nexport function getCommonRectangle(rectangles) {\r\n    var length = rectangles.length;\r\n    if (length !== 0) {\r\n        var minX = void 0;\r\n        var minY = void 0;\r\n        var maxX = void 0;\r\n        var maxY = void 0;\r\n        for (var i = 0; i < length; i++) {\r\n            var rectangle = rectangles[i];\r\n            minX = min(rectangle.x, minX);\r\n            minY = min(rectangle.y, minY);\r\n            maxX = max(rectangle.x + rectangle.width, maxX);\r\n            maxY = max(rectangle.y + rectangle.height, maxY);\r\n        }\r\n        return { x: minX, y: minY, width: maxX - minX, height: maxY - minY };\r\n    }\r\n}\r\n/**\r\n * [getPointOnQuadraticCurve description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param pointA        [description]\r\n * @param pointB        [description]\r\n * @param controlPoint  [description]\r\n * @param position      [description]\r\n * @return [description]\r\n */\r\nexport function getPointOnQuadraticCurve(pointA, pointB, controlPoint, position) {\r\n    var x = (1 - position) * (1 - position) * pointA.x + 2 * (1 - position) * position * controlPoint.x + position * position * pointB.x;\r\n    var y = (1 - position) * (1 - position) * pointA.y + 2 * (1 - position) * position * controlPoint.y + position * position * pointB.y;\r\n    return { x: x, y: y };\r\n}\r\n/**\r\n * [getPointOnCubicCurve description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param pointA         [description]\r\n * @param pointB         [description]\r\n * @param controlPointA  [description]\r\n * @param controlPointB  [description]\r\n * @param position       [description]\r\n * @return [description]\r\n */\r\nexport function getPointOnCubicCurve(pointA, pointB, controlPointA, controlPointB, position) {\r\n    var point = { x: 0, y: 0 };\r\n    var mt1 = 1 - position;\r\n    var mt2 = mt1 * mt1;\r\n    var mt3 = mt2 * mt1;\r\n    point.x = pointA.x * mt3 + controlPointA.x * 3 * mt2 * position + controlPointB.x * 3 * mt1 * position * position + pointB.x * position * position * position;\r\n    point.y = pointA.y * mt3 + controlPointA.y * 3 * mt2 * position + controlPointB.y * 3 * mt1 * position * position + pointB.y * position * position * position;\r\n    return point;\r\n}\r\n/**\r\n * [getCubicControlPointA description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointA(p0, p1, p2, p3, tensionX, tensionY) {\r\n    tensionX = adjustTension(tensionX);\r\n    tensionY = adjustTension(tensionY);\r\n    return { x: ((-p0.x + p1.x / tensionX + p2.x) * tensionX), y: ((-p0.y + p1.y / tensionY + p2.y) * tensionY) };\r\n}\r\n/**\r\n * [getCubicControlPointB description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointB(p0, p1, p2, p3, tensionX, tensionY) {\r\n    tensionX = adjustTension(tensionX);\r\n    tensionY = adjustTension(tensionY);\r\n    return { x: ((p1.x + p2.x / tensionX - p3.x) * tensionX), y: ((p1.y + p2.y / tensionY - p3.y) * tensionY) };\r\n}\r\n/**\r\n * [adjustTension description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param tension  [description]\r\n * @return [description]\r\n */\r\nexport function adjustTension(tension) {\r\n    return 1 - tension + 0.00001;\r\n}\r\n/**\r\n * [normalizeAngle description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param value  [description]\r\n * @return [description]\r\n */\r\nexport function normalizeAngle(value) {\r\n    if (value == 360) {\r\n        return 360;\r\n    }\r\n    return value % 360;\r\n}\r\n/**\r\n * [normalizeAngleToRange description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @todo review this with various angles, can be tested on radar chart with custom start/end angles\r\n * @param value       [description]\r\n * @param startAngle  [description]\r\n * @param endAngle    [description]\r\n * @return [description]\r\n */\r\nexport function fitAngleToRange(value, startAngle, endAngle) {\r\n    if (startAngle > endAngle) {\r\n        var temp = startAngle;\r\n        startAngle = endAngle;\r\n        endAngle = temp;\r\n    }\r\n    value = normalizeAngle(value);\r\n    var count = (startAngle - normalizeAngle(startAngle)) / 360;\r\n    if (value < startAngle) {\r\n        value += 360 * (count + 1);\r\n    }\r\n    var maxEnd = startAngle + (endAngle - startAngle) / 2 + 180;\r\n    var maxStart = startAngle + (endAngle - startAngle) / 2 - 180;\r\n    if (value > endAngle) {\r\n        if (value - 360 > startAngle) {\r\n            value -= 360;\r\n        }\r\n        else {\r\n            if (value < maxEnd) {\r\n                value = endAngle;\r\n            }\r\n            else {\r\n                value = startAngle;\r\n            }\r\n        }\r\n    }\r\n    if (value < startAngle) {\r\n        if (value > maxStart) {\r\n            value = startAngle;\r\n        }\r\n        else {\r\n            value = endAngle;\r\n        }\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Returns [[IRectangle]] of an arc in relative values, assuming that the\r\n * center is at the circle center.\r\n *\r\n * Used to find out max radius of an arc.\r\n *\r\n * @ignore Exclude from docs\r\n * @param startAngle  Start angle\r\n * @param endAngle    End angle\r\n * @param radius    \t Relative radius\r\n * @return Rectangle\r\n */\r\nexport function getArcRect(startAngle, endAngle, radius) {\r\n    var minX = Number.MAX_VALUE;\r\n    var minY = Number.MAX_VALUE;\r\n    var maxX = -Number.MAX_VALUE;\r\n    var maxY = -Number.MAX_VALUE;\r\n    var bpoints = [];\r\n    if (!$type.isNumber(radius)) {\r\n        radius = 1;\r\n    }\r\n    bpoints.push(getArcPoint(radius, startAngle));\r\n    bpoints.push(getArcPoint(radius, endAngle));\r\n    var fromAngle = Math.min(Math.floor(startAngle / 90) * 90, Math.floor(endAngle / 90) * 90);\r\n    var toAngle = Math.max(Math.ceil(startAngle / 90) * 90, Math.ceil(endAngle / 90) * 90);\r\n    for (var angle = fromAngle; angle <= toAngle; angle += 90) {\r\n        if (angle >= startAngle && angle <= endAngle) {\r\n            bpoints.push(getArcPoint(radius, angle));\r\n        }\r\n    }\r\n    for (var i = 0; i < bpoints.length; i++) {\r\n        var pt = bpoints[i];\r\n        if (pt.x < minX) {\r\n            minX = pt.x;\r\n        }\r\n        if (pt.y < minY) {\r\n            minY = pt.y;\r\n        }\r\n        if (pt.x > maxX) {\r\n            maxX = pt.x;\r\n        }\r\n        if (pt.y > maxY) {\r\n            maxY = pt.y;\r\n        }\r\n    }\r\n    return ({ x: minX, y: minY, width: maxX - minX, height: maxY - minY });\r\n}\r\n/**\r\n * Returns point on arc\r\n *\r\n * @param center point\r\n * @param radius\r\n * @param arc\r\n * @return {boolean}\r\n */\r\nexport function getArcPoint(radius, arc) {\r\n    return ({ x: radius * cos(arc), y: radius * sin(arc) });\r\n}\r\n/**\r\n * Returns true if a point is within rectangle\r\n *\r\n * @param point\r\n * @param rectangle\r\n * @return {boolean}\r\n */\r\nexport function isInRectangle(point, rectangle) {\r\n    if (point.x >= rectangle.x && point.x <= rectangle.x + rectangle.width && point.y > rectangle.y && point.y < rectangle.y + rectangle.height) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexport function getLineIntersection(pointA1, pointA2, pointB1, pointB2) {\r\n    var x = ((pointA1.x * pointA2.y - pointA2.x * pointA1.y) * (pointB1.x - pointB2.x) - (pointA1.x - pointA2.x) * (pointB1.x * pointB2.y - pointB1.y * pointB2.x)) / ((pointA1.x - pointA2.x) * (pointB1.y - pointB2.y) - (pointA1.y - pointA2.y) * (pointB1.x - pointB2.x));\r\n    var y = ((pointA1.x * pointA2.y - pointA2.x * pointA1.y) * (pointB1.y - pointB2.y) - (pointA1.y - pointA2.y) * (pointB1.x * pointB2.y - pointB1.y * pointB2.x)) / ((pointA1.x - pointA2.x) * (pointB1.y - pointB2.y) - (pointA1.y - pointA2.y) * (pointB1.x - pointB2.x));\r\n    return { x: x, y: y };\r\n}\r\n//# sourceMappingURL=Math.js.map","module.exports = require('./lib/axios');","/**\r\n * Container module\r\n * @todo Needs description\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"./Sprite\";\r\nimport { SpriteState } from \"./SpriteState\";\r\nimport { List } from \"./utils/List\";\r\nimport { MultiDisposer } from \"./utils/Disposer\";\r\nimport { Dictionary, DictionaryDisposer } from \"./utils/Dictionary\";\r\nimport { getInteraction } from \"./interaction/Interaction\";\r\nimport { Rectangle } from \"./elements/Rectangle\";\r\nimport { Percent } from \"./utils/Percent\";\r\nimport { registry } from \"./Registry\";\r\nimport { InterfaceColorSet } from \"../core/utils/InterfaceColorSet\";\r\nimport * as $iter from \"./utils/Iterator\";\r\nimport * as $array from \"./utils/Array\";\r\nimport * as $math from \"./utils/Math\";\r\nimport * as $type from \"./utils/Type\";\r\nimport * as $dom from \"./utils/DOM\";\r\nimport { system } from \"./System\";\r\nimport { options } from \"./Options\";\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Container can contain multiple sprites and arrange them in various layouts.\r\n *\r\n * @see {@link IContainerEvents} for a list of available events\r\n * @see {@link IContainerAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar Container = /** @class */ (function (_super) {\r\n    __extends(Container, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Container() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Container children. (sorted by layout)\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._childrenByLayout = [];\r\n        /**\r\n         * Container's disposers for its child elements.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._childrenDisposers = new Dictionary();\r\n        /**\r\n         * Indicates if this container contains any focused elements, including\r\n         * itself.\r\n         */\r\n        _this.hasFocused = false;\r\n        /**\r\n         * An array of references to elements the state should be set, when it is set\r\n         * on this element.\r\n         */\r\n        _this.setStateOnSprites = [];\r\n        /*\r\n         * @ignore\r\n         */\r\n        _this.layoutInvalid = false;\r\n        _this._absoluteWidth = 0;\r\n        _this._absoluteHeight = 0;\r\n        /**\r\n         * An array of child Sprites that should be ready before this object can\r\n         * fire a \"ready\" event.\r\n         */\r\n        _this._shouldBeReady = [];\r\n        /**\r\n         * Enables touch tap protection.\r\n         */\r\n        _this._tapToActivate = false;\r\n        /**\r\n         * If `tapToActivate` is used, this setting will determine how long the chart\r\n         * will stay in \"active\" mode.\r\n         *\r\n         * @default 3000\r\n         * @since 4.4.0\r\n         */\r\n        _this.tapTimeout = 3000;\r\n        _this.className = \"Container\";\r\n        _this._element = _this.paper.addGroup(\"g\");\r\n        _this.group.add(_this.element);\r\n        _this.setPropertyValue(\"pixelPerfect\", false);\r\n        _this.setPropertyValue(\"layout\", \"absolute\");\r\n        _this.setPropertyValue(\"fixedWidthGrid\", false);\r\n        _this.setPropertyValue(\"verticalCenter\", \"none\");\r\n        _this.setPropertyValue(\"horizontalCenter\", \"none\");\r\n        _this._positionPrecision = 4;\r\n        _this._disposers.push(new DictionaryDisposer(_this._childrenDisposers));\r\n        _this.children.events.on(\"inserted\", _this.handleChildAdded, _this);\r\n        _this.children.events.on(\"removed\", _this.handleChildRemoved, _this);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Handles adding of a new child into `children`. Adding new children might\r\n     * affect the whole layout so it needs to be revalidated.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event Event object\r\n     * @todo Throw an exception on adding a disposed object. Of course it's better NOT TO add disposed objects, so that what we should focus on.\r\n     */\r\n    Container.prototype.handleChildAdded = function (event) {\r\n        this.processChild(event.newValue);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Container.prototype.processChild = function (child) {\r\n        // try solves the problem when somedy adds child directly to children\r\n        try {\r\n            this._childrenDisposers.insertKey(child.uid, new MultiDisposer([\r\n                // it's not enough to listen to POSITION_CHANGED only, as some extra redrawals will happen.\r\n                child.events.on(\"transformed\", this.handleChildTransform, this),\r\n                child.events.on(\"zIndexChanged\", this.sortAndAdd, this)\r\n            ]));\r\n        }\r\n        catch (err) {\r\n            // void\r\n        }\r\n        if (this.element) {\r\n            var group = this.element;\r\n            group.add(child.group);\r\n        }\r\n        child.parent = this;\r\n        child.paper = this.paper;\r\n        this.dispatchImmediately(\"childadded\", { type: \"childadded\", newValue: child });\r\n        this.invalidate();\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Container.prototype.sortAndAdd = function () {\r\n        this.sortChildren();\r\n        this.addChildren();\r\n    };\r\n    /**\r\n     * Handles child removal. Changing size of the child may change the\r\n     * whole layout of the Container, hence layout needs to be invalidated.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event Event object\r\n     */\r\n    Container.prototype.handleChildRemoved = function (event) {\r\n        var child = event.oldValue;\r\n        // TODO figure out why the key sometimes doesn't exist\r\n        this._childrenDisposers.removeKey(child.uid);\r\n        if (this.element) {\r\n            var group = this.element;\r\n            group.removeElement(child.group);\r\n        }\r\n        if (child.isMeasured) {\r\n            this.invalidateLayout();\r\n        }\r\n        this.dispatchImmediately(\"childremoved\", { type: \"childremoved\", oldValue: child });\r\n    };\r\n    /**\r\n     * Handles child transformation. Changing size of the child may change the\r\n     * whole layout of the Container, hence layout needs to be invalidated.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event Event object\r\n     */\r\n    Container.prototype.handleChildTransform = function (event) {\r\n        var child = event.target;\r\n        if (child.isMeasured) { // && this.layout != \"none\" && this.layout != \"absolute\") {\r\n            this.invalidateLayout();\r\n        }\r\n    };\r\n    /**\r\n     * Invalidates Container's layout, causing it to be re-evaluated again.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype.invalidateLayout = function () {\r\n        if (this.layoutInvalid || this.disabled || this.isTemplate || this.layout == \"none\" || this.__disabled) {\r\n            return;\r\n        }\r\n        this.layoutInvalid = true;\r\n        registry.addToInvalidLayouts(this);\r\n        system.requestFrame();\r\n    };\r\n    /**\r\n     * Invalidates element.\r\n     *\r\n     * Object will be redrawn during the next update cycle.\r\n     *\r\n     * Please note that in most cases elements will auto-invalidate when needed. If\r\n     * everything works, DO NOT use this method. Use it only if some changes do\r\n     * not take otherwise.\r\n     */\r\n    Container.prototype.invalidate = function () {\r\n        _super.prototype.invalidate.call(this);\r\n        this.invalidateLayout();\r\n    };\r\n    /**\r\n     * Invalidates the whole element, including layout AND all its child\r\n     * elements.\r\n     *\r\n     * As this will essentially force all elements to redraw, use only if\r\n     * absolutely necessary.\r\n     */\r\n    Container.prototype.deepInvalidate = function () {\r\n        _super.prototype.invalidate.call(this);\r\n        //this.sortChildren();\r\n        $array.each(this._childrenByLayout, function (child) {\r\n            if (child instanceof Container) {\r\n                child.deepInvalidate();\r\n            }\r\n            else {\r\n                child.invalidate();\r\n            }\r\n        });\r\n        this.invalidateLayout();\r\n    };\r\n    Object.defineProperty(Container.prototype, \"children\", {\r\n        /**\r\n         * Returns a list of the child [[Sprite]] elements contained in this\r\n         * Container.\r\n         *\r\n         * @return List of child elements (Sprites)\r\n         */\r\n        get: function () {\r\n            // @todo Review if we can add all children to disposers\r\n            if (!this._children) {\r\n                this._children = new List();\r\n                //this._disposers.push(new ListDisposer(this._children));\r\n            }\r\n            return this._children;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Container.prototype, \"minWidth\", {\r\n        /**\r\n         * @return Width (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"minWidth\");\r\n        },\r\n        /**\r\n         * Minimum width (px) for the Container. A container will not\r\n         * auto-shrink beyond this value, even if child elements are smaller.\r\n         *\r\n         * @param value  Width (px)\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"minWidth\", value)) {\r\n                this.invalidateLayout();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Container.prototype, \"minHeight\", {\r\n        /**\r\n         * @return Height (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"minHeight\");\r\n        },\r\n        /**\r\n         * Minimum height (px) for the Container. A container will not\r\n         * auto-shrink beyond this value, even if child elements are smaller.\r\n         *\r\n         * @param value  Height (px)\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"minHeight\", value)) {\r\n                this.invalidateLayout();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Overrides the original `removeElement` so that Container's actual element\r\n     * is not removed. We do not need to remove element of a Container.\r\n     *\r\n     * We do this because remove element each time will fail the `getBBox`.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype.removeElement = function () {\r\n    };\r\n    /**\r\n     * Sorts Container's children: the ones with variable width and height are\r\n     * put at the end of the list (depending on layout type), so that fixed-width\r\n     * ones can be drawn first.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype.sortChildren = function () {\r\n        var _this = this;\r\n        this._childrenByLayout = [];\r\n        if (this.layout == \"none\" || this.layout == \"absolute\" || !this.layout) {\r\n            //$iter.each(this.children.iterator(), (child) => {\r\n            //\tthis._childrenByLayout.push(child);\r\n            //});\r\n            this._childrenByLayout = this.children.values;\r\n        }\r\n        else {\r\n            // Assemble fixed-size and relative lists\r\n            var fixed_1 = [];\r\n            var relative_1 = [];\r\n            $iter.each(this.children.iterator(), function (child) {\r\n                if (_this.layout == \"horizontal\" || _this.layout == \"grid\") {\r\n                    if (!$type.isNumber(child.percentWidth)) {\r\n                        fixed_1.push(child);\r\n                    }\r\n                    else {\r\n                        relative_1.push(child);\r\n                    }\r\n                }\r\n                else if (_this.layout == \"vertical\") {\r\n                    if (!$type.isNumber(child.percentHeight)) {\r\n                        fixed_1.push(child);\r\n                    }\r\n                    else {\r\n                        relative_1.push(child);\r\n                    }\r\n                }\r\n                else {\r\n                    fixed_1.push(child);\r\n                }\r\n            });\r\n            // Concat everything into list\r\n            this._childrenByLayout = fixed_1.concat(relative_1);\r\n        }\r\n        this.calculateRelativeSize();\r\n    };\r\n    /**\r\n     * Calculates relative sizes for all Container's children.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Make it protected?\r\n     */\r\n    Container.prototype.calculateRelativeSize = function () {\r\n        var _this = this;\r\n        var totalRelativeWidth = 0;\r\n        var totalRelativeHeight = 0;\r\n        $array.each(this._childrenByLayout, function (child) {\r\n            // if child is not measured, we do not care about it at all.\r\n            if (child.isMeasured) {\r\n                if ($type.isNumber(child.percentWidth)) {\r\n                    totalRelativeWidth += child.percentWidth;\r\n                }\r\n                if ($type.isNumber(child.percentHeight)) {\r\n                    totalRelativeHeight += child.percentHeight;\r\n                }\r\n            }\r\n        });\r\n        $array.each(this._childrenByLayout, function (child) {\r\n            if (child.isMeasured) {\r\n                if (_this.layout == \"horizontal\") {\r\n                    if ($type.isNumber(child.percentWidth)) {\r\n                        child.relativeWidth = child.percentWidth / totalRelativeWidth;\r\n                    }\r\n                    if ($type.isNumber(child.percentHeight)) {\r\n                        child.relativeHeight = child.percentHeight / 100;\r\n                    }\r\n                }\r\n                if (_this.layout == \"vertical\") {\r\n                    if ($type.isNumber(child.percentHeight)) {\r\n                        child.relativeHeight = child.percentHeight / totalRelativeHeight;\r\n                    }\r\n                    if ($type.isNumber(child.percentWidth)) {\r\n                        child.relativeWidth = child.percentWidth / 100;\r\n                    }\r\n                }\r\n                if (_this.layout == \"grid\") {\r\n                    if ($type.isNumber(child.percentHeight)) {\r\n                        child.relativeHeight = child.percentHeight / 100;\r\n                    }\r\n                    if ($type.isNumber(child.percentWidth)) {\r\n                        child.relativeWidth = child.percentWidth / 100;\r\n                    }\r\n                }\r\n            }\r\n            if (_this.layout == \"absolute\" || !child.isMeasured) {\r\n                if ($type.isNumber(child.percentWidth)) {\r\n                    child.relativeWidth = child.percentWidth / 100;\r\n                }\r\n                if ($type.isNumber(child.percentHeight)) {\r\n                    child.relativeHeight = child.percentHeight / 100;\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Adds all children to Container's SVG element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype.addChildren = function () {\r\n        /*\r\n          Need this check because a child might be assigned to parent even before element is created, for example a theme\r\n          access scrollbar.thumb\r\n        */\r\n        if (this.element) {\r\n            var zindexed = $array.copy(this.children.values); // not children by layout!\r\n            var sortArray = zindexed.map(function (data, idx) {\r\n                return { idx: idx, data: data };\r\n            });\r\n            sortArray.sort(function (a, b) {\r\n                var ai = (a.data.zIndex || 0);\r\n                var bi = (b.data.zIndex || 0);\r\n                if (ai < bi) {\r\n                    return -1;\r\n                }\r\n                if (ai > bi) {\r\n                    return 1;\r\n                }\r\n                return a.idx - b.idx;\r\n            });\r\n            zindexed = sortArray.map(function (val) {\r\n                return val.data;\r\n            });\r\n            var group_1 = this.element;\r\n            // check, maybe the order is good already\r\n            var isCorrect = true;\r\n            if (group_1.node && group_1.node.childNodes) {\r\n                for (var i = 0, len = group_1.node.childNodes.length; i < len; i++) {\r\n                    if (group_1.node.childNodes[i] != zindexed[i].group.node) {\r\n                        isCorrect = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (!isCorrect) {\r\n                $array.each(zindexed, function (child) {\r\n                    if (child.group) {\r\n                        group_1.add(child.group);\r\n                    }\r\n                });\r\n                if (this._background) {\r\n                    this.group.addToBack(this._background.group);\r\n                }\r\n                this.invalidateLayout();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Creates a new element of specific type and assigns as a child to the\r\n     * Container.\r\n     *\r\n     * @param Class type for the new element\r\n     * @return New element\r\n     */\r\n    Container.prototype.createChild = function (classType) {\r\n        var sprite = new classType();\r\n        sprite.parent = this;\r\n        return sprite;\r\n    };\r\n    /**\r\n     * Removes all Container's children without actually destroying them.\r\n     *\r\n     * To destroy children use `disposeChildren()` instead.\r\n     */\r\n    Container.prototype.removeChildren = function () {\r\n        // remove all children\r\n        // TODO use iteration instead\r\n        while (this.children.length > 0) {\r\n            var child = this.children.getIndex(0);\r\n            child.parent = undefined;\r\n            this.children.removeValue(child);\r\n        }\r\n    };\r\n    /**\r\n     * Removes and destroys all Container's children.\r\n     *\r\n     * To remove children from Container without destroying them, use\r\n     * `removeChildren()`.\r\n     */\r\n    Container.prototype.disposeChildren = function () {\r\n        // TODO use iteration instead\r\n        while (this.children.length > 0) {\r\n            var child = this.children.getIndex(0);\r\n            child.dispose();\r\n            this.children.removeValue(child);\r\n        }\r\n    };\r\n    Object.defineProperty(Container.prototype, \"background\", {\r\n        /**\r\n         * @return Background element\r\n         */\r\n        get: function () {\r\n            if (!this._background) {\r\n                this._background = this.createBackground();\r\n                this.processBackground();\r\n            }\r\n            return this._background;\r\n        },\r\n        /**\r\n         * An element to use as container background.\r\n         *\r\n         * @param background  Background element\r\n         */\r\n        set: function (background) {\r\n            if (this._background && this.background != background) {\r\n                this.removeDispose(this._background);\r\n            }\r\n            if (background) {\r\n                this._background = background;\r\n                this._disposers.push(background);\r\n                this.processBackground();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Handles the situation where parent element is resized.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype.handleGlobalScale = function () {\r\n        _super.prototype.handleGlobalScale.call(this);\r\n        this.children.each(function (child) {\r\n            child.handleGlobalScale();\r\n        });\r\n    };\r\n    /**\r\n     * Creates and returns a [[Rectangle]] to use as a background for Container.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Background Rectangle element\r\n     */\r\n    Container.prototype.createBackground = function () {\r\n        return new Rectangle();\r\n    };\r\n    /**\r\n     * Decorates background element with required properties.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype.processBackground = function () {\r\n        var background = this._background;\r\n        if (background) {\r\n            background.isMeasured = false;\r\n            this._background.fill = new InterfaceColorSet().getFor(\"background\");\r\n            background.parent = this;\r\n            background.isMeasured = false;\r\n            this.children.removeValue(background);\r\n            this._disposers.push(background);\r\n            this.group.addToBack(this._background.group);\r\n        }\r\n    };\r\n    /**\r\n     * Measures the size of container and informs its children of how much size\r\n     * they can occupy, by setting their relative `maxWidth` and `maxHeight`\r\n     * properties.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype.validateLayout = function () {\r\n        var _this = this;\r\n        registry.removeFromInvalidLayouts(this);\r\n        this.layoutInvalid = false;\r\n        // prevents from drawing if topparent is 0x0\r\n        /*\r\n        let topParent = this.topParent;\r\n        if (topParent) {\r\n            if (!topParent.maxWidth || !topParent.maxHeight) {\r\n                this._disposers.push(topParent.events.once(\"maxsizechanged\", this.invalidateLayout, this));\r\n            }\r\n        }*/\r\n        this._availableWidth = this.innerWidth;\r\n        this._availableHeight = this.innerHeight;\r\n        var measuredWidth = 0;\r\n        var measuredHeight = 0;\r\n        var allValid = true;\r\n        if (this.children) {\r\n            this.sortChildren();\r\n            // we itterate through list of children, sorted by layout priority. sprites which width non-relative width/height will go first, so we will reduce available width before proceeding to sprites with relative width/height\r\n            $array.each(this._childrenByLayout, function (child) {\r\n                var maxWidth;\r\n                var maxHeight;\r\n                if ($type.isNumber(child.relativeWidth)) {\r\n                    maxWidth = $math.round(_this._availableWidth * child.relativeWidth, 2);\r\n                    if (_this.layout == \"horizontal\") { // || this.layout == \"absolute\") {\r\n                        maxWidth -= child.pixelMarginRight + child.pixelMarginLeft;\r\n                    }\r\n                }\r\n                else {\r\n                    if (_this.layout == \"horizontal\") {\r\n                        if (child.invalid) {\r\n                            child.validate();\r\n                        }\r\n                    }\r\n                }\r\n                if ($type.isNumber(child.relativeHeight)) {\r\n                    maxHeight = $math.round(_this._availableHeight * child.relativeHeight, 2);\r\n                    if (_this.layout == \"vertical\") { //  || this.layout == \"absolute\") {\r\n                        maxHeight -= child.pixelMarginTop + child.pixelMarginBottom;\r\n                    }\r\n                }\r\n                else {\r\n                    if (_this.layout == \"vertical\") {\r\n                        if (child.invalid) {\r\n                            child.validate();\r\n                        }\r\n                    }\r\n                }\r\n                // if child is valid\r\n                if (child.invalid == false) {\r\n                    if ($type.isNumber(child.relativeWidth)) {\r\n                        child.maxWidth = maxWidth;\r\n                    }\r\n                    if ($type.isNumber(child.relativeHeight)) {\r\n                        child.maxHeight = maxHeight;\r\n                    }\r\n                    if (child.isMeasured) {\r\n                        // reduce available width if this is horizontal layout\r\n                        if (_this.layout == \"horizontal\") {\r\n                            if (!$type.isNumber(child.percentWidth)) {\r\n                                if (child.measuredWidth > 0) {\r\n                                    _this._availableWidth -= child.measuredWidth + child.pixelMarginLeft + child.pixelMarginRight;\r\n                                }\r\n                            }\r\n                        }\r\n                        // reduce available height if this is vertical layout\r\n                        if (_this.layout == \"vertical\") {\r\n                            if (!$type.isNumber(child.percentHeight)) {\r\n                                if (child.measuredHeight > 0) {\r\n                                    _this._availableHeight -= child.measuredHeight + child.pixelMarginTop + child.pixelMarginBottom;\r\n                                }\r\n                            }\r\n                        }\r\n                        var childMeasuredWidth = child.measuredWidth;\r\n                        var childMeasuredHeight = child.measuredHeight;\r\n                        if (child.align != \"none\") {\r\n                            childMeasuredWidth += child.pixelMarginLeft + child.pixelMarginRight;\r\n                        }\r\n                        if (child.valign != \"none\") {\r\n                            childMeasuredHeight += child.pixelMarginTop + child.pixelMarginBottom;\r\n                        }\r\n                        measuredWidth = Math.max(measuredWidth, childMeasuredWidth);\r\n                        measuredHeight = Math.max(measuredHeight, childMeasuredHeight);\r\n                    }\r\n                }\r\n                // if child is not valid\r\n                else {\r\n                    // tell child what maximum width/ height it can occupy\r\n                    if (child.isMeasured) {\r\n                        if ($type.isNumber(child.relativeWidth)) {\r\n                            if (child.maxWidth != maxWidth) { // need to check this because of allValid\r\n                                child.maxWidth = maxWidth;\r\n                                allValid = false;\r\n                            }\r\n                        }\r\n                        if ($type.isNumber(child.relativeHeight)) {\r\n                            if (child.maxHeight != maxHeight) { // need to check this because of allValid\r\n                                child.maxHeight = maxHeight;\r\n                                allValid = false;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        this._absoluteWidth = measuredWidth;\r\n        this._absoluteHeight = measuredHeight;\r\n        // arrange after measuring, only if all children are valid already\r\n        if (allValid) {\r\n            this.arrange();\r\n        }\r\n    };\r\n    /**\r\n     * Arranges children according to layout specs and available space / child\r\n     * sizes.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype.arrange = function () {\r\n        var _this = this;\r\n        var children = this.children;\r\n        /*\r\n           in this method we not only arrange children but also find out the size of the container\r\n           it might seem it would be easier to get container size using sprite's measure method,\r\n           however it would return only actual size of the bbox. However as each child meight have\r\n           margins set, we need to check each child - we do it here.\r\n\r\n           This method doesn't do anything with DOM, so it's not expensive\r\n        */\r\n        var measuredWidth = 0;\r\n        var measuredHeight = 0;\r\n        //let innerWidth: number = this.innerWidth; //$math.max(this.innerWidth, this._measuredWidth - paddingLeft - paddingRight);\r\n        //let innerHeight: number = this.innerHeight; //$math.max(this.innerHeight, this._measuredHeight - paddingTop - paddingBottom);\r\n        // above is wrong, as if a w/h is not specified, it is 0 and alignment doesn't work at all.\r\n        var innerWidth = $math.max(this.innerWidth, this._absoluteWidth);\r\n        var innerHeight = $math.max(this.innerHeight, this._absoluteHeight);\r\n        var left; // = 0;\r\n        var right; // = innerWidth;\r\n        var top; // = 0;\r\n        var bottom; // = innerHeight;\r\n        var paddingLeft = this.pixelPaddingLeft;\r\n        var paddingRight = this.pixelPaddingRight;\r\n        var paddingTop = this.pixelPaddingTop;\r\n        var paddingBottom = this.pixelPaddingBottom;\r\n        var nextX = 0;\r\n        var nextY = 0;\r\n        var row = 0;\r\n        var column = 0;\r\n        var columnWidth = [];\r\n        var rowHeight = [];\r\n        var maxCellWidth;\r\n        var minCellWidth;\r\n        var columnCount;\r\n        var maxWidth = this.maxWidth;\r\n        var maxHeight = this.maxHeight;\r\n        var minWidth = this.minWidth;\r\n        var minHeight = this.minHeight;\r\n        var childrenCopy = $array.copy(children.values);\r\n        if (this.reverseOrder) {\r\n            childrenCopy.reverse();\r\n        }\r\n        // GRID PRECALCULATIONS\r\n        if (this.layout == \"grid\") {\r\n            minCellWidth = maxWidth;\r\n            maxCellWidth = 1;\r\n            for (var i = 0, len = childrenCopy.length; i < len; i++) {\r\n                var child = childrenCopy[i];\r\n                if (child.isMeasured && !child.disabled && !child.__disabled) {\r\n                    var childMeasuredWidth = child.measuredWidth;\r\n                    if (childMeasuredWidth < minCellWidth) {\r\n                        minCellWidth = childMeasuredWidth;\r\n                    }\r\n                    if (childMeasuredWidth > maxCellWidth) {\r\n                        maxCellWidth = childMeasuredWidth;\r\n                    }\r\n                }\r\n            }\r\n            minCellWidth = $math.fitToRange(minCellWidth, 1, maxWidth);\r\n            maxCellWidth = $math.fitToRange(maxCellWidth, 1, maxWidth);\r\n            if (this.fixedWidthGrid) {\r\n                columnCount = maxWidth / maxCellWidth;\r\n            }\r\n            else {\r\n                columnCount = maxWidth / minCellWidth; // predicted number of columns, yes it is usually much more than real number, but we fix that later\r\n            }\r\n            columnCount = $math.max(1, Math.floor(columnCount));\r\n            columnCount = $math.min(this.maxColumns, columnCount);\r\n            columnWidth = this.getColumnWidth(childrenCopy, columnCount, maxCellWidth);\r\n        }\r\n        var contentLeft;\r\n        var contentRight;\r\n        var contentTop;\r\n        var contentBottom;\r\n        // we itterate through array of children\r\n        // TODO use iterator instead\r\n        for (var i = 0, len = childrenCopy.length; i < len; i++) {\r\n            var child = childrenCopy[i];\r\n            if (child.isMeasured && !child.disabled && !child.__disabled) {\r\n                var x = undefined; //child.pixelX; // must reset\r\n                var y = undefined; //child.pixelY; // must reset\r\n                var childMarginLeft = child.pixelMarginLeft;\r\n                var childMarginRight = child.pixelMarginRight;\r\n                var childMarginTop = child.pixelMarginTop;\r\n                var childMarginBottom = child.pixelMarginBottom;\r\n                var childWidth = child.measuredWidth;\r\n                var childHeight = child.measuredHeight;\r\n                var childLeft = void 0;\r\n                var childRight = void 0;\r\n                var childTop = void 0;\r\n                var childBottom = void 0;\r\n                switch (this.layout) {\r\n                    case \"none\":\r\n                        break;\r\n                    // absolute layout\r\n                    case \"absolute\":\r\n                        // horizontal alignment\r\n                        switch (child.align) {\r\n                            case \"left\":\r\n                                x = childMarginLeft - child.maxLeft;\r\n                                break;\r\n                            case \"center\":\r\n                                x = (innerWidth - childWidth) / 2 - child.maxLeft;\r\n                                break;\r\n                            case \"right\":\r\n                                x = innerWidth - childMarginRight - child.maxRight;\r\n                                break;\r\n                            default:\r\n                                if (!(child.x instanceof Percent)) {\r\n                                    x = child.pixelX;\r\n                                }\r\n                                break;\r\n                        }\r\n                        // vertical alignment\r\n                        switch (child.valign) {\r\n                            case \"top\":\r\n                                y = childMarginTop - child.maxTop;\r\n                                break;\r\n                            case \"middle\":\r\n                                y = (innerHeight - childHeight) / 2 - child.maxTop;\r\n                                break;\r\n                            case \"bottom\":\r\n                                y = innerHeight - childMarginBottom - child.maxBottom;\r\n                                break;\r\n                            default:\r\n                                if (!(child.y instanceof Percent)) {\r\n                                    y = child.pixelY;\r\n                                }\r\n                                break;\r\n                        }\r\n                        break;\r\n                    // vertical layout\r\n                    case \"vertical\":\r\n                        //if ($type.isNumber(child.relativeHeight)) {\r\n                        //\tchildHeight = child.maxHeight;\r\n                        //}\r\n                        switch (child.align) {\r\n                            case \"left\":\r\n                                x = childMarginLeft - child.maxLeft;\r\n                                break;\r\n                            case \"center\":\r\n                                x = (innerWidth - childWidth) / 2 - child.maxLeft;\r\n                                break;\r\n                            case \"right\":\r\n                                x = innerWidth - childMarginRight - child.maxRight;\r\n                                break;\r\n                            default:\r\n                                x = child.pixelX;\r\n                                break;\r\n                        }\r\n                        y = nextY + childMarginTop - child.maxTop;\r\n                        nextY = y + child.maxBottom + childMarginBottom;\r\n                        break;\r\n                    // horizontal layout\r\n                    case \"horizontal\":\r\n                        //if ($type.isNumber(child.relativeHeight)) {\r\n                        //\tchildHeight = child.maxHeight;\r\n                        //}\r\n                        switch (child.valign) {\r\n                            case \"top\":\r\n                                y = childMarginTop - child.maxTop;\r\n                                break;\r\n                            case \"middle\":\r\n                                y = (innerHeight - childHeight) / 2 - child.maxTop;\r\n                                break;\r\n                            case \"bottom\":\r\n                                y = innerHeight - childMarginBottom - child.maxBottom;\r\n                                break;\r\n                            default:\r\n                                y = child.pixelY;\r\n                                break;\r\n                        }\r\n                        x = nextX + childMarginLeft - child.maxLeft;\r\n                        nextX = x + child.maxRight + childMarginRight;\r\n                        break;\r\n                    case \"grid\":\r\n                        x = nextX + childMarginLeft - child.maxLeft;\r\n                        switch (child.valign) {\r\n                            case \"top\":\r\n                                y = nextY + childMarginTop - child.maxTop;\r\n                                break;\r\n                            case \"middle\":\r\n                                y = nextY + (innerHeight - childHeight) / 2 - child.maxTop;\r\n                                break;\r\n                            case \"bottom\":\r\n                                y = nextY + innerHeight - childMarginBottom - child.maxBottom;\r\n                                break;\r\n                            default:\r\n                                y = nextY - child.maxTop;\r\n                                break;\r\n                        }\r\n                        nextX += columnWidth[column];\r\n                        rowHeight[row] = $math.max(rowHeight[row], childHeight);\r\n                        column++;\r\n                        var nextColumnWidth = columnWidth[column];\r\n                        if (!$type.isNumber(nextColumnWidth)) {\r\n                            nextColumnWidth = maxCellWidth;\r\n                        }\r\n                        if (nextX > $math.min(this.innerWidth, maxWidth) - nextColumnWidth + 1 && column < columnCount) {\r\n                            columnCount = column;\r\n                            nextX = 0;\r\n                            nextY = 0;\r\n                            row = 0;\r\n                            column = 0;\r\n                            columnWidth = this.getColumnWidth(childrenCopy, columnCount, maxCellWidth);\r\n                            rowHeight = [];\r\n                            i = -1;\r\n                            continue;\r\n                        }\r\n                        if (column >= columnCount) {\r\n                            column = 0;\r\n                            nextY += rowHeight[row];\r\n                            row++;\r\n                            nextX = 0;\r\n                        }\r\n                        break;\r\n                }\r\n                if (this.layout !== \"none\") {\r\n                    child.moveTo({ x: x, y: y }); // must use moveTo, otherwise x/y set in percent won't work\r\n                    childLeft = x + child.maxLeft - childMarginLeft;\r\n                    childRight = x + child.maxRight + childMarginRight;\r\n                    childTop = y + child.maxTop - childMarginTop;\r\n                    childBottom = y + child.maxBottom + childMarginBottom;\r\n                    if (childRight > right || !$type.isNumber(right)) {\r\n                        right = childRight;\r\n                    }\r\n                    if (childLeft < left || !$type.isNumber(left)) {\r\n                        left = childLeft;\r\n                    }\r\n                    if (childTop < top || !$type.isNumber(top)) {\r\n                        top = childTop;\r\n                    }\r\n                    if (childBottom > bottom || !$type.isNumber(bottom)) {\r\n                        bottom = childBottom;\r\n                    }\r\n                    if (childRight > contentRight || !$type.isNumber(contentRight)) {\r\n                        contentRight = childRight;\r\n                    }\r\n                    if (childLeft < contentLeft || !$type.isNumber(contentLeft)) {\r\n                        contentLeft = childLeft;\r\n                    }\r\n                    if (childTop < contentTop || !$type.isNumber(contentTop)) {\r\n                        contentTop = childTop;\r\n                    }\r\n                    if (childBottom > contentBottom || !$type.isNumber(contentBottom)) {\r\n                        contentBottom = contentBottom;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                child.validatePosition();\r\n            }\r\n        }\r\n        if (this.layout == \"none\") {\r\n            var noneBBox = this.bbox;\r\n            left = noneBBox.x;\r\n            right = noneBBox.x + noneBBox.width;\r\n            top = noneBBox.y;\r\n            bottom = noneBBox.y + noneBBox.height;\r\n        }\r\n        if (!$type.isNumber(left)) {\r\n            left = 0;\r\n            contentLeft = 0;\r\n        }\r\n        if (!$type.isNumber(right)) {\r\n            right = this._availableWidth;\r\n            contentRight = right;\r\n        }\r\n        if (!$type.isNumber(top)) {\r\n            top = 0;\r\n            contentTop = 0;\r\n        }\r\n        if (!$type.isNumber(bottom)) {\r\n            bottom = this._availableHeight;\r\n            contentBottom = bottom;\r\n        }\r\n        if (!$type.isNumber(contentTop)) {\r\n            contentTop = 0;\r\n        }\r\n        if (!$type.isNumber(contentBottom)) {\r\n            contentBottom = contentTop;\r\n        }\r\n        if (!$type.isNumber(contentLeft)) {\r\n            contentLeft = 0;\r\n        }\r\n        if (!$type.isNumber(contentRight)) {\r\n            contentRight = contentLeft;\r\n        }\r\n        measuredWidth = right - left;\r\n        measuredHeight = bottom - top;\r\n        if ($type.isNumber(this.relativeWidth)) {\r\n            measuredWidth = maxWidth - paddingLeft - paddingRight;\r\n            left = 0;\r\n            right = measuredWidth;\r\n        }\r\n        if ($type.isNumber(this.relativeHeight)) {\r\n            measuredHeight = maxHeight - paddingTop - paddingBottom;\r\n            top = 0;\r\n            bottom = measuredHeight;\r\n        }\r\n        if ($type.isNumber(this._pixelWidth)) {\r\n            left = 0;\r\n            measuredWidth = this._pixelWidth - paddingLeft - paddingRight;\r\n        }\r\n        if ($type.isNumber(minWidth) && measuredWidth < minWidth) {\r\n            left = 0;\r\n            measuredWidth = this.minWidth - paddingLeft - paddingRight;\r\n        }\r\n        if ($type.isNumber(this._pixelHeight)) {\r\n            top = 0;\r\n            measuredHeight = this._pixelHeight - paddingTop - paddingBottom;\r\n        }\r\n        if ($type.isNumber(minHeight) && measuredHeight < minHeight) {\r\n            top = 0;\r\n            measuredHeight = minHeight - paddingTop - paddingBottom;\r\n        }\r\n        var measuredContentWidth = contentRight - contentLeft;\r\n        var measuredContentHeight = contentBottom - contentTop;\r\n        /// handle content alignment\r\n        if (this.layout != \"none\" && (this.contentAlign || this.contentValign) && children.length > 0) {\r\n            var dx_1;\r\n            var dy_1;\r\n            var mwa = measuredWidth;\r\n            var mha = measuredHeight;\r\n            if (mwa < measuredContentWidth) {\r\n                mwa = measuredContentWidth;\r\n            }\r\n            if (mha < measuredContentHeight) {\r\n                mha = measuredContentHeight;\r\n            }\r\n            if (this.contentAlign == \"center\") {\r\n                dx_1 = (mwa - measuredContentWidth) / 2;\r\n            }\r\n            if (this.contentAlign == \"right\") {\r\n                dx_1 = mwa - measuredContentWidth;\r\n            }\r\n            if (this.contentValign == \"middle\") {\r\n                dy_1 = (mha - measuredContentHeight) / 2;\r\n            }\r\n            if (this.contentValign == \"bottom\") {\r\n                dy_1 = mha - measuredContentHeight;\r\n            }\r\n            if ($type.isNumber(dx_1)) {\r\n                $iter.each(children.iterator(), function (child) {\r\n                    var childLeft = child.maxLeft;\r\n                    var ddx = dx_1;\r\n                    if (_this.layout == \"horizontal\") {\r\n                        child.x = child.pixelX + ddx;\r\n                    }\r\n                    // individual grid elements can not be aligned vertically, that's why it's different from horizontal\r\n                    if (_this.layout == \"grid\") {\r\n                        child.x = child.pixelX + ddx;\r\n                    }\r\n                    if (_this.layout == \"vertical\") {\r\n                        ddx += child.pixelMarginLeft;\r\n                        if (child.align == \"none\") {\r\n                            child.x = ddx - childLeft;\r\n                        }\r\n                    }\r\n                    if (_this.layout == \"absolute\") {\r\n                        ddx += child.pixelMarginLeft;\r\n                        if (child.align == \"none\") {\r\n                            child.x = ddx - childLeft;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if ($type.isNumber(dy_1)) {\r\n                $iter.each(children.iterator(), function (child) {\r\n                    var childTop = child.maxTop;\r\n                    var ddy = dy_1;\r\n                    if (_this.layout == \"horizontal\") {\r\n                        ddy += child.pixelMarginTop;\r\n                        if (child.valign == \"none\") {\r\n                            child.y = ddy - childTop;\r\n                        }\r\n                    }\r\n                    // individual grid elements can not be aligned vertically, that's why it's different from horizontal\r\n                    if (_this.layout == \"grid\") {\r\n                        ddy += child.pixelMarginTop;\r\n                        child.y = ddy - childTop;\r\n                    }\r\n                    if (_this.layout == \"vertical\") {\r\n                        child.y = child.pixelY + ddy;\r\n                    }\r\n                    if (_this.layout == \"absolute\") {\r\n                        ddy += child.pixelMarginTop;\r\n                        if (child.valign == \"none\") {\r\n                            child.y = ddy - childTop;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        var oldBBox = this.bbox;\r\n        // this will mess up maxw/maxh set by container layout, we need a separate min/maxwidth for users\r\n        // this prevents invalidating layout in such cases as scrolling category axis, when labels go outside bounds and results transformed event\r\n        // todo: need to check if this doesn't cause other problems.\r\n        //if (this.maxWidth > 0) {\r\n        //measuredWidth = $math.min(measuredWidth, this.maxWidth);\r\n        //measuredWidth = $math.max(measuredWidth, this.minWidth);\r\n        //}\r\n        //if (this.maxHeight > 0) {\r\n        //measuredHeight = $math.min(measuredHeight, this.maxHeight);\r\n        //measuredHeight = $math.max(measuredHeight, this.minHeight);\r\n        //}\r\n        measuredWidth = $math.max(measuredWidth, minWidth);\r\n        measuredHeight = $math.max(measuredHeight, minHeight);\r\n        this.contentWidth = measuredWidth;\r\n        this.contentHeight = measuredHeight;\r\n        // new\r\n        measuredWidth = $math.min(measuredWidth, maxWidth);\r\n        measuredHeight = $math.min(measuredHeight, maxHeight);\r\n        this._bbox = { x: left, y: top, width: measuredWidth, height: measuredHeight };\r\n        var prevLeft = this.maxLeft;\r\n        var prevTop = this.maxTop;\r\n        var prevBotttom = this.maxBottom;\r\n        var prevRight = this.maxRight;\r\n        this.measure();\r\n        if (prevLeft != this.maxLeft || prevRight != this.maxRight || prevTop != this.maxTop || prevBotttom != this.maxBottom) {\r\n            if (this.events.isEnabled(\"transformed\")) {\r\n                var event_1 = {\r\n                    type: \"transformed\",\r\n                    target: this\r\n                };\r\n                if (oldBBox) {\r\n                    event_1.dummyData = oldBBox.width + \" \" + measuredWidth + \"  \" + oldBBox.height + \" \" + measuredHeight;\r\n                }\r\n                this.events.dispatchImmediately(\"transformed\", event_1);\r\n            }\r\n        }\r\n        this.dispatchImmediately(\"layoutvalidated\");\r\n    };\r\n    /**\r\n     * Positions element according its center settings.\r\n     *\r\n     * @todo Description (review)\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype.updateCenter = function () {\r\n        _super.prototype.updateCenter.call(this);\r\n        this.updateBackground();\r\n    };\r\n    /**\r\n     * Update the background to fit into specific dimensions.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Make it protected?\r\n     */\r\n    Container.prototype.updateBackground = function () {\r\n        var background = this._background; // accessing protected, as getter creates instance if it doesn't exist\r\n        if (background) {\r\n            background.x = this.maxLeft;\r\n            background.y = this.maxTop;\r\n            background.width = this.maxRight - this.maxLeft;\r\n            background.height = this.maxBottom - this.maxTop;\r\n        }\r\n    };\r\n    /**\r\n     * Returns widths of all columns in a horizontal Container layout.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param columnCount   Number of columns\r\n     * @param maxCellWidth  Maximum width of one grid cell\r\n     * @return An array of column widths\r\n     */\r\n    Container.prototype.getColumnWidth = function (children, columnCount, maxCellWidth) {\r\n        var _this = this;\r\n        var columnWidth = [];\r\n        var column = 0;\r\n        $array.each(children, function (child) {\r\n            if (child.isMeasured && !child.disabled && !child.__disabled) {\r\n                if (_this.fixedWidthGrid) {\r\n                    columnWidth[column] = maxCellWidth;\r\n                }\r\n                else {\r\n                    columnWidth[column] = $math.max(columnWidth[column], child.measuredWidth + child.pixelMarginRight + child.pixelMarginLeft);\r\n                }\r\n                column++;\r\n                if (column == columnCount) {\r\n                    column = 0;\r\n                }\r\n            }\r\n        });\r\n        return columnWidth;\r\n    };\r\n    Object.defineProperty(Container.prototype, \"layout\", {\r\n        /**\r\n         * @return Layout\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"layout\");\r\n        },\r\n        /**\r\n         * Container layout.\r\n         *\r\n         * Options: \"absolute\" (default), \"vertical\", \"horizontal\", \"grid\", \"none\". \"none\" is quite the same as \"absolute\" - the objects will\r\n         * be positioned at their x, y coordinates, the difference is that with \"absolute\" you can still use align/valign for children and with \"none\" you can not.\r\n         * Use \"none\" as much as you can as it's most cpu-saving layout.\r\n         *\r\n         * @default \"absolute\"\r\n         * @param value Layout\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"layout\", value)) {\r\n                this.invalidateLayout();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Container.prototype, \"contentValign\", {\r\n        /**\r\n         * @return Vertical alignment\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"contentValign\");\r\n        },\r\n        /**\r\n         * Vertical alignment of the elements for the vertical Container.\r\n         *\r\n         * This is used when Container is larger than the height of all its children.\r\n         *\r\n         * @param value vertical alignment\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"contentValign\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Container.prototype, \"contentAlign\", {\r\n        /**\r\n         * @return Horizontal alignment\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"contentAlign\");\r\n        },\r\n        /**\r\n         * Horizontal alignment of the elements for the horizontal Container.\r\n         *\r\n         * This is used when Container is larger than the height of all its children.\r\n         *\r\n         * @param value  Horizontal alignment\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"contentAlign\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Container.prototype, \"fixedWidthGrid\", {\r\n        /**\r\n         * @return Should use fixed width grid?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"fixedWidthGrid\");\r\n        },\r\n        /**\r\n         * Controls if the grid of the Container should use fixed width. Fixed width\r\n         * grid will divide available space to all its columns/rows equally, without\r\n         * adapting to actual child sizes or size requirements.\r\n         *\r\n         * @default false\r\n         * @param value  Should use fixed width grid?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"fixedWidthGrid\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Container.prototype, \"maxColumns\", {\r\n        /**\r\n         * @return Should use fixed width grid?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maxColumns\");\r\n        },\r\n        /**\r\n         * Maximum number of columns (when using `\"grid\"` layout).\r\n         *\r\n         * @param value  Should use fixed width grid?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"maxColumns\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Container.prototype, \"reverseOrder\", {\r\n        /**\r\n         * @return Reverse children?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"reverseOrder\");\r\n        },\r\n        /**\r\n         * If set to `true`, the children of the container will be drawn in reverse\r\n         * order.\r\n         *\r\n         * @default false\r\n         * @param value  Reverse children?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"reverseOrder\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Container.prototype, \"setStateOnChildren\", {\r\n        /**\r\n         * @return Set state on children\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"setStateOnChildren\");\r\n        },\r\n        /**\r\n         * Specifies if, when state is applied on this container, the same state\r\n         * should be applied to container's children as well as `background`.\r\n         *\r\n         * @default false\r\n         * @param value  Set state on children\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"setStateOnChildren\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if point is within bounds of a container.\r\n     *\r\n     * @param point  A coordinate to check\r\n     * @return `true` if it fits within container\r\n     */\r\n    Container.prototype.fitsToBounds = function (point) {\r\n        var x = point.x;\r\n        var y = point.y;\r\n        var deviation = 0.5; // sometimes coordinates are rounded to numbers like .999 so we add deviation here\r\n        if (x >= -deviation && x <= this.pixelWidth + deviation && y >= -deviation && y <= this.pixelHeight + deviation) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * Copies all properties from different Container, including background\r\n     * clone.\r\n     *\r\n     * @param source  Source Container to copy from\r\n     */\r\n    Container.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.layout = source.layout;\r\n        this.setStateOnChildren = source.setStateOnChildren;\r\n        if (source._background) {\r\n            this.background = source._background.clone();\r\n            this.background.copyFrom(source._background); // won't work without this\r\n        }\r\n        $iter.each(source.children.iterator(), function (child) {\r\n            if (child.shouldClone) {\r\n                var clonedChild = child.clone();\r\n                clonedChild.parent = _this;\r\n            }\r\n        });\r\n    };\r\n    Object.defineProperty(Container.prototype, \"preloader\", {\r\n        /**\r\n         * @return Preloader instance\r\n         */\r\n        get: function () {\r\n            var preloader = this._preloader;\r\n            if (preloader) {\r\n                return preloader;\r\n            }\r\n            else if (this.parent) {\r\n                return this.parent.preloader;\r\n            }\r\n        },\r\n        /**\r\n         * A [[Preloader]] instance to be used when Container is busy.\r\n         *\r\n         * @param preloader  Preloader instance\r\n         */\r\n        set: function (preloader) {\r\n            if (this._preloader) {\r\n                this.removeDispose(this._preloader);\r\n            }\r\n            this._preloader = preloader;\r\n            if (preloader) {\r\n                preloader.parent = this.tooltipContainer;\r\n                this._disposers.push(preloader);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets [[Paper]] instance to use to draw elements.\r\n     * @ignore\r\n     * @param paper Paper\r\n     * @return true if paper was changed, false, if it's the same\r\n     */\r\n    Container.prototype.setPaper = function (paper) {\r\n        var _this = this;\r\n        var changed = _super.prototype.setPaper.call(this, paper);\r\n        if (changed) {\r\n            if (this._background) {\r\n                this._background.paper = paper;\r\n                this._background.topParent = this.topParent;\r\n            }\r\n            this.children.each(function (child) {\r\n                child.setPaper(paper);\r\n                child.topParent = _this.topParent;\r\n            });\r\n        }\r\n        return changed;\r\n    };\r\n    /**\r\n     * Removes Container from the system-wide list of invalid Containers.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype.removeFromInvalids = function () {\r\n        _super.prototype.removeFromInvalids.call(this);\r\n        registry.removeFromInvalidLayouts(this);\r\n    };\r\n    /**\r\n     * Sets a [[DataItem]] to be used as data for the Container.\r\n     *\r\n     * @todo Description\r\n     * @param dataItem DataItem\r\n     */\r\n    Container.prototype.setDataItem = function (dataItem) {\r\n        // this place is potentially dangerous, as if we set datItem for some dummy container, all children dataItems will be overriden\r\n        // the main reason for doing this is that we need a setDataItem code to be called for each sprite, otherwise property fields won't be\r\n        // applied. Also, getting dataItem from parent all the time is more expensive than saving value.\r\n        if (this._dataItem != dataItem) {\r\n            $iter.each(this.children.iterator(), function (child) {\r\n                child.dataItem = dataItem;\r\n            });\r\n            if (this._background) {\r\n                this._background.dataItem = dataItem;\r\n            }\r\n        }\r\n        _super.prototype.setDataItem.call(this, dataItem);\r\n    };\r\n    /**\r\n     * Measures the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype.measureElement = function () {\r\n        if (this.disabled || this.isTemplate || this.layout == \"none\" || this.__disabled) {\r\n            // void\r\n        }\r\n        else {\r\n            this.validateLayout();\r\n        }\r\n    };\r\n    Object.defineProperty(Container.prototype, \"fontFamily\", {\r\n        /**\r\n         * @return Font family\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"fontFamily\");\r\n        },\r\n        /**\r\n         * Font family to be used for the text.\r\n         *\r\n         * Parts of the text may override this setting using in-line formatting.\r\n         *\r\n         * @param value Font family value\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"fontFamily\", value, true)) {\r\n                this.setSVGAttribute({ \"font-family\": value });\r\n                this.invalidateLabels();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Container.prototype, \"fontSize\", {\r\n        /**\r\n         * @return Font size\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"fontSize\");\r\n        },\r\n        /**\r\n         * Font size to be used for the text. The size can either be numeric, in\r\n         * pixels, or other measurements.\r\n         *\r\n         * Parts of the text may override this setting using in-line formatting.\r\n         *\r\n         * @param value Font size value\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"fontSize\", value, true)) {\r\n                this.setSVGAttribute({ \"font-size\": value });\r\n                this.invalidateLabels();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * When fontSize of fontFamily changes we need to hard-invalidate all Labels of this container to position them properly.\r\n     */\r\n    Container.prototype.invalidateLabels = function () {\r\n        this.children.each(function (child) {\r\n            // can't import Label because of Circular dependencies\r\n            if (child[\"hardInvalidate\"]) {\r\n                child[\"hardInvalidate\"]();\r\n                // this fixes firefox and viewport issue\r\n                child.events.once(\"validated\", child.handleValidate, child, false);\r\n            }\r\n            else if (child instanceof Container) {\r\n                child.invalidateLabels();\r\n            }\r\n        });\r\n    };\r\n    Object.defineProperty(Container.prototype, \"fontWeight\", {\r\n        /**\r\n         * @return Font weight\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"fontWeight\");\r\n        },\r\n        /**\r\n         * Font weight to use for text.\r\n         *\r\n         * Parts of the text may override this setting using in-line formatting.\r\n         *\r\n         * @param value Font weight\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"fontWeight\", value);\r\n            this.setSVGAttribute({ \"font-weight\": value });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Container.prototype, \"textDecoration\", {\r\n        /**\r\n         * @return Decoration\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"textDecoration\");\r\n        },\r\n        /**\r\n         * A text decoration to use for text.\r\n         *\r\n         * Parts of the text may override this setting using in-line formatting.\r\n         *\r\n         * @param value  Decoration\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"textDecoration\", value);\r\n            this.setSVGAttribute({ \"text-decoration\": value });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Disposes (destroys) the element and all its children.\r\n     */\r\n    Container.prototype.dispose = function () {\r\n        if (this._background) {\r\n            this._background.dispose();\r\n        }\r\n        this._shouldBeReady = [];\r\n        this.disposeChildren();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    /**\r\n     * Applies a [[SpriteState]] on this element.\r\n     *\r\n     * The first parameter can either be a name of the state or a [[SpriteState]]\r\n     * instance.\r\n     *\r\n     * When run, this method will apply SVG properties defined in a\r\n     * [[SpriteState]], but only those that are relevant to this particular\r\n     * element, that is are listed in its respective `properties` array.\r\n     *\r\n     * @see {@link SpriteState}\r\n     * @param value               A state - name key or instance\r\n     * @param transitionDuration  Duration of the transition between current and new state\r\n     * @param easing              An easing function\r\n     */\r\n    Container.prototype.setState = function (value, transitionDuration, easing) {\r\n        var stateName = value;\r\n        if (value instanceof SpriteState) {\r\n            stateName = value.name;\r\n        }\r\n        if (this.setStateOnChildren) {\r\n            $iter.each(this.children.iterator(), function (child) {\r\n                child.setState(stateName, transitionDuration, easing);\r\n                // not good to set it in child setState\r\n                if (stateName != \"active\") {\r\n                    child.isActive = false;\r\n                }\r\n            });\r\n        }\r\n        if (this._background) {\r\n            this._background.setState(stateName);\r\n        }\r\n        if (this.setStateOnSprites.length) {\r\n            $array.each(this.setStateOnSprites, function (item) {\r\n                item.setState(stateName, transitionDuration, easing);\r\n            });\r\n        }\r\n        return _super.prototype.setState.call(this, value, transitionDuration, easing);\r\n    };\r\n    // otherwise isActive won't work properly with background\r\n    Container.prototype.setActive = function (value) {\r\n        _super.prototype.setActive.call(this, value);\r\n        if (this._background) {\r\n            this._background.isActive = value;\r\n        }\r\n    };\r\n    /**\r\n     * Dispatches ready event. Dispatches when all children are ready.\r\n     */\r\n    Container.prototype.dispatchReady = function () {\r\n        var _this = this;\r\n        if (!this.isReady() && !this.isDisposed()) {\r\n            var allReady_1 = true;\r\n            $iter.eachContinue(this.children.iterator(), function (sprite) {\r\n                if (!sprite.__disabled && !sprite.disabled && !sprite.isReady()) {\r\n                    allReady_1 = false;\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            $array.eachContinue(this._shouldBeReady, function (sprite) {\r\n                if (!sprite.__disabled && !sprite.disabled && !sprite.isReady()) {\r\n                    allReady_1 = false;\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (allReady_1) {\r\n                _super.prototype.dispatchReady.call(this);\r\n            }\r\n            else {\r\n                registry.events.once(\"exitframe\", function () {\r\n                    _this.dispatchReady();\r\n                    system.requestFrame();\r\n                }, undefined, false);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Called during the System.update method\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype._systemUpdate = function (skippedSprites) {\r\n        this.children.each(function (child) {\r\n            if (child.invalid) {\r\n                if (!child._systemCheckIfValidate()) {\r\n                    skippedSprites.push(child);\r\n                }\r\n                else if (child.dataItem && child.dataItem.component && child.dataItem.component.dataInvalid) {\r\n                    skippedSprites.push(child);\r\n                }\r\n                else {\r\n                    child.validate();\r\n                }\r\n            }\r\n        });\r\n        _super.prototype._systemUpdate.call(this, skippedSprites);\r\n    };\r\n    /**\r\n     * Called during the System.validatePositions method\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype._systemValidatePositions = function () {\r\n        this.children.each(function (sprite) {\r\n            if (sprite.positionInvalid) {\r\n                sprite.validatePosition();\r\n            }\r\n        });\r\n        _super.prototype._systemValidatePositions.call(this);\r\n    };\r\n    /**\r\n     * Called during the System.validateLayouts method\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Container.prototype._systemValidateLayouts = function () {\r\n        if (this.layoutInvalid && !this.isDisposed()) {\r\n            this.validateLayout();\r\n        }\r\n    };\r\n    Object.defineProperty(Container.prototype, \"tapToActivate\", {\r\n        /**\r\n         * @return Enable touch protection?\r\n         */\r\n        get: function () {\r\n            return this._tapToActivate;\r\n        },\r\n        /**\r\n         * If set to `true` the chart's regular touch functionality will be suspended\r\n         * so that the whole page it is located in remains scrollable, even when\r\n         * swiping over the chart's body.\r\n         *\r\n         * User will need to tap the chart in order to activate its regular touch\r\n         * functionality.\r\n         *\r\n         * The chart will remain \"active\" as long as user keeps interacting with the\r\n         * chart. After `tapTimeout` milliseconds the chart will return to its\r\n         * \"protected\" mode.\r\n         *\r\n         * @default false\r\n         * @since 4.4.0\r\n         * @param  value  Enable touch protection?\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/touch/} For more information.\r\n         */\r\n        set: function (value) {\r\n            if (this._tapToActivate != value) {\r\n                this.setTapToActivate(value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Container.prototype.setTapToActivate = function (value) {\r\n        var _this = this;\r\n        this._tapToActivate = value;\r\n        this.interactions.isTouchProtected = value;\r\n        // setEventDisposer will also remove listeners if value == false\r\n        if (value) {\r\n            this.interactions.setEventDisposer(\"container-tapToActivate\", value, function () { return new MultiDisposer([\r\n                _this.events.on(\"hit\", _this.handleTapToActivate, _this, false),\r\n                _this.events.on(\"down\", _this.initTapTimeout, _this, false),\r\n                _this.events.on(\"track\", _this.initTapTimeout, _this, false),\r\n                //this.events.on(\"drag\", this.initTapTimeout, this, false),\r\n                getInteraction().body.events.on(\"down\", function (ev) {\r\n                    if (!getInteraction().isLocalElement(ev.pointer, _this.paper.svg, _this.uid)) {\r\n                        _this.handleTapToActivateDeactivation();\r\n                    }\r\n                }, _this, false)\r\n            ]); });\r\n        }\r\n        getInteraction();\r\n    };\r\n    /**\r\n     * @todo Ignore on non-touch events\r\n     */\r\n    Container.prototype.handleTapToActivate = function () {\r\n        this.interactions.isTouchProtected = false;\r\n        this.initTapTimeout();\r\n    };\r\n    Container.prototype.handleTapToActivateDeactivation = function () {\r\n        this.interactions.isTouchProtected = true;\r\n    };\r\n    Container.prototype.initTapTimeout = function () {\r\n        var _this = this;\r\n        if (this._tapToActivateTimeout) {\r\n            this._tapToActivateTimeout.dispose();\r\n        }\r\n        if (this.tapToActivate && !this.interactions.isTouchProtected && this.tapTimeout) {\r\n            this._tapToActivateTimeout = this.setTimeout(function () {\r\n                _this.handleTapToActivateDeactivation();\r\n            }, this.tapTimeout);\r\n        }\r\n    };\r\n    /**\r\n     * Moves the whole chart to other HTML container.\r\n     *\r\n     * `htmlElement` can either be a reference to a DOM element, or an id of\r\n     * such element.\r\n     *\r\n     * @since 4.9.24\r\n     * @param  htmlElement  Target element\r\n     */\r\n    Container.prototype.moveHtmlContainer = function (htmlElement) {\r\n        var newContainer = $dom.getElement(htmlElement);\r\n        if (newContainer) {\r\n            this.htmlContainer = newContainer;\r\n            var svgDiv = this.svgContainer;\r\n            svgDiv.htmlElement = newContainer;\r\n            svgDiv.htmlElement.appendChild(svgDiv.SVGContainer);\r\n            svgDiv.initSensor();\r\n            svgDiv.measure();\r\n        }\r\n        else if ($type.isString(htmlElement) && htmlElement != \"\") {\r\n            system.log(\"html container '\" + htmlElement + \"' not found\");\r\n            //throw new Error(\"html container not found\");\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     * @return Has license?\r\n     */\r\n    Container.prototype.hasLicense = function () {\r\n        if (options.commercialLicense) {\r\n            return true;\r\n        }\r\n        for (var i = 0; i < options.licenses.length; i++) {\r\n            if (options.licenses[i].match(/^CH.{5,}/i)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return Container;\r\n}(Sprite));\r\nexport { Container };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Container\"] = Container;\r\n//# sourceMappingURL=Container.js.map","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","/**\r\n * This module contains a version of ColorSet that can (and should) be used for\r\n * coloring UI elements.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../Base\";\r\nimport { registry } from \"../Registry\";\r\nimport { color } from \"./Color\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * This module contains a version of ColorSet that can (and should) be used for\r\n * coloring UI elements.\r\n *\r\n * The main difference from the basic [[ColorSet]] is that instead of sequenced\r\n * colors, it uses a concept of named colors.\r\n *\r\n * This way, every element in the UI can extract an exact color theme author\r\n * meant for the specific purpose, like strokes, backgrounds, etc.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/colors/} for color-related info\r\n */\r\nvar InterfaceColorSet = /** @class */ (function (_super) {\r\n    __extends(InterfaceColorSet, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function InterfaceColorSet() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Maps the list of purposes (like \"stroke\") to an index of color of the\r\n         * color set.\r\n         */\r\n        _this._purposes = {\r\n            stroke: color(\"#e5e5e5\"),\r\n            fill: color(\"#f3f3f3\"),\r\n            primaryButton: color(\"#6794dc\"),\r\n            primaryButtonHover: color(\"#6771dc\"),\r\n            primaryButtonDown: color(\"#68dc75\"),\r\n            primaryButtonActive: color(\"#68dc75\"),\r\n            primaryButtonText: color(\"#FFFFFF\"),\r\n            primaryButtonStroke: color(\"#FFFFFF\"),\r\n            secondaryButton: color(\"#d9d9d9\"),\r\n            secondaryButtonHover: color(\"#d9d9d9\").brighten(-0.25),\r\n            secondaryButtonDown: color(\"#d9d9d9\").brighten(-0.35),\r\n            secondaryButtonActive: color(\"#d9d9d9\").brighten(0.35),\r\n            secondaryButtonText: color(\"#000000\"),\r\n            secondaryButtonStroke: color(\"#FFFFFF\"),\r\n            grid: color(\"#000000\"),\r\n            background: color(\"#ffffff\"),\r\n            alternativeBackground: color(\"#000000\"),\r\n            text: color(\"#000000\"),\r\n            alternativeText: color(\"#FFFFFF\"),\r\n            disabledBackground: color(\"#999999\"),\r\n            positive: color(\"#67dc75\"),\r\n            negative: color(\"#dc6788\")\r\n        };\r\n        _this.className = \"InterfaceColorSet\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    InterfaceColorSet.prototype.debug = function () { };\r\n    /**\r\n     * Returns a color to be used for the specific purpose.\r\n     *\r\n     * ```TypeScript\r\n     * let uicolors = new am4core.InterfaceColorSet();\r\n     * console.log(uicolors.getFor(\"stroke\"));\r\n     * ```\r\n     * ```JavaScript\r\n     * var uicolors = new am4core.InterfaceColorSet();\r\n     * console.log(uicolors.getFor(\"stroke\"));\r\n     * ```\r\n     *\r\n     * @param purpose  Color use purpuse\r\n     * @return Color\r\n     */\r\n    InterfaceColorSet.prototype.getFor = function (purpose) {\r\n        return this._purposes[purpose];\r\n    };\r\n    /**\r\n     * Sets color to be used for the specific purpose.\r\n     *\r\n     * @param purpose  Color use purpose\r\n     * @param color    Color\r\n     */\r\n    InterfaceColorSet.prototype.setFor = function (purpose, color) {\r\n        this._purposes[purpose] = color;\r\n    };\r\n    return InterfaceColorSet;\r\n}(BaseObject));\r\nexport { InterfaceColorSet };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"InterfaceColorSet\"] = InterfaceColorSet;\r\n//# sourceMappingURL=InterfaceColorSet.js.map","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"./Container\";\r\nimport { List, ListDisposer } from \"./utils/List\";\r\nimport { OrderedListTemplate } from \"./utils/SortedList\";\r\nimport { Dictionary } from \"./utils/Dictionary\";\r\nimport { Disposer, MultiDisposer } from \"./utils/Disposer\";\r\nimport { DataSource } from \"./data/DataSource\";\r\nimport { Responsive } from \"./utils/Responsive\";\r\nimport { system } from \"./System\";\r\nimport { DataItem } from \"./DataItem\";\r\nimport { registry } from \"./Registry\";\r\nimport * as $math from \"./utils/Math\";\r\nimport * as $array from \"./utils/Array\";\r\nimport * as $ease from \"./utils/Ease\";\r\nimport * as $utils from \"./utils/Utils\";\r\nimport * as $iter from \"./utils/Iterator\";\r\nimport * as $object from \"./utils/Object\";\r\nimport * as $type from \"./utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A Component represents an independent functional element or control, that\r\n * can have it's own behavior, children, data, etc.\r\n *\r\n * A few examples of a Component: [[Legend]], [[Series]], [[Scrollbar]].\r\n *\r\n * @see {@link IComponentEvents} for a list of available events\r\n * @see {@link IComponentAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar Component = /** @class */ (function (_super) {\r\n    __extends(Component, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Component() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Holds data field names.\r\n         *\r\n         * Data fields define connection beween [[DataItem]] and actual properties\r\n         * in raw data.\r\n         */\r\n        _this.dataFields = {};\r\n        /**\r\n         * A list of [[DataSource]] definitions of external data source.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._dataSources = {};\r\n        /**\r\n         * This is used when only new data is invalidated (if added using `addData`\r\n         * method).\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._parseDataFrom = 0;\r\n        /**\r\n         * Holds the disposers for the dataItems and dataUsers\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._dataDisposers = [];\r\n        /**\r\n         * Currently selected \"data set\".\r\n         *\r\n         * If it's set to `\"\"`, main data set (unaggregated data) is used.\r\n         */\r\n        _this._currentDataSetId = \"\";\r\n        /**\r\n         * [_start description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._start = 0;\r\n        /**\r\n         * [_end description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this._end = 1;\r\n        /**\r\n         * If set to `true`, changing data range in element will not trigger\r\n         * `daterangechanged` event.\r\n         */\r\n        _this.skipRangeEvent = false;\r\n        /**\r\n         * Whenever selected scope changes (chart is zoomed or panned), for example\r\n         * by interaction from a Scrollbar, or API, a chart needs to reposition\r\n         * its contents.\r\n         *\r\n         * `rangeChangeDuration` influences how this is performed.\r\n         *\r\n         * If set to zero (0), the change will happen instantenously.\r\n         *\r\n         * If set to non-zero value, the chart will gradually animate into new\r\n         * position for the set amount of milliseconds.\r\n         *\r\n         * @default 0\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/animations/} for more info about animations\r\n         */\r\n        _this.rangeChangeDuration = 0;\r\n        /**\r\n         * An easing function to use for range change animation.\r\n         *\r\n         * @see {@link Ease}\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/animations/} for more info about animations\r\n         */\r\n        _this.rangeChangeEasing = $ease.cubicOut;\r\n        /**\r\n         * A duration (ms) of each data parsing step. A Component parses its data in\r\n         * chunks in order to avoid completely freezing the machine when large data\r\n         * sets are used. This setting will control how many milliseconds should pass\r\n         * when parsing data until parser stops for a brief moment to let other\r\n         * processes catch up.\r\n         */\r\n        _this.parsingStepDuration = 50;\r\n        /**\r\n         * [dataInvalid description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         */\r\n        _this.dataInvalid = false;\r\n        /**\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.rawDataInvalid = false;\r\n        /**\r\n         * [dataRangeInvalid description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         */\r\n        _this.dataRangeInvalid = false;\r\n        /**\r\n         * [dataItemsInvalid description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         */\r\n        _this.dataItemsInvalid = false;\r\n        /**\r\n         * If set to a non-zero number the element will \"animate\" data values of its\r\n         * children.\r\n         *\r\n         * This will happen on first load and whenever data values change.\r\n         *\r\n         * Enabling interpolation will mean that elements will transit smoothly into\r\n         * new values rather than updating instantly.\r\n         *\r\n         * @default 0\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/animations/} for more info about animations\r\n         */\r\n        _this.interpolationDuration = 0;\r\n        /**\r\n         * An easing function to use for interpolating values when transiting from\r\n         * one source value to another.\r\n         *\r\n         * @default cubicOut\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/animations/} for more info about animations\r\n         * @see {@link Ease}\r\n         */\r\n        _this.interpolationEasing = $ease.cubicOut;\r\n        /**\r\n         * Indicates whether transition between data item's values should start and\r\n         * play out all at once, or with a small delay (as defined by\r\n         * `sequencedInterpolationDelay`) for each subsequent data item.\r\n         *\r\n         * @default true\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/animations/} for more info about animations\r\n         */\r\n        _this.sequencedInterpolation = true;\r\n        /**\r\n         * A delay (ms) to wait between animating each subsequent data item's\r\n         * interpolation animation.\r\n         *\r\n         * Relative only if `sequencedInterpolation = true`.\r\n         *\r\n         * @default 0\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/animations/} for more info about animations\r\n         */\r\n        _this.sequencedInterpolationDelay = 0;\r\n        /**\r\n         * A progress (0-1) for the data validation process.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.dataValidationProgress = 0;\r\n        _this._addAllDataItems = true;\r\n        _this._usesData = true;\r\n        _this.className = \"Component\";\r\n        _this.minZoomCount = 1;\r\n        _this.maxZoomCount = 0;\r\n        _this._dataItems = new OrderedListTemplate(_this.createDataItem());\r\n        _this._dataItems.events.on(\"inserted\", _this.handleDataItemAdded, _this, false);\r\n        _this._dataItems.events.on(\"removed\", _this.handleDataItemRemoved, _this, false);\r\n        _this._disposers.push(new ListDisposer(_this._dataItems));\r\n        _this._disposers.push(_this._dataItems.template);\r\n        _this.invalidateData();\r\n        // TODO what about remove ?\r\n        _this.dataUsers.events.on(\"inserted\", _this.handleDataUserAdded, _this, false);\r\n        // Set up disposers\r\n        _this._disposers.push(new MultiDisposer(_this._dataDisposers));\r\n        _this._start = 0;\r\n        _this._end = 1;\r\n        _this.maxZoomDeclination = 1;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    Component.prototype.createDataItem = function () {\r\n        return new DataItem();\r\n    };\r\n    /**\r\n     * [handleDataUserAdded description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param event Event object\r\n     */\r\n    Component.prototype.handleDataUserAdded = function (event) {\r\n        var dataUser = event.newValue;\r\n        dataUser.dataProvider = this;\r\n    };\r\n    /**\r\n     * [handleDataItemValueChange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     */\r\n    Component.prototype.handleDataItemValueChange = function (dataItem, name) {\r\n        if (!this.dataItemsInvalid) {\r\n            this.invalidateDataItems();\r\n        }\r\n    };\r\n    /**\r\n     * [handleDataItemWorkingValueChange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.handleDataItemWorkingValueChange = function (dataItem, name) {\r\n    };\r\n    /**\r\n     * [handleDataItemWorkingLocationChange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.handleDataItemWorkingLocationChange = function (dataItem, name) {\r\n    };\r\n    /**\r\n     * [handleDataItemCalculatedValueChange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.handleDataItemCalculatedValueChange = function (dataItem, name) {\r\n    };\r\n    /**\r\n     * [handleDataItemPropertyChange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.handleDataItemPropertyChange = function (dataItem, name) {\r\n    };\r\n    /**\r\n     * Populates a [[DataItem]] width data from data source.\r\n     *\r\n     * Loops through all the fields and if such a field is found in raw data\r\n     * object, a corresponding value on passed in `dataItem` is set.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param item\r\n     */\r\n    Component.prototype.processDataItem = function (dataItem, dataContext) {\r\n        var _this = this;\r\n        if (dataItem) {\r\n            if (!dataContext) {\r\n                dataContext = {};\r\n            }\r\n            // store reference to original data item\r\n            dataItem.dataContext = dataContext;\r\n            var hasSomeValues_1 = false;\r\n            $object.each(this.dataFields, function (key, fieldValue) {\r\n                var fieldName = key;\r\n                var value = dataContext[fieldValue];\r\n                // Apply adapters to a retrieved value\r\n                if (_this._adapterO) {\r\n                    if (_this._adapterO.isEnabled(\"dataContextValue\")) {\r\n                        value = _this._adapterO.apply(\"dataContextValue\", {\r\n                            field: fieldName,\r\n                            value: value,\r\n                            dataItem: dataItem\r\n                        }).value;\r\n                    }\r\n                }\r\n                if ($type.hasValue(value)) {\r\n                    hasSomeValues_1 = true;\r\n                    if (dataItem.hasChildren[fieldName]) {\r\n                        var template = _this.createDataItem();\r\n                        template.copyFrom(_this.mainDataSet.template);\r\n                        var children = new OrderedListTemplate(template);\r\n                        children.events.on(\"inserted\", _this.handleDataItemAdded, _this, false);\r\n                        children.events.on(\"removed\", _this.handleDataItemRemoved, _this, false);\r\n                        _this._dataDisposers.push(new ListDisposer(children));\r\n                        var count = value.length;\r\n                        for (var i = 0; i < count; i++) {\r\n                            var rawDataItem = value[i];\r\n                            var childDataItem = children.create();\r\n                            childDataItem.parent = dataItem;\r\n                            _this.processDataItem(childDataItem, rawDataItem);\r\n                        }\r\n                        var anyDataItem = dataItem;\r\n                        anyDataItem[fieldName] = children;\r\n                    }\r\n                    else {\r\n                        // data is converted to numbers/dates in each dataItem\r\n                        dataItem[fieldName] = value;\r\n                    }\r\n                }\r\n            });\r\n            $object.each(this.propertyFields, function (key, fieldValue) {\r\n                var f = key;\r\n                var value = dataContext[fieldValue];\r\n                if ($type.hasValue(value)) {\r\n                    hasSomeValues_1 = true;\r\n                    dataItem.setProperty(f, value);\r\n                }\r\n            });\r\n            // @todo we might need some flag which would tell whether we should create empty data items or not.\r\n            if (!this._addAllDataItems && !hasSomeValues_1) {\r\n                this.mainDataSet.remove(dataItem);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * When validating raw data, instead of processing data item, we update it\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param item\r\n     */\r\n    Component.prototype.updateDataItem = function (dataItem) {\r\n        var _this = this;\r\n        if (dataItem) {\r\n            var dataContext_1 = dataItem.dataContext;\r\n            $object.each(this.dataFields, function (key, fieldValue) {\r\n                var fieldName = key;\r\n                var value = dataContext_1[fieldValue];\r\n                // Apply adapters to a retrieved value\r\n                if (_this._adapterO) {\r\n                    value = _this._adapterO.apply(\"dataContextValue\", {\r\n                        field: fieldName,\r\n                        value: value,\r\n                        dataItem: dataItem\r\n                    }).value;\r\n                }\r\n                if ($type.hasValue(value)) {\r\n                    if (dataItem.hasChildren[fieldName]) {\r\n                        var anyDataItem = dataItem;\r\n                        var children = (anyDataItem[fieldName]);\r\n                        children.each(function (child) {\r\n                            _this.updateDataItem(child);\r\n                        });\r\n                    }\r\n                    else {\r\n                        // data is converted to numbers/dates in each dataItem\t\t\t\t\t\r\n                        dataItem[fieldName] = value;\r\n                    }\r\n                }\r\n            });\r\n            $object.each(this.propertyFields, function (key, fieldValue) {\r\n                var f = key;\r\n                var value = dataContext_1[fieldValue];\r\n                if ($type.hasValue(value)) {\r\n                    dataItem.setProperty(f, value);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * [validateDataElements description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     */\r\n    Component.prototype.validateDataElements = function () {\r\n        var count = this.endIndex;\r\n        for (var i = this.startIndex; i < count; i++) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            // TODO is this correct\r\n            if (dataItem) {\r\n                this.validateDataElement(dataItem);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Validates this element and its related elements.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.validate = function () {\r\n        this.validateDataElements();\r\n        _super.prototype.validate.call(this);\r\n    };\r\n    /**\r\n     * [validateDataElement description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem [description]\r\n     */\r\n    Component.prototype.validateDataElement = function (dataItem) {\r\n    };\r\n    /**\r\n     * Adds one or several (array) of data items to the existing data.\r\n     *\r\n     * @param rawDataItem One or many raw data item objects\r\n     */\r\n    Component.prototype.addData = function (rawDataItem, removeCount, skipRaw) {\r\n        var _this = this;\r\n        // need to check if data is invalid, as addData might be called multiple times\r\n        if (!this.dataInvalid && this.inited) {\r\n            this._parseDataFrom = this.data.length; // save length of parsed data\r\n        }\r\n        if (!skipRaw) {\r\n            if (rawDataItem instanceof Array) {\r\n                // can't use concat because new array is returned\r\n                $array.each(rawDataItem, function (dataItem) {\r\n                    _this.data.push(dataItem);\r\n                });\r\n            }\r\n            else {\r\n                this.data.push(rawDataItem); // add to raw data array\r\n            }\r\n        }\r\n        if (this.inited) {\r\n            this.removeData(removeCount, skipRaw);\r\n        }\r\n        else {\r\n            if ($type.isNumber(removeCount)) {\r\n                while (removeCount > 0) {\r\n                    this.data.shift();\r\n                    removeCount--;\r\n                }\r\n            }\r\n        }\r\n        this.invalidateData();\r\n    };\r\n    /**\r\n     * Removes elements from the beginning of data\r\n     *\r\n     * @param count number of elements to remove\r\n     */\r\n    Component.prototype.removeData = function (count, skipRaw) {\r\n        if ($type.isNumber(count) && count > 0) {\r\n            while (count > 0) {\r\n                var dataItem = this.mainDataSet.getIndex(0);\r\n                if (dataItem) {\r\n                    this.mainDataSet.remove(dataItem);\r\n                }\r\n                this.dataUsers.each(function (dataUser) {\r\n                    if (!dataUser.data || dataUser.data.length == 0) {\r\n                        var dataItem_1 = dataUser.mainDataSet.getIndex(0);\r\n                        if (dataItem_1) {\r\n                            dataUser.mainDataSet.remove(dataItem_1);\r\n                        }\r\n                    }\r\n                });\r\n                if (!skipRaw) {\r\n                    this.data.shift();\r\n                }\r\n                if (this._parseDataFrom > 0) {\r\n                    this._parseDataFrom--;\r\n                }\r\n                count--;\r\n            }\r\n            // changed from invalidateData since 4.7.19 to solve #51551\r\n            this.invalidateDataItems();\r\n        }\r\n    };\r\n    /**\r\n     * Triggers a data (re)parsing.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.invalidateData = function () {\r\n        if (this.disabled || this.isTemplate) {\r\n            return;\r\n        }\r\n        //if(!this.dataInvalid){\r\n        registry.addToInvalidComponents(this);\r\n        system.requestFrame();\r\n        this.dataInvalid = true;\r\n        $iter.each(this.dataUsers.iterator(), function (x) {\r\n            x.invalidateDataItems();\r\n        });\r\n        //}\r\n    };\r\n    /**\r\n     * [invalidateDataUsers description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     */\r\n    Component.prototype.invalidateDataUsers = function () {\r\n        $iter.each(this.dataUsers.iterator(), function (x) {\r\n            x.invalidate();\r\n        });\r\n    };\r\n    /**\r\n     * Invalidates data values. When data array is not changed, but values within\r\n     * it changes, we invalidate data so that component would process changes.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.invalidateDataItems = function () {\r\n        if (this.disabled || this.isTemplate) {\r\n            return;\r\n        }\r\n        //if(!this.dataItemsInvalid){\r\n        $array.move(registry.invalidDataItems, this);\r\n        system.requestFrame();\r\n        this.dataItemsInvalid = true;\r\n        $iter.each(this.dataUsers.iterator(), function (x) {\r\n            x.invalidateDataItems();\r\n        });\r\n        //}\r\n    };\r\n    /**\r\n     * Invalidates data range. This is done when data which must be shown\r\n     * changes (chart is zoomed for example).\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.invalidateDataRange = function () {\r\n        if (this.disabled || this.isTemplate) {\r\n            return;\r\n        }\r\n        //if(!this.dataRangeInvalid){\r\n        this.dataRangeInvalid = true;\r\n        $array.move(registry.invalidDataRange, this);\r\n        system.requestFrame();\r\n        //}\r\n    };\r\n    /**\r\n     * Processes data range.\r\n     *\r\n     * @todo Description\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.validateDataRange = function () {\r\n        $array.remove(registry.invalidDataRange, this);\r\n        this.dataRangeInvalid = false;\r\n        if (this.startIndex != this._prevStartIndex || this.endIndex != this._prevEndIndex) {\r\n            this.rangeChangeUpdate();\r\n            this.appendDataItems();\r\n            this.invalidate();\r\n            this.dispatchImmediately(\"datarangechanged\");\r\n        }\r\n    };\r\n    /**\r\n     * [sliceData description]\r\n     *\r\n     * @todo Description\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.sliceData = function () {\r\n        this._workingStartIndex = this.startIndex;\r\n        this._workingEndIndex = this.endIndex;\r\n    };\r\n    /**\r\n     * [rangeChangeUpdate description]\r\n     *\r\n     * @todo Description\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.rangeChangeUpdate = function () {\r\n        this.sliceData();\r\n        this._prevStartIndex = this.startIndex;\r\n        this._prevEndIndex = this.endIndex;\r\n    };\r\n    /**\r\n     * [appendDataItems description]\r\n     *\r\n     * @todo Description\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.appendDataItems = function () {\r\n        // TODO use an iterator instead\r\n        var count = this.endIndex;\r\n        for (var i = this.startIndex; i < count; i++) {\r\n            // data item\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            if (dataItem) {\r\n                dataItem.__disabled = false;\r\n            }\r\n        }\r\n        for (var i = 0; i < this.startIndex; i++) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            if (dataItem) {\r\n                dataItem.__disabled = true;\r\n            }\r\n        }\r\n        for (var i = this.endIndex; i < this.dataItems.length; i++) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            if (dataItem) {\r\n                dataItem.__disabled = true;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * If you want to have a smooth transition from one data values to another, you change your raw data and then you must call this method.\r\n     * then instead of redrawing everything, the chart will check raw data and smoothly transit from previous to new data\r\n     */\r\n    Component.prototype.invalidateRawData = function () {\r\n        if (this.disabled || this.isTemplate) {\r\n            return;\r\n        }\r\n        //if(!this.rawDataInvalid){\r\n        $array.move(registry.invalidRawDatas, this);\r\n        system.requestFrame();\r\n        this.rawDataInvalid = true;\r\n        $iter.each(this.dataUsers.iterator(), function (x) {\r\n            x.invalidateRawData();\r\n        });\r\n        //}\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Component.prototype.validateRawData = function () {\r\n        var _this = this;\r\n        $array.remove(registry.invalidRawDatas, this);\r\n        $iter.each(this.mainDataSet.iterator(), function (dataItem) {\r\n            if (dataItem) {\r\n                _this.updateDataItem(dataItem);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Destroys this object and all related data.\r\n     */\r\n    Component.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.mainDataSet.template.clones.clear();\r\n        $object.each(this._dataSources, function (key, source) {\r\n            _this.removeDispose(source);\r\n        });\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Component.prototype.disposeData = function () {\r\n        this.mainDataSet.template.clones.clear();\r\n        $array.each(this._dataDisposers, function (x) {\r\n            x.dispose();\r\n        });\r\n        // and for all components\r\n        $iter.each(this.dataUsers.iterator(), function (dataUser) {\r\n            dataUser.disposeData();\r\n        });\r\n        this._dataDisposers.length = 0;\r\n        this._startIndex = undefined;\r\n        this._endIndex = undefined;\r\n        // dispose old\r\n        this.mainDataSet.clear();\r\n        this.mainDataSet.template.clones.clear();\r\n        if (this._dataSets) {\r\n            this._dataSets.clear();\r\n        }\r\n    };\r\n    Component.prototype.getDataItem = function (dataContext) {\r\n        return this.mainDataSet.create();\r\n    };\r\n    /**\r\n     * Validates (processes) data.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.validateData = function () {\r\n        this.dispatchImmediately(\"beforedatavalidated\");\r\n        this.dataInvalid = false;\r\n        registry.removeFromInvalidComponents(this);\r\n        if (this.__disabled) {\r\n            return;\r\n        }\r\n        this.dataValidationProgress = 0;\r\n        // need this to slice new data\r\n        this._prevStartIndex = undefined;\r\n        this._prevEndIndex = undefined;\r\n        // todo: this needs some overthinking, maybe some extra settings like zoomOotonDataupdate like in v3 or so. some charts like pie chart probably should act like this always\r\n        this._startIndex = undefined;\r\n        this._endIndex = undefined;\r\n        if (this.dataFields.data && this.dataItem) {\r\n            var dataContext = this.dataItem.dataContext;\r\n            this._data = dataContext[this.dataFields.data];\r\n        }\r\n        // data items array is reset only if all data is validated, if _parseDataFrom is not 0, we append new data only\r\n        // check heatmap demo if uncommented\r\n        // fixed both issues by adding && this.data.length > 0\r\n        // check adding series example if changed\r\n        if (this._parseDataFrom === 0 && this.data.length > 0) {\r\n            this.disposeData();\r\n        }\r\n        if (this.data.length > 0) {\r\n            var preloader = this.preloader;\r\n            // and for all components\r\n            $iter.each(this.dataUsers.iterator(), function (dataUser) {\r\n                // todo: this needs some overthinking, maybe some extra settings like zoomOUtonDataupdate like in v3 or so. some charts like pie chart probably should act like this always\r\n                dataUser._startIndex = undefined;\r\n                dataUser._endIndex = undefined;\r\n            });\r\n            var counter = 0;\r\n            var startTime = Date.now();\r\n            // parse data\r\n            var i = this._parseDataFrom;\r\n            var n = this.data.length;\r\n            var _loop_1 = function () {\r\n                var rawDataItem = this_1.data[i];\r\n                if (this_1._usesData) {\r\n                    var dataItem = this_1.getDataItem(rawDataItem);\r\n                    this_1.processDataItem(dataItem, rawDataItem);\r\n                }\r\n                this_1.dataUsers.each(function (dataUser) {\r\n                    if (dataUser.data.length == 0) { // checking if data is not set directly\r\n                        var dataUserDataItem = dataUser.getDataItem(rawDataItem);\r\n                        dataUser.processDataItem(dataUserDataItem, rawDataItem);\r\n                    }\r\n                });\r\n                counter++;\r\n                // show preloader if this takes too many time\r\n                if (counter == 100) { // no need to check it on each data item\r\n                    counter = 0;\r\n                    var elapsed = Date.now() - startTime;\r\n                    if (elapsed > this_1.parsingStepDuration) {\r\n                        if (i < this_1.data.length - 10) {\r\n                            this_1._parseDataFrom = i + 1;\r\n                            // update preloader\r\n                            if (preloader) {\r\n                                if (i / this_1.data.length > 0.5 && !preloader.visible) {\r\n                                    // do not start showing\r\n                                }\r\n                                else {\r\n                                    preloader.progress = i / this_1.data.length;\r\n                                }\r\n                            }\r\n                            this_1.dataValidationProgress = i / this_1.data.length;\r\n                            i = this_1.data.length; // stops cycle\r\n                            this_1.invalidateData();\r\n                            return { value: void 0 };\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            var this_1 = this;\r\n            for (i; i < n; i++) {\r\n                var state_1 = _loop_1();\r\n                if (typeof state_1 === \"object\")\r\n                    return state_1.value;\r\n            }\r\n            if (preloader) {\r\n                preloader.progress = 1;\r\n            }\r\n            this.dataUsers.each(function (dataUser) {\r\n                if (dataUser.hidden) {\r\n                    dataUser.hide(0);\r\n                }\r\n            });\r\n        }\r\n        this.dataValidationProgress = 1;\r\n        this._parseDataFrom = 0; // reset this index, it is set to dataItems.length if addData() method was used.\r\n        this.invalidateDataItems();\r\n        if (!this._internalDefaultsApplied) {\r\n            this.applyInternalDefaults();\r\n        }\r\n        this.dispatch(\"datavalidated\"); // can't zoom chart if dispatched immediately\r\n    };\r\n    /**\r\n     * Validates (processes) data items.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.validateDataItems = function () {\r\n        $array.remove(registry.invalidDataItems, this);\r\n        this.dataItemsInvalid = false;\r\n        this.invalidateDataRange();\r\n        this.invalidate();\r\n        this.dispatch(\"dataitemsvalidated\");\r\n    };\r\n    Object.defineProperty(Component.prototype, \"data\", {\r\n        /**\r\n         * Returns element's source (raw) data.\r\n         *\r\n         * @return Data\r\n         */\r\n        get: function () {\r\n            if (!this._data) {\r\n                this._data = [];\r\n            }\r\n            if (!this._adapterO) {\r\n                return this._data;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"data\", this._data);\r\n            }\r\n        },\r\n        /**\r\n         * Sets source (raw) data for the element. The \"data\" is always an `Array`\r\n         * of objects.\r\n         *\r\n         * IMPORTANT: The order of data items in `data` array is important as it\r\n         * might affect chart look and behavior. [More details](https://www.amcharts.com/docs/v4/concepts/data/#Order_of_data_items).\r\n         *\r\n         * @param value Data\r\n         */\r\n        set: function (value) {\r\n            this.setData(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Component.prototype.setData = function (value) {\r\n        // array might be the same, but there might be items added\r\n        // todo: check if array changed, toString maybe?\r\n        //if (this._data != value) {\r\n        this._parseDataFrom = 0;\r\n        this.disposeData();\r\n        this._data = value;\r\n        if (value && value.length > 0) {\r\n            this.invalidateData();\r\n        }\r\n        else {\r\n            this.dispatchImmediately(\"beforedatavalidated\");\r\n            this.dispatch(\"datavalidated\");\r\n        }\r\n        //}\r\n    };\r\n    /**\r\n     * Returns (creates if necessary) a [[DataSource]] bound to any specific\r\n     * property.\r\n     *\r\n     * For example if I want to bind `data` to an external JSON file, I'd create\r\n     * a DataSource for it.\r\n     *\r\n     * @param property  Property to bind external data to\r\n     * @return A DataSource for property\r\n     */\r\n    Component.prototype.getDataSource = function (property) {\r\n        var _this = this;\r\n        if (!$type.hasValue(this._dataSources[property])) {\r\n            this._dataSources[property] = new DataSource();\r\n            this._dataSources[property].component = this;\r\n            this.setDataSourceEvents(this._dataSources[property], property);\r\n            this._dataSources[property].adapter.add(\"dateFields\", function (val) {\r\n                return _this.dataSourceDateFields(val);\r\n            });\r\n            this._dataSources[property].adapter.add(\"numberFields\", function (val) {\r\n                return _this.dataSourceNumberFields(val);\r\n            });\r\n            this.events.on(\"inited\", function () {\r\n                _this.loadData(property);\r\n            }, this, false);\r\n        }\r\n        return this._dataSources[property];\r\n    };\r\n    Object.defineProperty(Component.prototype, \"dataSource\", {\r\n        /**\r\n         * @return Data source\r\n         */\r\n        get: function () {\r\n            if (!this._dataSources[\"data\"]) {\r\n                this.getDataSource(\"data\");\r\n            }\r\n            return this._dataSources[\"data\"];\r\n        },\r\n        /**\r\n         *A [[DataSource]] to be used for loading Component's data.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/loading-external-data/} for more on loading external data\r\n         * @param value  Data source\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            if (this._dataSources[\"data\"]) {\r\n                this.removeDispose(this._dataSources[\"data\"]);\r\n            }\r\n            this._dataSources[\"data\"] = value;\r\n            this._dataSources[\"data\"].component = this;\r\n            this.events.on(\"inited\", function () {\r\n                _this.loadData(\"data\");\r\n            }, this, false);\r\n            this.setDataSourceEvents(value, \"data\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initiates loading of the external data via [[DataSource]].\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.loadData = function (property) {\r\n        this._dataSources[property].load();\r\n    };\r\n    /**\r\n     * This function is called by the [[DataSource]]'s `dateFields` adapater\r\n     * so that particular chart types can popuplate this setting with their\r\n     * own type-specific data fields so they are parsed properly.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param value  Array of date fields\r\n     * @return Array of date fields populated with chart's date fields\r\n     */\r\n    Component.prototype.dataSourceDateFields = function (value) {\r\n        return value;\r\n    };\r\n    /**\r\n     * This function is called by the [[DataSource]]'s `numberFields` adapater\r\n     * so that particular chart types can popuplate this setting with their\r\n     * own type-specific data fields so they are parsed properly.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param value  Array of number fields\r\n     * @return Array of number fields populated with chart's number fields\r\n     */\r\n    Component.prototype.dataSourceNumberFields = function (value) {\r\n        return value;\r\n    };\r\n    /**\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param list        [description]\r\n     * @param dataFields  [description]\r\n     * @param targetList  [description]\r\n     * @return [description]\r\n     */\r\n    Component.prototype.populateDataSourceFields = function (list, dataFields, targetList) {\r\n        $array.each(targetList, function (value) {\r\n            if (dataFields[value] && $array.indexOf(list, dataFields[value]) === -1) {\r\n                list.push(dataFields[value]);\r\n            }\r\n        });\r\n        return list;\r\n    };\r\n    /**\r\n     * Sets events on a [[DataSource]].\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.setDataSourceEvents = function (ds, property) {\r\n        var _this = this;\r\n        ds.events.on(\"started\", function (ev) {\r\n            var preloader = _this.preloader;\r\n            if (preloader) {\r\n                preloader.progress = 0;\r\n                //preloader.label.text = this.language.translate(\"Loading\");\r\n            }\r\n        }, undefined, false);\r\n        ds.events.on(\"loadstarted\", function (ev) {\r\n            var preloader = _this.preloader;\r\n            if (preloader) {\r\n                preloader.progress = 0.25;\r\n            }\r\n        }, undefined, false);\r\n        ds.events.on(\"loadended\", function (ev) {\r\n            var preloader = _this.preloader;\r\n            if (preloader) {\r\n                preloader.progress = 0.5;\r\n            }\r\n        }, undefined, false);\r\n        ds.events.on(\"parseended\", function (ev) {\r\n            var preloader = _this.preloader;\r\n            if (preloader) {\r\n                preloader.progress = 0.75;\r\n            }\r\n        }, undefined, false);\r\n        ds.events.on(\"ended\", function (ev) {\r\n            var preloader = _this.preloader;\r\n            if (preloader) {\r\n                preloader.progress = 1;\r\n            }\r\n        }, undefined, false);\r\n        ds.events.on(\"error\", function (ev) {\r\n            var preloader = _this.preloader;\r\n            if (preloader) {\r\n                preloader.progress = 1;\r\n            }\r\n            _this.openModal(ev.message);\r\n        }, undefined, false);\r\n        if (property) {\r\n            ds.events.on(\"done\", function (ev) {\r\n                var preloader = _this.preloader;\r\n                if (preloader) {\r\n                    preloader.progress = 1;\r\n                }\r\n                if (property == \"data\" && !$type.isArray(ev.data)) {\r\n                    ev.data = [ev.data];\r\n                }\r\n                if (ds.incremental && property == \"data\" && _this.data.length) {\r\n                    _this.addData(ev.data, ds.keepCount ? ev.data.length : 0);\r\n                }\r\n                else if (ds.updateCurrentData && property == \"data\" && _this.data.length) {\r\n                    // cycle through existing data items\r\n                    $array.each(_this.data, function (item, index) {\r\n                        if ($type.hasValue(ev.data[index])) {\r\n                            $object.each(item, function (key, val) {\r\n                                if ($type.hasValue(ev.data[index][key])) {\r\n                                    item[key] = ev.data[index][key];\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    _this.invalidateRawData();\r\n                }\r\n                else {\r\n                    _this[property] = ev.data;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Object.defineProperty(Component.prototype, \"responsive\", {\r\n        /**\r\n         * @return Responsive rules handler\r\n         */\r\n        get: function () {\r\n            if (!this._responsive) {\r\n                this._responsive = new Responsive();\r\n                this._responsive.component = this;\r\n            }\r\n            return this._responsive;\r\n        },\r\n        /**\r\n         * A [[Responsive]] instance to be used when applying conditional\r\n         * property values.\r\n         *\r\n         * NOTE: Responsive features are currently in development and may not work\r\n         * as expected, if at all.\r\n         *\r\n         * @param value  Responsive rules handler\r\n         */\r\n        set: function (value) {\r\n            this._responsive = value;\r\n            this._responsive.component = this;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets current zoom.\r\n     *\r\n     * The range uses relative values from 0 to 1, with 0 marking beginning and 1\r\n     * marking end of the available data range.\r\n     *\r\n     * This method will not have any effect when called on a chart object.\r\n     * Since the chart can have a number of axes and series, each with its own\r\n     * data, the meaning of \"range\" is very ambiguous.\r\n     *\r\n     * To zoom the chart use `zoom*` methods on its respective axes.\r\n     *\r\n     * @param range          Range\r\n     * @param skipRangeEvent Should rangechanged event not be triggered?\r\n     * @param instantly      Do not animate?\r\n     * @return Actual modidied range (taking `maxZoomFactor` into account)\r\n     */\r\n    Component.prototype.zoom = function (range, skipRangeEvent, instantly, declination) {\r\n        var _this = this;\r\n        if (skipRangeEvent === void 0) { skipRangeEvent = false; }\r\n        if (instantly === void 0) { instantly = false; }\r\n        var start = range.start;\r\n        var end = range.end;\r\n        var priority = range.priority;\r\n        if (range.start == range.end) {\r\n            range.start = range.start - 0.5 / this.maxZoomFactor;\r\n            range.end = range.end + 0.5 / this.maxZoomFactor;\r\n        }\r\n        if (priority == \"end\" && end == 1 && start != 0) {\r\n            if (start < this.start) {\r\n                priority = \"start\";\r\n            }\r\n        }\r\n        if (priority == \"start\" && start == 0) {\r\n            if (end > this.end) {\r\n                priority = \"end\";\r\n            }\r\n        }\r\n        if (!$type.isNumber(declination)) {\r\n            declination = this.maxZoomDeclination;\r\n        }\r\n        if (!$type.isNumber(start) || !$type.isNumber(end)) {\r\n            return { start: this.start, end: this.end };\r\n        }\r\n        if (this._finalStart != start || this._finalEnd != end) {\r\n            var maxZoomFactor = this.maxZoomFactor / this.minZoomCount;\r\n            var minZoomFactor = this.maxZoomFactor / this.maxZoomCount;\r\n            // most likely we are dragging left scrollbar grip here, so we tend to modify end\r\n            if (priority == \"start\") {\r\n                if (this.maxZoomCount > 0) {\r\n                    // add to the end\r\n                    if (1 / (end - start) < minZoomFactor) {\r\n                        end = start + 1 / minZoomFactor;\r\n                    }\r\n                }\r\n                // add to the end\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    end = start + 1 / maxZoomFactor;\r\n                }\r\n                //unless end is > 0\r\n                if (end > 1 && end - start < 1 / maxZoomFactor) {\r\n                    //end = 1;\r\n                    start = end - 1 / maxZoomFactor;\r\n                }\r\n            }\r\n            // most likely we are dragging right, so we modify left\r\n            else {\r\n                if (this.maxZoomCount > 0) {\r\n                    // add to the end\r\n                    if (1 / (end - start) < minZoomFactor) {\r\n                        start = end - 1 / minZoomFactor;\r\n                    }\r\n                }\r\n                // remove from start\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    start = end - 1 / maxZoomFactor;\r\n                }\r\n                if (start < 0 && end - start < 1 / maxZoomFactor) {\r\n                    //start = 0;\r\n                    end = start + 1 / maxZoomFactor;\r\n                }\r\n            }\r\n            if (start < -declination) {\r\n                start = -declination;\r\n            }\r\n            if (1 / (end - start) > maxZoomFactor) {\r\n                end = start + 1 / maxZoomFactor;\r\n            }\r\n            if (end > 1 + declination) {\r\n                end = 1 + declination;\r\n            }\r\n            if (1 / (end - start) > maxZoomFactor) {\r\n                start = end - 1 / maxZoomFactor;\r\n            }\r\n            this._finalEnd = end;\r\n            this._finalStart = start;\r\n            this.skipRangeEvent = skipRangeEvent;\r\n            this.dispatchImmediately(\"rangechangestarted\");\r\n            if (this.rangeChangeDuration > 0 && !instantly) {\r\n                // todo: maybe move this to Animation\r\n                var rangeChangeAnimation = this.rangeChangeAnimation;\r\n                if (rangeChangeAnimation && rangeChangeAnimation.progress < 1) {\r\n                    var options = rangeChangeAnimation.animationOptions;\r\n                    if (options.length > 1) {\r\n                        if (options[0].to == start && options[1].to == end) {\r\n                            return { start: start, end: end };\r\n                        }\r\n                        else {\r\n                            if (!rangeChangeAnimation.isDisposed()) {\r\n                                rangeChangeAnimation.stop();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (this.rangeChangeAnimation) {\r\n                    this.rangeChangeAnimation.kill();\r\n                }\r\n                rangeChangeAnimation = this.animate([{ property: \"start\", to: start }, { property: \"end\", to: end }], this.rangeChangeDuration, this.rangeChangeEasing);\r\n                this.rangeChangeAnimation = rangeChangeAnimation;\r\n                if (rangeChangeAnimation && !rangeChangeAnimation.isFinished()) {\r\n                    rangeChangeAnimation.events.on(\"animationended\", function () {\r\n                        _this.dispatchImmediately(\"rangechangeended\");\r\n                    });\r\n                }\r\n                else {\r\n                    this.dispatchImmediately(\"rangechangeended\");\r\n                }\r\n            }\r\n            else {\r\n                this.start = start;\r\n                this.end = end;\r\n                this.dispatch(\"rangechangeended\");\r\n            }\r\n        }\r\n        return { start: start, end: end };\r\n    };\r\n    /**\r\n     * Zooms to specific data items using their index in data.\r\n     *\r\n     * This method will not have any effect when called on a chart object.\r\n     * Since the chart can have a number of axes and series, each with its own\r\n     * data, the meaning of \"index\" is very ambiguous.\r\n     *\r\n     * To zoom the chart use `zoom*` methods on its respective axes.\r\n     *\r\n     * @param startIndex     Index of the starting data item\r\n     * @param endIndex       Index of the ending data item\r\n     * @param skipRangeEvent Should rangechanged event not be triggered?\r\n     * @param instantly      Do not animate?\r\n     */\r\n    Component.prototype.zoomToIndexes = function (startIndex, endIndex, skipRangeEvent, instantly) {\r\n        if (!$type.isNumber(startIndex) || !$type.isNumber(endIndex)) {\r\n            return;\r\n        }\r\n        var start = startIndex / this.dataItems.length;\r\n        var end = endIndex / this.dataItems.length;\r\n        this.zoom({ start: start, end: end }, skipRangeEvent, instantly);\r\n    };\r\n    Object.defineProperty(Component.prototype, \"zoomFactor\", {\r\n        /**\r\n         * A current zoom factor (0-1). 1 meaning fully zoomed out. (showing all of\r\n         * the available data)\r\n         *\r\n         * @return Zoom factor\r\n         */\r\n        get: function () {\r\n            return $math.fitToRange(1 / (this.end - this.start), 1, this.maxZoomFactor);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"maxZoomFactor\", {\r\n        /**\r\n         * @return Maximum zoomFactor\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maxZoomFactor\");\r\n        },\r\n        /**\r\n         * Max available `zoomFactor`.\r\n         *\r\n         * The element will not allow zoom to occur beyond this factor.\r\n         *\r\n         * [[DateAxis]] and [[CategoryAxis]] calculate this atutomatically so that\r\n         * category axis could be zoomed to one category and date axis allows to be\r\n         * zoomed up to one base interval.\r\n         *\r\n         * In case you want to restrict category or date axis to be zoomed to more\r\n         * than one category or more than one base interval, use `minZoomCount`\r\n         * property (set it to `> 1`).\r\n         *\r\n         * Default value of [[ValueAxis]]'s `maxZoomFactor` is `1000`.\r\n         *\r\n         * Feel free to modify it to allow bigger zoom or to restrict zooming.\r\n         *\r\n         * @param value  Maximum zoomFactor\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"maxZoomFactor\", value)) {\r\n                if (value == 1) {\r\n                    this.maxZoomDeclination = 0;\r\n                }\r\n                this.invalidateDataRange();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"maxZoomDeclination\", {\r\n        /**\r\n         * @ignore\r\n         * @return Maximum zoom declination\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maxZoomDeclination\");\r\n        },\r\n        /**\r\n         * Max zoom declination.\r\n         *\r\n         * @ignore\r\n         * @default 1\r\n         * @param value  Maximum zoom declination\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"maxZoomDeclination\", value)) {\r\n                this.invalidateDataRange();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"startIndex\", {\r\n        /**\r\n         * Current starting index.\r\n         *\r\n         * @return Start index\r\n         */\r\n        get: function () {\r\n            if (!$type.isNumber(this._startIndex)) {\r\n                this._startIndex = 0;\r\n            }\r\n            return this._startIndex;\r\n        },\r\n        /**\r\n         * Sets current starting index.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Start index\r\n         */\r\n        set: function (value) {\r\n            this._startIndex = $math.fitToRange(Math.round(value), 0, this.dataItems.length);\r\n            //this._workingStartIndex = this._startIndex; // not good, breaks adjusted working start index of line series\r\n            this.start = this.indexToPosition(this._startIndex);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     * @todo:review description\r\n     * returns item's relative position by the index of the item\r\n     * @param index\r\n     */\r\n    Component.prototype.indexToPosition = function (index) {\r\n        return index / this.dataItems.length;\r\n    };\r\n    Object.defineProperty(Component.prototype, \"endIndex\", {\r\n        /**\r\n         * Current ending index.\r\n         *\r\n         * @return End index\r\n         */\r\n        get: function () {\r\n            var count = this.dataItems.length;\r\n            if (!$type.isNumber(this._endIndex) || this._endIndex > count) {\r\n                this._endIndex = count;\r\n            }\r\n            return this._endIndex;\r\n        },\r\n        /**\r\n         * Sets current ending index.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value End index\r\n         */\r\n        set: function (value) {\r\n            this._endIndex = $math.fitToRange(Math.round(value), 0, this.dataItems.length);\r\n            //this._workingEndIndex = this._endIndex; // not good, breaks adjusted workingend index of line series\r\n            this.end = this.indexToPosition(this._endIndex);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"start\", {\r\n        /**\r\n         * @return Start (0-1)\r\n         */\r\n        get: function () {\r\n            if (!this._adapterO) {\r\n                return this._start;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"start\", this._start);\r\n            }\r\n        },\r\n        /**\r\n         * Start of the current data range (zoom).\r\n         *\r\n         * These are relative values from 0 (beginning) to 1 (end).\r\n         *\r\n         * @param value Start (0-1)\r\n         */\r\n        set: function (value) {\r\n            // value = $math.round(value, 10); not good\r\n            //if (1 / (this.end - value) > this.maxZoomFactor) {\r\n            //\tvalue = this.end - 1 / this.maxZoomFactor;\r\n            //}\r\n            if (this._start != value) {\r\n                this._start = value;\r\n                var startIndex = Math.max(0, Math.floor(this.dataItems.length * value) || 0);\r\n                this._startIndex = Math.min(startIndex, this.dataItems.length);\r\n                this.invalidateDataRange();\r\n                this.invalidate();\r\n                this.dispatchImmediately(\"startchanged\");\r\n                this.dispatch(\"startendchanged\");\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"end\", {\r\n        /**\r\n         * @return End (0-1)\r\n         */\r\n        get: function () {\r\n            if (!this._adapterO) {\r\n                return this._end;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"end\", this._end);\r\n            }\r\n        },\r\n        /**\r\n         * End of the current data range (zoom).\r\n         *\r\n         * These are relative values from 0 (beginning) to 1 (end).\r\n         *\r\n         * @param value End (0-1)\r\n         */\r\n        set: function (value) {\r\n            // value = $math.round(value, 10); // not good\r\n            //if (1 / (value - this.start) > this.maxZoomFactor) {\r\n            //\tvalue = 1 / this.maxZoomFactor + this.start;\r\n            //}\r\n            if (this._end != value) {\r\n                this._end = value;\r\n                this._endIndex = Math.min(this.dataItems.length, Math.ceil(this.dataItems.length * value) || 0);\r\n                this.invalidateDataRange();\r\n                this.invalidate();\r\n                this.dispatchImmediately(\"endchanged\");\r\n                this.dispatch(\"startendchanged\");\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * [removeFromInvalids description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     */\r\n    Component.prototype.removeFromInvalids = function () {\r\n        _super.prototype.removeFromInvalids.call(this);\r\n        registry.removeFromInvalidComponents(this);\r\n        $array.remove(registry.invalidDataItems, this);\r\n        $array.remove(registry.invalidDataRange, this);\r\n        $array.remove(registry.invalidRawDatas, this);\r\n    };\r\n    Object.defineProperty(Component.prototype, \"dataItems\", {\r\n        /**\r\n         * Returns a list of source [[DataItem]] objects currently used in the chart.\r\n         *\r\n         * @return List of data items\r\n         */\r\n        get: function () {\r\n            if (this._currentDataSetId != \"\") {\r\n                var dataItems = this.dataSets.getKey(this._currentDataSetId);\r\n                if (dataItems) {\r\n                    return dataItems;\r\n                }\r\n            }\r\n            return this._dataItems;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"dataSets\", {\r\n        /**\r\n         * Holds data items for data sets (usually aggregated data).\r\n         *\r\n         * @ignore\r\n         * @since 4.7.0\r\n         * @return  Data sets\r\n         */\r\n        get: function () {\r\n            if (!this._dataSets) {\r\n                this._dataSets = new Dictionary();\r\n            }\r\n            return this._dataSets;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Makes the chart use particular data set.\r\n     *\r\n     * If `id` is not provided or there is no such data set, main data will be\r\n     * used.\r\n     *\r\n     * @ignore\r\n     * @since 4.7.0\r\n     * @param  id  Data set id\r\n     */\r\n    Component.prototype.setDataSet = function (id) {\r\n        if (this._currentDataSetId != id) {\r\n            var dataSet = this.dataSets.getKey(id);\r\n            if (!dataSet) {\r\n                if (this._currentDataSetId != \"\") {\r\n                    this.dataItems.each(function (dataItem) {\r\n                        dataItem.__disabled = true;\r\n                    });\r\n                    this._currentDataSetId = \"\";\r\n                    this.invalidateDataRange();\r\n                    this._prevStartIndex = undefined;\r\n                    this.dataItems.each(function (dataItem) {\r\n                        dataItem.__disabled = false;\r\n                    });\r\n                    return true;\r\n                }\r\n            }\r\n            else {\r\n                this.dataItems.each(function (dataItem) {\r\n                    dataItem.__disabled = true;\r\n                });\r\n                this._currentDataSetId = id;\r\n                this.invalidateDataRange();\r\n                this._prevStartIndex = undefined;\r\n                this.dataItems.each(function (dataItem) {\r\n                    dataItem.__disabled = false;\r\n                });\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    Object.defineProperty(Component.prototype, \"currentDataSetId\", {\r\n        /**\r\n         * Returns id of the currently used data set, or `undefined` if main data set\r\n         * is in use.\r\n         *\r\n         * @since 4.7.0\r\n         * @return Current data set id\r\n         */\r\n        get: function () {\r\n            return this._currentDataSetId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"mainDataSet\", {\r\n        /**\r\n         * Returns reference to \"main\" data set (unaggregated data as it was supplied\r\n         * in `data`).\r\n         *\r\n         * @since 4.7.0\r\n         * @return Main data set\r\n         */\r\n        get: function () {\r\n            return this._dataItems;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates the indexes for the dataItems\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype._updateDataItemIndexes = function (startIndex) {\r\n        var dataItems = this.mainDataSet.values;\r\n        var length = dataItems.length;\r\n        for (var i = startIndex; i < length; ++i) {\r\n            dataItems[i]._index = i;\r\n        }\r\n    };\r\n    /**\r\n     * Processes newly added [[DataItem]] as well as triggers data re-validation.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event [description]\r\n     */\r\n    Component.prototype.handleDataItemAdded = function (event) {\r\n        event.newValue.component = this;\r\n        this._updateDataItemIndexes(event.index);\r\n        if (!this.dataItemsInvalid) {\r\n            this.invalidateDataItems();\r\n        }\r\n    };\r\n    /**\r\n     * removes [[DataItem]] as well as triggers data re-validation.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event [description]\r\n     */\r\n    Component.prototype.handleDataItemRemoved = function (event) {\r\n        //\t\tevent.oldValue.component = undefined; // not good, as some items might be not removed from component lists\r\n        this._updateDataItemIndexes(event.index);\r\n        if (!this.dataItemsInvalid) {\r\n            this.invalidateDataItems();\r\n        }\r\n    };\r\n    /**\r\n     * Binds a data element's field to a specific field in raw data.\r\n     * For example, for the very basic column chart you'd want to bind a `value`\r\n     * field to a field in data, such as `price`.\r\n     *\r\n     * Some more advanced Components, like [[CandlestickSeries]] need several\r\n     * data fields bound to data, such as ones for open, high, low and close\r\n     * values.\r\n     *\r\n     * @todo Example\r\n     * @param field  Field name\r\n     * @param value  Field name in data\r\n     */\r\n    Component.prototype.bindDataField = function (field, value) {\r\n        this.dataFields[field] = value;\r\n        this.invalidateDataRange();\r\n    };\r\n    /**\r\n     * Invalidates processed data.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype.invalidateProcessedData = function () {\r\n        this.resetProcessedRange();\r\n        this.invalidateDataRange();\r\n    };\r\n    /**\r\n     * [resetProcessedRange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     */\r\n    Component.prototype.resetProcessedRange = function () {\r\n        this._prevEndIndex = null;\r\n        this._prevStartIndex = null;\r\n    };\r\n    Object.defineProperty(Component.prototype, \"dataUsers\", {\r\n        /**\r\n         * Returns all other [[Component]] objects that are using this element's\r\n         * data.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description (review)\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._dataUsers) {\r\n                this._dataUsers = new List();\r\n                //this._disposers.push(new ListDisposer(this._dataUsers));\r\n                // TODO better way of handling this? e.g. move into another module ?\r\n                this._disposers.push(new Disposer(function () {\r\n                    // TODO clear the list ?\r\n                    $iter.each(_this._dataUsers.iterator(), function (x) {\r\n                        x.dispose();\r\n                    });\r\n                }));\r\n            }\r\n            return this._dataUsers;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns a clone of this element.\r\n     *\r\n     * @return Clone\r\n     */\r\n    Component.prototype.clone = function () {\r\n        var component = _super.prototype.clone.call(this);\r\n        component.dataFields = $utils.copyProperties(this.dataFields, {});\r\n        return component;\r\n    };\r\n    /**\r\n     * Copies all parameters from another [[Component]].\r\n     *\r\n     * @param source Source Component\r\n     */\r\n    Component.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.data = source.data;\r\n        this.sequencedInterpolation = source.sequencedInterpolation;\r\n        this.sequencedInterpolationDelay = source.sequencedInterpolationDelay;\r\n        this.interpolationDuration = source.interpolationDuration;\r\n        this.interpolationEasing = source.interpolationEasing;\r\n    };\r\n    /**\r\n     * Invalidates the whole element, including all its children, causing\r\n     * complete re-parsing of data and redraw.\r\n     *\r\n     * Use sparingly!\r\n     */\r\n    Component.prototype.reinit = function () {\r\n        this._inited = false;\r\n        this.deepInvalidate();\r\n    };\r\n    /**\r\n     * Add an adapter for data.\r\n     *\r\n     * @return Exporting\r\n     */\r\n    Component.prototype.getExporting = function () {\r\n        var _export = _super.prototype.getExporting.call(this);\r\n        if (!_export.adapter.has(\"data\", this._exportData, -1, this)) {\r\n            _export.adapter.add(\"data\", this._exportData, -1, this);\r\n            this.events.on(\"datavalidated\", function (ev) {\r\n                _export.handleDataUpdated();\r\n            });\r\n        }\r\n        return _export;\r\n    };\r\n    Component.prototype._exportData = function (arg) {\r\n        arg.data = this.data;\r\n        return arg;\r\n    };\r\n    Component.prototype.setDisabled = function (value) {\r\n        var changed = _super.prototype.setDisabled.call(this, value);\r\n        if (changed) {\r\n            this.invalidateData();\r\n        }\r\n        return changed;\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Component.prototype.setShowOnInit = function (value) {\r\n        if (value != this.getPropertyValue(\"showOnInit\")) {\r\n            if (value && !this.inited && !this.hidden) {\r\n                this._showOnInitDisposer2 = this.events.once(\"dataitemsvalidated\", this.hideInitially, this, false);\r\n                this._disposers.push(this._showOnInitDisposer2);\r\n            }\r\n            else {\r\n                if (this._showOnInitDisposer2) {\r\n                    this.removeDispose(this._showOnInitDisposer2);\r\n                }\r\n            }\r\n        }\r\n        // important order here\r\n        _super.prototype.setShowOnInit.call(this, value);\r\n    };\r\n    Component.prototype.setBaseId = function (value) {\r\n        if (value != this._baseId) {\r\n            if (this.dataInvalid) {\r\n                this.dataInvalid = false;\r\n                registry.removeFromInvalidComponents(this);\r\n                this._baseId = value;\r\n                this.invalidateData();\r\n            }\r\n        }\r\n        _super.prototype.setBaseId.call(this, value);\r\n    };\r\n    Object.defineProperty(Component.prototype, \"minZoomCount\", {\r\n        /**\r\n         * @return Min zoom count\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"minZoomCount\");\r\n        },\r\n        /**\r\n         * Use this for [[CategoryAxis]] or [[DateAxis]].\r\n         *\r\n         * Allows restricting zoom in beyond certain number of categories or base\r\n         * intervals.\r\n         *\r\n         * @default 1\r\n         * @param value  Min zoom count\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"minZoomCount\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"maxZoomCount\", {\r\n        /**\r\n         * @return Max zoom count\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maxZoomCount\");\r\n        },\r\n        /**\r\n         * Use this for [[CategoryAxis]] or [[DateAxis]].\r\n         *\r\n         * Limits how many categories or base intervals can be shown at the same\r\n         * time.\r\n         *\r\n         * If there are more items in the chart, the chart will auto-zoom.\r\n         *\r\n         * @default 0 (no limit)\r\n         * @since 4.6.2\r\n         * @param value  Max zoom count\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"maxZoomCount\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Called during the System.update method\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Component.prototype._systemCheckIfValidate = function () {\r\n        if (this.dataInvalid || (this.dataProvider && this.dataProvider.dataInvalid)) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    /**\r\n     * Adds easing functions to \"function\" fields.\r\n     *\r\n     * @param field  Field name\r\n     * @return Assign as function?\r\n     */\r\n    Component.prototype.asFunction = function (field) {\r\n        return field == \"interpolationEasing\" || field == \"rangeChangeEasing\" || _super.prototype.asIs.call(this, field);\r\n    };\r\n    return Component;\r\n}(Container));\r\nexport { Component };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Component\"] = Component;\r\n//# sourceMappingURL=Component.js.map","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","module.exports = false;\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction deepMerge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val);\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  deepMerge: deepMerge,\n  extend: extend,\n  trim: trim\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","/**\r\n * A collection of String-based constants.\r\n * @hidden\r\n * @ignore Exclude from docs\r\n */\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport var PX = \"px\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport var STRING = \"string\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport var NUMBER = \"number\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport var DATE = \"date\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport var DURATION = \"duration\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport var PLACEHOLDER = \"____\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport var PLACEHOLDER2 = \"____\";\r\n//# sourceMappingURL=Strings.js.map","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","import { __read, __spread } from \"tslib\";\r\nimport { options } from \"../Options\";\r\n/**\r\n * Outputs string to console if `verbose` is `true`.\r\n */\r\nexport function log() {\r\n    var messages = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        messages[_i] = arguments[_i];\r\n    }\r\n    if (options.verbose) {\r\n        if (console) {\r\n            console.log.apply(console, __spread(messages));\r\n        }\r\n    }\r\n}\r\n/**\r\n * Outputs a warning to the console.\r\n */\r\nexport function warn() {\r\n    var messages = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        messages[_i] = arguments[_i];\r\n    }\r\n    if (!options.suppressWarnings) {\r\n        if (console) {\r\n            console.warn.apply(console, __spread(messages));\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Log.js.map","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","/**\r\n * [[AMElement]] represents any SVG element and related functionality.\r\n */\r\nimport * as $dom from \"../utils/DOM\";\r\nimport * as $object from \"../utils/Object\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A base class for all SVG elements. Provides low-level DOM functionality.\r\n *\r\n * All visual elements extend this class.\r\n */\r\nvar AMElement = /** @class */ (function () {\r\n    /**\r\n     * Constructor creates a new element or uses the one that was passed in.\r\n     *\r\n     * @param element Element reference node type\r\n     */\r\n    function AMElement(element) {\r\n        /**\r\n         * Indicates if the element was already disposed.\r\n         */\r\n        this._isDisposed = false;\r\n        /**\r\n         * Current X coordinate.\r\n         */\r\n        this._x = 0;\r\n        /**\r\n         * Current Y coordinate.\r\n         */\r\n        this._y = 0;\r\n        /**\r\n         *\r\n         */\r\n        this._rotationY = 0;\r\n        /**\r\n         *\r\n         */\r\n        this._rotationX = 0;\r\n        /**\r\n         * Current rotation.\r\n         */\r\n        this._rotation = 0;\r\n        /**\r\n         * Current scale.\r\n         */\r\n        this._scale = 1;\r\n        if (typeof element === \"string\") {\r\n            this.node = document.createElementNS($dom.SVGNS, element);\r\n        }\r\n        else {\r\n            this.node = element;\r\n        }\r\n    }\r\n    /**\r\n     * Removes element's node from DOM.\r\n     */\r\n    AMElement.prototype.removeNode = function () {\r\n        if (this.node) {\r\n            if (this.node.parentNode) {\r\n                this.node.parentNode.removeChild(this.node);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(AMElement.prototype, \"transformString\", {\r\n        /**\r\n         * Returns `transform` attribute of the element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Transform attribute value\r\n         */\r\n        get: function () {\r\n            if (this.node) {\r\n                return this._transformString;\r\n                /*\r\n                const value = this.node.getAttribute(\"transform\");\r\n    \r\n                if (value !== null) {\r\n                    return value;\r\n                }*/\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Appply position, rotation and scale properties via elemen's `transform`\r\n     * property\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    AMElement.prototype.transform = function () {\r\n        var transfromString = \"translate(\" + this._x + \",\" + this._y + \")\";\r\n        if (this._scale != 1) {\r\n            transfromString += ((transfromString ? \" \" : \"\") + \"scale(\" + this._scale + \")\");\r\n        }\r\n        if (this._rotation != 0) {\r\n            var rotateString = \"rotate(\" + this._rotation + \")\";\r\n            if (this._rotationX && this._rotationY) {\r\n                rotateString = \"rotate(\" + this._rotation + \" \" + this._rotationX + \" \" + this._rotationY + \")\";\r\n            }\r\n            transfromString += ((transfromString ? \" \" : \"\") + rotateString);\r\n        }\r\n        this._transformString = transfromString;\r\n        this.node.setAttribute(\"transform\", transfromString);\r\n    };\r\n    /**\r\n     * Returns bounding box of the element.\r\n     *\r\n     * ATTENTION: Bounding box calculations are extremely costly so should be\r\n     * used sparingly and cached whenever possible.\r\n     *\r\n     * @return Bounding rectangle\r\n     */\r\n    AMElement.prototype.getBBox = function () {\r\n        var bbox = {\r\n            width: 0,\r\n            height: 0,\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        // FF would fail if getBBox() is called without node added to parent\r\n        if (this.node && this.node.parentNode) {\r\n            try { // again for ff. TODO: check if this doesn't slow down\r\n                var svgbbox = this.node.getBBox();\r\n                bbox.x = svgbbox.x;\r\n                bbox.y = svgbbox.y;\r\n                bbox.width = svgbbox.width;\r\n                bbox.height = svgbbox.height;\r\n            }\r\n            catch (err) { }\r\n        }\r\n        return bbox;\r\n    };\r\n    /**\r\n     * Moves the element to new coordinates.\r\n     *\r\n     * @param x  Target X\r\n     * @param y  Target Y\r\n     */\r\n    AMElement.prototype.moveTo = function (point) {\r\n        if (point) {\r\n            var x = point.x;\r\n            var y = point.y;\r\n            if (this._x != x || this._y != y) {\r\n                this._x = x;\r\n                this._y = y;\r\n                this.transform();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(AMElement.prototype, \"content\", {\r\n        /**\r\n         * Returns element's contents as SVG markup.\r\n         *\r\n         * @return Contents\r\n         */\r\n        get: function () {\r\n            // @todo Do not use `innerHTML` as this is not reliable and will not work on all browsers\r\n            return this.node.innerHTML || \"\";\r\n        },\r\n        /**\r\n         * Element's SVG contents.\r\n         *\r\n         * @param value Contents\r\n         */\r\n        set: function (value) {\r\n            // @todo Do not use `innerHTML` as this is not reliable and will not work on all browsers\r\n            this.node.innerHTML = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AMElement.prototype, \"textContent\", {\r\n        /**\r\n         * @return Text contents\r\n         */\r\n        get: function () {\r\n            return this.node.textContent || \"\";\r\n        },\r\n        /**\r\n         * Text contents of the SVG element.\r\n         *\r\n         * @param value Text contents\r\n         */\r\n        set: function (value) {\r\n            this.node.textContent = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AMElement.prototype, \"x\", {\r\n        /**\r\n         * @return X coordinate (px)\r\n         */\r\n        get: function () {\r\n            return this._x;\r\n        },\r\n        /**\r\n         * Element's X position in pixels.\r\n         *\r\n         * @param value  X coordinate (px)\r\n         */\r\n        set: function (value) {\r\n            if (this._x != value) {\r\n                this._x = value;\r\n                this.transform();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AMElement.prototype, \"y\", {\r\n        /**\r\n         * @return Y coordinate (px)\r\n         */\r\n        get: function () {\r\n            return this._y;\r\n        },\r\n        /**\r\n         * Element's Y position in pixels.\r\n         *\r\n         * @param value Y coordinate (px)\r\n         */\r\n        set: function (value) {\r\n            if (this._y != value) {\r\n                this._y = value;\r\n                this.transform();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AMElement.prototype, \"rotation\", {\r\n        /**\r\n         * @return Rotation\r\n         */\r\n        get: function () {\r\n            return this._rotation;\r\n        },\r\n        /**\r\n         * Element's rotation in degrees.\r\n         *\r\n         * @param value Rotation\r\n         */\r\n        set: function (angle) {\r\n            if (this._rotation != angle) {\r\n                this._rotation = angle;\r\n                this.transform();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AMElement.prototype, \"rotationX\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this._rotationX;\r\n        },\r\n        /**\r\n         * @ignore\r\n         */\r\n        set: function (x) {\r\n            if (this._rotationX != x) {\r\n                this._rotationX = x;\r\n                this.transform();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AMElement.prototype, \"rotationY\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this._rotationY;\r\n        },\r\n        /**\r\n         * @ignore\r\n         */\r\n        set: function (y) {\r\n            if (this._rotationY != y) {\r\n                this._rotationY = y;\r\n                this.transform();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AMElement.prototype, \"scale\", {\r\n        /**\r\n         * @return Scale\r\n         */\r\n        get: function () {\r\n            return this._scale;\r\n        },\r\n        /**\r\n         * Element's scale where 1 is original size.\r\n         *\r\n         * Setting to 0.5 will reduce element's size by 50%, 2 will make element\r\n         * twice as large, etc.\r\n         *\r\n         * @param value Scale\r\n         */\r\n        set: function (value) {\r\n            if (this._scale != value) {\r\n                this._scale = value;\r\n                this.transform();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Removes an attribute from element.\r\n     *\r\n     * @param attribute  Attribute to remove\r\n     */\r\n    AMElement.prototype.removeAttr = function (attribute) {\r\n        this.node.removeAttribute(attribute);\r\n    };\r\n    /**\r\n     * Sets a set of attributes on a element.\r\n     *\r\n     * @param attributes  An object with attribute names (key) and values\r\n     * @return The same element\r\n     */\r\n    AMElement.prototype.attr = function (attributes) {\r\n        var _this = this;\r\n        $object.each(attributes, function (attributeName, attributeValue) {\r\n            if (!$type.hasValue(attributeValue)) {\r\n                _this.node.removeAttribute(attributeName);\r\n            }\r\n            else {\r\n                // this is for performance testing\r\n                //if(attributeValue == this.node.getAttribute(attributeName)){\r\n                //\tconsole.log(attributeName, attributeValue)\r\n                //}\r\n                _this.node.setAttribute(attributeName, attributeValue);\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Returns a value of a node attribute.\r\n     *\r\n     * @param attribute  Attribute name\r\n     * @return Attribute value\r\n     */\r\n    AMElement.prototype.getAttr = function (attribute) {\r\n        return this.node.getAttribute(attribute);\r\n    };\r\n    /**\r\n     * Sets a single attribute of the element's node using namesspace.\r\n     *\r\n     * @param ns         Namespace\r\n     * @param attribute  Attribute\r\n     * @param value      Value\r\n     * @return The same element\r\n     */\r\n    AMElement.prototype.attrNS = function (ns, attribute, value) {\r\n        this.node.setAttributeNS(ns, attribute, value);\r\n        return this;\r\n    };\r\n    /**\r\n     * Returns a namespaced attribute value from node.\r\n     *\r\n     * @param ns         Namespace\r\n     * @param attribute  Attribute\r\n     * @return Attribute value\r\n     */\r\n    AMElement.prototype.getAttrNS = function (ns, attribute) {\r\n        return this.node.getAttributeNS(ns, attribute);\r\n    };\r\n    /**\r\n     * Removes `style` attribute from node.\r\n     *\r\n     * @param attribute  Attribute to remove\r\n     */\r\n    AMElement.prototype.removeStyle = function (attribute) {\r\n        // @todo Review because it's a bit messy and maybe not needed (pratically not used)\r\n        this.node.style[attribute] = null;\r\n        delete this.node.style[attribute];\r\n    };\r\n    /**\r\n     * Returns style attribute value.\r\n     *\r\n     * @param attribute  Style attribute value\r\n     * @return Attribute value\r\n     */\r\n    AMElement.prototype.getStyle = function (attribute) {\r\n        // @todo Review because it's a bit messy and maybe not needed (pratically not used)\r\n        return this.node.style[attribute];\r\n    };\r\n    /**\r\n     * Adds style attributes to element's node.\r\n     *\r\n     * @param attributes  Object containing attribute: value pairs\r\n     * @return The same element\r\n     */\r\n    AMElement.prototype.addStyle = function (attributes) {\r\n        var _this = this;\r\n        // @todo Review because it's a bit messy and maybe not needed (pratically not used)\r\n        $object.each(attributes, function (attributeName, attributeValue) {\r\n            if (!$type.hasValue(attributeValue)) {\r\n                _this.removeStyle(attributeName);\r\n            }\r\n            else {\r\n                _this.node.style[attributeName] = attributeValue;\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Adds a class to element.\r\n     *\r\n     * @param name  Class name\r\n     */\r\n    AMElement.prototype.addClass = function (name) {\r\n        $dom.addClass(this.node, name);\r\n    };\r\n    /**\r\n     * Removes a class from element.\r\n     *\r\n     * @param name Class name\r\n     */\r\n    AMElement.prototype.removeClass = function (name) {\r\n        $dom.removeClass(this.node, name);\r\n    };\r\n    /**\r\n     * Sets a class name on element.\r\n     *\r\n     * @param name  Class name\r\n     */\r\n    AMElement.prototype.setClass = function (name) {\r\n        this.node.setAttribute(\"class\", name);\r\n    };\r\n    /**\r\n     * Removes all element's child nodes, basically leaving it empty.\r\n     */\r\n    AMElement.prototype.removeChildNodes = function () {\r\n        // remove all children\r\n        while (this.node.childNodes.length > 0) {\r\n            this.node.removeChild(this.node.firstChild);\r\n        }\r\n    };\r\n    /**\r\n     * Was this element already been disposed?\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    AMElement.prototype.isDisposed = function () {\r\n        return this._isDisposed;\r\n    };\r\n    /**\r\n     * Disposes element.\r\n     */\r\n    AMElement.prototype.dispose = function () {\r\n        this.removeNode();\r\n    };\r\n    return AMElement;\r\n}());\r\nexport { AMElement };\r\n//# sourceMappingURL=AMElement.js.map","/**\r\n * Animation module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObjectEvents } from \"../Base\";\r\nimport { SVGDefaults } from \"../defs/SVGDefaults\";\r\nimport { Disposer } from \"../utils/Disposer\";\r\nimport { Color } from \"../utils/Color\";\r\nimport { Percent, percent } from \"../utils/Percent\";\r\nimport * as $async from \"../utils/AsyncPending\";\r\nimport * as $ease from \"../utils/Ease\";\r\nimport * as $colors from \"../utils/Colors\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $array from \"../utils/Array\";\r\nimport * as $type from \"../utils/Type\";\r\nimport { system } from \"../System\";\r\nimport { options } from \"../Options\";\r\n/**\r\n * Calls a `callback` function for the `duration` of milliseconds.\r\n *\r\n * @todo Needed?\r\n * @deprecated Not used anywhere\r\n * @ignore Exclude from docs\r\n * @param duration  Duration (ms)\r\n * @param callback  Callback function\r\n * @return Disposer\r\n */\r\nexport function animate(duration, callback) {\r\n    var disposed = false;\r\n    // TODO use performance.now() ?\r\n    var startTime = Date.now();\r\n    function loop(now) {\r\n        if (!disposed) {\r\n            var diff = now - startTime;\r\n            if (diff >= duration) {\r\n                callback(1);\r\n            }\r\n            else {\r\n                $async.nextFrame(loop);\r\n                callback(diff / duration);\r\n            }\r\n        }\r\n    }\r\n    $async.nextFrame(loop);\r\n    return new Disposer(function () {\r\n        disposed = true;\r\n    });\r\n}\r\n/**\r\n * Returns numeric value accoring to progress between start and end values.\r\n *\r\n * @param progress  Progress (0-1)\r\n * @param from\r\n * @param to\r\n * @return Value according to progress\r\n */\r\nfunction getProgressNumber(progress, from, to) {\r\n    return from + ((to - from) * progress);\r\n}\r\n/**\r\n * Returns [[Percent]] value accoring to progress between start and end\r\n * values.\r\n *\r\n * @param progress  Progress (0-1)\r\n * @param from\r\n * @param to\r\n * @return Value according to progress\r\n */\r\nfunction getProgressPercent(progress, from, to) {\r\n    return new Percent(getProgressNumber(progress, from.percent, to.percent));\r\n}\r\n/**\r\n * Returns color value accoring to progress between start and end values.\r\n *\r\n * @param progress  Progress (0-1)\r\n * @param from\r\n * @param to\r\n * @return Color according to progress\r\n */\r\nfunction getProgressColor(progress, from, to) {\r\n    var color = new Color($colors.interpolate(from.rgb, to.rgb, progress));\r\n    if (from.alpha != to.alpha) {\r\n        color.alpha = from.alpha + (to.alpha - from.alpha) * progress;\r\n    }\r\n    return color;\r\n}\r\n/**\r\n * [getHybridProperty description]\r\n *\r\n * @todo Description\r\n * @param property [description]\r\n * @param type [description]\r\n * @return [description]\r\n */\r\nfunction getHybridProperty(property, type) {\r\n    return type + property.charAt(0).toUpperCase() + property.substr(1);\r\n}\r\nvar AnimationDisposer = /** @class */ (function () {\r\n    function AnimationDisposer(array) {\r\n        this._disposer = new Disposer(function () {\r\n            while (array.length !== 0) {\r\n                array[0].dispose();\r\n            }\r\n        });\r\n    }\r\n    AnimationDisposer.prototype.isDisposed = function () {\r\n        return this._disposer.isDisposed();\r\n    };\r\n    AnimationDisposer.prototype.dispose = function () {\r\n        this._disposer.dispose();\r\n    };\r\n    return AnimationDisposer;\r\n}());\r\nexport { AnimationDisposer };\r\n/**\r\n * Animation can be used to transition certain properties on an object that\r\n * implements [[IAnimatable]] interface.\r\n *\r\n * @see {@link IAnimationEvents} for a list of available events\r\n */\r\nvar Animation = /** @class */ (function (_super) {\r\n    __extends(Animation, _super);\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param object            An object animation should run on\r\n     * @param animationOptions  One or several (array) of animation options\r\n     * @param duration          Duration (ms)\r\n     * @param easing            Easing function\r\n     */\r\n    function Animation(object, animationOptions, duration, easing) {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Duration of the animation in milliseconds.\r\n         */\r\n        _this.duration = 0;\r\n        /**\r\n         * Easing function to use.\r\n         *\r\n         * @see {@link Ease}\r\n         */\r\n        _this.easing = $ease.linear;\r\n        /**\r\n         * Contains progress of the current animation: 0 (start) to 1 (end).\r\n         */\r\n        _this.progress = 0;\r\n        /**\r\n         * Indicated how many times animation should loop.\r\n         */\r\n        _this._loop = 0;\r\n        /**\r\n         * Animation is paused.\r\n         */\r\n        _this._pause = false;\r\n        /**\r\n         * Holds reference to timeout for delayed play.\r\n         */\r\n        _this._delayTimeout = null;\r\n        /**\r\n         * Elapsed time in currently playing animation.\r\n         */\r\n        _this._time = 0;\r\n        _this._isFinished = false;\r\n        _this.className = \"Animation\";\r\n        // Override duration if animations disabled system-wide\r\n        if (options.animationsEnabled === false) {\r\n            duration = 0;\r\n        }\r\n        // Set parameters\r\n        _this.object = object;\r\n        _this.animationOptions = $array.toArray(animationOptions);\r\n        _this.duration = duration;\r\n        if (easing) {\r\n            _this.easing = easing;\r\n        }\r\n        // Run check if there are already animations playing on the same properties\r\n        // and stop them - the last animation takes precedence\r\n        //this.stopSameAnimations();\r\n        /*if ($type.hasValue(callback)) {\r\n            // TODO don't use .call\r\n            this.events.on(\"animationended\", callback, object);\r\n        }*/\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    // TODO verify that this is correct\r\n    Animation.prototype.debug = function () { };\r\n    /**\r\n     * Disposes this object, clears up after itself.\r\n     */\r\n    Animation.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this.pause();\r\n    };\r\n    /**\r\n     * Delays animation start by X milliseconds.\r\n     *\r\n     * @param delay  Delay (ms)\r\n     * @return Animation\r\n     */\r\n    Animation.prototype.delay = function (delay) {\r\n        var _this = this;\r\n        //@todo Maybe not use `bind()`\r\n        if (delay > 0) {\r\n            this.pause();\r\n            // This is so that it will get disposed if `this.object` is disposed\r\n            // TODO hacky, figure out a better way\r\n            $array.move(this.object.animations, this);\r\n            var id_1 = setTimeout(function () {\r\n                _this._delayTimeout = null;\r\n                _this.start();\r\n            }, delay);\r\n            this._delayTimeout = new Disposer(function () {\r\n                clearTimeout(id_1);\r\n            });\r\n        }\r\n        return this;\r\n    };\r\n    Animation.prototype._start = function () {\r\n        this._isFinished = false;\r\n        // Clear delay timeout if there was one\r\n        if (this._delayTimeout) {\r\n            this.removeDispose(this._delayTimeout);\r\n            this._delayTimeout = null;\r\n        }\r\n        // Run check if there are already animations playing on the same properties\r\n        // and stop them - the last animation takes precedence\r\n        this.stopSameAnimations();\r\n        // Reset counters\r\n        this._pause = false;\r\n        // Register animation\r\n        $array.move(system.animations, this);\r\n        // Register this animation in object's `animations` list\r\n        $array.move(this.object.animations, this);\r\n        system.requestFrame();\r\n    };\r\n    /**\r\n     * Starts animation.\r\n     *\r\n     * @return Animation\r\n     */\r\n    Animation.prototype.start = function () {\r\n        this._start();\r\n        this._startTime = Date.now();\r\n        this._time = 0;\r\n        this.staticOptions = [];\r\n        // Process initial property values\r\n        for (var i = this.animationOptions.length - 1; i >= 0; i--) {\r\n            var options_1 = this.animationOptions[i];\r\n            if (!$type.hasValue(options_1.from)) {\r\n                if (options_1.childObject) {\r\n                    options_1.from = options_1.childObject[options_1.property];\r\n                }\r\n                else {\r\n                    options_1.from = this.object[options_1.property];\r\n                    if (!$type.hasValue(options_1.from)) {\r\n                        options_1.from = SVGDefaults[options_1.property];\r\n                    }\r\n                }\r\n                /*if (!$type.hasValue(options.from)) {\r\n                    throw Error(\"Could not get initial transition value.\");\r\n                }*/\r\n            }\r\n            if (options_1.from == options_1.to) { // || options.to == (<any>this.object)[options.property]){ this is not good, as dataItem.value is set to final at once, and we animate workingValue\r\n                $array.remove(this.animationOptions, options_1);\r\n            }\r\n            else if (!$type.hasValue(options_1.from) || (!(options_1.from instanceof Percent) && (options_1.to instanceof Percent)) || ((options_1.from instanceof Percent) && !(options_1.to instanceof Percent))) {\r\n                // Initial value is undefined, treat it as static\r\n                this.staticOptions.push(options_1);\r\n                $array.remove(this.animationOptions, options_1);\r\n            }\r\n            else {\r\n                // Use different update methods for different value types\r\n                if ($type.isNumber(options_1.to)) {\r\n                    // Numeric value\r\n                    options_1.updateMethod = getProgressNumber;\r\n                    // Check if initial value is not Percent\r\n                    if (options_1.from instanceof Percent) {\r\n                        // It is. Let's convert it to pixel value\r\n                        // @todo Check if we can do this in a less hacky way\r\n                        var convertedFrom = this.object[getHybridProperty(options_1.property, \"pixel\")];\r\n                        if (!isNaN(convertedFrom)) {\r\n                            options_1.from = convertedFrom;\r\n                        }\r\n                        else {\r\n                            this.staticOptions.push(options_1);\r\n                            $array.remove(this.animationOptions, options_1);\r\n                        }\r\n                    }\r\n                    else if (isNaN(options_1.from)) {\r\n                        // Static value\r\n                        this.staticOptions.push(options_1);\r\n                        $array.remove(this.animationOptions, options_1);\r\n                    }\r\n                }\r\n                else {\r\n                    // Check if maybe we have a color or percent value\r\n                    if (options_1.to instanceof Color) {\r\n                        // Yup - set resolved named color\r\n                        //options.from = $colors.stringToColor(<string>options.from);\r\n                        if (options_1.from) {\r\n                            options_1.updateMethod = getProgressColor;\r\n                        }\r\n                        else {\r\n                            // Static value\r\n                            this.staticOptions.push(options_1);\r\n                            $array.remove(this.animationOptions, options_1);\r\n                        }\r\n                    }\r\n                    else if (options_1.to instanceof Percent) {\r\n                        // Percent\r\n                        options_1.updateMethod = getProgressPercent;\r\n                        // Check if the initial value is maybe in pixels\r\n                        if (!isNaN(options_1.from)) {\r\n                            // It is. Let's convert it\r\n                            // @todo Check if we can do this in a less hacky way\r\n                            var convertedFrom = this.object[getHybridProperty(options_1.property, \"relative\")];\r\n                            if (!isNaN(convertedFrom)) {\r\n                                options_1.from = percent(convertedFrom * 100);\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Static value\r\n                        this.staticOptions.push(options_1);\r\n                        $array.remove(this.animationOptions, options_1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Apply static options (just in case they were reset by previous\r\n        // animation loop)\r\n        this.applyStaticOptions();\r\n        if (this.events.isEnabled(\"animationstarted\")) {\r\n            var event_1 = {\r\n                type: \"animationstarted\",\r\n                target: this,\r\n                progress: this.progress\r\n            };\r\n            this.events.dispatchImmediately(\"animationstarted\", event_1);\r\n        }\r\n        this.update();\r\n        // If duration is 0, just end animation\r\n        if (this.duration === 0) {\r\n            this.end();\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets loop count for the animation. If parameter is not a valid number the\r\n     * animation will keep on looping indefinitely.\r\n     *\r\n     * @param count  Number of times to loop animation\r\n     * @return Animation\r\n     */\r\n    Animation.prototype.loop = function (count) {\r\n        if (!$type.isNumber(count)) {\r\n            count = Infinity;\r\n        }\r\n        this._loop = count;\r\n        return this;\r\n    };\r\n    /**\r\n     * Pauses animation.\r\n     *\r\n     * @return Animation\r\n     */\r\n    Animation.prototype.pause = function () {\r\n        this._pause = true;\r\n        if (this._delayTimeout) {\r\n            this.removeDispose(this._delayTimeout);\r\n            this._delayTimeout = null;\r\n        }\r\n        $array.remove(system.animations, this);\r\n        $array.remove(this.object.animations, this);\r\n        return this;\r\n    };\r\n    /**\r\n     * Resumes paused animation.\r\n     *\r\n     * @return Animation\r\n     */\r\n    Animation.prototype.resume = function () {\r\n        this._start();\r\n        this._startTime = Date.now() - this._time;\r\n        return this;\r\n    };\r\n    /**\r\n     * Jumps to animation end. If animation is set to loop, this will start\r\n     * another round of animation from start.\r\n     *\r\n     * @return Animation\r\n     */\r\n    Animation.prototype.end = function () {\r\n        // Pause and complete the progress\r\n        if (this._loop == 0) {\r\n            this.pause();\r\n        }\r\n        this.setProgress(1);\r\n        // Apply static options\r\n        this.applyStaticOptions();\r\n        if (this.events.isEnabled(\"animationended\")) {\r\n            var event_2 = {\r\n                type: \"animationended\",\r\n                target: this,\r\n                progress: this.progress\r\n            };\r\n            this.events.dispatchImmediately(\"animationended\", event_2);\r\n        }\r\n        // Check if we should loop\r\n        if (this._loop > 0) {\r\n            this._loop--;\r\n            this.start();\r\n        }\r\n        else {\r\n            this.stop();\r\n            this._isFinished = true;\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops animation immediately leaving properties in their current values.\r\n     */\r\n    Animation.prototype.kill = function () {\r\n        this.pause();\r\n        this._isFinished = true;\r\n    };\r\n    /**\r\n     * Returns indicator if this animation is finished or not\r\n     *\r\n     * @return Is finished?\r\n     */\r\n    Animation.prototype.isFinished = function () {\r\n        return this._isFinished;\r\n    };\r\n    /**\r\n     * Applies static options that can't be animated.\r\n     */\r\n    Animation.prototype.applyStaticOptions = function () {\r\n        var _this = this;\r\n        $array.each(this.staticOptions, function (options) {\r\n            if (options.childObject) {\r\n                options.childObject[options.property] = _this.progress == 1 ? options.to : options.from;\r\n            }\r\n            else {\r\n                _this.object[options.property] = _this.progress == 1 ? options.to : options.from;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Stops animation.\r\n     *\r\n     * When animation is stopped, the properties of the target object will remain\r\n     * where they were at the moment when `stop()` was called.\r\n     *\r\n     * @param skipEvent  Do not trigger `animationstopped` event\r\n     * @return Animation\r\n     */\r\n    Animation.prototype.stop = function (skipEvent) {\r\n        this.pause();\r\n        if (!skipEvent) {\r\n            if (this.events.isEnabled(\"animationstopped\")) {\r\n                var event_3 = {\r\n                    type: \"animationstopped\",\r\n                    target: this,\r\n                    progress: this.progress\r\n                };\r\n                this.events.dispatchImmediately(\"animationstopped\", event_3);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets current progress and updates object's numeric and color values.\r\n     *\r\n     * @param progress Progress (0-1)\r\n     */\r\n    Animation.prototype.setProgress = function (progress) {\r\n        var _this = this;\r\n        this._time = this.duration * progress; // just in case we call this from outside\r\n        $array.each(this.animationOptions, function (options) {\r\n            if (options.updateMethod && $type.hasValue(options.from)) {\r\n                var value = options.updateMethod(progress, options.from, options.to);\r\n                if (options.childObject) {\r\n                    options.childObject[options.property] = value;\r\n                }\r\n                else {\r\n                    _this.object[options.property] = value;\r\n                }\r\n            }\r\n        });\r\n        this.progress = progress;\r\n        if (this.events.isEnabled(\"animationprogress\")) {\r\n            var event_4 = {\r\n                type: \"animationprogress\",\r\n                target: this,\r\n                progress: this.progress\r\n            };\r\n            this.events.dispatchImmediately(\"animationprogress\", event_4);\r\n        }\r\n        system.requestFrame();\r\n    };\r\n    /**\r\n     * Tracks and sets progress according to time or frames.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Animation\r\n     */\r\n    Animation.prototype.update = function () {\r\n        if (!this._pause) {\r\n            var progress = void 0;\r\n            this._time = $math.fitToRange(Date.now() - this._startTime, 0, this.duration);\r\n            var timeProgress = this._time / this.duration;\r\n            progress = this.easing(timeProgress);\r\n            if (this.duration == 0 || !$type.isNumber(progress) || timeProgress >= 1) {\r\n                progress = 1;\r\n            }\r\n            this.setProgress(progress);\r\n            if ($math.round(this._time / this.duration, 6) == 1) {\r\n                this.end();\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    Object.defineProperty(Animation.prototype, \"delayed\", {\r\n        /**\r\n         * Returns `true` if this animation is delayed.\r\n         *\r\n         * @readonly\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this._delayTimeout ? true : false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks other animations currently running on the same object and removes\r\n     * overlapping options from those other animations that are contained in\r\n     * this animation.\r\n     *\r\n     * This is needed to ensure that no two confurent animations step on each\r\n     * other's toes by trying to animate the same property.\r\n     */\r\n    Animation.prototype.stopSameAnimations = function () {\r\n        var _this = this;\r\n        // stop animation of the same property\r\n        // TODO make this more efficient\r\n        // TODO don't copy the array\r\n        $array.each($array.copy(this.object.animations), function (animation) {\r\n            if (animation !== _this && !animation.delayed) {\r\n                var killed_1 = [];\r\n                $array.each(_this.animationOptions, function (newOptions) {\r\n                    $array.each(animation.animationOptions, function (oldOptions) {\r\n                        if (newOptions.property == oldOptions.property && newOptions.childObject == oldOptions.childObject) {\r\n                            killed_1.push(oldOptions);\r\n                            if (animation.animationOptions.length == 0) {\r\n                                animation.kill();\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n                $array.each(killed_1, function (oldOptions) {\r\n                    $array.remove(animation.animationOptions, oldOptions);\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Adds easing functions to \"function\" fields.\r\n     *\r\n     * @param field  Field name\r\n     * @return Assign as function?\r\n     */\r\n    Animation.prototype.asFunction = function (field) {\r\n        return field == \"easing\" || _super.prototype.asIs.call(this, field);\r\n    };\r\n    return Animation;\r\n}(BaseObjectEvents));\r\nexport { Animation };\r\n//# sourceMappingURL=Animation.js.map","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","/**\r\n * Paper class just like the white sheet of pressed fiber it draws its name\r\n * inspiration from is used as a starting point to start a drawing.\r\n *\r\n * Before we can start adding elements (drawing) we need to take out a new sheet\r\n * of paper, or in this instance create a blank SVG element.\r\n *\r\n * This class creates such element, as well as implements methods needed to\r\n * start adding elements to it.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { AMElement } from \"./AMElement\";\r\nimport { Group } from \"./Group\";\r\nimport { SVGContainer } from \"./SVGContainer\";\r\nimport * as $dom from \"../utils/DOM\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Paper class which when instantiated will create an SVG element as well as\r\n * some of the sub-elements like `<desc>`, `<defs>`.\r\n *\r\n * Use its methods like `addGroup` and `append` to add elements to the paper.\r\n */\r\nvar Paper = /** @class */ (function () {\r\n    /**\r\n     * Creates main `<svg>` container and related elements.\r\n     *\r\n     * @param container A reference to HTML element to create `<svg>` in\r\n     */\r\n    function Paper(container, id) {\r\n        // Store container reference\r\n        this.container = container;\r\n        this.id = id;\r\n        // Create SVG element\r\n        var svg = document.createElementNS($dom.SVGNS, \"svg\");\r\n        svg.setAttribute(\"version\", \"1.1\");\r\n        svg.setAttributeNS($dom.XMLNS, \"xmlns\", $dom.SVGNS);\r\n        svg.setAttributeNS($dom.XMLNS, \"xmlns:xlink\", $dom.XLINK);\r\n        svg.setAttribute(\"role\", \"group\");\r\n        this.container.appendChild(svg);\r\n        // Add description\r\n        //let desc: SVGElement = <SVGElement>document.createElementNS($dom.SVGNS, \"desc\");\r\n        //desc.appendChild(document.createTextNode(\"JavaScript chart by amCharts\"));\r\n        //svg.appendChild(desc);\r\n        // Add defs\r\n        this.defs = document.createElementNS($dom.SVGNS, \"defs\");\r\n        svg.appendChild(this.defs);\r\n        // Set width and height to fit container\r\n        svg.style.width = \"100%\";\r\n        svg.style.height = \"100%\";\r\n        svg.style.overflow = \"visible\";\r\n        // Store variable\r\n        this.svg = svg;\r\n    }\r\n    /**\r\n     * Creates and returns a new element. Does not attach it to Paper yet.\r\n     *\r\n     * @param elementName  Element name\r\n     * @return New element\r\n     */\r\n    Paper.prototype.add = function (elementName) {\r\n        return new AMElement(elementName);\r\n    };\r\n    /**\r\n     * Creates and returns a new Group element. Does not attach it to Paper.\r\n     *\r\n     * @param groupName  Element name\r\n     * @return New Group\r\n     */\r\n    Paper.prototype.addGroup = function (groupName) {\r\n        return new Group(groupName);\r\n    };\r\n    /**\r\n     * Appends an element to Paper.\r\n     *\r\n     * @param element Element to append\r\n     */\r\n    Paper.prototype.append = function (element) {\r\n        if (element) {\r\n            this.svg.appendChild(element.node);\r\n        }\r\n    };\r\n    /**\r\n     * Appends an element to `<defs>` block of the Paper.\r\n     *\r\n     * @param element  Element\r\n     */\r\n    Paper.prototype.appendDef = function (element) {\r\n        if (element) {\r\n            this.defs.appendChild(element.node);\r\n        }\r\n    };\r\n    /**\r\n     * Creates and returns new `<foreignObject>` element. Does not append it to\r\n     * Paper.\r\n     *\r\n     * @return A foreignObject element\r\n     */\r\n    Paper.prototype.foreignObject = function () {\r\n        var element = new AMElement(\"foreignObject\");\r\n        //this.append(element);\r\n        return element;\r\n    };\r\n    /**\r\n     * Checks if browser supports `<foreignObject>` elements.\r\n     *\r\n     * @return Supports `foreignObject`?\r\n     */\r\n    Paper.prototype.supportsForeignObject = function () {\r\n        return document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#Extensibility\", \"1.1\");\r\n    };\r\n    return Paper;\r\n}());\r\nexport { Paper };\r\nvar ghostPaper = null;\r\n/**\r\n * A [[Paper]] instance to create elements, that are not yet ready to be\r\n * placed in visible DOM.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport function getGhostPaper() {\r\n    if (ghostPaper === null) {\r\n        // ghost is used to draw elements while real paper is not yet created or Sprite doesn't know parent yet\r\n        var ghostDiv = document.createElement(\"div\");\r\n        ghostDiv.hidden = true;\r\n        document.body.appendChild(ghostDiv);\r\n        var ghostSvgContainer = new SVGContainer(ghostDiv, true);\r\n        ghostPaper = new Paper(ghostSvgContainer.SVGContainer, \"ghost\");\r\n    }\r\n    return ghostPaper;\r\n}\r\n//# sourceMappingURL=Paper.js.map","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","/**\r\n * Contains code and logic for generating linear gradients.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../../Base\";\r\nimport { List } from \"../../utils/List\";\r\nimport { getGhostPaper } from \"../Paper\";\r\nimport { registry } from \"../../Registry\";\r\nimport * as $iter from \"../../utils/Iterator\";\r\nimport * as $math from \"../../utils/Math\";\r\nimport * as $type from \"../../utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Linear gradient class.\r\n */\r\nvar LinearGradient = /** @class */ (function (_super) {\r\n    __extends(LinearGradient, _super);\r\n    /**\r\n     * Constructor.\r\n     */\r\n    function LinearGradient() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * List of colors switch definitions in a gradient.\r\n         */\r\n        _this._stops = new List();\r\n        /**\r\n         * Gradient direction.\r\n         */\r\n        _this._rotation = 0;\r\n        _this.className = \"LinearGradient\";\r\n        _this._stops.events.on(\"setIndex\", _this.validate, _this);\r\n        _this._stops.events.on(\"inserted\", _this.validate, _this);\r\n        // Create element\r\n        _this.element = _this.paper.addGroup(\"linearGradient\");\r\n        _this.id = \"gradient-\" + registry.getUniqueId();\r\n        _this.element.attr({ \"id\": _this.id });\r\n        _this._disposers.push(_this.element);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws gradient.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    LinearGradient.prototype.validate = function () {\r\n        var _this = this;\r\n        var rotation = (this._rotation + 90) * $math.RADIANS;\r\n        var x1 = Math.round(50 + Math.sin(rotation + Math.PI) * 50) + '%';\r\n        var y1 = Math.round(50 + Math.cos(rotation) * 50) + '%';\r\n        var x2 = Math.round(50 + Math.sin(rotation) * 50) + '%';\r\n        var y2 = Math.round(50 + Math.cos(rotation + Math.PI) * 50) + '%';\r\n        var gradientElement = this.element;\r\n        gradientElement.removeChildNodes();\r\n        gradientElement.attr({ \"x1\": x1, \"x2\": x2, \"y1\": y1, \"y2\": y2 });\r\n        $iter.each($iter.indexed(this._stops.iterator()), function (a) {\r\n            var i = a[0];\r\n            var stop = a[1];\r\n            var offset = stop.offset;\r\n            if (!$type.isNumber(offset)) {\r\n                offset = i / (_this._stops.length - 1);\r\n            }\r\n            var gradientStop = _this.paper.add(\"stop\");\r\n            if ($type.hasValue(stop.color)) {\r\n                gradientStop.attr({ \"stop-color\": stop.color.toString() });\r\n            }\r\n            if ($type.isNumber(stop.opacity)) {\r\n                gradientStop.attr({ \"stop-opacity\": stop.opacity });\r\n            }\r\n            if ($type.isNumber(offset)) {\r\n                gradientStop.attr({ \"offset\": offset });\r\n            }\r\n            gradientElement.add(gradientStop);\r\n        });\r\n    };\r\n    /**\r\n     * Clears the gradient.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    LinearGradient.prototype.clear = function () {\r\n        this._stops.clear();\r\n    };\r\n    /**\r\n     * Adds a color step to the gradient.\r\n     *\r\n     * @param color    Color (hex code or named color)\r\n     * @param opacity  Opacity (value from 0 to 1; 0 completely transaprent, 1 fully opaque)\r\n     * @param offset   Position of color in the gradient (value 0 to 1; 0 meaning start of the gradient and 1 end)\r\n     */\r\n    LinearGradient.prototype.addColor = function (color, opacity, offset) {\r\n        this._stops.push({ color: color, opacity: opacity, offset: offset });\r\n    };\r\n    Object.defineProperty(LinearGradient.prototype, \"stops\", {\r\n        /**\r\n         * A list of color stops in the gradient.\r\n         *\r\n         * @return Stops\r\n         */\r\n        get: function () {\r\n            return this._stops;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LinearGradient.prototype, \"paper\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Paper\r\n         */\r\n        get: function () {\r\n            if (this._paper) {\r\n                return this._paper;\r\n            }\r\n            return getGhostPaper();\r\n        },\r\n        /**\r\n         * [[Paper]] instace to use for the gradient.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param paper  Paper\r\n         */\r\n        set: function (paper) {\r\n            if (this._paper != paper) {\r\n                this._paper = paper;\r\n                this.validate();\r\n                paper.appendDef(this.element);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LinearGradient.prototype, \"rotation\", {\r\n        /**\r\n         * @return Rotation\r\n         */\r\n        get: function () {\r\n            return this._rotation;\r\n        },\r\n        /**\r\n         * Rotation (direction) of the gradient in degrees.\r\n         *\r\n         * @param value  Rotation\r\n         */\r\n        set: function (value) {\r\n            //this.element.attr({ \"gradientTransform\": \"rotate(\" + value + \" 10 100)\" });\r\n            this._rotation = value;\r\n            this.validate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LinearGradient.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.stops.copyFrom(source.stops);\r\n        this._rotation = source.rotation;\r\n    };\r\n    Object.defineProperty(LinearGradient.prototype, \"gradientUnits\", {\r\n        /**\r\n         * Which units are used when drawing gradient filter.\r\n         *\r\n         * Use `\"userSpaceOnUse\"` when applying gradient on a perfectly straight line.\r\n         *\r\n         * @since 4.9.17\r\n         * @default objectBoundingBox\r\n         * @param value Filter units\r\n         */\r\n        set: function (value) {\r\n            this.element.attr({ gradientUnits: value });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return LinearGradient;\r\n}(BaseObject));\r\nexport { LinearGradient };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"LinearGradient\"] = LinearGradient;\r\n//# sourceMappingURL=LinearGradient.js.map","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","/**\r\n * Rounded rectangle module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../Sprite\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $utils from \"../utils/Utils\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a rectangle with rounded corners.\r\n *\r\n * @see {@link IRoundedRectangleEvents} for a list of available events\r\n * @see {@link IRoundedRectangleAdapters} for a list of available Adapters\r\n */\r\nvar RoundedRectangle = /** @class */ (function (_super) {\r\n    __extends(RoundedRectangle, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function RoundedRectangle() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"RoundedRectangle\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.cornerRadius(3, 3, 3, 3);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    RoundedRectangle.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var w = this.innerWidth;\r\n        var h = this.innerHeight;\r\n        if ($type.isNumber(w) && $type.isNumber(h)) {\r\n            var minSide = $math.min(w, h) / 2;\r\n            var cornerRadiusTopLeft = $utils.relativeToValue(this.cornerRadiusTopLeft, minSide);\r\n            var cornerRadiusTopRight = $utils.relativeToValue(this.cornerRadiusTopRight, minSide);\r\n            var cornerRadiusBottomRight = $utils.relativeToValue(this.cornerRadiusBottomRight, minSide);\r\n            var cornerRadiusBottomLeft = $utils.relativeToValue(this.cornerRadiusBottomLeft, minSide);\r\n            var maxcr = $math.min(Math.abs(w / 2), Math.abs(h / 2));\r\n            var crtl = $math.fitToRange(cornerRadiusTopLeft, 0, maxcr);\r\n            var crtr = $math.fitToRange(cornerRadiusTopRight, 0, maxcr);\r\n            var crbr = $math.fitToRange(cornerRadiusBottomRight, 0, maxcr);\r\n            var crbl = $math.fitToRange(cornerRadiusBottomLeft, 0, maxcr);\r\n            var lineT = \"M\" + crtl + \",0 L\" + (w - crtr) + \",0\";\r\n            var lineB = \" L\" + crbl + \",\" + h;\r\n            var lineL = \" L0,\" + crtl;\r\n            var lineR = \" L\" + w + \",\" + (h - crbr);\r\n            var arcTR = \" a\" + crtr + \",\" + crtr + \" 0 0 1 \" + crtr + \",\" + crtr;\r\n            var arcBR = \" a\" + crbr + \",\" + crbr + \" 0 0 1 -\" + crbr + \",\" + crbr;\r\n            var arcBL = \" a\" + crbl + \",\" + crbl + \" 0 0 1 -\" + crbl + \",-\" + crbl;\r\n            var arcTL = \" a\" + crtl + \",\" + crtl + \" 0 0 1 \" + crtl + \",-\" + crtl;\r\n            var path = lineT + arcTR + lineR + arcBR + lineB + arcBL + lineL + arcTL + \" Z\";\r\n            this.path = path;\r\n        }\r\n    };\r\n    /**\r\n     * Sets radius for all four corners at ones.\r\n     *\r\n     * All numbers are in pixels.\r\n     *\r\n     * @param tl  Top-left corner\r\n     * @param tr  Top-right corner\r\n     * @param bl  Bottom-left corner\r\n     * @param br  Bottom-right corner\r\n     */\r\n    RoundedRectangle.prototype.cornerRadius = function (tl, tr, bl, br) {\r\n        this.cornerRadiusTopLeft = tl;\r\n        this.cornerRadiusTopRight = tr;\r\n        this.cornerRadiusBottomLeft = bl;\r\n        this.cornerRadiusBottomRight = br;\r\n    };\r\n    Object.defineProperty(RoundedRectangle.prototype, \"cornerRadiusTopLeft\", {\r\n        /**\r\n         * @return Radius (px or Percent)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cornerRadiusTopLeft\");\r\n        },\r\n        /**\r\n         * Radius of the top-left corner in pixels.\r\n         *\r\n         * @default 3\r\n         * @param value  Radius (px or Percent)\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"cornerRadiusTopLeft\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RoundedRectangle.prototype, \"cornerRadiusTopRight\", {\r\n        /**\r\n         * @return Radius (px or Percent)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cornerRadiusTopRight\");\r\n        },\r\n        /**\r\n         * Radius of the top-right corner in pixels.\r\n         *\r\n         * @default 3\r\n         * @param value  Radius (px or Percent)\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"cornerRadiusTopRight\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RoundedRectangle.prototype, \"cornerRadiusBottomRight\", {\r\n        /**\r\n         * @return Radius (px or Percent)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cornerRadiusBottomRight\");\r\n        },\r\n        /**\r\n         * Radius of the bottom-right corner in pixels.\r\n         *\r\n         * @default 3\r\n         * @param value  Radius (px or Percent)\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"cornerRadiusBottomRight\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RoundedRectangle.prototype, \"cornerRadiusBottomLeft\", {\r\n        /**\r\n         * @return Radius (px or Percent)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cornerRadiusBottomLeft\");\r\n        },\r\n        /**\r\n         * Radius of the bottom-left corner in pixels.\r\n         *\r\n         * @default 3\r\n         * @param value  Radius (px or Percent)\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"cornerRadiusBottomLeft\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Measures the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    RoundedRectangle.prototype.measureElement = function () {\r\n    };\r\n    Object.defineProperty(RoundedRectangle.prototype, \"bbox\", {\r\n        /**\r\n         * Returns bounding box (square) for this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        get: function () {\r\n            if (this.definedBBox) {\r\n                return this.definedBBox;\r\n            }\r\n            if (this.isMeasured) {\r\n                return {\r\n                    x: 0,\r\n                    y: 0,\r\n                    width: this.innerWidth,\r\n                    height: this.innerHeight\r\n                };\r\n            }\r\n            else {\r\n                return { x: 0, y: 0, width: 0, height: 0 };\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return RoundedRectangle;\r\n}(Sprite));\r\nexport { RoundedRectangle };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RoundedRectangle\"] = RoundedRectangle;\r\n//# sourceMappingURL=RoundedRectangle.js.map","/**\r\n * amCharts 4 locale\r\n *\r\n * Locale: en\r\n * Language: International English\r\n * Author: Martynas Majeris\r\n *\r\n * Follow instructions in [on this page](https://www.amcharts.com/docs/v4/tutorials/creating-translations/) to make corrections or add new translations.\r\n *\r\n * ---\r\n * Edit but leave the header section above this line. You can remove any\r\n * subsequent comment sections.\r\n * ---\r\n *\r\n * Use this file as a template to create translations. Leave the key part in\r\n * English intact. Fill the value with a translation.\r\n *\r\n * Empty string means no translation, so default \"International English\"\r\n * will be used.\r\n *\r\n * If you need the translation to literally be an empty string, use `null`\r\n * instead.\r\n *\r\n * IMPORTANT:\r\n * When translating make good effort to keep the translation length\r\n * at least the same chartcount as the English, especially for short prompts.\r\n *\r\n * Having significantly longer prompts may distort the actual charts.\r\n *\r\n * NOTE:\r\n * Some prompts - like months or weekdays - come in two versions: full and\r\n * shortened.\r\n *\r\n * If there's no official shortened version of these in your language, and it\r\n * would not be possible to invent such short versions that don't seem weird\r\n * to native speakers of that language, fill those with the same as full\r\n * version.\r\n *\r\n * PLACEHOLDERS:\r\n * Some prompts have placeholders like \"%1\". Those will be replaced by actual\r\n * values during translation and should be retained in the translated prompts.\r\n *\r\n * Placeholder positions may be changed to better suit structure of the\r\n * sentence.\r\n *\r\n * For example \"From %1 to %2\", when actually used will replace \"%1\" with an\r\n * actual value representing range start, and \"%2\" will be replaced by end\r\n * value.\r\n *\r\n * E.g. in a Scrollbar for Value axis \"From %1 to %2\" will become\r\n * \"From 100 to 200\". You may translate \"From\" and \"to\", as well as re-arrange\r\n * the order of the prompt itself, but make sure the \"%1\" and \"%2\" remain, in\r\n * places where they will make sense.\r\n *\r\n * Save the file as language_LOCALE, i.e. `en_GB.ts`, `fr_FR.ts`, etc.\r\n */\r\nexport default {\r\n    // Number formatting options.\r\n    // \r\n    // Please check with the local standards which separator is accepted to be\r\n    // used for separating decimals, and which for thousands.\r\n    \"_decimalSeparator\": \".\",\r\n    \"_thousandSeparator\": \",\",\r\n    // Suffixes for numbers\r\n    // When formatting numbers, big or small numers might be reformatted to\r\n    // shorter version, by applying a suffix.\r\n    // \r\n    // For example, 1000000 might become \"1m\".\r\n    // Or 1024 might become \"1KB\" if we're formatting byte numbers.\r\n    // \r\n    // This section defines such suffixes for all such cases.\r\n    \"_big_number_suffix_3\": \"k\",\r\n    \"_big_number_suffix_6\": \"M\",\r\n    \"_big_number_suffix_9\": \"G\",\r\n    \"_big_number_suffix_12\": \"T\",\r\n    \"_big_number_suffix_15\": \"P\",\r\n    \"_big_number_suffix_18\": \"E\",\r\n    \"_big_number_suffix_21\": \"Z\",\r\n    \"_big_number_suffix_24\": \"Y\",\r\n    \"_small_number_suffix_3\": \"m\",\r\n    \"_small_number_suffix_6\": \"\",\r\n    \"_small_number_suffix_9\": \"n\",\r\n    \"_small_number_suffix_12\": \"p\",\r\n    \"_small_number_suffix_15\": \"f\",\r\n    \"_small_number_suffix_18\": \"a\",\r\n    \"_small_number_suffix_21\": \"z\",\r\n    \"_small_number_suffix_24\": \"y\",\r\n    \"_byte_suffix_B\": \"B\",\r\n    \"_byte_suffix_KB\": \"KB\",\r\n    \"_byte_suffix_MB\": \"MB\",\r\n    \"_byte_suffix_GB\": \"GB\",\r\n    \"_byte_suffix_TB\": \"TB\",\r\n    \"_byte_suffix_PB\": \"PB\",\r\n    // Default date formats for various periods.\r\n    // \r\n    // This should reflect official or de facto formatting universally accepted\r\n    // in the country translation is being made for\r\n    // Available format codes here:\r\n    // https://www.amcharts.com/docs/v4/concepts/formatters/formatting-date-time/#Format_codes\r\n    // \r\n    // This will be used when formatting date/time for particular granularity,\r\n    // e.g. \"_date_hour\" will be shown whenever we need to show time as hours.\r\n    // \r\n    // \"date\" is used as in default date format when showing standalone dates.\r\n    \"_date\": \"yyyy-MM-dd\",\r\n    \"_date_millisecond\": \"mm:ss SSS\",\r\n    \"_date_second\": \"HH:mm:ss\",\r\n    \"_date_minute\": \"HH:mm\",\r\n    \"_date_hour\": \"HH:mm\",\r\n    \"_date_day\": \"MMM dd\",\r\n    \"_date_week\": \"ww\",\r\n    \"_date_month\": \"MMM\",\r\n    \"_date_year\": \"yyyy\",\r\n    // Default duration formats for various base units.\r\n    // \r\n    // This will be used by DurationFormatter to format numeric values into\r\n    // duration.\r\n    // \r\n    // Notice how each duration unit comes in several versions. This is to ensure\r\n    // that each base unit is shown correctly.\r\n    // \r\n    // For example, if we have baseUnit set to \"second\", meaning our duration is\r\n    // in seconds.\r\n    // \r\n    // If we pass in `50` to formatter, it will know that we have just 50 seconds\r\n    // (less than a minute) so it will use format in `\"_duration_second\"` (\"ss\"),\r\n    // and the formatted result will be in like `\"50\"`.\r\n    // \r\n    // If we pass in `70`, which is more than a minute, the formatter will switch\r\n    // to `\"_duration_second_minute\"` (\"mm:ss\"), resulting in \"01:10\" formatted\r\n    // text.\r\n    // \r\n    // Available codes here:\r\n    // https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/#Available_Codes\r\n    \"_duration_millisecond\": \"SSS\",\r\n    \"_duration_millisecond_second\": \"ss.SSS\",\r\n    \"_duration_millisecond_minute\": \"mm:ss SSS\",\r\n    \"_duration_millisecond_hour\": \"hh:mm:ss SSS\",\r\n    \"_duration_millisecond_day\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_week\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_month\": \"M'm' dd'd' mm:ss SSS\",\r\n    \"_duration_millisecond_year\": \"y'y' MM'm' dd'd' mm:ss SSS\",\r\n    \"_duration_second\": \"ss\",\r\n    \"_duration_second_minute\": \"mm:ss\",\r\n    \"_duration_second_hour\": \"hh:mm:ss\",\r\n    \"_duration_second_day\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_week\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_month\": \"M'm' dd'd' hh:mm:ss\",\r\n    \"_duration_second_year\": \"y'y' MM'm' dd'd' hh:mm:ss\",\r\n    \"_duration_minute\": \"mm\",\r\n    \"_duration_minute_hour\": \"hh:mm\",\r\n    \"_duration_minute_day\": \"d'd' hh:mm\",\r\n    \"_duration_minute_week\": \"d'd' hh:mm\",\r\n    \"_duration_minute_month\": \"M'm' dd'd' hh:mm\",\r\n    \"_duration_minute_year\": \"y'y' MM'm' dd'd' hh:mm\",\r\n    \"_duration_hour\": \"hh'h'\",\r\n    \"_duration_hour_day\": \"d'd' hh'h'\",\r\n    \"_duration_hour_week\": \"d'd' hh'h'\",\r\n    \"_duration_hour_month\": \"M'm' dd'd' hh'h'\",\r\n    \"_duration_hour_year\": \"y'y' MM'm' dd'd' hh'h'\",\r\n    \"_duration_day\": \"d'd'\",\r\n    \"_duration_day_week\": \"d'd'\",\r\n    \"_duration_day_month\": \"M'm' dd'd'\",\r\n    \"_duration_day_year\": \"y'y' MM'm' dd'd'\",\r\n    \"_duration_week\": \"w'w'\",\r\n    \"_duration_week_month\": \"w'w'\",\r\n    \"_duration_week_year\": \"w'w'\",\r\n    \"_duration_month\": \"M'm'\",\r\n    \"_duration_month_year\": \"y'y' MM'm'\",\r\n    \"_duration_year\": \"y'y'\",\r\n    // Era translations\r\n    \"_era_ad\": \"AD\",\r\n    \"_era_bc\": \"BC\",\r\n    // Day part, used in 12-hour formats, e.g. 5 P.M.\r\n    // Please note that these come in 3 variants:\r\n    // * one letter (e.g. \"A\")\r\n    // * two letters (e.g. \"AM\")\r\n    // * two letters with dots (e.g. \"A.M.\")\r\n    // \r\n    // All three need to to be translated even if they are all the same. Some\r\n    // users might use one, some the other.\r\n    \"A\": \"\",\r\n    \"P\": \"\",\r\n    \"AM\": \"\",\r\n    \"PM\": \"\",\r\n    \"A.M.\": \"\",\r\n    \"P.M.\": \"\",\r\n    // Date-related stuff.\r\n    // \r\n    // When translating months, if there's a difference, use the form which is\r\n    // best for a full date, e.g. as you would use it in \"2018 January 1\".\r\n    // \r\n    // Note that May is listed twice. This is because in English May is the same\r\n    // in both long and short forms, while in other languages it may not be the\r\n    // case. Translate \"May\" to full word, while \"May(short)\" to shortened\r\n    // version.\r\n    // \r\n    // Should month names and weekdays be capitalized or not?\r\n    // \r\n    // Rule of thumb is this: if the names should always be capitalized,\r\n    // regardless of name position within date (\"January\", \"21st January 2018\",\r\n    // etc.) use capitalized names. Otherwise enter all lowercase.\r\n    // \r\n    // The date formatter will automatically capitalize names if they are the\r\n    // first (or only) word in resulting date.\r\n    \"January\": \"\",\r\n    \"February\": \"\",\r\n    \"March\": \"\",\r\n    \"April\": \"\",\r\n    \"May\": \"\",\r\n    \"June\": \"\",\r\n    \"July\": \"\",\r\n    \"August\": \"\",\r\n    \"September\": \"\",\r\n    \"October\": \"\",\r\n    \"November\": \"\",\r\n    \"December\": \"\",\r\n    \"Jan\": \"\",\r\n    \"Feb\": \"\",\r\n    \"Mar\": \"\",\r\n    \"Apr\": \"\",\r\n    \"May(short)\": \"May\",\r\n    \"Jun\": \"\",\r\n    \"Jul\": \"\",\r\n    \"Aug\": \"\",\r\n    \"Sep\": \"\",\r\n    \"Oct\": \"\",\r\n    \"Nov\": \"\",\r\n    \"Dec\": \"\",\r\n    // Weekdays.\r\n    \"Sunday\": \"\",\r\n    \"Monday\": \"\",\r\n    \"Tuesday\": \"\",\r\n    \"Wednesday\": \"\",\r\n    \"Thursday\": \"\",\r\n    \"Friday\": \"\",\r\n    \"Saturday\": \"\",\r\n    \"Sun\": \"\",\r\n    \"Mon\": \"\",\r\n    \"Tue\": \"\",\r\n    \"Wed\": \"\",\r\n    \"Thu\": \"\",\r\n    \"Fri\": \"\",\r\n    \"Sat\": \"\",\r\n    // Date ordinal function.\r\n    // \r\n    // This is used when adding number ordinal when formatting days in dates.\r\n    // \r\n    // E.g. \"January 1st\", \"February 2nd\".\r\n    // \r\n    // The function accepts day number, and returns a string to be added to the\r\n    // day, like in default English translation, if we pass in 2, we will receive\r\n    // \"nd\" back.\r\n    \"_dateOrd\": function (day) {\r\n        var res = \"th\";\r\n        if ((day < 11) || (day > 13)) {\r\n            switch (day % 10) {\r\n                case 1:\r\n                    res = \"st\";\r\n                    break;\r\n                case 2:\r\n                    res = \"nd\";\r\n                    break;\r\n                case 3:\r\n                    res = \"rd\";\r\n                    break;\r\n            }\r\n        }\r\n        return res;\r\n    },\r\n    // Various chart controls.\r\n    // Shown as a tooltip on zoom out button.\r\n    \"Zoom Out\": \"\",\r\n    // Timeline buttons\r\n    \"Play\": \"\",\r\n    \"Stop\": \"\",\r\n    // Chart's Legend screen reader title.\r\n    \"Legend\": \"\",\r\n    // Legend's item screen reader indicator.\r\n    \"Click, tap or press ENTER to toggle\": \"\",\r\n    // Shown when the chart is busy loading something.\r\n    \"Loading\": \"\",\r\n    // Shown as the first button in the breadcrumb navigation, e.g.:\r\n    // Home > First level > ...\r\n    \"Home\": \"\",\r\n    // Chart types.\r\n    // Those are used as default screen reader titles for the main chart element\r\n    // unless developer has set some more descriptive title.\r\n    \"Chart\": \"\",\r\n    \"Serial chart\": \"\",\r\n    \"X/Y chart\": \"\",\r\n    \"Pie chart\": \"\",\r\n    \"Gauge chart\": \"\",\r\n    \"Radar chart\": \"\",\r\n    \"Sankey diagram\": \"\",\r\n    \"Flow diagram\": \"\",\r\n    \"Chord diagram\": \"\",\r\n    \"TreeMap chart\": \"\",\r\n    \"Force directed tree\": \"\",\r\n    \"Sliced chart\": \"\",\r\n    // Series types.\r\n    // Used to name series by type for screen readers if they do not have their\r\n    // name set.\r\n    \"Series\": \"\",\r\n    \"Candlestick Series\": \"\",\r\n    \"OHLC Series\": \"\",\r\n    \"Column Series\": \"\",\r\n    \"Line Series\": \"\",\r\n    \"Pie Slice Series\": \"\",\r\n    \"Funnel Series\": \"\",\r\n    \"Pyramid Series\": \"\",\r\n    \"X/Y Series\": \"\",\r\n    // Map-related stuff.\r\n    \"Map\": \"\",\r\n    \"Press ENTER to zoom in\": \"\",\r\n    \"Press ENTER to zoom out\": \"\",\r\n    \"Use arrow keys to zoom in and out\": \"\",\r\n    \"Use plus and minus keys on your keyboard to zoom in and out\": \"\",\r\n    // Export-related stuff.\r\n    // These prompts are used in Export menu labels.\r\n    // \r\n    // \"Export\" is the top-level menu item.\r\n    // \r\n    // \"Image\", \"Data\", \"Print\" as second-level indicating type of export\r\n    // operation.\r\n    // \r\n    // Leave actual format untranslated, unless you absolutely know that they\r\n    // would convey more meaning in some other way.\r\n    \"Export\": \"\",\r\n    \"Image\": \"\",\r\n    \"Data\": \"\",\r\n    \"Print\": \"\",\r\n    \"Click, tap or press ENTER to open\": \"\",\r\n    \"Click, tap or press ENTER to print.\": \"\",\r\n    \"Click, tap or press ENTER to export as %1.\": \"\",\r\n    'To save the image, right-click this link and choose \"Save picture as...\"': \"\",\r\n    'To save the image, right-click thumbnail on the left and choose \"Save picture as...\"': \"\",\r\n    \"(Press ESC to close this message)\": \"\",\r\n    \"Image Export Complete\": \"\",\r\n    \"Export operation took longer than expected. Something might have gone wrong.\": \"\",\r\n    \"Saved from\": \"\",\r\n    \"PNG\": \"\",\r\n    \"JPG\": \"\",\r\n    \"GIF\": \"\",\r\n    \"SVG\": \"\",\r\n    \"PDF\": \"\",\r\n    \"JSON\": \"\",\r\n    \"CSV\": \"\",\r\n    \"XLSX\": \"\",\r\n    // Scrollbar-related stuff.\r\n    // \r\n    // Scrollbar is a control which can zoom and pan the axes on the chart.\r\n    // \r\n    // Each scrollbar has two grips: left or right (for horizontal scrollbar) or\r\n    // upper and lower (for vertical one).\r\n    // \r\n    // Prompts change in relation to whether Scrollbar is vertical or horizontal.\r\n    // \r\n    // The final section is used to indicate the current range of selection.\r\n    \"Use TAB to select grip buttons or left and right arrows to change selection\": \"\",\r\n    \"Use left and right arrows to move selection\": \"\",\r\n    \"Use left and right arrows to move left selection\": \"\",\r\n    \"Use left and right arrows to move right selection\": \"\",\r\n    \"Use TAB select grip buttons or up and down arrows to change selection\": \"\",\r\n    \"Use up and down arrows to move selection\": \"\",\r\n    \"Use up and down arrows to move lower selection\": \"\",\r\n    \"Use up and down arrows to move upper selection\": \"\",\r\n    \"From %1 to %2\": \"\",\r\n    \"From %1\": \"\",\r\n    \"To %1\": \"\",\r\n    // Data loader-related.\r\n    \"No parser available for file: %1\": \"\",\r\n    \"Error parsing file: %1\": \"\",\r\n    \"Unable to load file: %1\": \"\",\r\n    \"Invalid date\": \"\",\r\n    // Common actions\r\n    \"Close\": \"\",\r\n    \"Minimize\": \"\"\r\n};\r\n//# sourceMappingURL=en.js.map","/**\r\n * Language module contains everything related to language-specific operations:\r\n * * Translating prompts\r\n * * Translating functions\r\n * * Date format localizations\r\n */\r\nimport { __extends, __read, __spread } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObjectEvents } from \"../Base\";\r\nimport { Adapter } from \"./Adapter\";\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\nimport en from \"../../../lang/en\";\r\nimport { options } from \"../Options\";\r\n;\r\n;\r\n/**\r\n * Handles all language-related tasks, like loading and storing translations,\r\n * translating prompts, lists of prompts and even functions.\r\n *\r\n * Almost every object in amCharts4 universe will have a `language` property,\r\n * which can be accessed for prompt translation.\r\n *\r\n * @see {@link ILanguageAdapters} for a list of available Adapters\r\n * @todo Make prompt keys case-insensitive\r\n * @important\r\n */\r\nvar Language = /** @class */ (function (_super) {\r\n    __extends(Language, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Language() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Adapter.\r\n         */\r\n        _this.adapter = new Adapter(_this);\r\n        /**\r\n         * Current locale.\r\n         */\r\n        _this._locale = en;\r\n        /**\r\n         * Default locale. A locale to fall back to if none is specified, or\r\n         * if there's no translation for the prompt for the current language.\r\n         */\r\n        _this._defaultLocale = en;\r\n        _this.className = \"Language\";\r\n        // Set default language if necessary\r\n        if ($type.hasValue(options.defaultLocale)) {\r\n            _this.locale = options.defaultLocale;\r\n        }\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Returns locale that is currently used.\r\n     *\r\n     * @param locale  Force locale. Will use current language if not set.\r\n     * @return Locale\r\n     */\r\n    Language.prototype.getLocale = function (locale) {\r\n        if (locale == null) {\r\n            locale = this._locale;\r\n        }\r\n        return this.adapter.apply(\"locale\", {\r\n            locale: locale\r\n        }).locale;\r\n    };\r\n    /**\r\n     * Returns the translation of the string.\r\n     *\r\n     * If the translation is empty, it will return untranslated prompt.\r\n     *\r\n     * Third parameter and up are strings that can be used to replace \"%X\"\r\n     * placeholders in prompt.\r\n     *\r\n     * E.g.:\r\n     *\r\n     * ```TypeScript\r\n     * // Results in \"This is a first translation test\"\r\n     * chart.language.translate(\"This is a %1 translation %2\", null, \"first\", \"test\");\r\n     * ```\r\n     * ```JavaScriptScript\r\n     * // Results in \"This is a first translation test\"\r\n     * chart.language.translate(\"This is a %1 translation %2\", null, \"first\", \"test\");\r\n     * ```\r\n     *\r\n     * @param  prompt   A string to translate\r\n     * @param  locale   Force translation into specific locale, e.g. fr_FR\r\n     * @param  rest     Parameters to replace in string\r\n     * @return          Translation\r\n     */\r\n    Language.prototype.translate = function (prompt, locale) {\r\n        var rest = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            rest[_i - 2] = arguments[_i];\r\n        }\r\n        // Get langauge\r\n        locale = this.getLocale(locale);\r\n        // Init translation\r\n        var translation = prompt;\r\n        // Get translations for the locale\r\n        var translations = this.getTranslations(locale);\r\n        var value = translations[prompt];\r\n        // Try to look for the translation\r\n        if (value === null) {\r\n            value = \"\";\r\n        }\r\n        else if ($type.hasValue(value)) {\r\n            // It might be an empty string\r\n            if (value) {\r\n                translation = value;\r\n            }\r\n        }\r\n        else if (locale !== this._defaultLocale) {\r\n            // Try to look in default language\r\n            return this.translate.apply(this, __spread([prompt, this._defaultLocale], rest));\r\n        }\r\n        // Replace %1, %2, etc params\r\n        if (rest.length) {\r\n            for (var len = rest.length, i = 0; i < len; ++i) {\r\n                translation = translation.split(\"%\" + (i + 1)).join(rest[i]);\r\n            }\r\n        }\r\n        // Return the translation\r\n        return this.adapter.apply(\"translate\", {\r\n            translation: translation,\r\n            locale: locale\r\n        }).translation;\r\n    };\r\n    /**\r\n     * Non-type-checked translation.\r\n     *\r\n     * Can be used by plugins and other code that may have their own non-standard\r\n     * translation prompts.\r\n     *\r\n     * @since 4.5.5\r\n     * @param  prompt   A string to translate\r\n     * @param  locale   Force translation into specific locale, e.g. fr_FR\r\n     * @param  rest     Parameters to replace in string\r\n     * @return          Translation\r\n     */\r\n    Language.prototype.translateAny = function (prompt, locale) {\r\n        var rest = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            rest[_i - 2] = arguments[_i];\r\n        }\r\n        return this.translate.apply(this, __spread([prompt, locale], rest));\r\n    };\r\n    /**\r\n     * Sets a prompt translation.\r\n     *\r\n     * @since 4.9.35\r\n     * @param  prompt       Prompt in English\r\n     * @param  translation  Translation\r\n     * @param  locale       Locale\r\n     */\r\n    Language.prototype.setTranslationAny = function (prompt, translation, locale) {\r\n        var localeTarget = locale || this.locale;\r\n        localeTarget[prompt] = translation;\r\n    };\r\n    /**\r\n     * Translates prompt.\r\n     *\r\n     * If translation is empty, it will return empty string, which is a different\r\n     * behavior than that of regular `translate`.\r\n     *\r\n     * @param prompt   A string to translate\r\n     * @param locale   Force translation into specific locale, e.g. fr_FR\r\n     * @param ...rest  Parameters to replace in string\r\n     * @return Translation\r\n     */\r\n    Language.prototype.translateEmpty = function (prompt, locale) {\r\n        var rest = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            rest[_i - 2] = arguments[_i];\r\n        }\r\n        var translation = this.translate.apply(this, __spread([prompt, locale], rest));\r\n        return translation == prompt ? \"\" : translation;\r\n    };\r\n    /**\r\n     * Translates a function.\r\n     *\r\n     * This method will return a function reference, but will not run it. It's\r\n     * up to the caller script to run the function.\r\n     *\r\n     * @param prompt  A function id to translate\r\n     * @param locale  Force translation into specific locale. e.g. fr_FR\r\n     * @return A language-specific version of the function\r\n     * @todo Apply adapter\r\n     */\r\n    Language.prototype.translateFunc = function (prompt, locale) {\r\n        // Get langauge\r\n        locale = this.getLocale(locale);\r\n        // Get translations for the locale\r\n        var translations = this.getTranslations(locale);\r\n        var value = translations[prompt];\r\n        // Try to look for the translation\r\n        if (value != null) {\r\n            return value;\r\n        }\r\n        // Try to look in default language\r\n        if (locale !== this._defaultLocale) {\r\n            return this.translateFunc(prompt, this._defaultLocale);\r\n        }\r\n        // Fail - return empty function\r\n        return function () {\r\n            return \"\";\r\n        };\r\n    };\r\n    /**\r\n     * Translates a list of prompts in one go.\r\n     *\r\n     * @param list    An array of strings to translate\r\n     * @param locale  Force translation into specific locale. e.g. fr_FR\r\n     * @return An array of translated strings in the same order as source list\r\n     */\r\n    Language.prototype.translateAll = function (list, locale) {\r\n        var _this = this;\r\n        // Translate all items in the list\r\n        if (!this.isDefault()) {\r\n            return $array.map(list, function (x) { return _this.translate(x, locale); });\r\n        }\r\n        else {\r\n            return list;\r\n        }\r\n    };\r\n    /**\r\n     * Returns `true` if the currently selected locale is a default locale.\r\n     *\r\n     * @return `true` if locale is default; `false` if it is not.\r\n     */\r\n    Language.prototype.isDefault = function () {\r\n        return this._defaultLocale === this._locale;\r\n    };\r\n    Object.defineProperty(Language.prototype, \"locale\", {\r\n        /**\r\n         * @return Locale definition\r\n         */\r\n        get: function () {\r\n            return this._locale;\r\n        },\r\n        /**\r\n         * Current locale.\r\n         *\r\n         * @param value  Locale definition (translations)\r\n         */\r\n        set: function (value) {\r\n            if (this._locale != value) {\r\n                this._locale = value;\r\n                if (this.events.isEnabled(\"localechanged\")) {\r\n                    var event_1 = {\r\n                        type: \"localechanged\",\r\n                        locale: value,\r\n                        target: this\r\n                    };\r\n                    this.events.dispatchImmediately(\"localechanged\", event_1);\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns translations for a given locale.\r\n     *\r\n     * @ignore\r\n     * @deprecated\r\n     * @param locale  Locale\r\n     * @return Translations\r\n     */\r\n    Language.prototype.getTranslations = function (locale) {\r\n        return this.adapter.apply(\"translations\", {\r\n            translations: locale,\r\n            locale: locale\r\n        }).translations;\r\n    };\r\n    return Language;\r\n}(BaseObjectEvents));\r\nexport { Language };\r\n//# sourceMappingURL=Language.js.map","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","/**\r\n * Event Dispatcher module is used for registering listeners and dispatching\r\n * events across amCharts system.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Disposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $async from \"./AsyncPending\";\r\nimport * as $type from \"./Type\";\r\n/*export interface IEventDispatcher<T> {\r\n    isDisposed(): boolean;\r\n    dispose(): void;\r\n    hasListeners(): boolean;\r\n    enable(): void;\r\n    disable(): void;\r\n    enableType<Key extends keyof T>(type: Key): void;\r\n    disableType<Key extends keyof T>(type: Key, amount?: number): void;\r\n    isEnabled<Key extends keyof T>(type: Key): boolean;\r\n    has<C, Key extends keyof T>(type: Key, callback?: (this: C, event: T[Key]) => void, context?: C): boolean;\r\n    dispatchImmediately<Key extends keyof T>(type: Key, event: T[Key]): void;\r\n    dispatch<Key extends keyof T>(type: Key, event: T[Key]): void;\r\n    onAll<C, Key extends keyof T>(callback: (this: C, type: Key, event: T[Key]) => void, context?: C): IDisposer;\r\n    on<C, Key extends keyof T>(type: Key, callback: (this: C, event: T[Key]) => void, context?: C): IDisposer;\r\n    once<C, Key extends keyof T>(type: Key, callback: (this: C, event: T[Key]) => void, context?: C): IDisposer;\r\n    off<C, Key extends keyof T>(type: Key, callback: (this: C, event: T[Key]) => void, context?: C): void;\r\n    off<C, Key extends keyof T>(type: Key, callback: (this: C, event: T[Key]) => void, context?: C): void;\r\n    copyFrom(source: this): void;\r\n}*/\r\n/**\r\n * Universal Event Dispatcher.\r\n *\r\n * @important\r\n */\r\nvar EventDispatcher = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     */\r\n    function EventDispatcher() {\r\n        this._listeners = [];\r\n        this._killed = [];\r\n        this._disabled = {};\r\n        this._iterating = 0;\r\n        this._enabled = true;\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Returns if this object has been already disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    EventDispatcher.prototype.isDisposed = function () {\r\n        return this._disposed;\r\n    };\r\n    /**\r\n     * Dispose (destroy) this object.\r\n     */\r\n    EventDispatcher.prototype.dispose = function () {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            var a = this._listeners;\r\n            this._iterating = 1;\r\n            this._listeners = null;\r\n            this._disabled = null;\r\n            try {\r\n                $array.each(a, function (x) {\r\n                    x.disposer.dispose();\r\n                });\r\n            }\r\n            finally {\r\n                this._killed = null;\r\n                this._iterating = null;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Checks if this particular event dispatcher has any listeners set.\r\n     *\r\n     * @return Has listeners?\r\n     */\r\n    EventDispatcher.prototype.hasListeners = function () {\r\n        return this._listeners.length !== 0;\r\n    };\r\n    /**\r\n     * Checks if this particular event dispatcher has any particular listeners set.\r\n     *\r\n     * @return Has particular event listeners?\r\n     */\r\n    EventDispatcher.prototype.hasListenersByType = function (type) {\r\n        return $array.any(this._listeners, function (x) { return (x.type === null || x.type === type) && !x.killed; });\r\n    };\r\n    /**\r\n     * Enable dispatching of events if they were previously disabled by\r\n     * `disable()`.\r\n     */\r\n    EventDispatcher.prototype.enable = function () {\r\n        this._enabled = true;\r\n    };\r\n    /**\r\n     * Disable dispatching of events until re-enabled by `enable()`.\r\n     */\r\n    EventDispatcher.prototype.disable = function () {\r\n        this._enabled = false;\r\n    };\r\n    /**\r\n     * Enable dispatching particular event, if it was disabled before by\r\n     * `disableType()`.\r\n     *\r\n     * @param type Event type\r\n     */\r\n    EventDispatcher.prototype.enableType = function (type) {\r\n        delete this._disabled[type];\r\n    };\r\n    /**\r\n     * Disable dispatching of events for a certain event type.\r\n     *\r\n     * Optionally, can set how many dispatches to skip before automatically\r\n     * re-enabling the dispatching.\r\n     *\r\n     * @param type    Event type\r\n     * @param amount  Number of event dispatches to skip\r\n     */\r\n    EventDispatcher.prototype.disableType = function (type, amount) {\r\n        if (amount === void 0) { amount = Infinity; }\r\n        this._disabled[type] = amount;\r\n    };\r\n    /**\r\n     * Removes listener from dispatcher.\r\n     *\r\n     * Will throw an exception if such listener does not exists.\r\n     *\r\n     * @param listener Listener to remove\r\n     */\r\n    EventDispatcher.prototype._removeListener = function (listener) {\r\n        if (this._iterating === 0) {\r\n            var index = this._listeners.indexOf(listener);\r\n            if (index === -1) {\r\n                throw new Error(\"Invalid state: could not remove listener\");\r\n            }\r\n            this._listeners.splice(index, 1);\r\n        }\r\n        else {\r\n            this._killed.push(listener);\r\n        }\r\n    };\r\n    /**\r\n     * Removes existing listener by certain parameters.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    EventDispatcher.prototype._removeExistingListener = function (once, type, callback, context) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener(function (info) {\r\n            if (info.once === once && // TODO is this correct ?\r\n                info.type === type &&\r\n                (callback == null || info.callback === callback) &&\r\n                info.context === context) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Checks if dispatching for particular event type is enabled.\r\n     *\r\n     * @param type  Event type\r\n     * @return Enabled?\r\n     */\r\n    EventDispatcher.prototype.isEnabled = function (type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        // TODO is this check correct ?\r\n        return this._enabled && this._listeners.length > 0 && this.hasListenersByType(type) && this._disabled[type] == null;\r\n    };\r\n    /**\r\n     * Checks if there's already a listener with specific parameters.\r\n     *\r\n     * @param type      Listener's type\r\n     * @param callback  Callback function\r\n     * @param context   Callback context\r\n     * @return Has listener?\r\n     */\r\n    EventDispatcher.prototype.has = function (type, callback, context) {\r\n        var index = $array.findIndex(this._listeners, function (info) {\r\n            return info.once !== true && // Ignoring \"once\" listeners\r\n                info.type === type &&\r\n                (callback == null || info.callback === callback) &&\r\n                info.context === context;\r\n        });\r\n        return index !== -1;\r\n    };\r\n    /**\r\n     * Checks whether event of the particular type should be dispatched.\r\n     *\r\n     * @param type  Event type\r\n     * @return Dispatch?\r\n     */\r\n    EventDispatcher.prototype._shouldDispatch = function (type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        var count = this._disabled[type];\r\n        if (!$type.isNumber(count)) {\r\n            return this._enabled;\r\n        }\r\n        else {\r\n            if (count <= 1) {\r\n                delete this._disabled[type];\r\n            }\r\n            else {\r\n                --this._disabled[type];\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * [_eachListener description]\r\n     *\r\n     * All of this extra code is needed when a listener is removed while iterating\r\n     *\r\n     * @todo Description\r\n     * @param fn [description]\r\n     */\r\n    EventDispatcher.prototype._eachListener = function (fn) {\r\n        var _this = this;\r\n        ++this._iterating;\r\n        try {\r\n            $array.each(this._listeners, fn);\r\n        }\r\n        finally {\r\n            --this._iterating;\r\n            // TODO should this be inside or outside the finally ?\r\n            if (this._iterating === 0 && this._killed.length !== 0) {\r\n                // Remove killed listeners\r\n                $array.each(this._killed, function (killed) {\r\n                    _this._removeListener(killed);\r\n                });\r\n                this._killed.length = 0;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Dispatches an event immediately without waiting for next cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    EventDispatcher.prototype.dispatchImmediately = function (type, event) {\r\n        if (this._shouldDispatch(type)) {\r\n            // TODO check if it's faster to use an object of listeners rather than a single big array\r\n            // TODO if the function throws, maybe it should keep going ?\r\n            this._eachListener(function (listener) {\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    listener.dispatch(type, event);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Shelves the event to be dispatched within next update cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    EventDispatcher.prototype.dispatch = function (type, event) {\r\n        if (this._shouldDispatch(type)) {\r\n            this._eachListener(function (listener) {\r\n                // TODO check if it's faster to use an object of listeners rather than a single big array\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    // TODO if the function throws, maybe it should keep going ?\r\n                    // TODO dispatch during the update cycle, rather than using whenIdle\r\n                    $async.whenIdle(function () {\r\n                        if (!listener.killed) {\r\n                            listener.dispatch(type, event);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Creates, catalogs and returns an [[EventListener]].\r\n     *\r\n     * Event listener can be disposed.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @param dispatch\r\n     * @returns An event listener\r\n     */\r\n    EventDispatcher.prototype._on = function (once, type, callback, context, shouldClone, dispatch) {\r\n        var _this = this;\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._removeExistingListener(once, type, callback, context);\r\n        var info = {\r\n            type: type,\r\n            callback: callback,\r\n            context: context,\r\n            shouldClone: shouldClone,\r\n            dispatch: dispatch,\r\n            killed: false,\r\n            once: once,\r\n            disposer: new Disposer(function () {\r\n                info.killed = true;\r\n                _this._removeListener(info);\r\n            })\r\n        };\r\n        this._listeners.push(info);\r\n        return info;\r\n    };\r\n    /**\r\n     * Creates an event listener to be invoked on **any** event.\r\n     *\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     * @todo what if `listen` is called on the same function twice ?\r\n     */\r\n    EventDispatcher.prototype.onAll = function (callback, context, shouldClone) {\r\n        if (shouldClone === void 0) { shouldClone = true; }\r\n        return this._on(false, null, callback, context, shouldClone, function (type, event) { return callback.call(context, type, event); }).disposer;\r\n    };\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type.\r\n     *\r\n     * ```TypeScript\r\n     * series.events.on(\"hidden\", (ev) => {\r\n     *   console.log(\"Series hidden: \" + ev.target.name);\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * series.events.on(\"hidden\", function(ev) {\r\n     *   console.log(\"Series hidden: \" + ev.target.name);\r\n     * }, this);\r\n     * ```\r\n     * ```JSON\r\n     * {\r\n     *   // ...\r\n     *   \"series\": [{\r\n     *     // ...\r\n     *     \"events\": {\r\n     *     \t\"hidden\": function(ev) {\r\n     *     \t  console.log(\"Series hidden: \" + ev.target.name);\r\n     *     \t}\r\n     *     }\r\n     *   }]\r\n     * }\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler whenever series we put\r\n     * event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     * @todo what if `listen` is called on the same function twice ?\r\n     */\r\n    EventDispatcher.prototype.on = function (type, callback, context, shouldClone) {\r\n        if (shouldClone === void 0) { shouldClone = true; }\r\n        return this._on(false, type, callback, context, shouldClone, function (type, event) { return callback.call(context, event); }).disposer;\r\n    };\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type once.\r\n     *\r\n     * Once the event listener is invoked, it is automatically disposed.\r\n     *\r\n     * ```TypeScript\r\n     * series.events.on(\"hidden\", (ev) => {\r\n     *   console.log(\"Series hidden: \" + ev.target.name);\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * series.events.on(\"hidden\", function(ev) {\r\n     *   console.log(\"Series hidden: \" + ev.target.name);\r\n     * }, this);\r\n     * ```\r\n     * ```JSON\r\n     * {\r\n     *   // ...\r\n     *   \"series\": [{\r\n     *     // ...\r\n     *     \"events\": {\r\n     *     \t\"hidden\": function(ev) {\r\n     *     \t  console.log(\"Series hidden: \" + ev.target.name);\r\n     *     \t}\r\n     *     }\r\n     *   }]\r\n     * }\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler the first time series we\r\n     * put event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     * @todo what if `listen` is called on the same function twice ?\r\n     */\r\n    EventDispatcher.prototype.once = function (type, callback, context, shouldClone) {\r\n        if (shouldClone === void 0) { shouldClone = true; }\r\n        var x = this._on(true, type, callback, context, shouldClone, function (type, event) {\r\n            x.disposer.dispose();\r\n            callback.call(context, event);\r\n        });\r\n        // TODO maybe this should return a different Disposer ?\r\n        return x.disposer;\r\n    };\r\n    /**\r\n     * Removes the event listener with specific parameters.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    EventDispatcher.prototype.off = function (type, callback, context) {\r\n        this._removeExistingListener(false, type, callback, context);\r\n    };\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     */\r\n    EventDispatcher.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        $array.each(source._listeners, function (x) {\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    _this.onAll(x.callback, x.context);\r\n                }\r\n                else if (x.once) {\r\n                    _this.once(x.type, x.callback, x.context);\r\n                }\r\n                else {\r\n                    _this.on(x.type, x.callback, x.context);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    return EventDispatcher;\r\n}());\r\nexport { EventDispatcher };\r\n/**\r\n * A version of the [[EventDispatcher]] that dispatches events for a specific\r\n * target object.\r\n *\r\n * @important\r\n */\r\nvar TargetedEventDispatcher = /** @class */ (function (_super) {\r\n    __extends(TargetedEventDispatcher, _super);\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param target Event dispatcher target\r\n     */\r\n    function TargetedEventDispatcher(target) {\r\n        var _this = _super.call(this) || this;\r\n        _this.target = target;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     */\r\n    TargetedEventDispatcher.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        $array.each(source._listeners, function (x) {\r\n            // TODO very hacky\r\n            if (x.context === source.target) {\r\n                return;\r\n            }\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    _this.onAll(x.callback, x.context);\r\n                }\r\n                else if (x.once) {\r\n                    _this.once(x.type, x.callback, x.context);\r\n                }\r\n                else {\r\n                    _this.on(x.type, x.callback, x.context);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    return TargetedEventDispatcher;\r\n}(EventDispatcher));\r\nexport { TargetedEventDispatcher };\r\n//# sourceMappingURL=EventDispatcher.js.map","/**\r\n * Functionality for drawing rectangles.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../Sprite\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $math from \"../utils/Math\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Used to draw a rectangle.\r\n *\r\n * @see {@link IRectangleEvents} for a list of available events\r\n * @see {@link IRectangleAdapters} for a list of available Adapters\r\n */\r\nvar Rectangle = /** @class */ (function (_super) {\r\n    __extends(Rectangle, _super);\r\n    /**\r\n     * Constructor\r\n     * * Creates a `<rect>` element\r\n     * * Creates default state\r\n     */\r\n    function Rectangle() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Rectangle\";\r\n        _this.element = _this.paper.add(\"rect\");\r\n        //this.pixelPerfect = false;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Rectangle.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var precision = this._positionPrecision;\r\n        if (this.pixelPerfect) {\r\n            precision = 0;\r\n        }\r\n        var w = $math.round(this.innerWidth, precision);\r\n        var h = $math.round(this.innerHeight, precision);\r\n        this.element.attr({\r\n            \"width\": w,\r\n            \"height\": h\r\n        });\r\n    };\r\n    /**\r\n     * Measures the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Rectangle.prototype.measureElement = function () {\r\n    };\r\n    Object.defineProperty(Rectangle.prototype, \"bbox\", {\r\n        /**\r\n         * Returns bounding box (square) for this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        get: function () {\r\n            if (this.definedBBox) {\r\n                return this.definedBBox;\r\n            }\r\n            if (this.isMeasured) {\r\n                return {\r\n                    x: 0,\r\n                    y: 0,\r\n                    width: this.innerWidth,\r\n                    height: this.innerHeight\r\n                };\r\n            }\r\n            else {\r\n                return { x: 0, y: 0, width: 0, height: 0 };\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Rectangle;\r\n}(Sprite));\r\nexport { Rectangle };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Rectangle\"] = Rectangle;\r\n//# sourceMappingURL=Rectangle.js.map","/**\r\n * A collection of color-related functions\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $math from \"./Math\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Define named colors for easy resolution to RGB.\r\n */\r\nvar namedColors = {\r\n    aliceblue: { r: 240, g: 248, b: 255 },\r\n    antiquewhite: { r: 250, g: 235, b: 215 },\r\n    aqua: { r: 0, g: 255, b: 255 },\r\n    aquamarine: { r: 127, g: 255, b: 212 },\r\n    azure: { r: 240, g: 255, b: 255 },\r\n    beige: { r: 245, g: 245, b: 220 },\r\n    bisque: { r: 255, g: 228, b: 196 },\r\n    black: { r: 0, g: 0, b: 0 },\r\n    blanchedalmond: { r: 255, g: 235, b: 205 },\r\n    blue: { r: 0, g: 0, b: 255 },\r\n    blueviolet: { r: 138, g: 43, b: 226 },\r\n    brown: { r: 165, g: 42, b: 42 },\r\n    burlywood: { r: 222, g: 184, b: 135 },\r\n    cadetblue: { r: 95, g: 158, b: 160 },\r\n    chartreuse: { r: 127, g: 255, b: 0 },\r\n    chocolate: { r: 210, g: 105, b: 30 },\r\n    coral: { r: 255, g: 127, b: 80 },\r\n    cornflowerblue: { r: 100, g: 149, b: 237 },\r\n    cornsilk: { r: 255, g: 248, b: 220 },\r\n    crimson: { r: 220, g: 20, b: 60 },\r\n    cyan: { r: 0, g: 255, b: 255 },\r\n    darkblue: { r: 0, g: 0, b: 139 },\r\n    darkcyan: { r: 0, g: 139, b: 139 },\r\n    darkgoldenrod: { r: 184, g: 134, b: 11 },\r\n    darkgray: { r: 169, g: 169, b: 169 },\r\n    darkgrey: { r: 169, g: 169, b: 169 },\r\n    darkgreen: { r: 0, g: 100, b: 0 },\r\n    darkkhaki: { r: 189, g: 183, b: 107 },\r\n    darkmagenta: { r: 139, g: 0, b: 139 },\r\n    darkolivegreen: { r: 85, g: 107, b: 47 },\r\n    darkorange: { r: 255, g: 140, b: 0 },\r\n    darkorchid: { r: 153, g: 50, b: 204 },\r\n    darkred: { r: 139, g: 0, b: 0 },\r\n    darksalmon: { r: 233, g: 150, b: 122 },\r\n    darkseagreen: { r: 143, g: 188, b: 143 },\r\n    darkslateblue: { r: 72, g: 61, b: 139 },\r\n    darkslategray: { r: 47, g: 79, b: 79 },\r\n    darkslategrey: { r: 47, g: 79, b: 79 },\r\n    darkturquoise: { r: 0, g: 206, b: 209 },\r\n    darkviolet: { r: 148, g: 0, b: 211 },\r\n    deeppink: { r: 255, g: 20, b: 147 },\r\n    deepskyblue: { r: 0, g: 191, b: 255 },\r\n    dimgray: { r: 105, g: 105, b: 105 },\r\n    dimgrey: { r: 105, g: 105, b: 105 },\r\n    dodgerblue: { r: 30, g: 144, b: 255 },\r\n    firebrick: { r: 178, g: 34, b: 34 },\r\n    floralwhite: { r: 255, g: 250, b: 240 },\r\n    forestgreen: { r: 34, g: 139, b: 34 },\r\n    fuchsia: { r: 255, g: 0, b: 255 },\r\n    gainsboro: { r: 220, g: 220, b: 220 },\r\n    ghostwhite: { r: 248, g: 248, b: 255 },\r\n    gold: { r: 255, g: 215, b: 0 },\r\n    goldenrod: { r: 218, g: 165, b: 32 },\r\n    gray: { r: 128, g: 128, b: 128 },\r\n    grey: { r: 128, g: 128, b: 128 },\r\n    green: { r: 0, g: 128, b: 0 },\r\n    greenyellow: { r: 173, g: 255, b: 47 },\r\n    honeydew: { r: 240, g: 255, b: 240 },\r\n    hotpink: { r: 255, g: 105, b: 180 },\r\n    indianred: { r: 205, g: 92, b: 92 },\r\n    indigo: { r: 75, g: 0, b: 130 },\r\n    ivory: { r: 255, g: 255, b: 240 },\r\n    khaki: { r: 240, g: 230, b: 140 },\r\n    lavender: { r: 230, g: 230, b: 250 },\r\n    lavenderblush: { r: 255, g: 240, b: 245 },\r\n    lawngreen: { r: 124, g: 252, b: 0 },\r\n    lemonchiffon: { r: 255, g: 250, b: 205 },\r\n    lightblue: { r: 173, g: 216, b: 230 },\r\n    lightcoral: { r: 240, g: 128, b: 128 },\r\n    lightcyan: { r: 224, g: 255, b: 255 },\r\n    lightgoldenrodyellow: { r: 250, g: 250, b: 210 },\r\n    lightgray: { r: 211, g: 211, b: 211 },\r\n    lightgrey: { r: 211, g: 211, b: 211 },\r\n    lightgreen: { r: 144, g: 238, b: 144 },\r\n    lightpink: { r: 255, g: 182, b: 193 },\r\n    lightsalmon: { r: 255, g: 160, b: 122 },\r\n    lightseagreen: { r: 32, g: 178, b: 170 },\r\n    lightskyblue: { r: 135, g: 206, b: 250 },\r\n    lightslategray: { r: 119, g: 136, b: 153 },\r\n    lightslategrey: { r: 119, g: 136, b: 153 },\r\n    lightsteelblue: { r: 176, g: 196, b: 222 },\r\n    lightyellow: { r: 255, g: 255, b: 224 },\r\n    lime: { r: 0, g: 255, b: 0 },\r\n    limegreen: { r: 50, g: 205, b: 50 },\r\n    linen: { r: 250, g: 240, b: 230 },\r\n    magenta: { r: 255, g: 0, b: 255 },\r\n    maroon: { r: 128, g: 0, b: 0 },\r\n    mediumaquamarine: { r: 102, g: 205, b: 170 },\r\n    mediumblue: { r: 0, g: 0, b: 205 },\r\n    mediumorchid: { r: 186, g: 85, b: 211 },\r\n    mediumpurple: { r: 147, g: 112, b: 219 },\r\n    mediumseagreen: { r: 60, g: 179, b: 113 },\r\n    mediumslateblue: { r: 123, g: 104, b: 238 },\r\n    mediumspringgreen: { r: 0, g: 250, b: 154 },\r\n    mediumturquoise: { r: 72, g: 209, b: 204 },\r\n    mediumvioletred: { r: 199, g: 21, b: 133 },\r\n    midnightblue: { r: 25, g: 25, b: 112 },\r\n    mintcream: { r: 245, g: 255, b: 250 },\r\n    mistyrose: { r: 255, g: 228, b: 225 },\r\n    moccasin: { r: 255, g: 228, b: 181 },\r\n    navajowhite: { r: 255, g: 222, b: 173 },\r\n    navy: { r: 0, g: 0, b: 128 },\r\n    oldlace: { r: 253, g: 245, b: 230 },\r\n    olive: { r: 128, g: 128, b: 0 },\r\n    olivedrab: { r: 107, g: 142, b: 35 },\r\n    orange: { r: 255, g: 165, b: 0 },\r\n    orangered: { r: 255, g: 69, b: 0 },\r\n    orchid: { r: 218, g: 112, b: 214 },\r\n    palegoldenrod: { r: 238, g: 232, b: 170 },\r\n    palegreen: { r: 152, g: 251, b: 152 },\r\n    paleturquoise: { r: 175, g: 238, b: 238 },\r\n    palevioletred: { r: 219, g: 112, b: 147 },\r\n    papayawhip: { r: 255, g: 239, b: 213 },\r\n    peachpuff: { r: 255, g: 218, b: 185 },\r\n    peru: { r: 205, g: 133, b: 63 },\r\n    pink: { r: 255, g: 192, b: 203 },\r\n    plum: { r: 221, g: 160, b: 221 },\r\n    powderblue: { r: 176, g: 224, b: 230 },\r\n    purple: { r: 128, g: 0, b: 128 },\r\n    rebeccapurple: { r: 102, g: 51, b: 153 },\r\n    red: { r: 255, g: 0, b: 0 },\r\n    rosybrown: { r: 188, g: 143, b: 143 },\r\n    royalblue: { r: 65, g: 105, b: 225 },\r\n    saddlebrown: { r: 139, g: 69, b: 19 },\r\n    salmon: { r: 250, g: 128, b: 114 },\r\n    sandybrown: { r: 244, g: 164, b: 96 },\r\n    seagreen: { r: 46, g: 139, b: 87 },\r\n    seashell: { r: 255, g: 245, b: 238 },\r\n    sienna: { r: 160, g: 82, b: 45 },\r\n    silver: { r: 192, g: 192, b: 192 },\r\n    skyblue: { r: 135, g: 206, b: 235 },\r\n    slateblue: { r: 106, g: 90, b: 205 },\r\n    slategray: { r: 112, g: 128, b: 144 },\r\n    slategrey: { r: 112, g: 128, b: 144 },\r\n    snow: { r: 255, g: 250, b: 250 },\r\n    springgreen: { r: 0, g: 255, b: 127 },\r\n    steelblue: { r: 70, g: 130, b: 180 },\r\n    tan: { r: 210, g: 180, b: 140 },\r\n    teal: { r: 0, g: 128, b: 128 },\r\n    thistle: { r: 216, g: 191, b: 216 },\r\n    tomato: { r: 255, g: 99, b: 71 },\r\n    turquoise: { r: 64, g: 224, b: 208 },\r\n    violet: { r: 238, g: 130, b: 238 },\r\n    wheat: { r: 245, g: 222, b: 179 },\r\n    white: { r: 255, g: 255, b: 255 },\r\n    whitesmoke: { r: 245, g: 245, b: 245 },\r\n    yellow: { r: 255, g: 255, b: 0 },\r\n    yellowgreen: { r: 154, g: 205, b: 50 }\r\n};\r\n/**\r\n * Tries to resolve a named color into a hex color representation.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value  Color name\r\n * @return Color\r\n * @deprecated\r\n * @hidden\r\n */\r\n/*export function resolveNamedColor(value: string): Color {\r\n    return (<any>namedColors)[value] ? (<any>namedColors)[value] : undefined;\r\n}*/\r\n/**\r\n * Converts a proper color hex code (i.e. \"#FF5500\") or named color (i.e. \"red\")\r\n * into an {iRGB} object. If the code is not correctly formatted, an RGB of\r\n * black is returned.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color  Color code\r\n * @param alpha  Alpha (0-1)\r\n * @return RGB\r\n */\r\nexport function rgb(color, alpha) {\r\n    // Init return value\r\n    var rgb;\r\n    // Try resolving color format\r\n    // Named color?\r\n    if (namedColors[color]) {\r\n        rgb = namedColors[color];\r\n    }\r\n    // Hex code?\r\n    else if (color.charAt(0) === \"#\") {\r\n        rgb = hexToRgb(color);\r\n    }\r\n    // rgb() format?\r\n    else if (color.match(/^rgba?\\(/)) {\r\n        rgb = rgbaToRgb(color);\r\n    }\r\n    // Was not able to resolve?\r\n    if (!rgb) {\r\n        rgb = { r: 0, g: 0, b: 0, a: 1 };\r\n    }\r\n    // Set alpha\r\n    if ($type.hasValue(alpha)) {\r\n        rgb.a = alpha;\r\n    }\r\n    return rgb;\r\n}\r\n/**\r\n * Converts a hex color code (i.e. \"#FF5500\") to an [[iRGB]] object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param hex  Hex color code\r\n * @return RGB\r\n */\r\nexport function hexToRgb(hex) {\r\n    // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n    hex = hex.replace(shorthandRegex, function (m, r, g, b) {\r\n        return r + r + g + g + b + b;\r\n    });\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16)\r\n    } : hexToRgbWithAlpha(hex);\r\n}\r\n/**\r\n * Converts a hex color code with alpha (i.e. \"#FF5500128\") to an [[iRGB]] object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param hex  Hex color code\r\n * @return RGB\r\n */\r\nexport function hexToRgbWithAlpha(hex) {\r\n    // Expand shorthand form (e.g. \"03FA\") to full form (e.g. \"0033FFAA\")\r\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n    hex = hex.replace(shorthandRegex, function (m, r, g, b, a) {\r\n        return r + r + g + g + b + b + a + a;\r\n    });\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16),\r\n        a: parseInt(result[4], 16) / 256\r\n    } : undefined;\r\n}\r\n/**\r\n * Converts color strings in format like `rgb()` and `rgba()` to [[iRGB]].\r\n *\r\n * @ignore Exclude from docs\r\n * @param color  Color code\r\n * @return RGB\r\n */\r\nexport function rgbaToRgb(color) {\r\n    color = color.replace(/[ ]/g, \"\");\r\n    // Init\r\n    var matches = color.match(/^rgb\\(([0-9]*),([0-9]*),([0-9]*)\\)/i);\r\n    // Try rgb() format\r\n    if (matches) {\r\n        matches.push(\"1\");\r\n    }\r\n    else {\r\n        matches = color.match(/^rgba\\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\\)/i);\r\n        if (!matches) {\r\n            return;\r\n        }\r\n    }\r\n    return {\r\n        r: parseInt(matches[1]),\r\n        g: parseInt(matches[2]),\r\n        b: parseInt(matches[3]),\r\n        a: parseFloat(matches[4])\r\n    };\r\n}\r\n/**\r\n * Converts an [[iRGB]] object into a hex color code.\r\n *\r\n * @ignore Exclude from docs\r\n * @param rgb  RGB\r\n * @return Hex color code\r\n */\r\nexport function rgbToHex(rgb) {\r\n    return \"#\" + pad2(rgb.r.toString(16)) + pad2(rgb.g.toString(16)) + pad2(rgb.b.toString(16));\r\n}\r\n/**\r\n * Converts an [[iRGB]] object into its `rgb()` or `rgba()` representation.\r\n *\r\n * @ignore Exclude from docs\r\n * @param rgb  RGB\r\n * @return `rgba()` syntax\r\n */\r\nexport function rgbToRGBA(rgb) {\r\n    if ($type.hasValue(rgb.a) && rgb.a !== 1) {\r\n        return \"rgba(\" + rgb.r + \",\" + rgb.g + \",\" + rgb.b + \",\" + rgb.a + \")\";\r\n    }\r\n    else {\r\n        return \"rgb(\" + rgb.r + \",\" + rgb.g + \",\" + rgb.b + \")\";\r\n    }\r\n}\r\n/**\r\n * Pads a 1-digit string with a zero.\r\n *\r\n * @ignore Exclude from docs\r\n * @param c  Input string\r\n * @return Padded string\r\n */\r\nexport function pad2(c) {\r\n    return c.length == 1 ? \"0\" + c : \"\" + c;\r\n}\r\n/**\r\n * Returns an intermediate color between two colors based on the relative\r\n * position. Position needs to be in range between 0 and 1. Zero meaning the\r\n * resulting color will be closest to the first reference color.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color1   First reference color\r\n * @param color2   Second reference color\r\n * @param percent  Relative position (0-1)\r\n * @return Interpolated color\r\n */\r\nexport function interpolate(rgb1, rgb2, percent) {\r\n    percent = $math.fitToRange(percent, 0, 1);\r\n    if (rgb1) {\r\n        if (rgb2) {\r\n            return {\r\n                r: rgb1.r + Math.round((rgb2.r - rgb1.r) * percent),\r\n                g: rgb1.g + Math.round((rgb2.g - rgb1.g) * percent),\r\n                b: rgb1.b + Math.round((rgb2.b - rgb1.b) * percent),\r\n                a: (rgb1.a || 1) + Math.round(((rgb2.a || 1) - (rgb1.a || 1)) * percent)\r\n            };\r\n        }\r\n        else {\r\n            return rgb1;\r\n        }\r\n    }\r\n    else if (rgb2) {\r\n        return rgb2;\r\n    }\r\n    else {\r\n        return rgb1;\r\n    }\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the reference color.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color    Reference color\r\n * @param percent  Brightness percent\r\n * @return Hex code of the new color\r\n */\r\nexport function lighten(rgb, percent) {\r\n    if (rgb) {\r\n        return {\r\n            r: Math.max(0, Math.min(255, rgb.r + getLightnessStep(rgb.r, percent))),\r\n            g: Math.max(0, Math.min(255, rgb.g + getLightnessStep(rgb.g, percent))),\r\n            b: Math.max(0, Math.min(255, rgb.b + getLightnessStep(rgb.b, percent))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Gets lightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getLightnessStep(value, percent) {\r\n    var base = percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the source `color`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color    Source color\r\n * @param percent  Brightness percent\r\n * @return New color\r\n */\r\nexport function brighten(rgb, percent) {\r\n    if (rgb) {\r\n        var base = Math.min(Math.max(rgb.r, rgb.g, rgb.b), 230);\r\n        //let base = Math.max(rgb.r, rgb.g, rgb.b);\r\n        var step = getLightnessStep(base, percent);\r\n        return {\r\n            r: Math.max(0, Math.min(255, Math.round(rgb.r + step))),\r\n            g: Math.max(0, Math.min(255, Math.round(rgb.g + step))),\r\n            b: Math.max(0, Math.min(255, Math.round(rgb.b + step))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Returns brightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getBrightnessStep(value, percent) {\r\n    var base = 255; //percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns a new [[iRGB]] object based on `rgb` parameter with specific\r\n * saturation applied.\r\n *\r\n * `saturation` can be in the range of 0 (fully desaturated) to 1 (fully\r\n * saturated).\r\n *\r\n * @ignore Exclude from docs\r\n * @param color       Base color\r\n * @param saturation  Saturation (0-1)\r\n * @return New color\r\n */\r\nexport function saturate(rgb, saturation) {\r\n    if (rgb == null || saturation == 1) {\r\n        return rgb;\r\n    }\r\n    var hsl = rgbToHsl(rgb);\r\n    hsl.s = saturation;\r\n    return hslToRgb(hsl);\r\n}\r\n/*\r\n// not used\r\nexport function rgbToMatrix(rgb: iRGB): string {\r\n    let r = $type.toText($math.round((rgb.r || 0) / 255, 10));\r\n    let g = $type.toText($math.round((rgb.g || 0) / 255, 10));\r\n    let b = $type.toText($math.round((rgb.b || 0) / 255, 10));\r\n    let a = $type.toText(rgb.a || 1);\r\n    return\t      r + \" 0 0 0 0\" +\r\n                    \" 0 \" + g + \" 0 0 0\" +\r\n                    \" 0 0 \" + b + \" 0 0\" +\r\n                    \" 0 0 0 \" + a + \" 0\";\r\n}\r\n*/\r\n/**\r\n * The functions below are taken and adapted from Garry Tan's blog post:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * The further attributions go mjijackson.com, which now seems to be defunct.\r\n */\r\n/**\r\n * Converts an HSL color value to RGB. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes h, s, and l are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @ignore Exclude from docs\r\n * @param h       The hue\r\n * @param s       The saturation\r\n * @param l       The lightness\r\n * @return The RGB representation\r\n */\r\nexport function hslToRgb(color) {\r\n    var r, g, b;\r\n    var h = color.h;\r\n    var s = color.s;\r\n    var l = color.l;\r\n    if (s == 0) {\r\n        r = g = b = l; // achromatic\r\n    }\r\n    else {\r\n        var hue2rgb = function hue2rgb(p, q, t) {\r\n            if (t < 0) {\r\n                t += 1;\r\n            }\r\n            if (t > 1) {\r\n                t -= 1;\r\n            }\r\n            if (t < 1 / 6) {\r\n                return p + (q - p) * 6 * t;\r\n            }\r\n            if (t < 1 / 2) {\r\n                return q;\r\n            }\r\n            if (t < 2 / 3) {\r\n                return p + (q - p) * (2 / 3 - t) * 6;\r\n            }\r\n            return p;\r\n        };\r\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        var p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n}\r\n/**\r\n * Converts an RGB color value to HSL. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and l in the set [0, 1].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @ignore Exclude from docs\r\n * @param r       The red color value\r\n * @param g       The green color value\r\n * @param b       The blue color value\r\n * @return The HSL representation\r\n */\r\nexport function rgbToHsl(color) {\r\n    var r = color.r / 255;\r\n    var g = color.g / 255;\r\n    var b = color.b / 255;\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var h = 0;\r\n    var s = 0;\r\n    var l = (max + min) / 2;\r\n    if (max === min) {\r\n        h = s = 0; // achromatic\r\n    }\r\n    else {\r\n        var d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return {\r\n        h: h,\r\n        s: s,\r\n        l: l\r\n    };\r\n}\r\n/**\r\n * Converts an RGB color value to HSV. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and v in the set [0, 1].\r\n *\r\n * @ignore Exclude from docs\r\n * @param   Number  r       The red color value\r\n * @param   Number  g       The green color value\r\n * @param   Number  b       The blue color value\r\n * @return  Array           The HSV representation\r\n */\r\nexport function rgbToHsv(color) {\r\n    var r = color.r / 255;\r\n    var g = color.g / 255;\r\n    var b = color.b / 255;\r\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n    var h = 0;\r\n    var s = 0;\r\n    var v = max;\r\n    var d = max - min;\r\n    s = max == 0 ? 0 : d / max;\r\n    if (max == min) {\r\n        h = 0; // achromatic\r\n    }\r\n    else {\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return {\r\n        h: h,\r\n        s: s,\r\n        v: v\r\n    };\r\n}\r\n/**\r\n * Converts an HSV color value to RGB. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\r\n * Assumes h, s, and v are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * @ignore Exclude from docs\r\n * @param   Number  h       The hue\r\n * @param   Number  s       The saturation\r\n * @param   Number  v       The value\r\n * @return  Array           The RGB representation\r\n */\r\nexport function hsvToRgb(color) {\r\n    var r = 0;\r\n    var g = 0;\r\n    var b = 0;\r\n    var h = color.h;\r\n    var s = color.s;\r\n    var v = color.v;\r\n    var i = Math.floor(h * 6);\r\n    var f = h * 6 - i;\r\n    var p = v * (1 - s);\r\n    var q = v * (1 - f * s);\r\n    var t = v * (1 - (1 - f) * s);\r\n    switch (i % 6) {\r\n        case 0:\r\n            r = v;\r\n            g = t;\r\n            b = p;\r\n            break;\r\n        case 1:\r\n            r = q;\r\n            g = v;\r\n            b = p;\r\n            break;\r\n        case 2:\r\n            r = p;\r\n            g = v;\r\n            b = t;\r\n            break;\r\n        case 3:\r\n            r = p;\r\n            g = q;\r\n            b = v;\r\n            break;\r\n        case 4:\r\n            r = t;\r\n            g = p;\r\n            b = v;\r\n            break;\r\n        case 5:\r\n            r = v;\r\n            g = p;\r\n            b = q;\r\n            break;\r\n    }\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n}\r\n/**\r\n * Returns `true` if color is \"light\". Useful indetermining which contrasting\r\n * color to use for elements over this color. E.g.: you would want to use\r\n * black text over light background, and vice versa.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color  Source color\r\n * @return Light?\r\n */\r\nexport function isLight(color) {\r\n    return ((color.r * 299) + (color.g * 587) + (color.b * 114)) / 1000 >= 128;\r\n}\r\n//# sourceMappingURL=Colors.js.map","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","/**\r\n * Interaction manages all aspects of user interaction - mouse move,\r\n * click, hover, drag events, touch gestures.\r\n *\r\n * [[InteractionObject]] elements that want to use certain events, must attach event\r\n * listeners to Interaction instance.\r\n *\r\n * Interaction itself will not modify [[InteractionObject]] elements, it will be up to\r\n * those elements to handle interaction information received via event triggers.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObjectEvents } from \"../Base\";\r\nimport { List } from \"../utils/List\";\r\nimport { Animation } from \"../utils/Animation\";\r\nimport { MultiDisposer } from \"../utils/Disposer\";\r\nimport { InteractionObject } from \"./InteractionObject\";\r\nimport { InteractionKeyboardObject } from \"./InteractionKeyboardObject\";\r\nimport { Dictionary } from \"../utils/Dictionary\";\r\nimport { Inertia } from \"./Inertia\";\r\nimport { addEventListener } from \"../utils/DOM\";\r\nimport { keyboard } from \"../utils/Keyboard\";\r\nimport { system } from \"./../System\";\r\nimport * as $ease from \"../utils/Ease\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $array from \"../utils/Array\";\r\nimport * as $dom from \"../utils/DOM\";\r\nimport * as $iter from \"../utils/Iterator\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $time from \"../utils/Time\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n* Interaction manages all aspects of user interaction - mouse move,\r\n* click, hover, drag events, touch gestures.\r\n*\r\n* [[InteractionObject]] elements that want to use certain events, must attach event\r\n* listeners to Interaction instance.\r\n*\r\n* Interaction itself will not modify [[InteractionObject]] elements, it will be up to\r\n* those elements to handle interaction information received via event triggers.\r\n*\r\n* @see {@link IInteractionEvents} for a list of available events\r\n*/\r\nvar Interaction = /** @class */ (function (_super) {\r\n    __extends(Interaction, _super);\r\n    /**\r\n     * Constructor. Sets up universal document-wide move events to handle stuff\r\n     * outside particular chart container.\r\n     */\r\n    function Interaction() {\r\n        var _this = \r\n        // Call super\r\n        _super.call(this) || this;\r\n        /**\r\n         * An indicator of global events were already initialized.\r\n         */\r\n        _this._globalEventsAdded = false;\r\n        /**\r\n         * Holds which mouse event listeners to use.\r\n         */\r\n        _this._pointerEvents = {\r\n            \"pointerdown\": \"mousedown\",\r\n            \"pointerup\": \"mouseup\",\r\n            \"pointermove\": \"mousemove\",\r\n            \"pointercancel\": \"mouseup\",\r\n            \"pointerover\": \"mouseover\",\r\n            \"pointerout\": \"mouseout\",\r\n            \"wheel\": \"wheel\"\r\n        };\r\n        /**\r\n         * Indicates if Interaction should use only \"pointer\" type events, like\r\n         * \"pointermove\", available in all modern browsers, ignoring \"legacy\"\r\n         * events, like \"touchmove\".\r\n         */\r\n        _this._usePointerEventsOnly = false;\r\n        /**\r\n         * Use only touch events (for touch only devices such as tablets and phones)\r\n         */\r\n        _this._useTouchEventsOnly = false;\r\n        /**\r\n         * Add special hover events. Normally, touch device tap will also simulate\r\n         * hover event. On some devices (ahem iOS) we want to prevent that so that\r\n         * over/out events are not duplicated.\r\n         */\r\n        _this._addHoverEvents = true;\r\n        /**\r\n         * Indicates if passive mode options is supported by this browser.\r\n         */\r\n        _this._passiveSupported = false;\r\n        /**\r\n         * Holds list of delayed events\r\n         */\r\n        _this._delayedEvents = { out: [] };\r\n        /**\r\n         * List of objects that current have a pointer hovered over them.\r\n         */\r\n        _this.overObjects = new List();\r\n        /**\r\n         * List of objects that currently has a pressed pointer.\r\n         */\r\n        _this.downObjects = new List();\r\n        /**\r\n         * List of objects that need mouse position to be reported to them.\r\n         */\r\n        _this.trackedObjects = new List();\r\n        /**\r\n         * List of objects that are currently being dragged.\r\n         */\r\n        _this.transformedObjects = new List();\r\n        /**\r\n         * Holds all known pointers.\r\n         */\r\n        _this.pointers = new Dictionary();\r\n        /**\r\n         * Inertia options that need to be applied to after element drag, if it's\r\n         * `inert = true`.\r\n         *\r\n         * This is just a default, which can and probably will be overridden by\r\n         * actual elements.\r\n         */\r\n        _this.inertiaOptions = new Dictionary();\r\n        /**\r\n         * Default options for click events. These can be overridden in\r\n         * [[InteractionObject]].\r\n         */\r\n        _this.hitOptions = {\r\n            //\"holdTime\": 1000,\r\n            \"doubleHitTime\": 300,\r\n            //\"delayFirstHit\": false,\r\n            \"hitTolerance\": 10,\r\n            \"noFocus\": true\r\n        };\r\n        /**\r\n         * Default options for hover events. These can be overridden in\r\n         * [[InteractionObject]].\r\n         */\r\n        _this.hoverOptions = {\r\n            \"touchOutBehavior\": \"leave\",\r\n            \"touchOutDelay\": 1000\r\n        };\r\n        /**\r\n         * Default options for detecting a swipe gesture. These can be overridden in\r\n         * [[InteractionObject]].\r\n         */\r\n        _this.swipeOptions = {\r\n            \"time\": 500,\r\n            \"verticalThreshold\": 75,\r\n            \"horizontalThreshold\": 30\r\n        };\r\n        /**\r\n         * Default options for keyboard operations. These can be overridden in\r\n         * [[InteractionObject]].\r\n         */\r\n        _this.keyboardOptions = {\r\n            \"speed\": 0.1,\r\n            \"accelleration\": 1.2,\r\n            \"accellerationDelay\": 2000\r\n        };\r\n        /**\r\n         * Default options for keyboard operations. These can be overridden in\r\n         * [[InteractionObject]].\r\n         *\r\n         * @since 4.5.14\r\n         */\r\n        _this.mouseOptions = {\r\n            \"sensitivity\": 1\r\n        };\r\n        // Set class name\r\n        _this.className = \"Interaction\";\r\n        // Create InteractionObject for <body>\r\n        _this.body = _this.getInteraction(document.body);\r\n        _this._disposers.push(_this.body);\r\n        // Detect browser capabilities and determine what event listeners to use\r\n        if (window.hasOwnProperty(\"PointerEvent\")) {\r\n            // IE10+/Edge without touch controls enabled\r\n            _this._pointerEvents.pointerdown = \"pointerdown\";\r\n            _this._pointerEvents.pointerup = \"pointerup\";\r\n            _this._pointerEvents.pointermove = \"pointermove\";\r\n            _this._pointerEvents.pointercancel = \"pointercancel\";\r\n            _this._pointerEvents.pointerover = \"pointerover\";\r\n            _this._pointerEvents.pointerout = \"pointerout\";\r\n            //this._usePointerEventsOnly = true;\r\n        }\r\n        else if (window.hasOwnProperty(\"MSPointerEvent\")) {\r\n            // IE9\r\n            _this._pointerEvents.pointerdown = \"MSPointerDown\";\r\n            _this._pointerEvents.pointerup = \"MSPointerUp\";\r\n            _this._pointerEvents.pointermove = \"MSPointerMove\";\r\n            _this._pointerEvents.pointercancel = \"MSPointerUp\";\r\n            _this._pointerEvents.pointerover = \"MSPointerOver\";\r\n            _this._pointerEvents.pointerout = \"MSPointerOut\";\r\n            //this._usePointerEventsOnly = true;\r\n        }\r\n        else if ((typeof matchMedia !== \"undefined\") && matchMedia('(pointer:fine)').matches) {\r\n            // This is only for Safari as it does not support PointerEvent\r\n            // Do nothing and let it use regular `mouse*` events\r\n            // Hi Apple ;)\r\n            // Additionally disable hover events for iOS devices\r\n            if ('ontouchstart' in window) {\r\n                _this._addHoverEvents = false;\r\n                _this._useTouchEventsOnly = true;\r\n            }\r\n        }\r\n        else if (window.navigator.userAgent.match(/MSIE /)) {\r\n            // Oh looky, an MSIE that does not support PointerEvent. Hi granpa IE9!\r\n            _this._usePointerEventsOnly = true;\r\n        }\r\n        else if (_this.fullFF()) {\r\n            // Old FF, let's use regular events.\r\n            // (Newer FFs would be detected by the PointerEvent availability check)\r\n            _this._usePointerEventsOnly = true;\r\n        }\r\n        else {\r\n            // Uses defaults for normal browsers\r\n            // We also assume that this must be a touch device that does not have\r\n            // any pointer events\r\n            _this._useTouchEventsOnly = true;\r\n        }\r\n        // Detect if device has a mouse\r\n        // This is turning out to be not reliable\r\n        // @todo remove\r\n        /*if (!window.navigator.msPointerEnabled && (typeof matchMedia !== \"undefined\") && !matchMedia('(pointer:fine)').matches && !this.fullFF()) {\r\n            this._useTouchEventsOnly = true;\r\n        }*/\r\n        // Detect proper mouse wheel events\r\n        if (\"onwheel\" in document.createElement(\"div\")) {\r\n            // Modern browsers\r\n            _this._pointerEvents.wheel = \"wheel\";\r\n        }\r\n        else if ($type.hasValue(document.onmousewheel)) {\r\n            // Webkit and IE support at least \"mousewheel\"\r\n            _this._pointerEvents.wheel = \"mousewheel\";\r\n        }\r\n        // Set up default inertia options\r\n        _this.inertiaOptions.setKey(\"move\", {\r\n            \"time\": 100,\r\n            \"duration\": 500,\r\n            \"factor\": 1,\r\n            \"easing\": $ease.polyOut3\r\n        });\r\n        _this.inertiaOptions.setKey(\"resize\", {\r\n            \"time\": 100,\r\n            \"duration\": 500,\r\n            \"factor\": 1,\r\n            \"easing\": $ease.polyOut3\r\n        });\r\n        // Set the passive mode support\r\n        _this._passiveSupported = Interaction.passiveSupported;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * This is a nasty detection for Firefox. The reason why we have is that\r\n     * Firefox ESR version does not support matchMedia correctly.\r\n     *\r\n     * On iOS, Firefox uses different userAgent, so we don't have to detect iOS.\r\n     *\r\n     * @return Full Firefox?\r\n     */\r\n    Interaction.prototype.fullFF = function () {\r\n        return (window.navigator.userAgent.match(/Firefox/)) && !(window.navigator.userAgent.match(/Android/));\r\n    };\r\n    Interaction.prototype.debug = function () { };\r\n    /**\r\n     * ==========================================================================\r\n     * Processing\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Sets up global events.\r\n     *\r\n     * We need this so that we can track drag movement beyond chart's container.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Interaction.prototype.addGlobalEvents = function () {\r\n        var _this = this;\r\n        if (!this._globalEventsAdded) {\r\n            if (!this._useTouchEventsOnly) {\r\n                this._disposers.push(addEventListener(document, this._pointerEvents.pointerdown, function (ev) { _this.handleGlobalPointerDown(ev); }));\r\n                this._disposers.push(addEventListener(document, this._pointerEvents.pointermove, function (ev) { _this.handleGlobalPointerMove(ev); }));\r\n                this._disposers.push(addEventListener(document, this._pointerEvents.pointerup, function (ev) { _this.handleGlobalPointerUp(ev); }));\r\n                this._disposers.push(addEventListener(document, this._pointerEvents.pointercancel, function (ev) { _this.handleGlobalPointerUp(ev, true); }));\r\n                this._disposers.push(addEventListener(document, \"mouseenter\", function (ev) {\r\n                    if (!$type.hasValue(ev.relatedTarget) && (ev.buttons == 0 || ev.which == 0)) {\r\n                        _this.handleDocumentLeave(ev);\r\n                    }\r\n                }));\r\n            }\r\n            // No need to duplicate events for hubrid systems that support both\r\n            // pointer events and touch events. Touch events are need only for\r\n            // some touch-only systems, like Mobile Safari.\r\n            if (!this._usePointerEventsOnly) {\r\n                this._disposers.push(addEventListener(document, \"touchstart\", function (ev) { _this.handleGlobalTouchStart(ev); }));\r\n                this._disposers.push(addEventListener(document, \"touchmove\", function (ev) { _this.handleGlobalTouchMove(ev); }));\r\n                this._disposers.push(addEventListener(document, \"touchend\", function (ev) { _this.handleGlobalTouchEnd(ev); }));\r\n            }\r\n            this._disposers.push(addEventListener(document, \"keydown\", function (ev) { _this.handleGlobalKeyDown(ev); }));\r\n            this._disposers.push(addEventListener(document, \"keyup\", function (ev) { _this.handleGlobalKeyUp(ev); }));\r\n            this._globalEventsAdded = true;\r\n        }\r\n    };\r\n    /**\r\n     * Sets if [[InteractionObject]] is clickable.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io [[InteractionObject]] instance\r\n     */\r\n    Interaction.prototype.processClickable = function (io) {\r\n        // Add or remove touch events\r\n        this.processTouchable(io);\r\n    };\r\n    /**\r\n     * Sets if [[InteractionObject]] will display context menu when right-clicked.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io [[InteractionObject]] instance\r\n     */\r\n    Interaction.prototype.processContextMenu = function (io) {\r\n        if (io.contextMenuDisabled) {\r\n            if (!io.eventDisposers.hasKey(\"contextMenuDisabled\")) {\r\n                io.eventDisposers.setKey(\"contextMenuDisabled\", addEventListener(io.element, \"contextmenu\", function (e) {\r\n                    e.preventDefault();\r\n                }));\r\n            }\r\n        }\r\n        else {\r\n            if (io.eventDisposers.hasKey(\"contextMenuDisabled\")) {\r\n                io.eventDisposers.getKey(\"contextMenuDisabled\").dispose();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets if [[InteractionObject]] is hoverable.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io [[InteractionObject]] instance\r\n     */\r\n    Interaction.prototype.processHoverable = function (io) {\r\n        var _this = this;\r\n        if (io.hoverable || io.trackable) {\r\n            // Add global events\r\n            this.addGlobalEvents();\r\n            // Add hover styles\r\n            this.applyCursorOverStyle(io);\r\n            // Add local events\r\n            if (!io.eventDisposers.hasKey(\"hoverable\") && this._addHoverEvents) {\r\n                io.eventDisposers.setKey(\"hoverable\", new MultiDisposer([\r\n                    addEventListener(io.element, this._pointerEvents.pointerout, function (e) { return _this.handlePointerOut(io, e); }),\r\n                    addEventListener(io.element, this._pointerEvents.pointerover, function (e) { return _this.handlePointerOver(io, e); })\r\n                ]));\r\n            }\r\n            if (io.trackable) {\r\n                //sprite.addEventListener(\"touchmove\", this.handleTouchMove, false, this);\r\n            }\r\n        }\r\n        else {\r\n            var disposer = io.eventDisposers.getKey(\"hoverable\");\r\n            if (disposer != null) {\r\n                disposer.dispose();\r\n                io.eventDisposers.removeKey(\"hoverable\");\r\n            }\r\n        }\r\n        // Add or remove touch events\r\n        this.processTouchable(io);\r\n    };\r\n    /**\r\n     * Sets up [[InteractionObject]] as movable. Movable can be any\r\n     * transformation, e.g. drag, swipe, resize, track.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     */\r\n    Interaction.prototype.processMovable = function (io) {\r\n        // Add unified events\r\n        if (io.draggable || io.swipeable || io.trackable || io.resizable) {\r\n            // Prep the element\r\n            if (!this.isGlobalElement(io) && !io.isTouchProtected) {\r\n                this.prepElement(io);\r\n            }\r\n            // Add hover styles\r\n            this.applyCursorOverStyle(io);\r\n        }\r\n        // Add or remove touch events\r\n        this.processTouchable(io);\r\n    };\r\n    /**\r\n     * Checks if [[InteractionObject]] is trackable and sets relative events.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     */\r\n    Interaction.prototype.processTrackable = function (io) {\r\n        this.processHoverable(io);\r\n        this.processMovable(io);\r\n        if (io.trackable) {\r\n            this.trackedObjects.moveValue(io);\r\n        }\r\n        else {\r\n            this.trackedObjects.removeValue(io);\r\n        }\r\n    };\r\n    /**\r\n     * Checks if [[InteractionObject]] is draggable.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     */\r\n    Interaction.prototype.processDraggable = function (io) {\r\n        this.processMovable(io);\r\n    };\r\n    /**\r\n     * Checks if [[InteractionObject]] is swipeable and sets relative events.\r\n     *\r\n     * A swipe event is triggered when a horizontal drag of 75px or more (and\r\n     * less than 30px vertically) occurs within 700 milliseconds. This can be\r\n     * overridden in sprites [[swipeOptions]].\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     */\r\n    Interaction.prototype.processSwipeable = function (io) {\r\n        this.processMovable(io);\r\n    };\r\n    /**\r\n     * Checks if [[InteractionObject]] is resizable and attaches required events\r\n     * to it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     */\r\n    Interaction.prototype.processResizable = function (io) {\r\n        this.processMovable(io);\r\n    };\r\n    /**\r\n     * Checks if [[InteractionObject]] is supposed to capture mouse wheel events\r\n     * and prepares it to catch those events.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     */\r\n    Interaction.prototype.processWheelable = function (io) {\r\n        var _this = this;\r\n        if (io.wheelable) {\r\n            //io.hoverable = true;\r\n            if (!io.eventDisposers.hasKey(\"wheelable\")) {\r\n                io.eventDisposers.setKey(\"wheelable\", new MultiDisposer([\r\n                    addEventListener(io.element, this._pointerEvents.wheel, function (e) { return _this.handleMouseWheel(io, e); }, this._passiveSupported ? { passive: false } : false),\r\n                    io.events.on(\"out\", function (e) {\r\n                        if (io.wheelable) {\r\n                            _this.unlockWheel();\r\n                        }\r\n                    }),\r\n                    io.events.on(\"over\", function (e) {\r\n                        if (io.wheelable) {\r\n                            _this.lockWheel();\r\n                        }\r\n                    })\r\n                ]));\r\n            }\r\n        }\r\n        else {\r\n            var disposer = io.eventDisposers.getKey(\"wheelable\");\r\n            if (disposer != null) {\r\n                disposer.dispose();\r\n                io.eventDisposers.removeKey(\"wheelable\");\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Checks if [[InteractionObject]] is focusable. A focusable element is an\r\n     * element that will be highlighted when users presses TAB key. If the\r\n     * element is focusable, this function will attach relative focus/blur\r\n     * events to it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     */\r\n    Interaction.prototype.processFocusable = function (io) {\r\n        var _this = this;\r\n        if (io.focusable === true && (io.tabindex > -1) && !this._useTouchEventsOnly) {\r\n            if (!io.eventDisposers.hasKey(\"focusable\")) {\r\n                io.eventDisposers.setKey(\"focusable\", new MultiDisposer([\r\n                    addEventListener(io.element, \"focus\", function (e) { return _this.handleFocus(io, e); }),\r\n                    addEventListener(io.element, \"blur\", function (e) { return _this.handleBlur(io, e); }),\r\n                    addEventListener(io.element, this._pointerEvents.pointerdown, function (e) { return _this.handleFocusBlur(io, e); }),\r\n                    addEventListener(io.element, \"touchstart\", function (e) { return _this.handleFocusBlur(io, e); }, this._passiveSupported ? { passive: false } : false)\r\n                ]));\r\n            }\r\n        }\r\n        else {\r\n            var disposer = io.eventDisposers.getKey(\"focusable\");\r\n            if (disposer != null) {\r\n                disposer.dispose();\r\n                io.eventDisposers.removeKey(\"focusable\");\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Checks if [[InteractionObject]] is \"touchable\". It means any interaction\r\n     * whatsoever: mouse click, touch screen tap, swipe, drag, resize, etc.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     */\r\n    Interaction.prototype.processTouchable = function (io) {\r\n        var _this = this;\r\n        // Add unified events\r\n        if (io.clickable || io.hoverable || io.trackable || io.draggable || io.swipeable || io.resizable) {\r\n            // Add global events\r\n            this.addGlobalEvents();\r\n            // Add local events\r\n            if (!io.eventDisposers.hasKey(\"touchable\")) {\r\n                if (!this._useTouchEventsOnly && !this._usePointerEventsOnly) {\r\n                    io.eventDisposers.setKey(\"touchable\", new MultiDisposer([\r\n                        addEventListener(io.element, this._pointerEvents.pointerdown, function (e) { return _this.handlePointerDown(io, e); }),\r\n                        addEventListener(io.element, \"touchstart\", function (e) { return _this.handleTouchDown(io, e); }, this._passiveSupported ? { passive: false } : false)\r\n                    ]));\r\n                }\r\n                else if (!this._useTouchEventsOnly) {\r\n                    io.eventDisposers.setKey(\"touchable\", addEventListener(io.element, this._pointerEvents.pointerdown, function (e) { return _this.handlePointerDown(io, e); }));\r\n                }\r\n                else if (!this._usePointerEventsOnly) {\r\n                    io.eventDisposers.setKey(\"touchable\", addEventListener(io.element, \"touchstart\", function (e) { return _this.handleTouchDown(io, e); }, this._passiveSupported ? { passive: false } : false));\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var disposer = io.eventDisposers.getKey(\"touchable\");\r\n            if (disposer != null) {\r\n                disposer.dispose();\r\n                io.eventDisposers.removeKey(\"touchable\");\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * Non-pointer events\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Dispatches \"focus\" event when element gains focus.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     * @param ev  Original event\r\n     */\r\n    Interaction.prototype.handleFocus = function (io, ev) {\r\n        if (!io.focusable) {\r\n            ev.preventDefault();\r\n            return;\r\n        }\r\n        io.isFocused = true;\r\n        if (io.events.isEnabled(\"focus\") && !system.isPaused) {\r\n            var imev = {\r\n                type: \"focus\",\r\n                target: io,\r\n                event: ev\r\n            };\r\n            io.events.dispatchImmediately(\"focus\", imev);\r\n        }\r\n    };\r\n    /**\r\n     * Used by regular click events to prevent focus if \"noFocus\" is set.\r\n     *\r\n     * This should not be called by \"focus\" handlers.\r\n     *\r\n     * @param io  Element\r\n     * @param ev  Original event\r\n     */\r\n    Interaction.prototype.handleFocusBlur = function (io, ev) {\r\n        if (io.focusable !== false && this.getHitOption(io, \"noFocus\")) {\r\n            io.events.once(\"focus\", function () {\r\n                io.events.disableType(\"blur\");\r\n                $dom.blur();\r\n                if (io.sprite) {\r\n                    io.sprite.handleBlur();\r\n                }\r\n                io.events.enableType(\"blur\");\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Dispatches \"blur\" event when element loses focus.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     * @param ev  Original event\r\n     */\r\n    Interaction.prototype.handleBlur = function (io, ev) {\r\n        if (!io.focusable) {\r\n            ev.preventDefault();\r\n            return;\r\n        }\r\n        io.isFocused = false;\r\n        if (io.events.isEnabled(\"blur\") && !system.isPaused) {\r\n            var imev = {\r\n                type: \"blur\",\r\n                target: io,\r\n                event: ev\r\n            };\r\n            io.events.dispatchImmediately(\"blur\", imev);\r\n        }\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * Global keyboard-related even handlers\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Checks if there is an item that has currently focus and that they key is\r\n     * one of the directional keys. If both of the conditions are true, it\r\n     * creates an object to simulate movement of dragable element with keyboard.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev An original keyboard event\r\n     */\r\n    Interaction.prototype.handleGlobalKeyDown = function (ev) {\r\n        if (this.focusedObject) {\r\n            if (keyboard.isKey(ev, \"esc\")) {\r\n                // ESC removes focus\r\n                $dom.blur();\r\n            }\r\n            else if (this.focusedObject.draggable && keyboard.isKey(ev, [\"up\", \"down\", \"left\", \"right\"])) {\r\n                // Prevent scrolling of the document\r\n                ev.preventDefault();\r\n                // Get focused object\r\n                var io = this.focusedObject;\r\n                // Get particular key\r\n                var disposerKey = \"interactionKeyboardObject\";\r\n                // If such disposer already exists we know the event is going on so we\r\n                // just move on\r\n                if (io.eventDisposers.hasKey(disposerKey)) {\r\n                    return;\r\n                }\r\n                // Create a keyboard mover\r\n                var ko = new InteractionKeyboardObject(io, ev);\r\n                io.eventDisposers.setKey(disposerKey, ko);\r\n                switch (keyboard.getEventKey(ev)) {\r\n                    case \"up\":\r\n                        ko.directionY = -1;\r\n                        break;\r\n                    case \"down\":\r\n                        ko.directionY = 1;\r\n                        break;\r\n                    case \"left\":\r\n                        ko.directionX = -1;\r\n                        break;\r\n                    case \"right\":\r\n                        ko.directionX = 1;\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Dispatches related events when the keyboard key is realeasd.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev An original keyboard event\r\n     */\r\n    Interaction.prototype.handleGlobalKeyUp = function (ev) {\r\n        var disposerKey = \"interactionKeyboardObject\";\r\n        if (this.focusedObject) {\r\n            var disposer = this.focusedObject.eventDisposers.getKey(disposerKey);\r\n            if (disposer != null) {\r\n                // Prevent scrolling of the document\r\n                ev.preventDefault();\r\n                // Dispose stuff\r\n                disposer.dispose();\r\n                this.focusedObject.eventDisposers.removeKey(disposerKey);\r\n            }\r\n            // Does focused object have \"hit\" event?\r\n            if (keyboard.isKey(ev, \"enter\")\r\n                && this.focusedObject.sprite\r\n                && this.focusedObject.sprite.events.isEnabled(\"hit\")\r\n                && !this.focusedObject.sprite.events.isEnabled(\"toggled\")) {\r\n                this.focusedObject.dispatchImmediately(\"hit\");\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * Global pointer-related even handlers\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Handler for a global \"pointermove\" event.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event object\r\n     */\r\n    Interaction.prototype.handleGlobalPointerMove = function (ev) {\r\n        // Get pointer\r\n        var pointer = this.getPointer(ev);\r\n        // Update current point position\r\n        pointer.point = this.getPointerPoint(ev);\r\n        // Prepare and fire global event\r\n        if (this.events.isEnabled(\"track\") && !system.isPaused) {\r\n            var imev = {\r\n                type: \"track\",\r\n                target: this,\r\n                event: ev,\r\n                pointer: pointer,\r\n                touch: pointer.touch\r\n            };\r\n            this.events.dispatchImmediately(\"track\", imev);\r\n        }\r\n        // Track\r\n        this.addBreadCrumb(pointer, pointer.point);\r\n        // Process further\r\n        this.handleGlobalMove(pointer, ev);\r\n    };\r\n    /**\r\n     * Handler for a global \"pointerdown\" event.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event object\r\n     */\r\n    Interaction.prototype.handleGlobalPointerDown = function (ev) {\r\n        // Remove delayed hovers\r\n        this.processDelayed();\r\n        // Get pointer\r\n        var pointer = this.getPointer(ev);\r\n        // Prepare and fire global event\r\n        if (this.events.isEnabled(\"down\") && !system.isPaused) {\r\n            var imev = {\r\n                type: \"down\",\r\n                target: this,\r\n                event: ev,\r\n                pointer: pointer,\r\n                touch: pointer.touch\r\n            };\r\n            this.events.dispatchImmediately(\"down\", imev);\r\n        }\r\n    };\r\n    /**\r\n     * Prevents touch action from firing.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event\r\n     */\r\n    Interaction.prototype.preventTouchAction = function (ev) {\r\n        if (!ev.defaultPrevented) {\r\n            ev.preventDefault();\r\n        }\r\n    };\r\n    /**\r\n     * Handler for a global \"pointerup\" event.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event object\r\n     */\r\n    Interaction.prototype.handleGlobalPointerUp = function (ev, cancelled) {\r\n        if (cancelled === void 0) { cancelled = false; }\r\n        // Get pointer\r\n        var pointer = this.getPointer(ev);\r\n        // Prepare and fire global event\r\n        if (this.events.isEnabled(\"up\") && !system.isPaused) {\r\n            var imev = {\r\n                type: \"up\",\r\n                target: this,\r\n                event: ev,\r\n                pointer: pointer,\r\n                touch: pointer.touch\r\n            };\r\n            this.events.dispatchImmediately(\"up\", imev);\r\n        }\r\n        // Process further\r\n        this.handleGlobalUp(pointer, ev, cancelled);\r\n    };\r\n    /**\r\n * ==========================================================================\r\n * Global touch-related even handlers\r\n * ==========================================================================\r\n */\r\n    /**\r\n     * Handler for a global \"touchmove\" event.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event object\r\n     */\r\n    Interaction.prototype.handleGlobalTouchMove = function (ev) {\r\n        // Process each changed touch point\r\n        for (var i = 0; i < ev.changedTouches.length; i++) {\r\n            // Get pointer\r\n            var pointer = this.getPointer(ev.changedTouches[i]);\r\n            // Update current point position\r\n            pointer.point = this.getPointerPoint(ev.changedTouches[i]);\r\n            // Prepare and fire global event\r\n            if (this.events.isEnabled(\"track\") && !system.isPaused) {\r\n                var imev = {\r\n                    type: \"track\",\r\n                    target: this,\r\n                    event: ev,\r\n                    pointer: pointer,\r\n                    touch: pointer.touch\r\n                };\r\n                this.events.dispatchImmediately(\"track\", imev);\r\n            }\r\n            // Track\r\n            this.addBreadCrumb(pointer, pointer.point);\r\n            // Process further\r\n            this.handleGlobalMove(pointer, ev);\r\n        }\r\n    };\r\n    /**\r\n     * Handler for a global \"touchstart\" event.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event object\r\n     */\r\n    Interaction.prototype.handleGlobalTouchStart = function (ev) {\r\n        // Remove delayed hovers\r\n        this.processDelayed();\r\n        // Process each changed touch point\r\n        for (var i = 0; i < ev.changedTouches.length; i++) {\r\n            // Get pointer\r\n            var pointer = this.getPointer(ev.changedTouches[i]);\r\n            // Prepare and fire global event\r\n            if (!this._usePointerEventsOnly && this.events.isEnabled(\"down\") && !system.isPaused) {\r\n                var imev = {\r\n                    type: \"down\",\r\n                    target: this,\r\n                    event: ev,\r\n                    pointer: pointer,\r\n                    touch: pointer.touch\r\n                };\r\n                this.events.dispatchImmediately(\"down\", imev);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handler for a global \"touchend\" event.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev Event object\r\n     */\r\n    Interaction.prototype.handleGlobalTouchEnd = function (ev) {\r\n        // Process each changed touch point\r\n        for (var i = 0; i < ev.changedTouches.length; i++) {\r\n            // Get pointer\r\n            var pointer = this.getPointer(ev.changedTouches[i]);\r\n            // Prepare and fire global event\r\n            if (this.events.isEnabled(\"up\") && !system.isPaused) {\r\n                var imev = {\r\n                    type: \"up\",\r\n                    target: this,\r\n                    event: ev,\r\n                    pointer: pointer,\r\n                    touch: pointer.touch\r\n                };\r\n                this.events.dispatchImmediately(\"up\", imev);\r\n            }\r\n            // Handle element-related events\r\n            this.handleGlobalUp(pointer, ev);\r\n        }\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * Element-specific pointer-related even handlers\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Handles event when pointer is over [[InteractionObject]] and button is\r\n     * pressed.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     * @param ev  Original event\r\n     */\r\n    Interaction.prototype.handlePointerDown = function (io, ev) {\r\n        // Stop further propagation so we don't get multiple triggers on hybrid\r\n        // devices (both mouse and touch capabilities)\r\n        //ev.preventDefault();\r\n        //ev.stopPropagation();\r\n        //if (ev.defaultPrevented) {\r\n        //}\r\n        // Get pointer\r\n        var pointer = this.getPointer(ev);\r\n        // Ignore if it's anything but mouse's primary button\r\n        if (!pointer.touch && ev.which != 1 && ev.which != 3) {\r\n            return;\r\n        }\r\n        // Set mouse button\r\n        pointer.button = ev.which;\r\n        // Reset pointer\r\n        this.resetPointer(pointer, ev);\r\n        // Process down\r\n        this.handleDown(io, pointer, ev);\r\n    };\r\n    /**\r\n     * Handles event when [[InteractionObject]] is hovered by a mouse pointer.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     * @param ev  Original event\r\n     */\r\n    Interaction.prototype.handlePointerOver = function (io, ev) {\r\n        // Get pointer\r\n        var pointer = this.getPointer(ev);\r\n        // Process down\r\n        this.handleOver(io, pointer, ev);\r\n    };\r\n    /**\r\n     * Handles event when [[InteractionObject]] loses hover from a mouse pointer.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     * @param ev  Original event\r\n     */\r\n    Interaction.prototype.handlePointerOut = function (io, ev) {\r\n        // Get pointer\r\n        var pointer = this.getPointer(ev);\r\n        // Process down\r\n        this.handleOut(io, pointer, ev);\r\n    };\r\n    /**\r\n     * Handles event when mouse wheel is crolled over the [[InteractionObject]].\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     * @param ev  Original event\r\n     * @todo Investigate more-cross browser stuff https://developer.mozilla.org/en-US/docs/Web/Events/wheel\r\n     */\r\n    Interaction.prototype.handleMouseWheel = function (io, ev) {\r\n        // Get pointer\r\n        var pointer = this.getPointer(ev);\r\n        // Update current point position\r\n        pointer.point = this.getPointerPoint(ev);\r\n        // Init delta values\r\n        var deltaX = 0, deltaY = 0;\r\n        // Set up modifier\r\n        // This is needed because FireFox reports wheel deltas in \"lines\" instead\r\n        // of pixels so we have to approximate pixel value\r\n        var mod = 1;\r\n        if (ev.deltaMode == 1) {\r\n            mod = 50;\r\n        }\r\n        // Adjust configurable sensitivity\r\n        mod *= this.getMouseOption(io, \"sensitivity\");\r\n        // Calculate deltas\r\n        if (ev instanceof WheelEvent) {\r\n            deltaX = Math.round((-1 * ev.wheelDeltaX) || ev.deltaX) * mod;\r\n            deltaY = Math.round((-1 * ev.wheelDeltaY) || ev.deltaY) * mod;\r\n        }\r\n        else {\r\n            throw new Error(\"Invalid event type\");\r\n        }\r\n        // Handle the event\r\n        this.handleWheel(io, pointer, deltaX, deltaY, ev);\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * Element-specific touch-related even handlers\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n      * Handles an event when an [[InteractionObject]] is touched on a touch\r\n      * device.\r\n      *\r\n      * @ignore Exclude from docs\r\n      * @param io  Element\r\n      * @param ev  Original event\r\n      */\r\n    Interaction.prototype.handleTouchDown = function (io, ev) {\r\n        // Stop further propagation so we don't get multiple triggers on hybrid\r\n        // devices (both mouse and touch capabilities)\r\n        //this.maybePreventDefault(io, ev);\r\n        //return;\r\n        // Process each changed touch point\r\n        for (var i = 0; i < ev.changedTouches.length; i++) {\r\n            // Get pointer\r\n            var pointer = this.getPointer(ev.changedTouches[i]);\r\n            this.maybePreventDefault(io, ev, pointer);\r\n            // Reset pointer\r\n            this.resetPointer(pointer, ev.changedTouches[i]);\r\n            // Process down\r\n            this.handleDown(io, pointer, ev);\r\n        }\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * Universal handlers\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Handles click/tap. Checks for doublehit.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Interaction object\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.handleHit = function (io, pointer, ev) {\r\n        // Check if this is a double-hit\r\n        var now = $time.getTime();\r\n        if (io.lastHit && (io.lastHit >= (now - this.getHitOption(io, \"doubleHitTime\")))) {\r\n            // Yup - it's a double-hit\r\n            // Cancel the hit\r\n            //clearTimeout(io.lastHitPointer.hitTimeout);\r\n            // If it happened too fast it probably means that hybrid device just\r\n            // generated two events for the same tap\r\n            if ((now - io.lastHit) < 100) {\r\n                // Ignore\r\n                return;\r\n            }\r\n            // Clear last hit\r\n            io.lastHit = undefined;\r\n            io.lastHitPointer = undefined;\r\n            // Dispatch event\r\n            if (io.events.isEnabled(\"doublehit\") && !system.isPaused) {\r\n                var imev = {\r\n                    type: \"doublehit\",\r\n                    target: io,\r\n                    point: pointer.point,\r\n                    event: ev,\r\n                    touch: pointer.touch\r\n                };\r\n                io.events.dispatchImmediately(\"doublehit\", imev);\r\n            }\r\n        }\r\n        else {\r\n            // Log last hit\r\n            io.lastHit = now;\r\n            io.lastHitPointer = pointer;\r\n            if (pointer.button === 3) {\r\n                // Execute HIT now\r\n                if (io.events.isEnabled(\"rightclick\") && !system.isPaused) {\r\n                    var imev = {\r\n                        type: \"rightclick\",\r\n                        target: io,\r\n                        event: ev\r\n                    };\r\n                    io.events.dispatchImmediately(\"rightclick\", imev);\r\n                }\r\n            }\r\n            else {\r\n                if (io.events.isEnabled(\"hit\") && !system.isPaused) {\r\n                    var imev = {\r\n                        type: \"hit\",\r\n                        target: io,\r\n                        event: ev,\r\n                        point: pointer.point,\r\n                        touch: pointer.touch\r\n                    };\r\n                    io.events.dispatchImmediately(\"hit\", imev);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handles pointer hovering over [[InteractionObject]].\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Interaction object\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     * @param soft     Invoked by helper function\r\n     */\r\n    Interaction.prototype.handleOver = function (io, pointer, ev, soft) {\r\n        if (soft === void 0) { soft = false; }\r\n        if (!io.hoverable) {\r\n            return;\r\n        }\r\n        // Remove any delayed outs\r\n        this.processDelayed();\r\n        // Add pointer\r\n        io.overPointers.moveValue(pointer);\r\n        // Check if object is not yet hovered\r\n        if (!io.isRealHover) {\r\n            // Set element as hovered\r\n            io.isHover = true;\r\n            io.isRealHover = true;\r\n            this.overObjects.moveValue(io);\r\n            // Generate body track event. This is needed so that if element loads\r\n            // under unmoved mouse cursor, we still need all the actions that are\r\n            // required to happen to kick in.\r\n            this.handleTrack(this.body, pointer, ev, true);\r\n            // Event\r\n            if (io.events.isEnabled(\"over\") && !system.isPaused) {\r\n                var imev = {\r\n                    type: \"over\",\r\n                    target: io,\r\n                    event: ev,\r\n                    pointer: pointer,\r\n                    touch: pointer.touch\r\n                };\r\n                io.events.dispatchImmediately(\"over\", imev);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handles when [[InteractionObject]] is no longer hovered.\r\n     *\r\n     * If `soft = true`, this means that method is being invoked by some other\r\n     * code, not hard \"out\" function, like `handleUp` which implies we need to\r\n     * run additional checks before unhovering the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Interaction object\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     * @param soft     Invoked by helper function\r\n     * @param force    Force imediate out\r\n     */\r\n    Interaction.prototype.handleOut = function (io, pointer, ev, soft, force) {\r\n        var _this = this;\r\n        if (soft === void 0) { soft = false; }\r\n        if (force === void 0) { force = false; }\r\n        if (!io.hoverable) {\r\n            return;\r\n        }\r\n        // Remove pointer\r\n        io.overPointers.removeValue(pointer);\r\n        // Check if element is still hovered\r\n        if (io.isHover && (!io.hasDelayedOut || force)) {\r\n            // Should we run additional checks?\r\n            if (soft && io.overPointers.length) {\r\n                // There are still pointers hovering - don't do anything else and\r\n                // wait until either no over pointers are there or we get a hard out\r\n                // event.\r\n                return;\r\n            }\r\n            // Should we delay \"out\" if this is happening on a touch device?\r\n            if (pointer.touch && !force && !this.old(pointer)) {\r\n                // This is a touch pointer, and it hasn't moved, let's pretend\r\n                // the object is still hovered, and act as per \"behavior\" setting\r\n                var behavior = this.getHoverOption(io, \"touchOutBehavior\");\r\n                if (behavior == \"leave\") {\r\n                    // Set to \"leave\", so we do not execute any \"out\" event.\r\n                    // It will be handled by any other interaction that happens\r\n                    // afterwards.\r\n                    this._delayedEvents.out.push({\r\n                        type: \"out\",\r\n                        io: io,\r\n                        pointer: pointer,\r\n                        event: ev,\r\n                        keepUntil: $time.getTime() + 500\r\n                    });\r\n                    io.hasDelayedOut = true;\r\n                    return;\r\n                }\r\n                else if (behavior == \"delay\" && this.getHoverOption(io, \"touchOutDelay\")) {\r\n                    this._delayedEvents.out.push({\r\n                        type: \"out\",\r\n                        io: io,\r\n                        pointer: pointer,\r\n                        event: ev,\r\n                        keepUntil: $time.getTime() + 500,\r\n                        timeout: this.setTimeout(function () {\r\n                            _this.handleOut(io, pointer, ev, true);\r\n                        }, this.getHoverOption(io, \"touchOutDelay\"))\r\n                    });\r\n                    return;\r\n                }\r\n                else {\r\n                    // Nothing for \"remove\" - that's how it works \"out-of-the-box\"\r\n                }\r\n            }\r\n            // Set element as not hovered\r\n            io.isHover = false;\r\n            this.overObjects.removeValue(io);\r\n            // Invoke event\r\n            if (io.events.isEnabled(\"out\") && !system.isPaused) {\r\n                var imev = {\r\n                    type: \"out\",\r\n                    target: io,\r\n                    event: ev,\r\n                    pointer: pointer,\r\n                    touch: pointer.touch\r\n                };\r\n                io.events.dispatchImmediately(\"out\", imev);\r\n            }\r\n            // Reset object from lefover delayed outs, pointers\r\n            io.overPointers.clear();\r\n            io.hasDelayedOut = false;\r\n            // @todo (clean delayed)\r\n        }\r\n    };\r\n    /**\r\n     * Processes dalyed events, such as \"out\" event that was initiated for\r\n     * elements by touch.\r\n     */\r\n    Interaction.prototype.processDelayed = function () {\r\n        var delayedEvent;\r\n        while (true) {\r\n            delayedEvent = this._delayedEvents.out.pop();\r\n            if (!delayedEvent) {\r\n                break;\r\n            }\r\n            if (delayedEvent.timeout) {\r\n                delayedEvent.timeout.dispose();\r\n            }\r\n            this.handleOut(delayedEvent.io, delayedEvent.pointer, delayedEvent.event, false, true);\r\n        }\r\n    };\r\n    /**\r\n     * Performs tasks on pointer down.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.handleDown = function (io, pointer, ev) {\r\n        // Need to prevent default event from happening on transformable objects\r\n        this.maybePreventDefault(io, ev, pointer);\r\n        // Stop inertia animations if they're currently being played out\r\n        if (io.inert) {\r\n            this.stopInertia(io);\r\n        }\r\n        // Trigger hover because some touch devices won't trigger over events\r\n        // on their own\r\n        this.handleOver(io, pointer, ev, true);\r\n        // Add pointer to list\r\n        io.downPointers.moveValue(pointer);\r\n        // Apply styles if necessary\r\n        this.applyCursorDownStyle(io, pointer);\r\n        // Check if object is already down\r\n        if (!io.isDown) {\r\n            // Lose focus if needed\r\n            if (io.focusable !== false && this.getHitOption(io, \"noFocus\") && this.focusedObject) {\r\n                $dom.blur();\r\n            }\r\n            // Set object as hovered\r\n            io.isDown = true;\r\n            this.downObjects.moveValue(io);\r\n            // Prep object for dragging and/or resizing\r\n            if (io.draggable) {\r\n                this.processDragStart(io, pointer, ev);\r\n            }\r\n            if (io.resizable) {\r\n                this.processResizeStart(io, pointer, ev);\r\n            }\r\n        }\r\n        // Dispatch \"down\" event\r\n        if (io.events.isEnabled(\"down\") && !system.isPaused) {\r\n            var imev = {\r\n                type: \"down\",\r\n                target: io,\r\n                event: ev,\r\n                pointer: pointer,\r\n                touch: pointer.touch\r\n            };\r\n            io.events.dispatchImmediately(\"down\", imev);\r\n        }\r\n    };\r\n    /**\r\n     * Performs tasks on pointer up.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.handleGlobalUp = function (pointer, ev, cancelled) {\r\n        var _this = this;\r\n        if (cancelled === void 0) { cancelled = false; }\r\n        var sorted = this.downObjects.values.slice();\r\n        sorted.sort(function (x, y) {\r\n            if (x && y) {\r\n                var pos = x.element.compareDocumentPosition(y.element);\r\n                if (pos & Node.DOCUMENT_POSITION_CONTAINED_BY) {\r\n                    return 1;\r\n                }\r\n                else if (pos & Node.DOCUMENT_POSITION_CONTAINS) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        });\r\n        // Process all down objects\r\n        $array.each(sorted, function (io) {\r\n            // Check if this particular pointer is pressing down\r\n            // on object\r\n            if (io && io.downPointers.contains(pointer)) {\r\n                _this.handleUp(io, pointer, ev, cancelled);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Simulates all pointers being up once mouse leaves document area.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.handleDocumentLeave = function (ev) {\r\n        var _this = this;\r\n        // Process all down objects\r\n        $iter.each(this.downObjects.backwards().iterator(), function (io) {\r\n            io.downPointers.each(function (pointer) {\r\n                _this.handleUp(io, pointer, ev);\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Handles when [[InteractionObject]] is no longer hovered.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Interaction object\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.handleUp = function (io, pointer, ev, cancelled) {\r\n        if (cancelled === void 0) { cancelled = false; }\r\n        // Restore cursor style\r\n        this.restoreCursorDownStyle(io, pointer);\r\n        // Remove pointer from the list\r\n        io.downPointers.removeValue(pointer);\r\n        // Trigger out because some touch devices won't trigger out events\r\n        // on their own\r\n        if (pointer.touch || this._useTouchEventsOnly) {\r\n            this.handleOut(io, pointer, ev, true);\r\n        }\r\n        // Check if object still down\r\n        if (io.isDown) {\r\n            // Check if there are no other pointers hovering this element\r\n            if (io.downPointers.length == 0) {\r\n                // Set element as no longer down\r\n                io.isDown = false;\r\n                this.downObjects.removeValue(io);\r\n            }\r\n            // Dispatch \"up\" event\r\n            if (io.events.isEnabled(\"up\") && !system.isPaused) {\r\n                var imev = {\r\n                    type: \"up\",\r\n                    target: io,\r\n                    event: ev,\r\n                    pointer: pointer,\r\n                    touch: pointer.touch\r\n                };\r\n                io.events.dispatchImmediately(\"up\", imev);\r\n            }\r\n            // Check if this was not a cancelled event.\r\n            // If event was canelled (which might happen if gesture resulted in\r\n            // navigation or page scroll) there's no point in triggering hit and\r\n            // other actions.\r\n            if (!cancelled) {\r\n                // Handle swiping-related stuff\r\n                if (io.swipeable && this.swiped(io, pointer)) {\r\n                    // Swiped - nothing else should happen\r\n                    this.handleSwipe(io, pointer, ev);\r\n                }\r\n                else {\r\n                    // Check if it maybe a click\r\n                    if (io.clickable && !this.moved(pointer, this.getHitOption(io, \"hitTolerance\"))) {\r\n                        this.handleHit(io, pointer, ev);\r\n                    }\r\n                    // Handle inertia\r\n                    if (io.inert && this.moved(pointer, this.getHitOption(io, \"hitTolerance\"))) {\r\n                        this.handleInertia(io, pointer);\r\n                    }\r\n                    else if (io.draggable) {\r\n                        this.processDragStop(io, pointer, ev);\r\n                    }\r\n                    if (io.resizable) {\r\n                        this.processResizeStop(io, pointer, ev);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Checks if event needs to be prevented on draggable and such items, so that\r\n     * touch gestures like navigation and scroll do not kick in.\r\n     *\r\n     * @param io  Object\r\n     * @param ev  Event\r\n     */\r\n    Interaction.prototype.maybePreventDefault = function (io, ev, pointer) {\r\n        if ($type.hasValue(ev)\r\n            && (io.draggable || io.swipeable || io.trackable || io.resizable)\r\n            && !this.isGlobalElement(io)\r\n            && ev.cancelable !== false\r\n            && (!io.isTouchProtected || !pointer || !pointer.touch)) {\r\n            ev.preventDefault();\r\n        }\r\n    };\r\n    /**\r\n     * Handles pointer move.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.handleGlobalMove = function (pointer, ev) {\r\n        var _this = this;\r\n        // Process hovered elements\r\n        // We check if the element became unhovered without reporting the mouseout\r\n        // event. (it happens in some cases)\r\n        if (!pointer.touch) {\r\n            var target_1 = $dom.eventTarget(pointer.lastEvent);\r\n            $iter.each(this.overObjects.backwards().iterator(), function (io) {\r\n                // Is this pointer relevant to element?\r\n                if (io && io.overPointers.contains(pointer) && io.hoverable) {\r\n                    // Check if the element is still hovered\r\n                    var reset = false;\r\n                    if (io.element && pointer.lastEvent) {\r\n                        if (!$dom.contains(io.element, target_1)) {\r\n                            reset = true;\r\n                        }\r\n                    }\r\n                    else {\r\n                        reset = true;\r\n                    }\r\n                    if (reset) {\r\n                        _this.handleOut(io, pointer, ev, true);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        // Process down elements\r\n        $iter.each(this.transformedObjects.backwards().iterator(), function (io) {\r\n            // Is this pointer relevant to element?\r\n            if (io.downPointers.contains(pointer) &&\r\n                // Swipe still happening?\r\n                !(io.swipeable && _this.swiping(io, pointer)) &&\r\n                (io.draggable || io.resizable)) {\r\n                _this.handleTransform(io, ev);\r\n            }\r\n        });\r\n        // Process tracked elements\r\n        $iter.each(this.trackedObjects.backwards().iterator(), function (io) {\r\n            // Is this pointer relevant to element?\r\n            if (!io.overPointers.contains(pointer)) {\r\n                _this.handleTrack(io, pointer, ev);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Handles reporting of pointer movement.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io        Element\r\n     * @param pointer    Pointer\r\n     * @param ev         Original event\r\n     * @param skipCheck  Sould we skip check if cursor actually moved\r\n     */\r\n    Interaction.prototype.handleTrack = function (io, pointer, ev, skipCheck) {\r\n        if (skipCheck === void 0) { skipCheck = false; }\r\n        // Do nothing if the cursor did not actually move\r\n        if (!skipCheck && !this.moved(pointer, 0)) {\r\n            return;\r\n        }\r\n        // Initiate TRACK event\r\n        if (io.events.isEnabled(\"track\") && !system.isPaused) {\r\n            var imev = {\r\n                type: \"track\",\r\n                target: io,\r\n                event: ev,\r\n                point: pointer.point,\r\n                pointer: pointer,\r\n                touch: pointer.touch\r\n            };\r\n            io.events.dispatchImmediately(\"track\", imev);\r\n        }\r\n    };\r\n    /**\r\n     * Handles swipe action.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.handleSwipe = function (io, pointer, ev) {\r\n        // We pass in InteractionEvent with shift in mouse coordinates\r\n        // between when the drag started and ended\r\n        if (io.events.isEnabled(\"swipe\") && !system.isPaused) {\r\n            var imev = {\r\n                type: \"swipe\",\r\n                target: io,\r\n                event: ev,\r\n                touch: pointer.touch\r\n            };\r\n            io.events.dispatchImmediately(\"swipe\", imev);\r\n        }\r\n        if (pointer.startPoint.x < pointer.point.x) {\r\n            if (io.events.isEnabled(\"swiperight\") && !system.isPaused) {\r\n                var imev = {\r\n                    type: \"swiperight\",\r\n                    target: io,\r\n                    event: ev,\r\n                    touch: pointer.touch\r\n                };\r\n                io.events.dispatchImmediately(\"swiperight\", imev);\r\n            }\r\n        }\r\n        else {\r\n            if (io.events.isEnabled(\"swipeleft\") && !system.isPaused) {\r\n                var imev = {\r\n                    type: \"swipeleft\",\r\n                    target: io,\r\n                    event: ev,\r\n                    touch: pointer.touch\r\n                };\r\n                io.events.dispatchImmediately(\"swipeleft\", imev);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handles event triggering for wheel rotation.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     * @param deltaX   Horizontal shift\r\n     * @param deltaY   Vertical shift\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.handleWheel = function (io, pointer, deltaX, deltaY, ev) {\r\n        var shift = {\r\n            x: deltaX,\r\n            y: deltaY\r\n        };\r\n        // Trigger generic WHEEL event\r\n        if (io.events.isEnabled(\"wheel\") && !system.isPaused) {\r\n            io.events.dispatchImmediately(\"wheel\", {\r\n                type: \"wheel\",\r\n                target: io,\r\n                event: ev,\r\n                point: pointer.point,\r\n                shift: shift\r\n            });\r\n        }\r\n        // Trigger direction-specific events\r\n        // Horizontal\r\n        if (deltaX < 0) {\r\n            if (io.events.isEnabled(\"wheelleft\") && !system.isPaused) {\r\n                io.events.dispatchImmediately(\"wheelleft\", {\r\n                    type: \"wheelleft\",\r\n                    target: io,\r\n                    event: ev,\r\n                    point: pointer.point,\r\n                    shift: shift\r\n                });\r\n            }\r\n        }\r\n        else if (deltaX > 0) {\r\n            if (io.events.isEnabled(\"swiperight\") && !system.isPaused) {\r\n                io.events.dispatchImmediately(\"wheelright\", {\r\n                    type: \"wheelright\",\r\n                    target: io,\r\n                    event: ev,\r\n                    point: pointer.point,\r\n                    shift: shift\r\n                });\r\n            }\r\n            // Vertical\r\n        }\r\n        else if (deltaY < 0) {\r\n            if (io.events.isEnabled(\"wheelup\") && !system.isPaused) {\r\n                io.events.dispatchImmediately(\"wheelup\", {\r\n                    type: \"wheelup\",\r\n                    target: io,\r\n                    event: ev,\r\n                    point: pointer.point,\r\n                    shift: shift\r\n                });\r\n            }\r\n        }\r\n        else if (deltaY > 0) {\r\n            if (io.events.isEnabled(\"wheeldown\") && !system.isPaused) {\r\n                io.events.dispatchImmediately(\"wheeldown\", {\r\n                    type: \"wheeldown\",\r\n                    target: io,\r\n                    event: ev,\r\n                    point: pointer.point,\r\n                    shift: shift\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Initiates inertia checking sub-routines for different movement types:\r\n     * drag, resize.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param sprite\r\n     * @param pointer\r\n     */\r\n    Interaction.prototype.handleInertia = function (io, pointer) {\r\n        if (io.draggable && io.downPointers.length === 0) {\r\n            this.handleMoveInertia(io, pointer);\r\n        }\r\n        if (io.resizable && io.downPointers.length > 1) {\r\n            this.handleResizeInertia(io, pointer);\r\n        }\r\n    };\r\n    /**\r\n     * Continues moving the element to simulate the effect of inertia. Happens\r\n     * when `inert` and `draggable` object is dragged and then released.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     */\r\n    Interaction.prototype.handleMoveInertia = function (io, pointer) {\r\n        var interaction = io;\r\n        var type = \"move\";\r\n        var point = {\r\n            \"x\": pointer.point.x,\r\n            \"y\": pointer.point.y\r\n        };\r\n        var startPoint = {\r\n            \"x\": pointer.startPoint.x,\r\n            \"y\": pointer.startPoint.y\r\n        };\r\n        // Init inertia object\r\n        var inertia = new Inertia(interaction, type, point, startPoint);\r\n        // Get inertia data\r\n        var ref = this.getTrailPoint(pointer, $time.getTime() - this.getInertiaOption(io, \"move\", \"time\"));\r\n        if (typeof ref === \"undefined\") {\r\n            this.processDragStop(io, pointer, pointer.lastUpEvent);\r\n            return;\r\n        }\r\n        // Init animation options\r\n        var factor = this.getInertiaOption(io, \"move\", \"factor\");\r\n        var animationOptions = [{\r\n                \"to\": pointer.point.x + (pointer.point.x - ref.point.x) * factor,\r\n                \"property\": \"x\"\r\n            }, {\r\n                \"to\": pointer.point.y + (pointer.point.y - ref.point.y) * factor,\r\n                \"property\": \"y\"\r\n            }];\r\n        // Start animation\r\n        var animation = new Animation(inertia, animationOptions, this.getInertiaOption(io, \"move\", \"duration\"), this.getInertiaOption(io, \"move\", \"easing\")).start();\r\n        this._disposers.push(animation.events.on(\"animationended\", function (ev) {\r\n            inertia.done();\r\n        }));\r\n        // Add inertia object\r\n        io.inertias.setKey(\"move\", inertia);\r\n    };\r\n    /**\r\n     * Continues resizing of a `resizable` element after it is resized and\r\n     * released.\r\n     *\r\n     * **NOTE:** this is is just a placeholder function. No actual fucntionality\r\n     * is implemented, yet.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     */\r\n    Interaction.prototype.handleResizeInertia = function (io, pointer) {\r\n        // Some day, folks. Some day...\r\n    };\r\n    /**\r\n     * Recalculates element's position and size based on position of\r\n     * all its related pointers.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io  Element\r\n     * @param ev  Original event\r\n     */\r\n    Interaction.prototype.handleTransform = function (io, ev) {\r\n        // Get primary pointer and its respective points\r\n        var pointer1 = io.downPointers.getIndex(0);\r\n        var point1 = null;\r\n        var startPoint1 = null;\r\n        if (pointer1) {\r\n            point1 = pointer1.point;\r\n            startPoint1 = pointer1.startPoint;\r\n        }\r\n        // Init secondary pointer\r\n        var pointer2;\r\n        var point2;\r\n        var startPoint2;\r\n        // Use center of the sprite to simulate \"second\" point of touch\r\n        point2 = {\r\n            \"x\": io.originalPosition.x,\r\n            \"y\": io.originalPosition.y\r\n        };\r\n        startPoint2 = point2;\r\n        // Determine if it's a sinngle pointer or multi\r\n        var singlePoint = true;\r\n        for (var i = 1; i < io.downPointers.length; i++) {\r\n            // Get pointer\r\n            var nextPointer = io.downPointers.getIndex(i);\r\n            // Doublecheck if it's not the same pointer by comparing original position\r\n            if (startPoint1.x != nextPointer.startPoint.x && startPoint1.y != nextPointer.startPoint.y) {\r\n                // Several pointers down\r\n                singlePoint = false;\r\n                // Get second pointer\r\n                pointer2 = nextPointer;\r\n                point2 = pointer2.point;\r\n                startPoint2 = pointer2.startPoint;\r\n                // Stop looking\r\n                break;\r\n            }\r\n        }\r\n        // Primary touch point moved?\r\n        var pointer1Moved = pointer1 && this.moved(pointer1, 0);\r\n        // Report DRAG_START if necessary\r\n        if (io.draggable && pointer1 && pointer1.dragStartEvents && pointer1.dragStartEvents.length && pointer1Moved) {\r\n            if (io.events.isEnabled(\"dragstart\") && !system.isPaused) {\r\n                io.events.dispatchImmediately(\"dragstart\", pointer1.dragStartEvents.shift());\r\n            }\r\n            //delete pointer1.dragStartEvents;\r\n        }\r\n        // Determine what we do in order of superiority\r\n        if (singlePoint && io.draggable) {\r\n            // We have only one pointer and the Sprite is draggable\r\n            // There's nothing else to be done - just move it\r\n            this.handleTransformMove(io, point1, startPoint1, ev, pointer1Moved, pointer1.touch);\r\n        }\r\n        else {\r\n            // Check if second touch point moved\r\n            var pointer2Moved = pointer2 && this.moved(pointer2, 0);\r\n            if (io.draggable && io.resizable) {\r\n                //this.handleTransformAll(io, point1, startPoint1, point2, startPoint2, ev, pointer1Moved && pointer2Moved);\r\n                this.handleTransformMove(io, point1, startPoint1, ev, pointer1Moved && pointer2Moved, pointer1.touch);\r\n                this.handleTransformResize(io, point1, startPoint1, point2, startPoint2, ev, pointer1Moved && pointer2Moved, pointer1.touch);\r\n            }\r\n            else {\r\n                if (io.draggable) {\r\n                    this.handleTransformMove(io, point1, startPoint1, ev, pointer1Moved, pointer1.touch);\r\n                }\r\n                if (io.resizable && (!singlePoint || ev.ctrlKey)) {\r\n                    this.handleTransformResize(io, point1, startPoint1, point2, startPoint2, ev, pointer1Moved && pointer2Moved, pointer1.touch);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handles movement of the dragged element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io            Element\r\n     * @param point         Current point of the pointer\r\n     * @param startPoint    Starting point of the pointer\r\n     * @param ev            Original event\r\n     * @param pointerMoved  Did pointer move?\r\n     */\r\n    Interaction.prototype.handleTransformMove = function (io, point, startPoint, ev, pointerMoved, touch) {\r\n        if (pointerMoved) {\r\n            if (io.events.isEnabled(\"drag\") && !system.isPaused && (!io.isTouchProtected || !touch)) {\r\n                var imev = {\r\n                    type: \"drag\",\r\n                    target: io,\r\n                    event: ev,\r\n                    shift: {\r\n                        \"x\": point.x - startPoint.x,\r\n                        \"y\": point.y - startPoint.y\r\n                    },\r\n                    startPoint: startPoint,\r\n                    point: point,\r\n                    touch: touch\r\n                };\r\n                io.events.dispatchImmediately(\"drag\", imev);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handles resizing of the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io            Element\r\n     * @param point1        Current position of reference point #1\r\n     * @param startPoint1   Original position of reference point #1\r\n     * @param point2        Current position of reference point #2\r\n     * @param startPoint2   Original position of reference point #2\r\n     * @param ev            Original event\r\n     * @param pointerMoved  Did pointer move?\r\n     */\r\n    Interaction.prototype.handleTransformResize = function (io, point1, startPoint1, point2, startPoint2, ev, pointerMoved, touch) {\r\n        if (io.events.isEnabled(\"resize\") && !system.isPaused && (!io.isTouchProtected || !touch)) {\r\n            var imev = {\r\n                type: \"resize\",\r\n                target: io,\r\n                event: ev,\r\n                scale: $math.getScale(point1, startPoint1, point2, startPoint2),\r\n                startPoint1: startPoint1,\r\n                point1: point1,\r\n                startPoint2: startPoint2,\r\n                point2: point2,\r\n                touch: touch\r\n            };\r\n            io.events.dispatchImmediately(\"resize\", imev);\r\n        }\r\n    };\r\n    /**\r\n     * Handles all the preparations of the element when it starts to be dragged.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.processDragStart = function (io, pointer, ev) {\r\n        // Add to draggedObjects\r\n        this.transformedObjects.moveValue(io);\r\n        // Report \"dragstart\"\r\n        var imev = {\r\n            type: \"dragstart\",\r\n            target: io,\r\n            event: ev,\r\n            touch: pointer ? pointer.touch : false\r\n        };\r\n        // Log object that we are starting to drag, so we can check against and\r\n        // avoid hovers on other objects that might be in the path of movement.\r\n        if (pointer) {\r\n            pointer.dragTarget = io;\r\n            //pointer.startPoint = pointer.point;\r\n        }\r\n        /**\r\n         * If pointer is set we will not fire the event until the pointer has\r\n         * actually moved. If it's not set we don't have to wait for anything, so we\r\n         * just fire off the event right away.\r\n         */\r\n        if (pointer && pointer.dragStartEvents) {\r\n            pointer.dragStartEvents.push(imev);\r\n        }\r\n        else {\r\n            if (!system.isPaused) {\r\n                io.dispatchImmediately(\"dragstart\", imev);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Finishes up element drag operation.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.processDragStop = function (io, pointer, ev) {\r\n        // Pointer set?\r\n        if (!pointer) {\r\n            pointer = this.getDragPointer(io);\r\n        }\r\n        // Unset drag object\r\n        if (pointer) {\r\n            pointer.dragTarget = undefined;\r\n        }\r\n        // Removed from transformedObjects\r\n        this.transformedObjects.removeValue(io);\r\n        // Unlock document\r\n        //this.unlockDocument();\r\n        // Report dragstop\r\n        if (!pointer || this.moved(pointer, 0)) {\r\n            if (io.events.isEnabled(\"dragstop\") && !system.isPaused) {\r\n                var imev = {\r\n                    type: \"dragstop\",\r\n                    target: io,\r\n                    touch: pointer ? pointer.touch : false\r\n                };\r\n                io.events.dispatchImmediately(\"dragstop\", imev);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handles all the preparations of the element when it starts to be resized.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.processResizeStart = function (io, pointer, ev) {\r\n        // Add to draggedObjects\r\n        this.transformedObjects.moveValue(io);\r\n    };\r\n    /**\r\n     * Finishes up element drag operation.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     * @param ev       Original event\r\n     */\r\n    Interaction.prototype.processResizeStop = function (io, pointer, ev) {\r\n        // Removed from transformedObjects\r\n        this.transformedObjects.removeValue(io);\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * Controls for InteractionObjects initiating directly\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Manually triggers drag start on the element. Could be useful in cases\r\n     * where tracking or dragging one element can also influence dragging another\r\n     * element.\r\n     *\r\n     * Passing in `pointer` reference is advisable. If not passed in it will try\r\n     * to determine which pointer to attach to. However, it's better to specify\r\n     * it explicitly.\r\n     *\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     */\r\n    Interaction.prototype.dragStart = function (io, pointer) {\r\n        if (!pointer) {\r\n            pointer = this.getDragPointer(io);\r\n        }\r\n        if (pointer) {\r\n            this.handleDown(io, pointer, pointer.lastDownEvent);\r\n        }\r\n    };\r\n    /**\r\n     * Manually ends drag on the element.\r\n     *\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     */\r\n    Interaction.prototype.dragStop = function (io, pointer, cancelled) {\r\n        if (!pointer) {\r\n            pointer = this.getDragPointer(io);\r\n        }\r\n        if (pointer && !cancelled) {\r\n            this.handleGlobalUp(pointer, pointer.lastUpEvent, cancelled);\r\n        }\r\n    };\r\n    /**\r\n     * This method uses a fuzzy logic to find the pointer to be used for dragging.\r\n     * Beware that this is not a rock-solid solution. If there are a few objects\r\n     * being dragged at the same time, you may get unexepected results.\r\n     *\r\n     * @param io  InteractionObject to get pointers from\r\n     * @return Pointer currently being used for dragging\r\n     */\r\n    Interaction.prototype.getDragPointer = function (io) {\r\n        if (io) {\r\n            // InteractionObject is supplied\r\n            // Use it's first down pointer\r\n            return io.downPointers.getIndex(0);\r\n        }\r\n        else if (this.transformedObjects.length) {\r\n            // Use first dragged object\r\n            return this.getDragPointer(this.transformedObjects.getIndex(0));\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * Utils\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Returns pointer id for the given event object.\r\n     *\r\n     * @param ev  Event\r\n     * @return Pointer ID\r\n     */\r\n    Interaction.prototype.getPointerId = function (ev) {\r\n        var id = \"\";\r\n        if ($type.hasValue(ev.identifier)) {\r\n            id = \"\" + ev.identifier;\r\n        }\r\n        else if ($type.hasValue(ev.pointerId)) {\r\n            id = \"\" + ev.pointerId;\r\n        }\r\n        else {\r\n            id = \"m\";\r\n        }\r\n        return id.replace(\"-\", \"\");\r\n    };\r\n    /**\r\n     * Returns a cursor position of the event.\r\n     *\r\n     * @param ev  Original event\r\n     * @return Event point\r\n     */\r\n    Interaction.prototype.getPointerPoint = function (ev) {\r\n        return {\r\n            \"x\": ev.clientX,\r\n            \"y\": ev.clientY\r\n        };\r\n    };\r\n    /**\r\n     * Returns [[Pointer]] object that is associated with the Event.\r\n     *\r\n     * If no such [[Pointer]] object exists, it is created.\r\n     *\r\n     * @param ev  Event\r\n     * @return Pointer\r\n     */\r\n    Interaction.prototype.getPointer = function (ev) {\r\n        // Get pointer id\r\n        var id = this.getPointerId(ev);\r\n        // Get current coordinates\r\n        var point = this.getPointerPoint(ev);\r\n        // Look for the pointer in the Dictionary if it maybe already exists\r\n        var pointer;\r\n        if (this.pointers.hasKey(id)) {\r\n            // We already have such pointer\r\n            pointer = this.pointers.getKey(id);\r\n            // We need this, because Edge reuses pointer ids across touch and mouse\r\n            pointer.touch = this.isPointerTouch(ev);\r\n            // Reset pointer\r\n            //pointer.point = point;\r\n        }\r\n        else {\r\n            // Init pointer\r\n            pointer = {\r\n                \"id\": id,\r\n                //\"touch\": !(ev instanceof MouseEvent) || ((<any>ev).pointerType && (<any>ev).pointerType != \"pointer\"),\r\n                //\"touch\": !(ev instanceof MouseEvent) || ((<any>ev).pointerType && (<any>ev).pointerType != \"mouse\"),\r\n                \"touch\": this.isPointerTouch(ev),\r\n                \"startPoint\": point,\r\n                \"startTime\": $time.getTime(),\r\n                \"point\": point,\r\n                \"track\": [],\r\n                \"swipeCanceled\": false,\r\n                \"dragStartEvents\": []\r\n            };\r\n            // Add first breadcrumb\r\n            this.addBreadCrumb(pointer, point);\r\n            // Add for re-use later\r\n            this.pointers.setKey(id, pointer);\r\n        }\r\n        // Log last event\r\n        pointer.lastEvent = ev;\r\n        this.lastPointer = pointer;\r\n        return pointer;\r\n    };\r\n    /**\r\n     * Determines if pointer event originated from a touch pointer or mouse.\r\n     *\r\n     * @param ev  Original event\r\n     * @return Touch pointer?\r\n     */\r\n    Interaction.prototype.isPointerTouch = function (ev) {\r\n        if (typeof Touch !== \"undefined\" && ev instanceof Touch) {\r\n            return true;\r\n        }\r\n        else if (typeof PointerEvent !== \"undefined\" && ev instanceof PointerEvent && $type.hasValue(ev.pointerType)) {\r\n            switch (ev.pointerType) {\r\n                case \"touch\":\r\n                case \"pen\":\r\n                case 2:\r\n                    return true;\r\n                case \"mouse\":\r\n                case 4:\r\n                    return false;\r\n                default:\r\n                    return !(ev instanceof MouseEvent);\r\n            }\r\n        }\r\n        else if ($type.hasValue(ev.type)) {\r\n            if (ev.type.match(/^mouse/)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Resets the poiner to original state, i.e. cleans movement information,\r\n     * starting point, etc.\r\n     *\r\n     * @param pointer Pointer\r\n     */\r\n    Interaction.prototype.resetPointer = function (pointer, ev) {\r\n        // Get current coordinates\r\n        var point = this.getPointerPoint(ev);\r\n        ;\r\n        pointer.startTime = $time.getTime();\r\n        pointer.startPoint = { x: point.x, y: point.y };\r\n        pointer.point = { x: point.x, y: point.y };\r\n        pointer.track = [];\r\n        pointer.swipeCanceled = false;\r\n        //clearTimeout(pointer.swipeTimeout);\r\n        //clearTimeout(pointer.holdTimeout);\r\n    };\r\n    /**\r\n     * Adds a \"breadcrumb\" point to the [[Pointer]] to log its movement path.\r\n     *\r\n     * @param pointer  Pointer\r\n     * @param point    Point coordinates\r\n     */\r\n    Interaction.prototype.addBreadCrumb = function (pointer, point) {\r\n        pointer.track.push({\r\n            \"timestamp\": $time.getTime(),\r\n            \"point\": point\r\n        });\r\n    };\r\n    /**\r\n     * Prepares the document for various touch-related operations.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Interaction.prototype.lockDocument = function () {\r\n        this.prepElement(this.body);\r\n    };\r\n    /**\r\n     * Restores document functionality.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Interaction.prototype.unlockDocument = function () {\r\n        if (this.transformedObjects.length == 0) {\r\n            this.restoreAllStyles(this.body);\r\n        }\r\n    };\r\n    /**\r\n     * Lock element (disable all touch)\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Interaction.prototype.lockElement = function (io) {\r\n        this.prepElement(io);\r\n    };\r\n    /**\r\n     * Restores element's functionality.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Interaction.prototype.unlockElement = function (io) {\r\n        this.restoreAllStyles(io);\r\n    };\r\n    /**\r\n     * Locks document's wheel scroll.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Interaction.prototype.lockWheel = function () {\r\n        window.addEventListener(this._pointerEvents.wheel, this.wheelLockEvent, this._passiveSupported ? { passive: false } : false);\r\n    };\r\n    /**\r\n     * Unlocks document's wheel scroll.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Interaction.prototype.unlockWheel = function () {\r\n        window.removeEventListener(this._pointerEvents.wheel, this.wheelLockEvent);\r\n    };\r\n    /**\r\n     * Checks if top element at pointer's position belongs to the SVG.\r\n     *\r\n     * @ignore Exlude from docs\r\n     * @param pointer  Pointer\r\n     * @param svg      The <svg> element\r\n     * @param id       A unique identifier of the object that is checking for locality\r\n     * @return Belongs to SVG\r\n     */\r\n    Interaction.prototype.isLocalElement = function (pointer, svg, id) {\r\n        var cached = this.getCache(\"local_pointer_\" + pointer.id);\r\n        if ($type.hasValue(cached)) {\r\n            return cached;\r\n        }\r\n        var doc = ($dom.getRoot(svg) || document);\r\n        if (doc.elementFromPoint) {\r\n            var target = doc.elementFromPoint(pointer.point.x, pointer.point.y);\r\n            var local = target && $dom.contains(svg, target);\r\n            this.setCache(\"local_pointer_\" + pointer.id + \"_\" + id, local, 100);\r\n            return local;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * A function that cancels mouse wheel scroll.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param ev  Event object\r\n     * @return Returns `false` to cancel\r\n     */\r\n    Interaction.prototype.wheelLockEvent = function (ev) {\r\n        ev.preventDefault();\r\n        return false;\r\n    };\r\n    /**\r\n     * Applies a set of styles to an element. Stores the original styles so they\r\n     * can be restored later.\r\n     *\r\n     * @ignore\r\n     * @param io      Element\r\n     */\r\n    Interaction.prototype.prepElement = function (io) {\r\n        var el = io.element;\r\n        if (el) {\r\n            // Define possible props\r\n            var props = [\r\n                \"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n                \"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n                \"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n                \"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n                \"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n                \"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n            ];\r\n            for (var i = 0; i < props.length; i++) {\r\n                if (props[i] in el.style) {\r\n                    this.setTemporaryStyle(io, props[i], \"none\");\r\n                }\r\n            }\r\n            // Remove iOS-specific selection;\r\n            this.setTemporaryStyle(io, \"tapHighlightColor\", \"rgba(0, 0, 0, 0)\");\r\n            //this.setTemporaryStyle(io, \"webkitOverflowScrolling\", \"none\");\r\n        }\r\n    };\r\n    /**\r\n     * Restores replaced styles\r\n     *\r\n     * @ignore\r\n     * @param  io  Element\r\n     */\r\n    Interaction.prototype.unprepElement = function (io) {\r\n        var el = io.element;\r\n        if (el) {\r\n            // Define possible props\r\n            var props = [\r\n                \"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n                \"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n                \"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n                \"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n                \"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n                \"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n            ];\r\n            for (var i = 0; i < props.length; i++) {\r\n                if (props[i] in el.style) {\r\n                    this.restoreStyle(io, props[i]);\r\n                }\r\n            }\r\n            // Remove iOS-specific selection;\r\n            this.restoreStyle(io, \"tapHighlightColor\");\r\n            //this.restoreStyle(io, \"webkitOverflowScrolling\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns an option associated with hit events.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io      Element\r\n     * @param option  Option key\r\n     * @return Option value\r\n     */\r\n    Interaction.prototype.getHitOption = function (io, option) {\r\n        var res = io.hitOptions[option];\r\n        if (typeof res === \"undefined\") {\r\n            res = this.hitOptions[option];\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Returns an option associated with hover events.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io      Element\r\n     * @param option  Option key\r\n     * @return Option value\r\n     */\r\n    Interaction.prototype.getHoverOption = function (io, option) {\r\n        var res = io.hoverOptions[option];\r\n        if (typeof res === \"undefined\") {\r\n            res = this.hoverOptions[option];\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Returns an option associated with swipe events.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io      Element\r\n     * @param option  Option key\r\n     * @return Option value\r\n     */\r\n    Interaction.prototype.getSwipeOption = function (io, option) {\r\n        var res = io.swipeOptions[option];\r\n        if (typeof res === \"undefined\") {\r\n            res = this.swipeOptions[option];\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Returns an option for keyboard.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io      Element\r\n     * @param option  Option key\r\n     * @return Option value\r\n     */\r\n    Interaction.prototype.getKeyboardOption = function (io, option) {\r\n        var res = io.keyboardOptions[option];\r\n        if (typeof res === \"undefined\") {\r\n            res = this.keyboardOptions[option];\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Returns an option for mouse.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io      Element\r\n     * @param option  Option key\r\n     * @return Option value\r\n     */\r\n    Interaction.prototype.getMouseOption = function (io, option) {\r\n        var res = io.mouseOptions[option];\r\n        if (typeof res === \"undefined\") {\r\n            res = this.mouseOptions[option];\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Returns an option associated with inertia.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io      Element\r\n     * @param type    Inertia type\r\n     * @param option  Option key\r\n     * @return Option value\r\n     */\r\n    Interaction.prototype.getInertiaOption = function (io, type, option) {\r\n        var options = io.inertiaOptions.getKey(type);\r\n        var res;\r\n        if (options && $type.hasValue(options[option])) {\r\n            res = options[option];\r\n        }\r\n        else {\r\n            res = this.inertiaOptions.getKey(type)[option];\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Stops currently going on inertia. Useful if inertia is currently being\r\n     * animated and the object is being interacted with.\r\n     *\r\n     * @param io Element\r\n     */\r\n    Interaction.prototype.stopInertia = function (io) {\r\n        var x;\r\n        var inertias = [\"move\", \"resize\"];\r\n        for (var i = 0; i < inertias.length; i++) {\r\n            x = inertias[i];\r\n            if (io.inertias.hasKey(x)) {\r\n                var inertia = io.inertias.getKey(x);\r\n                if (inertia) {\r\n                    inertia.dispose();\r\n                    //io.inertiaAnimations.removeKey(x);\r\n                    //this.processDragStop(io);\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Check if swiping is currently being performed on an object.\r\n     *\r\n     * @param io       Element\r\n     * @param pointer  Pointer to check\r\n     * @return `true` if swiping\r\n     */\r\n    Interaction.prototype.swiping = function (io, pointer) {\r\n        var now = $time.getTime();\r\n        if (pointer.swipeCanceled || !io.swipeable) {\r\n            return false;\r\n        }\r\n        else if ((Math.abs(pointer.startPoint.y - pointer.point.y) < this.getSwipeOption(io, \"verticalThreshold\")) &&\r\n            (pointer.startTime > (now - this.getSwipeOption(io, \"time\")))) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * Returns `true` if a successfull swipe action was performed on an element.\r\n     *\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     * @return Swiped?\r\n     */\r\n    Interaction.prototype.swiped = function (io, pointer) {\r\n        var now = $time.getTime();\r\n        if (pointer.swipeCanceled) {\r\n            return false;\r\n        }\r\n        else if ((Math.abs(pointer.startPoint.x - pointer.point.x) > this.getSwipeOption(io, \"horizontalThreshold\")) &&\r\n            (Math.abs(pointer.startPoint.y - pointer.point.y) < this.getSwipeOption(io, \"verticalThreshold\")) &&\r\n            (pointer.startTime > (now - this.getSwipeOption(io, \"time\")))) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * Applies style to mouse cursor based on its stage in relation to\r\n     * [[InteractionObject]].\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param Element\r\n     */\r\n    Interaction.prototype.applyCursorOverStyle = function (io) {\r\n        // Get sprite's cursor ooptions\r\n        var options = io.cursorOptions;\r\n        if (!$type.hasValue(options.overStyle)) {\r\n            return;\r\n        }\r\n        // Apply cursor down styles\r\n        for (var i = 0; i < options.overStyle.length; i++) {\r\n            $dom.setStyle(io.element, options.overStyle[i].property, options.overStyle[i].value);\r\n        }\r\n    };\r\n    /**\r\n     * Applies style to mouse cursor based on its stage in relation to\r\n     * [[InteractionObject]].\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     */\r\n    Interaction.prototype.applyCursorDownStyle = function (io, pointer) {\r\n        // Not applicable for touch pointers since they don't display a cursor\r\n        if (pointer.touch) {\r\n            return;\r\n        }\r\n        var downStyle = io.cursorOptions.downStyle;\r\n        // Is down?\r\n        if (io.downPointers.contains(pointer) && $type.hasValue(downStyle)) {\r\n            // Apply cursor down styles\r\n            for (var i = 0; i < downStyle.length; i++) {\r\n                this.setTemporaryStyle(this.body, downStyle[i].property, downStyle[i].value);\r\n                this.setTemporaryStyle(io, downStyle[i].property, downStyle[i].value);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Restores original cursor style for the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param io       Element\r\n     * @param pointer  Pointer\r\n     */\r\n    Interaction.prototype.restoreCursorDownStyle = function (io, pointer) {\r\n        // Not applicable for touch pointers since they don't display a cursor\r\n        if (pointer.touch) {\r\n            return;\r\n        }\r\n        var downStyle = io.cursorOptions.downStyle;\r\n        // Is down?\r\n        if (io.downPointers.contains(pointer) && $type.hasValue(downStyle)) {\r\n            // Apply cursor down styles\r\n            for (var i = 0; i < downStyle.length; i++) {\r\n                this.restoreStyle(this.body, downStyle[i].property);\r\n                this.restoreStyle(io, downStyle[i].property);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets style on the body of the document.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param style  Style definitions\r\n     */\r\n    Interaction.prototype.setGlobalStyle = function (style) {\r\n        var body = getInteraction().body;\r\n        var styles = ($type.isArray(style) ? style : [style]);\r\n        for (var i = 0; i < styles.length; i++) {\r\n            this.setTemporaryStyle(body, styles[i].property, styles[i].value);\r\n        }\r\n    };\r\n    /**\r\n     * Restores style on the body of the document.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param style  Style definitions\r\n     */\r\n    Interaction.prototype.restoreGlobalStyle = function (style) {\r\n        var body = getInteraction().body;\r\n        var styles = ($type.isArray(style) ? style : [style]);\r\n        for (var i = 0; i < styles.length; i++) {\r\n            this.restoreStyle(body, styles[i].property);\r\n        }\r\n    };\r\n    /**\r\n     * Checks if element is a non-cahrt element.\r\n     *\r\n     * @param io  InteractionObject\r\n     * @return Global element?\r\n     */\r\n    Interaction.prototype.isGlobalElement = function (io) {\r\n        return document.body === io.element;\r\n    };\r\n    /**\r\n     * Checks if pointer has moved since it was created.\r\n     *\r\n     * @param pointer    Pointer\r\n     * @param tolerance  Tolerance in pixels\r\n     * @param minTime    Minimum time required for the pointer to be down to be considered moved\r\n     * @return `true` if the pointer has moved\r\n     */\r\n    Interaction.prototype.moved = function (pointer, tolerance, minTime) {\r\n        /*// If there was more time, we don't care if cursor actually moved\r\n        let duration = $time.getTime() - pointer.startTime;\r\n        if ($type.hasValue(minTime) && (minTime > duration)) {\r\n            return false;\r\n        }*/\r\n        if (minTime === void 0) { minTime = 300; }\r\n        // That was quick measure shift\r\n        var shift = this.getShift(pointer);\r\n        return (Math.abs(shift.x) > tolerance) || (Math.abs(shift.y) > tolerance);\r\n    };\r\n    /**\r\n     * Returns if pointer is \"old\", meaning it has been pressing for more than\r\n     * X milliseconds.\r\n     *\r\n     * @ignore\r\n     * @param pointer  Pointer\r\n     * @param minTime  Minimum time to consider pointer old\r\n     * @return {boolean}\r\n     */\r\n    Interaction.prototype.old = function (pointer, minTime) {\r\n        if (minTime === void 0) { minTime = 300; }\r\n        return $time.getTime() - pointer.startTime > minTime;\r\n    };\r\n    /**\r\n     * Returns total a shift in pointers coordinates between its original\r\n     * position and now.\r\n     *\r\n     * @param pointer  Pointer\r\n     * @return Shift in coordinates (x/y)\r\n     */\r\n    Interaction.prototype.getShift = function (pointer) {\r\n        return {\r\n            \"x\": pointer.startPoint.x - pointer.point.x,\r\n            \"y\": pointer.startPoint.y - pointer.point.y\r\n        };\r\n    };\r\n    /**\r\n     * Returns a point from [[Pointer]]'s move history at a certain timetamp.\r\n     *\r\n     * @param pointer    Pointer\r\n     * @param timestamp  Timestamp\r\n     * @return Point\r\n     */\r\n    Interaction.prototype.getTrailPoint = function (pointer, timestamp) {\r\n        var res;\r\n        for (var i = 0; i < pointer.track.length; i++) {\r\n            if (pointer.track[i].timestamp >= timestamp) {\r\n                res = pointer.track[i];\r\n                break;\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Checks if same pointer already exists in the list.\r\n     *\r\n     * @param list     List to check agains\r\n     * @param pointer  Pointer\r\n     * @return Exists?\r\n     */\r\n    Interaction.prototype.pointerExists = function (list, pointer) {\r\n        var exists = false;\r\n        list.each(function (item) {\r\n            if (item == pointer) {\r\n                return;\r\n            }\r\n            exists = item.point.x == pointer.point.x && item.point.y == pointer.point.y;\r\n        });\r\n        return exists;\r\n    };\r\n    /**\r\n     * Returns an [[InteractionObject]] representation of a DOM element.\r\n     *\r\n     * You can use this on any HTML or SVG element, to add interactive features\r\n     * to it.\r\n     *\r\n     * @param element  Element\r\n     * @return InteractionObject\r\n     */\r\n    Interaction.prototype.getInteraction = function (element) {\r\n        return new InteractionObject(element);\r\n    };\r\n    /**\r\n     * Sets a style property on an element. Stores original value to be restored\r\n     * later with [[restoreStyle]].\r\n     *\r\n     * @see {@link restoreStyle}\r\n     * @param io        Element\r\n     * @param property  Property\r\n     * @param value     Value\r\n     */\r\n    Interaction.prototype.setTemporaryStyle = function (io, property, value) {\r\n        // Get element\r\n        //let el = io.element.tagName == \"g\" ? <SVGSVGElement>io.element.parentNode : io.element;\r\n        var el = io.element;\r\n        // Save original property if it is set and hasn't been saved before already\r\n        if ($type.hasValue(el.style[property]) && !io.replacedStyles.hasKey(property)) {\r\n            io.replacedStyles.setKey(property, el.style[property]);\r\n        }\r\n        // Replace with the new one\r\n        $dom.setStyle(el, property, value);\r\n    };\r\n    /**\r\n     * Restores specific style on an element.\r\n     *\r\n     * @param io        Element\r\n     * @param property  Style property\r\n     */\r\n    Interaction.prototype.restoreStyle = function (io, property) {\r\n        // Reset style\r\n        if (io.replacedStyles.hasKey(property)) {\r\n            io.element.style[property] = io.replacedStyles.getKey(property);\r\n            io.replacedStyles.removeKey(property);\r\n        }\r\n        else {\r\n            delete io.element.style[property];\r\n        }\r\n    };\r\n    /**\r\n     * Restore temporarily reset styles on an element.\r\n     *\r\n     * @param io Element\r\n     */\r\n    Interaction.prototype.restoreAllStyles = function (io) {\r\n        $iter.each(io.replacedStyles.iterator(), function (a) {\r\n            var key = a[0];\r\n            var value = a[1];\r\n            io.element.style[key] = value;\r\n            io.replacedStyles.removeKey(key);\r\n        });\r\n    };\r\n    /**\r\n     * Disposes this object and cleans up after itself.\r\n     */\r\n    Interaction.prototype.dispose = function () {\r\n        if (!this.isDisposed()) {\r\n            _super.prototype.dispose.call(this);\r\n            this.restoreAllStyles(this.body);\r\n            this.unlockWheel();\r\n        }\r\n    };\r\n    // @ts-ignore Used for debugging\r\n    Interaction.prototype.log = function (text, ev, io) {\r\n        var show = true;\r\n        if (show) {\r\n            // Touchlist?\r\n            if (ev.changedTouches) {\r\n                for (var i = 0; i < ev.changedTouches.length; i++) {\r\n                    this.logTouch(text, ev.type, ev.changedTouches[i]);\r\n                }\r\n                return;\r\n            }\r\n            // Get type\r\n            var type = \"\";\r\n            if (ev.pointerType) {\r\n                switch (ev.pointerType) {\r\n                    case 2:\r\n                        type = \"touch\";\r\n                        break;\r\n                    case 4:\r\n                        type = \"mouse\";\r\n                        break;\r\n                    default:\r\n                        type = ev.pointerType;\r\n                        break;\r\n                }\r\n            }\r\n            else if (typeof TouchEvent != \"undefined\" && ev instanceof TouchEvent) {\r\n                type = \"touch\";\r\n            }\r\n            else if (ev.type.match(/^mouse/)) {\r\n                type = \"mouse\";\r\n            }\r\n            else {\r\n                type = \"???\";\r\n            }\r\n            // Get ID\r\n            var id = \"\";\r\n            if ($type.hasValue(ev.identifier)) {\r\n                id = ev.identifier;\r\n            }\r\n            else if ($type.hasValue(ev.pointerId)) {\r\n                id = ev.pointerId;\r\n            }\r\n            else {\r\n                id = \"???\";\r\n            }\r\n            if (io) {\r\n                console.log(text + \" (\" + io.uid + \")  \" + ev.type + \"  \" + type + \"  \" + id);\r\n            }\r\n            else {\r\n                console.log(text + \"  \" + ev.type + \"  \" + type + \"  \" + id);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Checks whether there are currently any objects being transformed (dragged\r\n     * or resized).\r\n     *\r\n     * If `except` is set, that object will be ignored.\r\n     *\r\n     * @since 4.9.3\r\n     * @param   except  Ignore this object(s)\r\n     * @return          Objects are being transformed\r\n     */\r\n    Interaction.prototype.areTransformed = function (except) {\r\n        var count = this.transformedObjects.length;\r\n        if (except) {\r\n            var ex = $type.isArray(except) ? except : [except];\r\n            for (var i = 0; i < ex.length; i++) {\r\n                if (this.transformedObjects.contains(ex[i])) {\r\n                    count--;\r\n                }\r\n            }\r\n        }\r\n        return count > 0;\r\n    };\r\n    /**\r\n     * Log.\r\n     */\r\n    Interaction.prototype.logTouch = function (text, type, ev) {\r\n        console.log(text + \"  \" + type + \"  \" + \"touch\" + \"  \" + ev.identifier);\r\n    };\r\n    Object.defineProperty(Interaction, \"passiveSupported\", {\r\n        /**\r\n         * Indicates if passive mode options is supported by this browser.\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (this._passiveSupported == null) {\r\n                // Check for passive mode support\r\n                try {\r\n                    var options = Object.defineProperty({}, \"passive\", {\r\n                        get: function () {\r\n                            _this._passiveSupported = true;\r\n                        }\r\n                    });\r\n                    window.addEventListener(\"test\", options, options);\r\n                    window.removeEventListener(\"test\", options, options);\r\n                }\r\n                catch (err) {\r\n                    this._passiveSupported = false;\r\n                }\r\n            }\r\n            return this._passiveSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Interaction;\r\n}(BaseObjectEvents));\r\nexport { Interaction };\r\nvar interaction = null;\r\n/**\r\n * Returns a single unified global instance of [[Interaction]].\r\n *\r\n * All code should use this function, rather than create their own instances\r\n * of [[Interaction]].\r\n */\r\nexport function getInteraction() {\r\n    if (interaction == null) {\r\n        interaction = new Interaction();\r\n    }\r\n    return interaction;\r\n}\r\n//# sourceMappingURL=Interaction.js.map","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","/**\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { color } from \"../utils/Color\";\r\n/**\r\n * Defines a class that holds default properties for new SVG elements\r\n */\r\nvar SVGDefaults = /** @class */ (function () {\r\n    function SVGDefaults() {\r\n    }\r\n    SVGDefaults.opacity = 1;\r\n    SVGDefaults.strokeOpacity = 1;\r\n    SVGDefaults.strokeWidth = 1;\r\n    SVGDefaults.fillOpacity = 1;\r\n    SVGDefaults.fill = color(\"#000000\");\r\n    SVGDefaults.stroke = color(\"#000000\");\r\n    SVGDefaults.focusable = undefined;\r\n    SVGDefaults.tabindex = 0;\r\n    return SVGDefaults;\r\n}());\r\nexport { SVGDefaults };\r\n//# sourceMappingURL=SVGDefaults.js.map","import * as $array from \"./Array\";\r\nimport * as $log from \"./Log\";\r\nvar Native = /** @class */ (function () {\r\n    function Native() {\r\n        var _this = this;\r\n        this._targets = [];\r\n        this._observer = new ResizeObserver(function (entries) {\r\n            $array.each(entries, function (entry) {\r\n                $array.each(_this._targets, function (x) {\r\n                    if (x.target === entry.target) {\r\n                        x.callback();\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n    Native.prototype.addTarget = function (target, callback) {\r\n        this._observer.observe(target, { box: \"content-box\" });\r\n        this._targets.push({ target: target, callback: callback });\r\n    };\r\n    Native.prototype.removeTarget = function (target) {\r\n        this._observer.unobserve(target);\r\n        $array.keepIf(this._targets, function (x) {\r\n            return x.target !== target;\r\n        });\r\n    };\r\n    return Native;\r\n}());\r\nvar Raf = /** @class */ (function () {\r\n    function Raf() {\r\n        this._targets = [];\r\n    }\r\n    Raf.prototype.addTarget = function (target, callback) {\r\n        var _this = this;\r\n        if (this._targets.length === 0) {\r\n            var lastTime_1 = null;\r\n            var loop_1 = function () {\r\n                var currentTime = Date.now();\r\n                if (lastTime_1 === null || currentTime > (lastTime_1 + Raf.delay)) {\r\n                    lastTime_1 = currentTime;\r\n                    $array.each(_this._targets, function (x) {\r\n                        var newSize = x.target.getBoundingClientRect();\r\n                        if (newSize.width !== x.size.width || newSize.height !== x.size.height) {\r\n                            x.size = newSize;\r\n                            x.callback();\r\n                        }\r\n                    });\r\n                }\r\n                _this._timer = requestAnimationFrame(loop_1);\r\n            };\r\n            this._timer = requestAnimationFrame(loop_1);\r\n        }\r\n        var size = target.getBoundingClientRect();\r\n        this._targets.push({ target: target, callback: callback, size: size });\r\n    };\r\n    Raf.prototype.removeTarget = function (target) {\r\n        $array.keepIf(this._targets, function (x) {\r\n            return x.target !== target;\r\n        });\r\n        if (this._targets.length === 0) {\r\n            cancelAnimationFrame(this._timer);\r\n        }\r\n    };\r\n    Raf.delay = 200;\r\n    return Raf;\r\n}());\r\nvar observer = null;\r\nfunction makeSensor() {\r\n    if (observer === null) {\r\n        if (typeof ResizeObserver !== \"undefined\") {\r\n            observer = new Native();\r\n        }\r\n        else {\r\n            observer = new Raf();\r\n        }\r\n    }\r\n    return observer;\r\n}\r\nvar ResizeSensor = /** @class */ (function () {\r\n    function ResizeSensor(element, callback) {\r\n        this._disposed = false;\r\n        this._sensor = makeSensor();\r\n        this._element = element;\r\n        this._sensor.addTarget(element, callback);\r\n    }\r\n    ResizeSensor.prototype.isDisposed = function () {\r\n        return this._disposed;\r\n    };\r\n    ResizeSensor.prototype.dispose = function () {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._sensor.removeTarget(this._element);\r\n        }\r\n    };\r\n    Object.defineProperty(ResizeSensor.prototype, \"sensor\", {\r\n        get: function () {\r\n            return this._sensor;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Deprecated: do not use.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ResizeSensor.prototype.reset = function () {\r\n        $log.warn(\"resizeSensor.reset() is no longer needed and can be removed\");\r\n    };\r\n    return ResizeSensor;\r\n}());\r\nexport { ResizeSensor };\r\n//# sourceMappingURL=ResizeSensor.js.map","/**\r\n * This functionality is related to the HTML wrapper that houses `<svg>` tag.\r\n */\r\nimport { Popup } from \"../elements/Popup\";\r\nimport { Modal } from \"../elements/Modal\";\r\nimport { ListTemplate, ListDisposer } from \"../utils/List\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $dom from \"../utils/DOM\";\r\nimport * as $array from \"../utils/Array\";\r\nimport * as $type from \"../utils/Type\";\r\nimport { ResizeSensor } from \"../utils/ResizeSensor\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A array of all SVG Containers (one SVG container per chart instance).\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var svgContainers = [];\r\n/**\r\n * A class used to create an HTML wrapper for the SVG contents.\r\n */\r\nvar SVGContainer = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * * Creates an HTML wrapper for SVG\r\n     */\r\n    function SVGContainer(htmlElement, ghost) {\r\n        var _this = this;\r\n        /**\r\n         * Indicates if this object has already been deleted. Any\r\n         * destruction/disposal code should take this into account when deciding\r\n         * wheter to run potentially costly disposal operations if they already have\r\n         * been run.\r\n         */\r\n        this._disposed = false;\r\n        /**\r\n         * If this component is in a separate HTML container, `autoResize` means the\r\n         * module will constantly measure container's size and adopt contents to it.\r\n         */\r\n        this.autoResize = true;\r\n        /**\r\n         * Holds list of references to [[Sprite]] objects that should not be exported\r\n         * when exporting chart to an image.\r\n         *\r\n         * @ignore\r\n         */\r\n        this.nonExportableSprites = [];\r\n        /**\r\n         * List of objects that need to be disposed when this one is disposed.\r\n         */\r\n        this._disposers = [];\r\n        this.cssScale = 1;\r\n        // This is needed so that it won't resize while printing, so that way printing works correctly.\r\n        this._printing = false;\r\n        // Log parent HTML element\r\n        this.htmlElement = htmlElement;\r\n        if (!ghost) {\r\n            this._printing = false;\r\n            this.initSensor();\r\n            this._disposers.push($dom.addEventListener(window, \"beforeprint\", function () {\r\n                _this._printing = true;\r\n            }));\r\n            this._disposers.push($dom.addEventListener(window, \"afterprint\", function () {\r\n                _this._printing = false;\r\n            }));\r\n        }\r\n        // Adds to containers array\r\n        svgContainers.push(this);\r\n        /**\r\n         * Create child div for the container - it will have svg node\r\n         * It might seem that this container is not necessay, however having it solves\r\n         * a problems with mouse position detection and some other.\r\n         */\r\n        var svgContainer = document.createElement(\"div\");\r\n        var style = svgContainer.style;\r\n        style.width = \"100%\";\r\n        style.height = \"100%\";\r\n        style.position = \"relative\";\r\n        htmlElement.appendChild(svgContainer);\r\n        this.SVGContainer = svgContainer;\r\n    }\r\n    /**\r\n     * (Re)Initializes a resize sensor.\r\n     */\r\n    SVGContainer.prototype.initSensor = function () {\r\n        var _this = this;\r\n        if (this.resizeSensor) {\r\n            this.resizeSensor.dispose();\r\n        }\r\n        var callback = function () {\r\n            if (_this.autoResize && !_this._printing) {\r\n                _this.measure();\r\n            }\r\n        };\r\n        this.resizeSensor = new ResizeSensor(this.htmlElement, callback);\r\n        this._disposers.push(this.resizeSensor);\r\n    };\r\n    /**\r\n     * Measures size of parent HTML element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    SVGContainer.prototype.measure = function () {\r\n        var width = $utils.width(this.htmlElement);\r\n        var height = $utils.height(this.htmlElement);\r\n        var container = this.container;\r\n        if (container) {\r\n            if (this.width != width || this.height != height) {\r\n                this.width = width;\r\n                this.height = height;\r\n                if (width > 0) {\r\n                    container.maxWidth = width;\r\n                }\r\n                if (height > 0) {\r\n                    container.maxHeight = height;\r\n                }\r\n                $dom.fixPixelPerfect(this.SVGContainer);\r\n            }\r\n            if (!container.maxWidth) {\r\n                container.maxWidth = 0;\r\n            }\r\n            if (!container.maxHeight) {\r\n                container.maxHeight = 0;\r\n            }\r\n            this.cssScale = 1;\r\n            this.checkTransform(this.htmlElement);\r\n        }\r\n    };\r\n    Object.defineProperty(SVGContainer.prototype, \"container\", {\r\n        /**\r\n         * @return Container\r\n         */\r\n        get: function () {\r\n            return this._container;\r\n        },\r\n        /**\r\n         * A [[Container]] element which is placed into container.\r\n         *\r\n         * @param container  Container\r\n         */\r\n        set: function (container) {\r\n            this._container = container;\r\n            this.measure();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns if this object has been already been disposed.\r\n     *\r\n     * @return Is disposed?\r\n     */\r\n    SVGContainer.prototype.isDisposed = function () {\r\n        return this._disposed;\r\n    };\r\n    /**\r\n     * Removes this container from SVG container list in system, which\r\n     * effectively disables size change monitoring for it.\r\n     */\r\n    SVGContainer.prototype.dispose = function () {\r\n        if (!this._disposed) {\r\n            $array.remove(svgContainers, this);\r\n        }\r\n        $array.each(this._disposers, function (item) {\r\n            item.dispose();\r\n        });\r\n    };\r\n    Object.defineProperty(SVGContainer.prototype, \"hideOverflow\", {\r\n        /**\r\n         * Indicates if chart container should have its style set\r\n         * to `overflow: hidden`.\r\n         *\r\n         * Normally, we don't want that, so that certain elements, such as tooltips,\r\n         * would be able to go outside chart area.\r\n         *\r\n         * There is one issue though. Some browsers ignore SVG masks and would\r\n         * display scrollbars if chart elements, that go outside chart area extend\r\n         * outside window.\r\n         *\r\n         * This is especially true for [[MapChart]], which can have its elements\r\n         * extend very widely when zoomed in. Even if those parts are not visible\r\n         * because of SVG masks, some browsers might still display window scrollbars.\r\n         *\r\n         * This is why we set this setting to `true` in [[MapChart]].\r\n         *\r\n         * Other charts use default of `false`.\r\n         */\r\n        set: function (value) {\r\n            if (value) {\r\n                this.SVGContainer.style.overflow = \"hidden\";\r\n            }\r\n            else {\r\n                this.SVGContainer.style.overflow = \"\";\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SVGContainer.prototype, \"modal\", {\r\n        /**\r\n         * ==========================================================================\r\n         * MODAL/POPUP RELATED STUFF\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Returns a [[Modal]] instance, associated with this chart.\r\n         * (elements top parent)\r\n         *\r\n         * Accessing modal does not make it appear. To make a modal appear, use\r\n         * `showModal()` method.\r\n         *\r\n         * @see {@link Modal} for more information about using Modal windows\r\n         * @return Modal instance\r\n         */\r\n        get: function () {\r\n            if (!$type.hasValue(this._modal)) {\r\n                // Create new modal\r\n                this._modal = new Modal();\r\n                this._modal.container = this.SVGContainer;\r\n                // Add to disposers\r\n                this._disposers.push(this._modal);\r\n            }\r\n            return this._modal;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Opens a modal window with specific content (`text` parameter) and,\r\n     * optionally, `title`.\r\n     *\r\n     * The `text` parameter can contain HTML content.\r\n     *\r\n     * @see {@link Modal} for more information about using Modal windows\r\n     * @param text   Modal contents\r\n     * @param title  Title for the modal window\r\n     */\r\n    SVGContainer.prototype.openModal = function (text, title) {\r\n        // Hide previous modal\r\n        this.closeModal();\r\n        // Create modal\r\n        var modal = this.modal;\r\n        modal.content = text;\r\n        modal.readerTitle = title || \"\";\r\n        modal.title = title || \"\";\r\n        modal.open();\r\n        return modal;\r\n    };\r\n    /**\r\n     * Hides modal window if there is one currently open.\r\n     */\r\n    SVGContainer.prototype.closeModal = function () {\r\n        if (this._modal) {\r\n            this.modal.close();\r\n        }\r\n    };\r\n    Object.defineProperty(SVGContainer.prototype, \"popups\", {\r\n        /**\r\n         * A list of popups for this chart.\r\n         *\r\n         * @return Popups\r\n         */\r\n        get: function () {\r\n            if (!$type.hasValue(this._popups)) {\r\n                // Create popup template\r\n                var popupTemplate = new Popup();\r\n                popupTemplate.container = this.SVGContainer;\r\n                // Create the list\r\n                this._popups = new ListTemplate(popupTemplate);\r\n                // Add to disposers\r\n                this._disposers.push(new ListDisposer(this._popups));\r\n                this._disposers.push(this._popups.template);\r\n            }\r\n            return this._popups;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates, opens, and returns a new [[Popup]] window.\r\n     *\r\n     * `text` can be any valid HTML.\r\n     *\r\n     * `title` is currently not supported.\r\n     *\r\n     * @param text   Popup contents\r\n     * @param title  Popup title\r\n     * @return Popup instance\r\n     */\r\n    SVGContainer.prototype.openPopup = function (text, title) {\r\n        var popup = this.popups.create();\r\n        popup.content = text;\r\n        if ($type.hasValue(title)) {\r\n            popup.title = title;\r\n        }\r\n        popup.open();\r\n        return popup;\r\n    };\r\n    /**\r\n     * Closes all currently open popup windows\r\n     */\r\n    SVGContainer.prototype.closeAllPopups = function () {\r\n        this.popups.each(function (popup) {\r\n            popup.close();\r\n        });\r\n    };\r\n    Object.defineProperty(SVGContainer.prototype, \"readerAlertElement\", {\r\n        /**\r\n         * ==========================================================================\r\n         * ACCESSIBILITY STUFF\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * A `<div>` element used as as placeholder to trigger screen alerts.\r\n         *\r\n         * @sunce 4.9.2\r\n         * @return Element\r\n         */\r\n        get: function () {\r\n            if (!$type.hasValue(this._readerAlertElement)) {\r\n                // Create element\r\n                var div = document.createElement(\"div\");\r\n                div.setAttribute(\"role\", \"alert\");\r\n                div.style.zIndex = \"-100000\";\r\n                div.style.opacity = \"0\";\r\n                this.SVGContainer.appendChild(div);\r\n                this._readerAlertElement = div;\r\n            }\r\n            return this._readerAlertElement;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Triggers screen reader read out a message.\r\n     *\r\n     * @since 4.9.2\r\n     * @param  text  Alert text\r\n     */\r\n    SVGContainer.prototype.readerAlert = function (text) {\r\n        this.readerAlertElement.innerHTML = text;\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * OTHER STUFF\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    SVGContainer.prototype.checkTransform = function (div) {\r\n        if (window.getComputedStyle) {\r\n            if (div && div.style) {\r\n                var style = window.getComputedStyle(div, null);\r\n                if (style) {\r\n                    var matrix = style.getPropertyValue(\"-webkit-transform\") ||\r\n                        style.getPropertyValue(\"-moz-transform\") ||\r\n                        style.getPropertyValue(\"-ms-transform\") ||\r\n                        style.getPropertyValue(\"-o-transform\") ||\r\n                        style.getPropertyValue(\"transform\");\r\n                    if (matrix && matrix !== \"none\") {\r\n                        var values = matrix.split('(')[1].split(')')[0].split(',');\r\n                        var a = Number(values[0]);\r\n                        var b = Number(values[1]);\r\n                        var scale = Math.sqrt(a * a + b * b);\r\n                        if (!isNaN(scale)) {\r\n                            this.cssScale *= scale;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (div.parentNode && div.parentNode instanceof HTMLElement) {\r\n                this.checkTransform(div.parentNode);\r\n            }\r\n        }\r\n    };\r\n    return SVGContainer;\r\n}());\r\nexport { SVGContainer };\r\n//# sourceMappingURL=SVGContainer.js.map","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","/**\r\n * Provides functionality used to build scrollbars.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../Container\";\r\nimport { ResizeButton } from \"../elements/ResizeButton\";\r\nimport { Button } from \"../elements/Button\";\r\nimport { getInteraction } from \"../interaction/Interaction\";\r\nimport { MouseCursorStyle } from \"../interaction/Mouse\";\r\nimport { RoundedRectangle } from \"../elements/RoundedRectangle\";\r\nimport { registry } from \"../Registry\";\r\nimport { keyboard } from \"../utils/Keyboard\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { percent, Percent } from \"../utils/Percent\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $ease from \"../utils/Ease\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $utils from \"../utils/Utils\";\r\n;\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Scrollbar is a generic control allowing to select a range of values or pan\r\n * the selection.\r\n *\r\n * @see {@link IScrollbarEvents} for a list of available events\r\n * @see {@link IScrollbarAdapters} for a list of available Adapters\r\n */\r\nvar Scrollbar = /** @class */ (function (_super) {\r\n    __extends(Scrollbar, _super);\r\n    /**\r\n     * Construtor\r\n     */\r\n    function Scrollbar() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Previously selected lower (start) value.\r\n         */\r\n        _this._previousStart = 0;\r\n        /**\r\n         * Previously selected upper (end) value.\r\n         */\r\n        _this._previousEnd = 1;\r\n        /**\r\n         * A value of previously selected lower value, used for doubleclick function.\r\n         */\r\n        _this._prevStart = 0;\r\n        /**\r\n         * A value of previously selected upper value, used for doubleclick function.\r\n         */\r\n        _this._prevEnd = 1;\r\n        /**\r\n         * Indicates if the Scrollbar is currently \"busy\" (animating and or\r\n         * performing zoom by user interaction).\r\n         */\r\n        _this._isBusy = false;\r\n        /**\r\n         * [_skipRangeEvents description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._skipRangeEvents = false;\r\n        /**\r\n         * Update the selection when dragging the grips.\r\n         *\r\n         * If set to `false` selection will be updated only when the grip is\r\n         * released.\r\n         *\r\n         * @default true\r\n         */\r\n        _this.updateWhileMoving = true;\r\n        _this.className = \"Scrollbar\";\r\n        _this.minHeight = 12;\r\n        _this.minWidth = 12;\r\n        _this.animationDuration = 0;\r\n        _this.animationEasing = $ease.cubicOut;\r\n        _this.margin(10, 10, 10, 10);\r\n        var interfaceColors = new InterfaceColorSet();\r\n        // background is also container as it might contain graphs, grid, etc\r\n        var background = _this.background;\r\n        background.cornerRadius(10, 10, 10, 10);\r\n        background.fill = interfaceColors.getFor(\"fill\");\r\n        background.fillOpacity = 0.5;\r\n        // Make system tooltips appear by default\r\n        _this.showSystemTooltip = true;\r\n        _this.startGrip = new ResizeButton();\r\n        _this.endGrip = new ResizeButton();\r\n        // Default orientation...\r\n        // ... is set in `applyInternalDefaults()` because it accesses `language`\r\n        // and should only be started to access when parent is set\r\n        // Set events\r\n        _this.events.on(\"transformed\", _this.updateThumb, _this, false);\r\n        // Initial positions\r\n        _this.start = 0;\r\n        _this.end = 1;\r\n        // Set roles\r\n        _this.role = \"scrollbar\";\r\n        _this.thumb.role = \"slider\";\r\n        _this.thumb.readerLive = \"polite\";\r\n        _this.startGrip.role = \"slider\";\r\n        _this.endGrip.role = \"slider\";\r\n        // otherwise range changed wont' be registered\r\n        _this.events.once(\"inited\", function () {\r\n            _this._previousStart = undefined;\r\n            _this.dispatchRangeChange();\r\n        }, undefined, false);\r\n        _this.hideGrips = false;\r\n        _this.orientation = \"horizontal\";\r\n        // Min/max values for accessibility\r\n        _this.setSVGAttribute({ \"aria-valuemin\": \"0\" });\r\n        _this.setSVGAttribute({ \"aria-valuemax\": \"100\" });\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    Scrollbar.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Set screen reader tetxt accordingly\r\n        if (this.orientation === \"horizontal\") {\r\n            if (!$type.hasValue(this.readerTitle)) {\r\n                this.readerTitle = this.language.translate(\"Use TAB to select grip buttons or left and right arrows to change selection\");\r\n            }\r\n            if (!$type.hasValue(this.thumb.readerDescription)) {\r\n                this.thumb.readerDescription = this.language.translate(\"Use left and right arrows to move selection\");\r\n            }\r\n            if (!$type.hasValue(this.startGrip.readerDescription)) {\r\n                this.startGrip.readerDescription = this.language.translate(\"Use left and right arrows to move left selection\");\r\n            }\r\n            if (!$type.hasValue(this.endGrip.readerDescription)) {\r\n                this.endGrip.readerDescription = this.language.translate(\"Use left and right arrows to move right selection\");\r\n            }\r\n            this.readerOrientation = \"horizontal\";\r\n        }\r\n        else {\r\n            if (!$type.hasValue(this.readerTitle)) {\r\n                this.readerTitle = this.language.translate(\"Use TAB select grip buttons or up and down arrows to change selection\");\r\n            }\r\n            if (!$type.hasValue(this.thumb.readerDescription)) {\r\n                this.thumb.readerDescription = this.language.translate(\"Use up and down arrows to move selection\");\r\n            }\r\n            if (!$type.hasValue(this.startGrip.readerDescription)) {\r\n                this.startGrip.readerDescription = this.language.translate(\"Use up and down arrows to move upper selection\");\r\n            }\r\n            if (!$type.hasValue(this.endGrip.readerDescription)) {\r\n                this.endGrip.readerDescription = this.language.translate(\"Use up and down arrows to move lower selection\");\r\n            }\r\n            this.readerOrientation = \"vertical\";\r\n        }\r\n        this.readerControls = this.baseSprite.uidAttr();\r\n    };\r\n    /**\r\n     * Validates the layout of the scrollbar's elements.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Scrollbar.prototype.validateLayout = function () {\r\n        this.updateSize();\r\n        _super.prototype.validateLayout.call(this);\r\n        // when size changes, need to update extremes\r\n        this.updateExtremes();\r\n    };\r\n    /**\r\n     * Update background for the scrollbar.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Scrollbar.prototype.processBackground = function () {\r\n        _super.prototype.processBackground.call(this);\r\n        var background = this.background;\r\n        background.clickable = true;\r\n        background.events.on(\"hit\", this.handleBgHit, this, undefined);\r\n    };\r\n    /**\r\n     * Zooms to the particular place when clicked/tapped on the scrollbar\r\n     * background.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event  Event\r\n     */\r\n    Scrollbar.prototype.handleBgHit = function (event) {\r\n        this.makeBusy();\r\n        var point = event.spritePoint;\r\n        point = $utils.spritePointToSprite(point, this.background, this);\r\n        var thumb = this.thumb;\r\n        if (this.orientation == \"horizontal\") {\r\n            var thumbX = point.x - thumb.pixelWidth / 2;\r\n            thumbX = $math.fitToRange(thumbX, 0, this.innerWidth - thumb.pixelWidth);\r\n            this._thumbAnimation = thumb.animate({ property: \"x\", to: thumbX }, this.animationDuration, this.animationEasing);\r\n        }\r\n        else {\r\n            var thumbY = point.y - thumb.pixelHeight / 2;\r\n            thumbY = $math.fitToRange(thumbY, 0, this.innerHeight - thumb.pixelHeight);\r\n            this._thumbAnimation = thumb.animate({ property: \"y\", to: thumbY }, this.animationDuration, this.animationEasing);\r\n        }\r\n        if (this.animationDuration > 0) {\r\n            this._thumbAnimation.events.on(\"animationended\", this.makeUnbusy, this, false);\r\n        }\r\n        else {\r\n            this._thumb.validate();\r\n            this.makeUnbusy();\r\n        }\r\n    };\r\n    /**\r\n     * Set scrollbar as busy. (currently zooming)\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Scrollbar.prototype.makeBusy = function () {\r\n        this._isBusy = true;\r\n        this._skipRangeEvents = false;\r\n        if (this._unbusyTimeout) {\r\n            this.removeDispose(this._unbusyTimeout);\r\n        }\r\n        this._unbusyTimeout = undefined;\r\n        this.stopAnimations();\r\n    };\r\n    /**\r\n     * Stops all animations, currently playing for the scrollbar.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Scrollbar.prototype.stopAnimations = function () {\r\n        if (this._thumbAnimation) {\r\n            this._thumbAnimation.stop(true);\r\n        }\r\n        if (this._zoomAnimation) {\r\n            this._zoomAnimation.stop(true);\r\n        }\r\n    };\r\n    /**\r\n     * Cancels \"busy\" status of the Scrollbar.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Scrollbar.prototype.makeUnbusy = function () {\r\n        /**\r\n         * We cannot make Scrollbar not busy right after release, because then axes\r\n         * will take over controll and Scrollbar will start to animate.\r\n         * Theorethically, it's not right to set timeout by `animationDuration`,\r\n         * however we can not know all the durations of elements we scroll, so we\r\n         * assume that animation duration will be the same as\r\n         * `interpolationDuration` or `rangeChange` duration.\r\n         */\r\n        this._unbusyTimeout = this.setTimeout(this.makeUnbusyReal.bind(this), this.animationDuration * 1.1);\r\n    };\r\n    /**\r\n     * [makeUnbusyReal description]\r\n     *\r\n     * @todo Description\r\n     * @ignore Exclude from docs\r\n     */\r\n    Scrollbar.prototype.makeUnbusyReal = function () {\r\n        this._usingGrip = undefined;\r\n        this._isBusy = false;\r\n        if (!this.updateWhileMoving) {\r\n            this.dispatchRangeChange();\r\n        }\r\n    };\r\n    /**\r\n     * Disptatches rangechanged event if it really changed\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Scrollbar.prototype.dispatchRangeChange = function () {\r\n        if (this._previousEnd != this.end || this._previousStart != this.start) {\r\n            this._previousStart = this.start;\r\n            this._previousEnd = this.end;\r\n            this.dispatch(\"rangechanged\");\r\n        }\r\n    };\r\n    /**\r\n     * Updates the \"thumb\" element. A draggable element between the grips.\r\n     */\r\n    Scrollbar.prototype.updateThumb = function () {\r\n        if (!this.parent) {\r\n            return;\r\n        }\r\n        var thumb = this.thumb;\r\n        var start = this.start;\r\n        var end = this.end;\r\n        var startGrip = this.startGrip;\r\n        var endGrip = this.endGrip;\r\n        if (this.orientation == \"horizontal\") {\r\n            var innerWidth_1 = this.innerWidth;\r\n            thumb.width = innerWidth_1 * (end - start);\r\n            thumb.maxX = innerWidth_1 - thumb.pixelWidth;\r\n            thumb.x = start * innerWidth_1;\r\n            startGrip.moveTo({ x: thumb.pixelX, y: 0 }, undefined, undefined, true); // overrides dragging\r\n            endGrip.moveTo({ x: thumb.pixelX + thumb.pixelWidth, y: 0 }, undefined, undefined, true);\r\n            startGrip.readerTitle = this.language.translate(\"From %1\", undefined, this.adapter.apply(\"positionValue\", {\r\n                value: Math.round(start * 100) + \"%\",\r\n                position: start\r\n            }).value);\r\n            startGrip.readerValueNow = \"\" + Math.round(start * 100);\r\n            startGrip.readerValueText = startGrip.readerTitle;\r\n            endGrip.readerTitle = this.language.translate(\"To %1\", undefined, this.adapter.apply(\"positionValue\", {\r\n                value: Math.round(end * 100) + \"%\",\r\n                position: end\r\n            }).value);\r\n            endGrip.readerValueNow = \"\" + Math.round(end * 100);\r\n            endGrip.readerValueText = endGrip.readerTitle;\r\n        }\r\n        else {\r\n            var innerHeight_1 = this.innerHeight;\r\n            thumb.height = innerHeight_1 * (end - start);\r\n            thumb.maxY = innerHeight_1 - thumb.pixelHeight;\r\n            thumb.y = (1 - end) * innerHeight_1;\r\n            startGrip.moveTo({ x: 0, y: thumb.pixelY + thumb.pixelHeight }, undefined, undefined, true);\r\n            endGrip.moveTo({ x: 0, y: thumb.pixelY }, undefined, undefined, true);\r\n            startGrip.readerTitle = this.language.translate(\"To %1\", undefined, this.adapter.apply(\"positionValue\", {\r\n                value: Math.round((1 - start) * 100) + \"%\",\r\n                position: (1 - start)\r\n            }).value);\r\n            startGrip.readerValueNow = \"\" + Math.round(start * 100);\r\n            startGrip.readerValueText = startGrip.readerTitle;\r\n            endGrip.readerTitle = this.language.translate(\"From %1\", undefined, this.adapter.apply(\"positionValue\", {\r\n                value: Math.round((1 - end) * 100) + \"%\",\r\n                position: (1 - end)\r\n            }).value);\r\n            endGrip.readerValueNow = \"\" + Math.round(end * 100);\r\n            endGrip.readerValueText = endGrip.readerTitle;\r\n        }\r\n        // Add accessibility\r\n        thumb.readerTitle = this.language.translate(\"From %1 to %2\", undefined, this.adapter.apply(\"positionValue\", {\r\n            value: Math.round(start * 100) + \"%\",\r\n            position: start\r\n        }).value, this.adapter.apply(\"positionValue\", {\r\n            value: Math.round(end * 100) + \"%\",\r\n            position: end\r\n        }).value);\r\n        thumb.readerValueNow = \"\" + Math.round(start * 100);\r\n        thumb.readerValueText = thumb.readerTitle;\r\n        this.readerValueNow = \"\" + Math.round(start * 100);\r\n        this.readerValueText = thumb.readerTitle;\r\n        if (!this._skipRangeEvents && this.updateWhileMoving) {\r\n            this.dispatchRangeChange();\r\n        }\r\n    };\r\n    /**\r\n     * Updates extremes of the scrollbar.\r\n     */\r\n    Scrollbar.prototype.updateExtremes = function () {\r\n        var orientation = this.orientation;\r\n        var minX = 0;\r\n        var minY = 0;\r\n        var maxX = 0;\r\n        var maxY = 0;\r\n        if (orientation == \"horizontal\") {\r\n            maxX = this.innerWidth;\r\n            minY = maxY = this.innerHeight / 2;\r\n        }\r\n        else {\r\n            maxY = this.innerHeight;\r\n            minX = maxX = this.innerWidth / 2;\r\n        }\r\n        var startGrip = this.startGrip;\r\n        startGrip.minX = minX;\r\n        startGrip.maxX = maxX;\r\n        startGrip.minY = minY;\r\n        startGrip.maxY = maxY;\r\n        var endGrip = this.endGrip;\r\n        endGrip.minX = minX;\r\n        endGrip.maxX = maxX;\r\n        endGrip.minY = minY;\r\n        endGrip.maxY = maxY;\r\n        var thumb = this.thumb;\r\n        thumb.minX = minX;\r\n        thumb.maxX = maxX;\r\n        thumb.minY = minY;\r\n        thumb.maxY = maxY;\r\n    };\r\n    /**\r\n     * Updates size of the scrollbar.\r\n     */\r\n    Scrollbar.prototype.updateSize = function () {\r\n        var orientation = this.orientation;\r\n        var startGrip = this.startGrip;\r\n        if (startGrip) {\r\n            startGrip.orientation = orientation;\r\n        }\r\n        if (this.endGrip) {\r\n            this.endGrip.orientation = orientation;\r\n        }\r\n        var thumb = this.thumb;\r\n        if (thumb) {\r\n            if (orientation == \"horizontal\") {\r\n                if (!$type.isNumber(this._pixelWidth)) {\r\n                    if (!(this.width instanceof Percent)) {\r\n                        this.width = percent(100);\r\n                    }\r\n                }\r\n                // this teorethically might be wrong, if user indeed sets height of a horizontal scrollbar in percent\r\n                // however without this height might be equal to 100% if previous orientation was set to horizontal\r\n                // so this is ok solution, in case user really wants to have scrollbar height set in percent,\r\n                // he should do this after orientation.\r\n                if ($type.hasValue(this.percentHeight)) {\r\n                    this.height = this.minHeight;\r\n                }\r\n                thumb.height = this.innerHeight;\r\n                thumb.verticalCenter = \"middle\";\r\n                thumb.horizontalCenter = \"left\";\r\n            }\r\n            else {\r\n                if (!$type.isNumber(this._pixelHeight)) {\r\n                    if (!(this.height instanceof Percent)) {\r\n                        this.height = percent(100);\r\n                    }\r\n                }\r\n                // same as above with percentHeight\r\n                if ($type.hasValue(this.percentWidth)) {\r\n                    this.width = this.minWidth;\r\n                }\r\n                thumb.width = this.innerWidth;\r\n                thumb.verticalCenter = \"top\";\r\n                thumb.horizontalCenter = \"middle\";\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Scrollbar.prototype, \"isBusy\", {\r\n        /**\r\n         * Indicates if the Scrollbar is currently \"busy\" (animating and or\r\n         * performing zoom by user interaction).\r\n         * @return boolean\r\n         */\r\n        get: function () {\r\n            return this._isBusy;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"start\", {\r\n        /**\r\n         * @return Position (0-1)\r\n         */\r\n        get: function () {\r\n            return Math.min(this.getPosition(this._start), this.getPosition(this._end));\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * POSITIONS\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Relative position (0-1) of the start grip.\r\n         *\r\n         * @param position  Position (0-1)\r\n         */\r\n        set: function (position) {\r\n            if (!this._isBusy) {\r\n                this.__start = position;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"__start\", {\r\n        /**\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this._start;\r\n        },\r\n        /**\r\n         * [__start description]\r\n         *\r\n         * @todo Description\r\n         * @param position [description]\r\n         */\r\n        set: function (position) {\r\n            this._start = this.getPosition(position);\r\n            this.updateThumb();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"end\", {\r\n        /**\r\n         * @return Position (0-1)\r\n         */\r\n        get: function () {\r\n            return Math.max(this.getPosition(this._start), this.getPosition(this._end));\r\n        },\r\n        /**\r\n         * Relative position (0-1) of the end grip.\r\n         *\r\n         * @param position  Position (0-1)\r\n         */\r\n        set: function (position) {\r\n            if (!this._isBusy) {\r\n                this.__end = position;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"__end\", {\r\n        /**\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this._end;\r\n        },\r\n        /**\r\n         * [__end description]\r\n         *\r\n         * @todo Description\r\n         * @param position [description]\r\n         */\r\n        set: function (position) {\r\n            this._end = this.getPosition(position);\r\n            this.updateThumb();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"range\", {\r\n        /**\r\n         * Current selection range.\r\n         *\r\n         * @readonly\r\n         * @return Range\r\n         */\r\n        get: function () {\r\n            return { start: this.start, end: this.end, priority: this._usingGrip };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Disables range change events.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Scrollbar.prototype.skipRangeEvents = function () {\r\n        if (!this._isBusy) {\r\n            this._skipRangeEvents = true;\r\n        }\r\n    };\r\n    /**\r\n     * [fixRange description]\r\n     *\r\n     * @todo Description\r\n     * @ignore Exclude from docs\r\n     * @param range  Range\r\n     */\r\n    Scrollbar.prototype.fixRange = function (range) {\r\n        if (range.start != $math.round(this._start, 2) || range.end != $math.round(this._end, 2)) {\r\n            this._start = range.start;\r\n            this._end = range.end;\r\n            this._skipRangeEvents = true;\r\n            this.updateThumb();\r\n            this._skipRangeEvents = false;\r\n            this.thumb.validate();\r\n            this.thumb.background.validate();\r\n        }\r\n    };\r\n    /**\r\n     * [getPosition description]\r\n     *\r\n     * @todo Description\r\n     * @param position  [description]\r\n     * @return [description]\r\n     */\r\n    Scrollbar.prototype.getPosition = function (position) {\r\n        return $math.fitToRange($math.round(position, 4), 0, 1);\r\n    };\r\n    Object.defineProperty(Scrollbar.prototype, \"orientation\", {\r\n        /**\r\n         * @return Orientation\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"orientation\");\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * MISC\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Orientation of the scrollbar.\r\n         *\r\n         * Available options: \"horizontal\" (default) and \"vertical\".\r\n         *\r\n         * @default \"horizontal\"\r\n         * @param value  Orientation\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"orientation\", value)) {\r\n                // Set mouse cursors and screen reader tetxt accordingly\r\n                if (value === \"horizontal\") {\r\n                    // Mouse styles\r\n                    this.startGrip.cursorOverStyle = MouseCursorStyle.horizontalResize;\r\n                    this.endGrip.cursorOverStyle = MouseCursorStyle.horizontalResize;\r\n                    // Reader text\r\n                    /*this.readerTitle = this.language.translate(\"Use TAB to select grip buttons or left and right arrows to change selection\");\r\n                    this.thumb.readerDescription = this.language.translate(\"Use left and right arrows to move selection\");\r\n                    this.startGrip.readerDescription = this.language.translate(\"Use left and right arrows to move left selection\");\r\n                    this.endGrip.readerDescription = this.language.translate(\"Use left and right arrows to move right selection\");*/\r\n                }\r\n                else {\r\n                    // Mouse styles\r\n                    this.startGrip.cursorOverStyle = MouseCursorStyle.verticalResize;\r\n                    this.endGrip.cursorOverStyle = MouseCursorStyle.verticalResize;\r\n                    // Reader text\r\n                    /*this.readerTitle = this.language.translate(\"Use TAB select grip buttons or up and down arrows to change selection\");\r\n                    this.thumb.readerDescription = this.language.translate(\"Use up and down arrows to move selection\");\r\n                    this.startGrip.readerDescription = this.language.translate(\"Use up and down arrows to move upper selection\");\r\n                    this.endGrip.readerDescription = this.language.translate(\"Use up and down arrows to move lower selection\");*/\r\n                }\r\n                this.updateByOrientation();\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Scrollbar.prototype.updateByOrientation = function () {\r\n    };\r\n    Object.defineProperty(Scrollbar.prototype, \"startGrip\", {\r\n        /**\r\n         * @return Grip element\r\n         */\r\n        get: function () {\r\n            return this._startGrip;\r\n        },\r\n        /**\r\n         * ==========================================================================\r\n         * GRIPS\r\n         * ==========================================================================\r\n         * @hidden\r\n         */\r\n        /**\r\n         * Start grip element. (button)\r\n         *\r\n         * @param button  Grip element\r\n         */\r\n        set: function (button) {\r\n            if (this._startGrip) {\r\n                this.removeDispose(this._startGrip);\r\n            }\r\n            this._startGrip = button;\r\n            this.processGrip(button);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"endGrip\", {\r\n        /**\r\n         * @return Grip element\r\n         */\r\n        get: function () {\r\n            return this._endGrip;\r\n        },\r\n        /**\r\n         * End grip element. (button)\r\n         *\r\n         * @param button  Grip element\r\n         */\r\n        set: function (button) {\r\n            if (this._endGrip) {\r\n                this.removeDispose(this._endGrip);\r\n            }\r\n            this._endGrip = button;\r\n            this.processGrip(button);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Decorates the grip button with properties and events.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param button Grip button\r\n     */\r\n    Scrollbar.prototype.processGrip = function (button) {\r\n        button.parent = this;\r\n        button.isMeasured = false;\r\n        button.focusable = true;\r\n        button.shouldClone = false;\r\n        // Set button defaults\r\n        //button.showSystemTooltip = true; // setting this here is not right because we break inheritance\r\n        button.zIndex = 100;\r\n        button.events.on(\"drag\", this.handleGripDrag, this, false);\r\n        button.events.on(\"dragstop\", this.makeUnbusy, this, false);\r\n        button.events.on(\"down\", this.makeBusy, this, false);\r\n        this._disposers.push(button);\r\n    };\r\n    /**\r\n     * Updates positions of related elements after grip element is dragged.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event  Event\r\n     */\r\n    Scrollbar.prototype.handleGripDrag = function (event) {\r\n        this.makeBusy();\r\n        if (event.target === this._startGrip) {\r\n            this._usingGrip = \"start\";\r\n        }\r\n        else {\r\n            this._usingGrip = \"end\";\r\n        }\r\n        if (this.orientation == \"horizontal\") {\r\n            this._start = this.startGrip.pixelX / this.innerWidth;\r\n            this._end = this.endGrip.pixelX / this.innerWidth;\r\n        }\r\n        else {\r\n            this._start = 1 - this.startGrip.pixelY / this.innerHeight;\r\n            this._end = 1 - this.endGrip.pixelY / this.innerHeight;\r\n        }\r\n        this.updateThumb();\r\n    };\r\n    Object.defineProperty(Scrollbar.prototype, \"thumb\", {\r\n        /**\r\n         * @return Thumb element\r\n         */\r\n        get: function () {\r\n            if (!this._thumb) {\r\n                // Create scrollbar controls (setters will handle adding disposers)\r\n                var thumb = new Button();\r\n                thumb.background.cornerRadius(10, 10, 10, 10);\r\n                thumb.padding(0, 0, 0, 0);\r\n                this.thumb = thumb;\r\n            }\r\n            return this._thumb;\r\n        },\r\n        /**\r\n         * A \"thumb\" element.\r\n         *\r\n         * It's a draggable square space between the grips, that can be used to\r\n         * pan the selection.\r\n         *\r\n         * @param thumb  Thumb element\r\n         */\r\n        set: function (thumb) {\r\n            var _this = this;\r\n            if (thumb) {\r\n                if (this._thumb) {\r\n                    this.removeDispose(this._thumb);\r\n                }\r\n                this._thumb = thumb;\r\n                thumb.parent = this;\r\n                thumb.isMeasured = false;\r\n                thumb.inert = true;\r\n                thumb.draggable = true;\r\n                thumb.clickable = true;\r\n                thumb.hoverable = true;\r\n                thumb.focusable = true;\r\n                thumb.shouldClone = false;\r\n                thumb.zIndex = 0;\r\n                // TODO remove closures ?\r\n                // Add events\r\n                // Add cursor styles to thumb\r\n                thumb.cursorOverStyle = MouseCursorStyle.grab;\r\n                thumb.cursorDownStyle = MouseCursorStyle.grabbing;\r\n                thumb.events.on(\"dragstart\", this.makeBusy, this, false);\r\n                thumb.events.on(\"dragstop\", this.makeUnbusy, this, false);\r\n                thumb.events.on(\"positionchanged\", this.handleThumbPosition, this, false);\r\n                thumb.events.on(\"sizechanged\", this.handleThumbPosition, this, false);\r\n                thumb.events.on(\"doublehit\", this.handleDoubleClick, this, false);\r\n                // Add event for space and ENTER to toggle full zoom out and back\r\n                // (same as doubleclick)\r\n                this._disposers.push(getInteraction().body.events.on(\"keyup\", function (ev) {\r\n                    if (keyboard.isKey(ev.event, [\"space\", \"enter\"]) && _this.thumb.isFocused) {\r\n                        ev.event.preventDefault();\r\n                        _this.handleDoubleClick();\r\n                    }\r\n                }));\r\n                this._disposers.push(this._thumb);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Zooms-in and out the selection on double-click of the thumb.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Scrollbar.prototype.handleDoubleClick = function () {\r\n        this.makeBusy();\r\n        var newStart = 0;\r\n        var newEnd = 1;\r\n        if (this.start != 0 || this.end != 1) {\r\n            this._prevStart = this.start;\r\n            this._prevEnd = this.end;\r\n        }\r\n        else {\r\n            newStart = this._prevStart;\r\n            newEnd = this._prevEnd;\r\n        }\r\n        var zoomAnimation = this.animate([{ property: \"__start\", to: newStart }, { property: \"__end\", to: newEnd }], this.animationDuration, this.animationEasing);\r\n        if (zoomAnimation && !zoomAnimation.isFinished()) {\r\n            zoomAnimation.events.on(\"animationended\", this.makeUnbusy, this, false);\r\n            this._zoomAnimation = zoomAnimation;\r\n        }\r\n        else {\r\n            this.makeUnbusy();\r\n        }\r\n    };\r\n    /**\r\n     * Updates positions of other elements when thumb is moved.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Scrollbar.prototype.handleThumbPosition = function () {\r\n        var thumb = this.thumb;\r\n        if (this.orientation == \"horizontal\") {\r\n            var innerWidth_2 = this.innerWidth;\r\n            var w = thumb.innerWidth;\r\n            var x = thumb.pixelX;\r\n            this._start = x / innerWidth_2;\r\n            this._end = (x + w) / innerWidth_2;\r\n            this.updateThumb();\r\n        }\r\n        else {\r\n            var innerHeight_2 = this.innerHeight;\r\n            var h = thumb.innerHeight;\r\n            var y = thumb.pixelY;\r\n            this._start = 1 - (y + h) / innerHeight_2;\r\n            this._end = 1 - y / innerHeight_2;\r\n            this.updateThumb();\r\n        }\r\n    };\r\n    /**\r\n     * Creates a background element for the scrollbar.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Background\r\n     */\r\n    Scrollbar.prototype.createBackground = function () {\r\n        return new RoundedRectangle();\r\n    };\r\n    Object.defineProperty(Scrollbar.prototype, \"hideGrips\", {\r\n        /**\r\n         * @return Show only on hover?\r\n         */\r\n        get: function () {\r\n            return this._hideGrips;\r\n        },\r\n        /**\r\n         * Use this property to set whether grips should be always visible (`false`),\r\n         * or they should just appear on scrollbar hover (`true`).\r\n         *\r\n         * @param value  Show only on hover?\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            this._hideGrips = value;\r\n            if (this._overDisposer) {\r\n                this.removeDispose(this._overDisposer);\r\n            }\r\n            if (this._outDisposer) {\r\n                this.removeDispose(this._outDisposer);\r\n            }\r\n            if (value) {\r\n                this._overDisposer = this.events.on(\"over\", function () {\r\n                    _this.startGrip.show();\r\n                    _this.endGrip.show();\r\n                }, undefined, false);\r\n                this._outDisposer = this.events.on(\"out\", function () {\r\n                    _this.startGrip.hide();\r\n                    _this.endGrip.hide();\r\n                }, undefined, false);\r\n                this.startGrip.hide();\r\n                this.endGrip.hide();\r\n            }\r\n            else {\r\n                this.startGrip.show();\r\n                this.endGrip.show();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"animationDuration\", {\r\n        /**\r\n         * @return Orientation\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"animationDuration\");\r\n        },\r\n        /**\r\n         * Duration in milliseconds of scrollbar animation (happens when user clicks on a background of a scrollbar)\r\n         * @default 0\r\n         * @param value number\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"animationDuration\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"animationEasing\", {\r\n        /**\r\n         * @return {Function}\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"animationEasing\");\r\n        },\r\n        /**\r\n         * Animation easing function.\r\n         * @todo: review description and default\r\n         * @default $ease.cubicOut\r\n         * @param value (value: number) => number\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"animationEasing\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Adds easing functions to \"function\" fields.\r\n     *\r\n     * @param field  Field name\r\n     * @return Assign as function?\r\n     */\r\n    Scrollbar.prototype.asFunction = function (field) {\r\n        return field == \"animationEasing\" || _super.prototype.asIs.call(this, field);\r\n    };\r\n    return Scrollbar;\r\n}(Container));\r\nexport { Scrollbar };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Scrollbar\"] = Scrollbar;\r\n//# sourceMappingURL=Scrollbar.js.map","/**\r\n * A collection of easing functions\r\n *\r\n * Parts of this collection are taken from D3.js library (https://d3js.org/)\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $math from \"../utils/Math\";\r\nimport { registry } from \"../Registry\";\r\n/**\r\n * The functions below are from D3.js library (https://d3js.org/)\r\n *\r\n * ----------------------------------------------------------------------------\r\n * Copyright 2017 Mike Bostock\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n *\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * 3. Neither the name of the copyright holder nor the names of its\r\n *    contributors may be used to endorse or promote products derived from this\r\n *    software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n * ----------------------------------------------------------------------------\r\n * @hidden\r\n */\r\n/**\r\n * ============================================================================\r\n * LINEAR FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Easing function: \"linear\".\r\n */\r\nexport function linear(t) {\r\n    return +t;\r\n}\r\nregistry.registeredClasses[\"ease.linear\"] = linear;\r\n/**\r\n * Easing function: \"quadIn\".\r\n */\r\nexport function quadIn(t) {\r\n    return t * t;\r\n}\r\nregistry.registeredClasses[\"ease.quadIn\"] = quadIn;\r\n/**\r\n * Easing function: \"quadOut\".\r\n */\r\nexport function quadOut(t) {\r\n    return t * (2 - t);\r\n}\r\nregistry.registeredClasses[\"ease.quadOut\"] = quadOut;\r\n/**\r\n * Easing function: \"quadInOut\".\r\n */\r\nexport function quadInOut(t) {\r\n    t *= 2;\r\n    return (t <= 1 ? t * t : --t * (2 - t) + 1) / 2;\r\n}\r\nregistry.registeredClasses[\"ease.quadInOut\"] = quadInOut;\r\n/**\r\n * Easing function: \"polyIn\".\r\n */\r\nexport function polyIn(t, e) {\r\n    return Math.pow(t, e);\r\n}\r\nregistry.registeredClasses[\"ease.polyIn\"] = polyIn;\r\n/**\r\n * Easing function: \"polyOut\".\r\n */\r\nexport function polyOut(t, e) {\r\n    return 1 - Math.pow(1 - t, e);\r\n}\r\nregistry.registeredClasses[\"ease.polyOut\"] = polyOut;\r\n/**\r\n * Easing function: \"polyInOut\".\r\n */\r\nexport function polyInOut(t, e) {\r\n    t *= 2;\r\n    return (t <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\r\n}\r\nregistry.registeredClasses[\"ease.polyInOut\"] = polyInOut;\r\n/**\r\n * Easing function: \"polyIn3\".\r\n */\r\nexport function polyIn3(t) {\r\n    return polyIn(t, 3);\r\n}\r\nregistry.registeredClasses[\"ease.polyIn3\"] = polyIn3;\r\n/**\r\n * Easing function: \"polyOut3\".\r\n */\r\nexport function polyOut3(t) {\r\n    return polyOut(t, 3);\r\n}\r\nregistry.registeredClasses[\"ease.polyOut3\"] = polyOut3;\r\n/**\r\n * Easing function: \"polyInOut3\".\r\n */\r\nexport function polyInOut3(t) {\r\n    return polyInOut(t, 3);\r\n}\r\nregistry.registeredClasses[\"ease.polyInOut3\"] = polyInOut3;\r\n/**\r\n * ============================================================================\r\n * EXPONENTIAL FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Easing function: \"expIn\".\r\n */\r\nexport function expIn(t) {\r\n    return Math.pow(2, 10 * t - 10);\r\n}\r\nregistry.registeredClasses[\"ease.expIn\"] = expIn;\r\n/**\r\n * Easing function: \"expOut\".\r\n */\r\nexport function expOut(t) {\r\n    return 1 - Math.pow(2, -10 * t);\r\n}\r\nregistry.registeredClasses[\"ease.expOut\"] = expOut;\r\n/**\r\n * Easing function: \"expInOut\".\r\n */\r\nexport function expInOut(t) {\r\n    t *= 2;\r\n    return (t <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\r\n}\r\nregistry.registeredClasses[\"ease.expInOut\"] = expInOut;\r\n/**\r\n * ============================================================================\r\n * SINE FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Easing function: \"sinIn\".\r\n */\r\nexport function sinIn(t) {\r\n    return 1 - Math.cos(t * $math.HALFPI);\r\n}\r\nregistry.registeredClasses[\"ease.sinIn\"] = sinIn;\r\n/**\r\n * Easing function: \"sinOut\".\r\n */\r\nexport function sinOut(t) {\r\n    return Math.sin(t * $math.HALFPI);\r\n}\r\nregistry.registeredClasses[\"ease.sinOut\"] = sinOut;\r\n/**\r\n * Easing function: \"sinInOut\".\r\n */\r\nexport function sinInOut(t) {\r\n    return (1 - Math.cos($math.PI * t)) / 2;\r\n}\r\nregistry.registeredClasses[\"ease.sinInOut\"] = sinInOut;\r\n/**\r\n * ============================================================================\r\n * CUBIC FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Easing function: \"cubicIn\".\r\n */\r\nexport function cubicIn(t) {\r\n    return t * t * t;\r\n}\r\nregistry.registeredClasses[\"ease.cubicIn\"] = cubicIn;\r\n/**\r\n * Easing function: \"cubicOut\".\r\n */\r\nexport function cubicOut(t) {\r\n    return --t * t * t + 1;\r\n}\r\nregistry.registeredClasses[\"ease.cubicOut\"] = cubicOut;\r\n/**\r\n * Easing function: \"cubicInOut\".\r\n */\r\nexport function cubicInOut(t) {\r\n    t *= 2;\r\n    return (t <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\r\n}\r\nregistry.registeredClasses[\"ease.cubicInOut\"] = cubicInOut;\r\n/**\r\n * ============================================================================\r\n * CIRCLE FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Easing function: \"circleIn\".\r\n */\r\nexport function circleIn(t) {\r\n    return 1 - Math.sqrt(1 - t * t);\r\n}\r\nregistry.registeredClasses[\"ease.circleIn\"] = circleIn;\r\n/**\r\n * Easing function: \"circleOut\".\r\n */\r\nexport function circleOut(t) {\r\n    return Math.sqrt(1 - --t * t);\r\n}\r\nregistry.registeredClasses[\"ease.circleOut\"] = circleOut;\r\n/**\r\n * Easing function: \"circleInOut\".\r\n */\r\nexport function circleInOut(t) {\r\n    t *= 2;\r\n    return (t <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\r\n}\r\nregistry.registeredClasses[\"ease.circleInOut\"] = circleInOut;\r\n/**\r\n * ============================================================================\r\n * BOUNCE FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nvar b1 = 4 / 11, b2 = 6 / 11, b3 = 8 / 11, b4 = 3 / 4, b5 = 9 / 11, b6 = 10 / 11, b7 = 15 / 16, b8 = 21 / 22, b9 = 63 / 64, b0 = 1 / b1 / b1;\r\n/**\r\n * Easing function: \"bounceIn\".\r\n */\r\nexport function bounceIn(t) {\r\n    return 1 - bounceOut(1 - t);\r\n}\r\nregistry.registeredClasses[\"ease.bounceIn\"] = bounceIn;\r\n/**\r\n * Easing function: \"bounceOut\".\r\n */\r\nexport function bounceOut(t) {\r\n    t = +t;\r\n    return t < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\r\n}\r\nregistry.registeredClasses[\"ease.bounceOut\"] = bounceOut;\r\n/**\r\n * Easing function: \"bounceInOut\".\r\n */\r\nexport function bounceInOut(t) {\r\n    t *= 2;\r\n    return (t <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\r\n}\r\nregistry.registeredClasses[\"ease.bounceInOut\"] = bounceInOut;\r\n/**\r\n * ============================================================================\r\n * ELASTIC FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nvar tau = 2 * Math.PI;\r\nvar amplitude = 1;\r\nvar period = 0.3 / tau;\r\nvar s = Math.asin(1 / amplitude) * period;\r\n/**\r\n * Easing function: \"elasticIn\".\r\n *\r\n * @function elasticIn\r\n * @param a  Amplitude\r\n * @param p  period\r\n */\r\nexport function elasticIn(t) {\r\n    return amplitude * Math.pow(2, 10 * --t) * Math.sin((s - t) / period);\r\n}\r\nregistry.registeredClasses[\"ease.elasticIn\"] = elasticIn;\r\n/**\r\n * Easing function: \"elasticOut\".\r\n *\r\n * @function elasticOut\r\n * @param a  Amplitude\r\n * @param p  period\r\n */\r\nexport function elasticOut(t) {\r\n    return 1 - amplitude * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / period);\r\n}\r\nregistry.registeredClasses[\"ease.elasticOut\"] = elasticOut;\r\n/**\r\n * Easing function: \"elasticInOut\".\r\n *\r\n * @function elasticInOut\r\n * @param a  Amplitude\r\n * @param p  period\r\n */\r\nexport function elasticInOut(t) {\r\n    t = t * 2 - 1;\r\n    return (t < 0\r\n        ? amplitude * Math.pow(2, 10 * t) * Math.sin((s - t) / period)\r\n        : 2 - amplitude * Math.pow(2, -10 * t) * Math.sin((s + t) / period)) / 2;\r\n}\r\nregistry.registeredClasses[\"ease.elasticInOut\"] = elasticInOut;\r\n//# sourceMappingURL=Ease.js.map","/**\r\n * This module contains ColorSet object definition\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../Base\";\r\nimport { Color, color } from \"./Color\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $colors from \"./Colors\";\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $math from \"./Math\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a set of colors. Can also generate colors according to set rules.\r\n *\r\n * @important\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/colors/} for color-related info\r\n */\r\nvar ColorSet = /** @class */ (function (_super) {\r\n    __extends(ColorSet, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ColorSet() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Holds the list of the colors in this set. (preset or auto-generated)\r\n         */\r\n        _this._list = [];\r\n        /**\r\n         * Current step in a color generator's cycle.\r\n         */\r\n        _this._currentStep = 0;\r\n        /**\r\n         * If set to non-zero value, the ColorSet will start iterating colors from\r\n         * that particular index, not the first color in the list.\r\n         */\r\n        _this._startIndex = 0;\r\n        /**\r\n         * Current pass in the color generator's cycle. Normally a generator would\r\n         * cycle through all available hue range, then repeat it, alternating other\r\n         * color properties, to generate distinctive colors.\r\n         */\r\n        _this._currentPass = 0;\r\n        /**\r\n         * A base color. If there are no colors pre-set in the color list, ColorSet\r\n         * will use this color as a base when generating new ones, applying\r\n         * `stepOptions` and `passOptions` to this base color.\r\n         */\r\n        _this.baseColor = new Color({\r\n            r: 103,\r\n            g: 183,\r\n            b: 220\r\n        });\r\n        /**\r\n         * Modifications to apply with each new generated color.\r\n         */\r\n        _this.stepOptions = {};\r\n        /**\r\n         * Modifications to apply on top of `stepOptions` for each \"pass\" of the\r\n         * color generation.\r\n         *\r\n         * A \"pass\" is when ColorSet generates `minColors` number of colors.\r\n         */\r\n        _this.passOptions = {\r\n            brighten: -0.2\r\n        };\r\n        /**\r\n         * An index increment to use when iterating through color list.\r\n         *\r\n         * Default is 1, which means returning each and every color.\r\n         *\r\n         * Setting it to a bigger number will make ColorSet `next()` iterator skip\r\n         * some colors.\r\n         *\r\n         * E.g. setting to 2, will return every second color in the list.\r\n         *\r\n         * This is useful, when the color list has colors that are too close each\r\n         * other for contrast.\r\n         *\r\n         * However, having bigger number will mean that `next()` iterator will go\r\n         * through the list quicker, and the generator will kick sooner.\r\n         */\r\n        _this.step = 1;\r\n        /**\r\n         * A number of colors to generate in one \"pass\".\r\n         *\r\n         * This setting can be automatically overridden, if ColorSet has a list of\r\n         * pre-set colors. In such case ColorSet will generate exactly the same\r\n         * number of colors with each pass as there were colors in original set.\r\n         */\r\n        _this.minColors = 20;\r\n        /**\r\n         * Do not let the \"lightness\" of generated color to fall below this\r\n         * threshold.\r\n         */\r\n        _this.minLightness = 0.2;\r\n        /**\r\n         * Do not let the \"lightness\" of generated color to get above this threshold.\r\n         */\r\n        _this.maxLightness = 0.9;\r\n        /**\r\n         * Randomly shuffle generated colors.\r\n         */\r\n        _this.shuffle = false;\r\n        /**\r\n         * When colors are generated, based on `stepOptions`, each generated color\r\n         * gets either lighter or darker.\r\n         *\r\n         * If this is set to `true`, color generator will switch to opposing spectrum\r\n         * when reaching `minLightness` or `maxLightness`.\r\n         *\r\n         * E.g. if we start off with a red color, then gradually generate lighter\r\n         * colors through rose shades, then switch back to dark red and gradually\r\n         * increase the lightness of it until it reaches the starting red.\r\n         *\r\n         * If set to `false` it will stop there and cap lightness at whatever level\r\n         * we hit `minLightness` or `maxLightness`, which may result in a number of\r\n         * the same colors.\r\n         */\r\n        _this.wrap = true;\r\n        /**\r\n         * Re-use same colors in the pre-set list, when ColorSet runs out of colors,\r\n         * rather than start generating new ones.\r\n         */\r\n        _this.reuse = false;\r\n        /**\r\n         * Saturation of colors. This will change saturation of all colors of color\r\n         * set.\r\n         *\r\n         * It is recommended to set this in theme, as changing it at run time won't\r\n         * make the items to redraw and change color.\r\n         */\r\n        _this.saturation = 1;\r\n        _this.className = \"ColorSet\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColorSet.prototype, \"list\", {\r\n        /**\r\n         * Returns current list of colors.\r\n         *\r\n         * If there are none, a new list of colors is generated, based on various\r\n         * ColorSet settings.\r\n         *\r\n         * @return Color list\r\n         */\r\n        get: function () {\r\n            if (!this._list) {\r\n                this.generate(this.minColors);\r\n            }\r\n            return this._list;\r\n        },\r\n        /**\r\n         * Sets a list of pre-defined colors to use for the iterator.\r\n         *\r\n         * @param value Color list\r\n         */\r\n        set: function (value) {\r\n            this._list = value;\r\n            this.reset();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets reusable color.\r\n     *\r\n     * @param   index  Index of color\r\n     * @return         Color\r\n     */\r\n    ColorSet.prototype.getReusableColor = function (index) {\r\n        if (this._list.length == 0) {\r\n            this.generate(1);\r\n            return this.list[0];\r\n        }\r\n        else {\r\n            var tmpstep = index - (Math.floor(index / this._list.length) * this.list.length);\r\n            return this.list[tmpstep];\r\n        }\r\n    };\r\n    /**\r\n     * Returns next color in the list using internal iterator counter.\r\n     *\r\n     * If `step` is set to something other than 1, it may return other color than\r\n     * exact next one in the list.\r\n     *\r\n     * @return Color\r\n     */\r\n    ColorSet.prototype.next = function () {\r\n        var color;\r\n        if (this.list.length <= this._currentStep) {\r\n            if (this.reuse) {\r\n                color = this.getReusableColor(this._currentStep);\r\n            }\r\n            else {\r\n                this.generate($math.max(this.minColors, this._currentStep + 1));\r\n                color = this.list[this._currentStep];\r\n            }\r\n        }\r\n        else {\r\n            color = this.list[this._currentStep];\r\n        }\r\n        this._currentStep += this.step;\r\n        return color.saturate(this.saturation);\r\n    };\r\n    /**\r\n     * Returns a color at specific index in the list.\r\n     *\r\n     * @param i  Index\r\n     * @return Color\r\n     */\r\n    ColorSet.prototype.getIndex = function (i) {\r\n        var color;\r\n        if (this.list.length <= i) {\r\n            if (this.reuse) {\r\n                color = this.getReusableColor(i);\r\n            }\r\n            else {\r\n                this.generate(this.minColors);\r\n                color = this.getIndex(i);\r\n            }\r\n        }\r\n        else {\r\n            color = this.list[i];\r\n        }\r\n        return color.saturate(this.saturation);\r\n    };\r\n    /**\r\n     * Resets internal iterator.\r\n     *\r\n     * Calling `next()` after this will return the very first color in the color\r\n     * list, even if it was already returned before.\r\n     */\r\n    ColorSet.prototype.reset = function () {\r\n        this._currentStep = this._startIndex;\r\n    };\r\n    Object.defineProperty(ColorSet.prototype, \"currentStep\", {\r\n        /**\r\n         * @return Step\r\n         */\r\n        get: function () {\r\n            return this._currentStep;\r\n        },\r\n        /**\r\n         * Sets current color iteration. You can use this property to skip some\r\n         * colors from iteration. E.g. setting it to `10` will skip first ten\r\n         * colors.\r\n         *\r\n         * Please note that the number is zero-based.\r\n         *\r\n         * @param value  Step\r\n         */\r\n        set: function (value) {\r\n            this._currentStep = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColorSet.prototype, \"startIndex\", {\r\n        /**\r\n         * @return Index\r\n         */\r\n        get: function () {\r\n            return this._startIndex;\r\n        },\r\n        /**\r\n         * If set to non-zero value, the ColorSet will start iterating colors from\r\n         * that particular index, not the first color in the list.\r\n         *\r\n         * @default 0\r\n         * @since 4.4.9\r\n         * @param  value  Index\r\n         */\r\n        set: function (value) {\r\n            this._startIndex = value;\r\n            this.reset();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Generates colors based on the various ColorSet settings.\r\n     *\r\n     * @param count Number of colors to generate\r\n     */\r\n    ColorSet.prototype.generate = function (count) {\r\n        // Init\r\n        var curColor = this.currentColor;\r\n        var hsl = $colors.rgbToHsl($type.getValue(curColor.rgb));\r\n        var hueStep = $type.hasValue(this.stepOptions.hue) ? this.stepOptions.hue : 1 / count;\r\n        var mods = {\r\n            brighten: 0,\r\n            lighten: 0,\r\n            hue: hsl.h,\r\n            lightness: hsl.l,\r\n            saturation: hsl.s\r\n        };\r\n        // Generate list of hues, and shuffle them\r\n        var hues = [];\r\n        var startIndex = this.list.length == 0 ? 0 : 1;\r\n        if (this.reuse) {\r\n            for (var i = startIndex; i <= count; i++) {\r\n                hues.push($colors.rgbToHsl($type.getValue(this._list[i].rgb)).h);\r\n            }\r\n        }\r\n        else {\r\n            for (var i = startIndex; i <= count; i++) {\r\n                var h = hsl.h + hueStep * i;\r\n                if (this.wrap && (h > 1)) {\r\n                    h -= 1;\r\n                }\r\n                hues.push(h);\r\n            }\r\n        }\r\n        // Shuffle colors randomly\r\n        if (this.shuffle) {\r\n            hues.sort(function (a, b) {\r\n                return Math.random() - 0.5;\r\n            });\r\n        }\r\n        // Generate colors by rotating hue\r\n        for (var i = 0; i < count; i++) {\r\n            // Update hue\r\n            if (this.reuse) {\r\n                hsl = $colors.rgbToHsl($type.getValue(this._list[i].rgb));\r\n            }\r\n            else {\r\n                hsl.h = hues.shift();\r\n            }\r\n            // Apply HSL mods\r\n            this.applyStepOptions(hsl, mods, i, this._currentPass);\r\n            // Convert back to Color\r\n            var c = color($colors.hslToRgb(hsl));\r\n            // Apply regular color mods\r\n            var brighten = (this.stepOptions.brighten || 0) * i + (this.passOptions.brighten || 0) * this._currentPass;\r\n            if (brighten != 0) {\r\n                if (this.wrap) {\r\n                    brighten = $utils.fitNumberRelative(brighten, this.minLightness, this.maxLightness);\r\n                }\r\n                else {\r\n                    brighten = $utils.fitNumber(brighten, this.minLightness, this.maxLightness);\r\n                }\r\n                c = c.brighten(brighten);\r\n            }\r\n            var lighten = (this.stepOptions.lighten || 0) * i + (this.passOptions.lighten || 0) * this._currentPass;\r\n            if (lighten != 0) {\r\n                if (this.wrap) {\r\n                    lighten = $utils.fitNumberRelative(lighten, this.minLightness, this.maxLightness);\r\n                }\r\n                else {\r\n                    lighten = $utils.fitNumber(lighten, this.minLightness, this.maxLightness);\r\n                }\r\n                c = c.lighten(lighten);\r\n            }\r\n            this._list.push(c);\r\n        }\r\n        this._currentPass++;\r\n    };\r\n    Object.defineProperty(ColorSet.prototype, \"currentColor\", {\r\n        /**\r\n         * Returns current last color. It's either the last color in the list of\r\n         * colors, or `baseColor` if list is empty.\r\n         *\r\n         * @return Color\r\n         */\r\n        get: function () {\r\n            if (this._list.length == 0) {\r\n                return this.baseColor.saturate(this.saturation);\r\n            }\r\n            else {\r\n                return this._list[this._list.length - 1].saturate(this.saturation);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Generates modifiers for color, based on what step and pass.\r\n     *\r\n     * @param hsl   Curren HSL value of the color to modify\r\n     * @param base  The modifiers that were before modification to use as a base\r\n     * @param step  Current step\r\n     * @param pass  Current pass\r\n     */\r\n    ColorSet.prototype.applyStepOptions = function (hsl, base, step, pass) {\r\n        // Process lightness\r\n        hsl.l = base.lightness + (this.stepOptions.lightness || 0) * step + (this.passOptions.lightness || 0) * pass;\r\n        if (this.wrap) {\r\n            if (hsl.l > 1) {\r\n                hsl.l = hsl.l - Math.floor(hsl.l);\r\n            }\r\n            else if (hsl.l < 0) {\r\n                hsl.l = -(hsl.l - Math.floor(hsl.l));\r\n            }\r\n            hsl.l = $utils.fitNumberRelative(hsl.l, this.minLightness, this.maxLightness);\r\n        }\r\n        else {\r\n            if (hsl.l > 1) {\r\n                hsl.l = 1;\r\n            }\r\n            else if (hsl.l < 0) {\r\n                hsl.l = 0;\r\n            }\r\n            hsl.l = $utils.fitNumber(hsl.l, this.minLightness, this.maxLightness);\r\n        }\r\n    };\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    ColorSet.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            // Set up axis ranges\r\n            if ($type.hasValue(config.list) && $type.isArray(config.list)) {\r\n                for (var i = 0, len = config.list.length; i < len; i++) {\r\n                    if (!(config.list[i] instanceof Color)) {\r\n                        config.list[i] = color(config.list[i]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    return ColorSet;\r\n}(BaseObject));\r\nexport { ColorSet };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ColorSet\"] = ColorSet;\r\n//# sourceMappingURL=ColorSet.js.map","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","/**\r\n * Functionality for drawing circles.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../Sprite\";\r\nimport { percent } from \"../utils/Percent\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $math from \"../utils/Math\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Used to create a circle\r\n * @see {@link ICircleEvents} for a list of available events\r\n * @see {@link ICircleAdapters} for a list of available Adapters\r\n */\r\nvar Circle = /** @class */ (function (_super) {\r\n    __extends(Circle, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Circle() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Circle\";\r\n        _this.element = _this.paper.add(\"circle\");\r\n        _this.setPercentProperty(\"radius\", percent(100));\r\n        _this.setPropertyValue(\"horizontalCenter\", \"middle\");\r\n        _this.setPropertyValue(\"verticalCenter\", \"middle\");\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the circle.\r\n     */\r\n    Circle.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        this.element.attr({ \"r\": this.pixelRadius });\r\n    };\r\n    Object.defineProperty(Circle.prototype, \"radius\", {\r\n        /**\r\n         * @return Radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Radius of the circle.\r\n         *\r\n         * Can be either absolute (pixels) or relative ([Percent]).\r\n         *\r\n         * @param value  Radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"radius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Circle.prototype, \"pixelRadius\", {\r\n        /**\r\n         * Radius of the circle in pixels.\r\n         *\r\n         * This is a read-only property. To set radius in pixels, use `radius`\r\n         * property.\r\n         *\r\n         * @readonly\r\n         * @return Radius (px)\r\n         */\r\n        get: function () {\r\n            return $utils.relativeToValue(this.radius, $math.min(this.innerWidth / 2, this.innerHeight / 2));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates bounding box.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Circle.prototype.measureElement = function () {\r\n        var pixelRadius = this.pixelRadius;\r\n        this._bbox = {\r\n            x: -pixelRadius,\r\n            y: -pixelRadius,\r\n            width: pixelRadius * 2,\r\n            height: pixelRadius * 2\r\n        };\r\n    };\r\n    return Circle;\r\n}(Sprite));\r\nexport { Circle };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Circle\"] = Circle;\r\n//# sourceMappingURL=Circle.js.map","import { __extends } from \"tslib\";\r\nimport { Dictionary } from \"./utils/Dictionary\";\r\nimport { TargetedEventDispatcher } from \"./utils/EventDispatcher\";\r\nimport { MultiDisposer, CounterDisposer } from \"./utils/Disposer\";\r\nimport * as $utils from \"./utils/Utils\";\r\nimport * as $object from \"./utils/Object\";\r\n/**\r\n * An [[EventDispatcher]] for [[Sprite]].\r\n *\r\n * @important\r\n */\r\nvar SpriteEventDispatcher = /** @class */ (function (_super) {\r\n    __extends(SpriteEventDispatcher, _super);\r\n    function SpriteEventDispatcher() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * [_interactionEvents description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._interactionEvents = new Dictionary();\r\n        return _this;\r\n    }\r\n    /**\r\n     * [_dispatchSpriteEvent description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    SpriteEventDispatcher.prototype._dispatchSpriteEvent = function (ev) {\r\n        if (this.target.disabled || this.target.isTemplate) {\r\n            return;\r\n        }\r\n        // TODO remove this <any> later\r\n        if (this.target.events.isEnabled(ev.type)) {\r\n            var imev = $object.merge(ev, {\r\n                target: this.target\r\n            });\r\n            this.target.events.dispatchImmediately(imev.type, imev);\r\n        }\r\n    };\r\n    /**\r\n     * [_dispatchSpritePointEvent description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    SpriteEventDispatcher.prototype._dispatchSpritePointEvent = function (ev) {\r\n        if (this.target.disabled || this.target.isTemplate) {\r\n            return;\r\n        }\r\n        // TODO remove this <any> later\r\n        if (this.target.events.isEnabled(ev.type)) {\r\n            var imev = $object.merge(ev, {\r\n                target: this.target,\r\n                spritePoint: ev.point ? $utils.documentPointToSprite(ev.point, this.target) : undefined,\r\n                svgPoint: this.target.getSvgPoint(ev.point)\r\n            });\r\n            this.target.events.dispatchImmediately(imev.type, imev);\r\n        }\r\n    };\r\n    /**\r\n     * [_addInteractionObjectEvent description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    SpriteEventDispatcher.prototype._addInteractionObjectEvent = function (type, callback, context, shouldClone) {\r\n        var _this = this;\r\n        var key = shouldClone + \"-\" + type;\r\n        var counter = this._interactionEvents.insertKeyIfEmpty(key, function () {\r\n            var disposer = _this.target.interactions.events.on(type, callback, context, shouldClone);\r\n            return new CounterDisposer(function () {\r\n                _this._interactionEvents.removeKey(key);\r\n                disposer.dispose();\r\n            });\r\n        });\r\n        return counter.increment();\r\n    };\r\n    /**\r\n     * [_on description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    SpriteEventDispatcher.prototype._on = function (once, type, callback, context, shouldClone, dispatch) {\r\n        var info = _super.prototype._on.call(this, once, type, callback, context, shouldClone, dispatch);\r\n        var disposers = [info.disposer];\r\n        /**\r\n         * Catching Sprite-related events, converting them to [[SpriteEvent]] and\r\n         * triggering them on sprite\r\n         */\r\n        switch (type) {\r\n            case \"hit\":\r\n            case \"track\":\r\n            case \"doublehit\":\r\n            case \"wheel\":\r\n            case \"wheelup\":\r\n            case \"wheeldown\":\r\n            case \"wheelleft\":\r\n            case \"wheelright\":\r\n                disposers.push(this._addInteractionObjectEvent(type, this._dispatchSpritePointEvent, this, shouldClone));\r\n                break;\r\n            case \"rightclick\":\r\n            case \"down\":\r\n            //case \"hold\":\r\n            case \"up\":\r\n            case \"drag\":\r\n            case \"dragged\":\r\n            case \"dragstart\":\r\n            case \"dragstop\":\r\n            case \"over\":\r\n            case \"out\":\r\n            case \"swipe\":\r\n            case \"swipeleft\":\r\n            case \"swiperight\":\r\n            case \"resize\":\r\n            //case \"rotate\":\r\n            case \"focus\":\r\n            case \"blur\":\r\n            case \"toggled\":\r\n                disposers.push(this._addInteractionObjectEvent(type, this._dispatchSpriteEvent, this, shouldClone));\r\n                break;\r\n        }\r\n        /**\r\n         * Set functional properties based on events. For example if we add a\r\n         * \"drag\" event handler, we want to make the Sprite draggable, even if we\r\n         * don't explicitly set \"draggable\"\r\n         */\r\n        switch (type) {\r\n            case \"hit\":\r\n            case \"doublehit\":\r\n            case \"rightclick\":\r\n            case \"down\":\r\n            case \"up\":\r\n                this.target.clickable = true;\r\n                break;\r\n            case \"toggled\":\r\n                this.target.togglable = true;\r\n                break;\r\n            case \"drag\":\r\n            case \"dragstart\":\r\n            case \"dragstop\":\r\n                this.target.draggable = true;\r\n                break;\r\n            case \"track\":\r\n                this.target.trackable = true;\r\n                break;\r\n            case \"resize\":\r\n                this.target.resizable = true;\r\n                break;\r\n            case \"swipe\":\r\n            case \"swipeleft\":\r\n            case \"swiperight\":\r\n                this.target.swipeable = true;\r\n                break;\r\n            case \"wheel\":\r\n            case \"wheelup\":\r\n            case \"wheeldown\":\r\n            case \"wheelleft\":\r\n            case \"wheelright\":\r\n                this.target.wheelable = true;\r\n                break;\r\n            case \"over\":\r\n                this.target.hoverable = true;\r\n            case \"out\":\r\n                this.target.hoverable = true;\r\n                break;\r\n            case \"focus\":\r\n            case \"blur\":\r\n                this.target.focusable = true;\r\n                break;\r\n        }\r\n        info.disposer = new MultiDisposer(disposers);\r\n        return info;\r\n    };\r\n    return SpriteEventDispatcher;\r\n}(TargetedEventDispatcher));\r\nexport { SpriteEventDispatcher };\r\n//# sourceMappingURL=SpriteEvents.js.map","import { __extends, __generator } from \"tslib\";\r\nimport { Disposer, MultiDisposer } from \"./Disposer\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $array from \"./Array\";\r\nimport * as $iter from \"./Iterator\";\r\n/**\r\n * @todo Description\r\n */\r\nvar IndexedIterable = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param array  List items\r\n     * @param start  Start index\r\n     * @param end    End index\r\n     */\r\n    function IndexedIterable(array, start, end) {\r\n        this._array = array;\r\n        this._start = start;\r\n        this._end = end;\r\n    }\r\n    /**\r\n     * Returns a list item iterator.\r\n     *\r\n     * @return Iterator\r\n     */\r\n    IndexedIterable.prototype.iterator = function () {\r\n        var _this = this;\r\n        return function (push) {\r\n            if (_this._start !== _this._end) {\r\n                if (_this._start < _this._end) {\r\n                    for (var i = _this._start; i < _this._end; ++i) {\r\n                        if (!push(_this._array[i])) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    for (var i = _this._start - 1; i >= _this._end; --i) {\r\n                        if (!push(_this._array[i])) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * Returns an interable list sorted backwards than current list.\r\n     *\r\n     * @return List\r\n     */\r\n    IndexedIterable.prototype.backwards = function () {\r\n        return new IndexedIterable(this._array, this._end, this._start);\r\n    };\r\n    /**\r\n     * Returns a new list consisting only of specific range of items between\r\n     * `start` and `end` indexes.\r\n     *\r\n     * @param start  Start index\r\n     * @param end    End index\r\n     * @return List\r\n     */\r\n    IndexedIterable.prototype.range = function (start, end) {\r\n        if (start <= end) {\r\n            if (this._start === this._end) {\r\n                return this;\r\n            }\r\n            else if (this._start < this._end) {\r\n                var diff = end - start;\r\n                start = Math.max(this._start + start, this._start);\r\n                end = Math.min(start + diff, this._end);\r\n                return new IndexedIterable(this._array, start, end);\r\n            }\r\n            else {\r\n                var diff = end - start;\r\n                start = Math.max(this._start - start, this._end);\r\n                end = Math.max(start - diff, this._end);\r\n                return new IndexedIterable(this._array, start, end);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(\"Start index must be lower than end index\");\r\n        }\r\n    };\r\n    return IndexedIterable;\r\n}());\r\nexport { IndexedIterable };\r\n/**\r\n * ListGrouper organizes [[List]] items into groups.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar ListGrouper = /** @class */ (function (_super) {\r\n    __extends(ListGrouper, _super);\r\n    /**\r\n     * Constructor.\r\n     */\r\n    function ListGrouper(list, getKey, sort) {\r\n        var _this = _super.call(this, [\r\n            list.events.on(\"inserted\", function (x) {\r\n                var value = x.newValue;\r\n                var key = _this._getKey(value);\r\n                var index = 0;\r\n                $iter.eachContinue(list.iterator(), function (x) {\r\n                    if (x === value) {\r\n                        return false;\r\n                    }\r\n                    else if (_this._getKey(x) === key) {\r\n                        ++index;\r\n                    }\r\n                    return true;\r\n                });\r\n                _this._insert(value, key, index);\r\n            }, undefined, false),\r\n            list.events.on(\"removed\", function (x) {\r\n                _this._remove(x.oldValue);\r\n            }, undefined, false)\r\n        ]) || this;\r\n        /**\r\n         * Grouping keys.\r\n         */\r\n        _this._keys = [];\r\n        /**\r\n         * List item groups.\r\n         */\r\n        _this._groups = {};\r\n        _this._getKey = getKey;\r\n        _this._sort = sort;\r\n        $iter.each(list.iterator(), function (x) {\r\n            _this._insert(x, getKey(x));\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * Inserts an item (`x`) to a specific group (`key`) and specific `index`.\r\n     *\r\n     * @param x      Item\r\n     * @param key    Group name\r\n     * @param index  Index\r\n     */\r\n    ListGrouper.prototype._insert = function (x, key, index) {\r\n        if (this._groups[key] == null) {\r\n            this._groups[key] = [];\r\n            // TODO code duplication with SortedList\r\n            var _a = $array.getSortedIndex(this._keys, this._sort, key), found = _a.found, index_1 = _a.index;\r\n            if (found) {\r\n                throw new Error(\"Key already exists: \" + key);\r\n            }\r\n            else {\r\n                $array.insertIndex(this._keys, index_1, key);\r\n            }\r\n        }\r\n        if (index == null) {\r\n            this._groups[key].push(x);\r\n        }\r\n        else {\r\n            $array.insertIndex(this._groups[key], index, x);\r\n        }\r\n    };\r\n    /**\r\n     * Removes an item from the list.\r\n     *\r\n     * @param x Item to remove\r\n     */\r\n    ListGrouper.prototype._remove = function (x) {\r\n        var key = this._getKey(x);\r\n        var values = this._groups[key];\r\n        if (values != null) {\r\n            $array.remove(values, x);\r\n            if (values.length === 0) {\r\n                delete this._groups[key];\r\n                var _a = $array.getSortedIndex(this._keys, this._sort, key), found = _a.found, index = _a.index;\r\n                if (found) {\r\n                    $array.removeIndex(this._keys, index);\r\n                }\r\n                else {\r\n                    throw new Error(\"Key doesn't exist: \" + key);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns an iterator for the list.\r\n     *\r\n     * The iterator will iterate through all items in all groups.\r\n     *\r\n     * @return Iterator\r\n     */\r\n    ListGrouper.prototype.iterator = function () {\r\n        var _this = this;\r\n        return $iter.flatten($iter.map($iter.fromArray(this._keys), function (key) {\r\n            return $iter.fromArray(_this._groups[key]);\r\n        }));\r\n    };\r\n    return ListGrouper;\r\n}(MultiDisposer));\r\nexport { ListGrouper };\r\n/**\r\n * A disposable list, which when disposed itself will call `dispose()` method\r\n * on all its items.\r\n */\r\nvar ListDisposer = /** @class */ (function (_super) {\r\n    __extends(ListDisposer, _super);\r\n    function ListDisposer(list, disposeOnRemove) {\r\n        if (disposeOnRemove === void 0) { disposeOnRemove = true; }\r\n        var _this = this;\r\n        if (disposeOnRemove) {\r\n            var disposer_1 = list.events.on(\"removed\", function (x) {\r\n                x.oldValue.dispose();\r\n            }, undefined, false);\r\n            _this = _super.call(this, function () {\r\n                disposer_1.dispose();\r\n                // TODO clear the list ?\r\n                $iter.each(list.iterator(), function (x) {\r\n                    x.dispose();\r\n                });\r\n            }) || this;\r\n        }\r\n        else {\r\n            _this = _super.call(this, function () {\r\n                // TODO clear the list ?\r\n                $iter.each(list.iterator(), function (x) {\r\n                    x.dispose();\r\n                });\r\n            }) || this;\r\n        }\r\n        return _this;\r\n    }\r\n    return ListDisposer;\r\n}(Disposer));\r\nexport { ListDisposer };\r\n/**\r\n * Checks if specific index fits into length.\r\n *\r\n * @param index  Index\r\n * @param len    Length\r\n */\r\nfunction checkBounds(index, len) {\r\n    if (!(index >= 0 && index < len)) {\r\n        throw new Error(\"Index out of bounds: \" + index);\r\n    }\r\n}\r\n/**\r\n * A List class is used to hold a number of indexed items of the same type.\r\n */\r\nvar List = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param initial  Inital list of values to add to list\r\n     */\r\n    function List(initial) {\r\n        if (initial === void 0) { initial = []; }\r\n        /**\r\n         * Event dispatcher.\r\n         */\r\n        this.events = new EventDispatcher();\r\n        this._values = initial;\r\n    }\r\n    Object.defineProperty(List.prototype, \"values\", {\r\n        /**\r\n         * An array of values in the list.\r\n         *\r\n         * Do not use this property to add values. Rather use dedicated methods, like\r\n         * `push()`, `removeIndex()`, etc.\r\n         *\r\n         * @readonly\r\n         * @return List values\r\n         */\r\n        get: function () {\r\n            return this._values;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if list contains specific item reference.\r\n     *\r\n     * @param item  Item to search for\r\n     * @return `true` if found, `false` if not found\r\n     */\r\n    List.prototype.contains = function (value) {\r\n        return this._values.indexOf(value) !== -1;\r\n    };\r\n    /**\r\n     * Removes specific item from the list.\r\n     *\r\n     * @param item An item to remove\r\n     */\r\n    List.prototype.removeValue = function (value) {\r\n        var i = 0;\r\n        var length = this._values.length;\r\n        while (i < length) {\r\n            // TODO handle NaN\r\n            if (this._values[i] === value) {\r\n                this.removeIndex(i);\r\n                --length;\r\n            }\r\n            else {\r\n                ++i;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Searches the list for specific item and returns its index.\r\n     *\r\n     * @param item  An item to search for\r\n     * @return Index or -1 if not found\r\n     */\r\n    List.prototype.indexOf = function (value) {\r\n        return $array.indexOf(this._values, value);\r\n    };\r\n    Object.defineProperty(List.prototype, \"length\", {\r\n        /**\r\n         * Number of items in list.\r\n         *\r\n         * @readonly\r\n         * @return Number of items\r\n         */\r\n        get: function () {\r\n            return this._values.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if there's a value at specific index.\r\n     *\r\n     * @param index  Index\r\n     * @return Value exists?\r\n     */\r\n    List.prototype.hasIndex = function (index) {\r\n        return index >= 0 && index < this._values.length;\r\n    };\r\n    /**\r\n     * Returns an item at specified index.\r\n     *\r\n     * @param index  Index\r\n     * @return List item\r\n     */\r\n    List.prototype.getIndex = function (index) {\r\n        return this._values[index];\r\n    };\r\n    /**\r\n     * Sets value at specific index.\r\n     *\r\n     * If there's already a value at the index, it is overwritten.\r\n     *\r\n     * @param index  Index\r\n     * @param value  New value\r\n     * @return New value\r\n     */\r\n    List.prototype.setIndex = function (index, value) {\r\n        checkBounds(index, this._values.length);\r\n        var oldValue = this._values[index];\r\n        // Do nothing if the old value and the new value are the same\r\n        if (oldValue !== value) {\r\n            this._values[index] = value;\r\n            if (this.events.isEnabled(\"setIndex\")) {\r\n                this.events.dispatchImmediately(\"setIndex\", {\r\n                    type: \"setIndex\",\r\n                    target: this,\r\n                    index: index,\r\n                    oldValue: oldValue,\r\n                    newValue: value\r\n                });\r\n            }\r\n            if (this.events.isEnabled(\"removed\")) {\r\n                this.events.dispatchImmediately(\"removed\", {\r\n                    type: \"removed\",\r\n                    target: this,\r\n                    oldValue: oldValue\r\n                });\r\n            }\r\n            if (this.events.isEnabled(\"inserted\")) {\r\n                this.events.dispatchImmediately(\"inserted\", {\r\n                    type: \"inserted\",\r\n                    target: this,\r\n                    newValue: value\r\n                });\r\n            }\r\n        }\r\n        return oldValue;\r\n    };\r\n    /**\r\n     * Adds an item to the list at a specific index, which pushes all the other\r\n     * items further down the list.\r\n     *\r\n     * @param index Index\r\n     * @param item  An item to add\r\n     */\r\n    List.prototype.insertIndex = function (index, value) {\r\n        checkBounds(index, this._values.length + 1);\r\n        $array.insertIndex(this._values, index, value);\r\n        if (this.events.isEnabled(\"insertIndex\")) {\r\n            this.events.dispatchImmediately(\"insertIndex\", {\r\n                type: \"insertIndex\",\r\n                target: this,\r\n                index: index,\r\n                newValue: value\r\n            });\r\n        }\r\n        if (this.events.isEnabled(\"inserted\")) {\r\n            this.events.dispatchImmediately(\"inserted\", {\r\n                type: \"inserted\",\r\n                target: this,\r\n                newValue: value\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * [_sortQuicksort description]\r\n     *\r\n     * @todo Description\r\n     * @param low    [description]\r\n     * @param high   [description]\r\n     * @param order  [description]\r\n     */\r\n    List.prototype._sortQuicksort = function (low, high, order) {\r\n        if (low < high) {\r\n            var p = this._sortPartition(low, high, order);\r\n            this._sortQuicksort(low, p, order);\r\n            this._sortQuicksort(p + 1, high, order);\r\n        }\r\n    };\r\n    /**\r\n     * [_sortPartition description]\r\n     *\r\n     * @todo Description\r\n     * @param low    [description]\r\n     * @param high   [description]\r\n     * @param order  [description]\r\n     * @return [description]\r\n     */\r\n    List.prototype._sortPartition = function (low, high, order) {\r\n        var values = this._values;\r\n        var pivot = values[low];\r\n        var i = low - 1;\r\n        var j = high + 1;\r\n        for (;;) {\r\n            do {\r\n                ++i;\r\n            } while (order(values[i], pivot) < 0);\r\n            do {\r\n                --j;\r\n            } while (order(values[j], pivot) > 0);\r\n            if (i >= j) {\r\n                return j;\r\n            }\r\n            else {\r\n                this.swap(i, j);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Reorders list items according to specific ordering function.\r\n     *\r\n     * @param order  Ordering function\r\n     */\r\n    List.prototype.sort = function (order) {\r\n        // https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme\r\n        // @todo faster implementation of this\r\n        // @todo test this\r\n        this._sortQuicksort(0, this._values.length - 1, order);\r\n    };\r\n    /**\r\n     * Swaps indexes of two items in the list.\r\n     *\r\n     * @param a  Item 1\r\n     * @param b  Item 2\r\n     */\r\n    List.prototype.swap = function (a, b) {\r\n        var len = this._values.length;\r\n        checkBounds(a, len);\r\n        checkBounds(b, len);\r\n        if (a !== b) {\r\n            var value_a = this._values[a];\r\n            var value_b = this._values[b];\r\n            this._values[a] = value_b;\r\n            if (this.events.isEnabled(\"setIndex\")) {\r\n                this.events.dispatchImmediately(\"setIndex\", {\r\n                    type: \"setIndex\",\r\n                    target: this,\r\n                    index: a,\r\n                    oldValue: value_a,\r\n                    newValue: value_b\r\n                });\r\n            }\r\n            this._values[b] = value_a;\r\n            if (this.events.isEnabled(\"setIndex\")) {\r\n                this.events.dispatchImmediately(\"setIndex\", {\r\n                    type: \"setIndex\",\r\n                    target: this,\r\n                    index: b,\r\n                    oldValue: value_b,\r\n                    newValue: value_a\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Removes a value at specific index.\r\n     *\r\n     * @param index  Index of value to remove\r\n     * @return Removed value\r\n     */\r\n    List.prototype.removeIndex = function (index) {\r\n        checkBounds(index, this._values.length);\r\n        var oldValue = this._values[index];\r\n        $array.removeIndex(this._values, index);\r\n        if (this.events.isEnabled(\"removeIndex\")) {\r\n            this.events.dispatchImmediately(\"removeIndex\", {\r\n                type: \"removeIndex\",\r\n                target: this,\r\n                index: index,\r\n                oldValue: oldValue\r\n            });\r\n        }\r\n        if (this.events.isEnabled(\"removed\")) {\r\n            this.events.dispatchImmediately(\"removed\", {\r\n                type: \"removed\",\r\n                target: this,\r\n                oldValue: oldValue\r\n            });\r\n        }\r\n        return oldValue;\r\n    };\r\n    /**\r\n     * Moves an item to a specific index within the list.\r\n     *\r\n     * If the index is not specified it will move the item to the end of the\r\n     * list.\r\n     *\r\n     * @param value  Item to move\r\n     * @param index  Index to place item at\r\n     */\r\n    List.prototype.moveValue = function (value, toIndex) {\r\n        // TODO don't do anything if the desired index is the same as the current index\r\n        var index = this.indexOf(value);\r\n        // TODO remove all old values rather than only the first ?\r\n        if (index !== -1) {\r\n            var oldValue = this._values[index];\r\n            $array.removeIndex(this._values, index);\r\n            if (this.events.isEnabled(\"removeIndex\")) {\r\n                this.events.dispatchImmediately(\"removeIndex\", {\r\n                    type: \"removeIndex\",\r\n                    target: this,\r\n                    index: index,\r\n                    oldValue: oldValue\r\n                });\r\n            }\r\n        }\r\n        if (toIndex == null) {\r\n            toIndex = this._values.length;\r\n            this._values.push(value);\r\n        }\r\n        else {\r\n            $array.insertIndex(this._values, toIndex, value);\r\n        }\r\n        if (this.events.isEnabled(\"insertIndex\")) {\r\n            this.events.dispatchImmediately(\"insertIndex\", {\r\n                type: \"insertIndex\",\r\n                target: this,\r\n                index: toIndex,\r\n                newValue: value\r\n            });\r\n        }\r\n        if (index === -1) {\r\n            if (this.events.isEnabled(\"inserted\")) {\r\n                this.events.dispatchImmediately(\"inserted\", {\r\n                    type: \"inserted\",\r\n                    target: this,\r\n                    newValue: value\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Adds an item to the end of the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    List.prototype.push = function (value) {\r\n        var index = this._values.push(value) - 1;\r\n        if (this.events.isEnabled(\"insertIndex\")) {\r\n            this.events.dispatchImmediately(\"insertIndex\", {\r\n                type: \"insertIndex\",\r\n                target: this,\r\n                index: index,\r\n                newValue: value\r\n            });\r\n        }\r\n        if (this.events.isEnabled(\"inserted\")) {\r\n            this.events.dispatchImmediately(\"inserted\", {\r\n                type: \"inserted\",\r\n                target: this,\r\n                newValue: value\r\n            });\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Adds an item as a first item in the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    List.prototype.unshift = function (value) {\r\n        this.insertIndex(0, value);\r\n    };\r\n    /**\r\n     * Adds multiple items to the list.\r\n     *\r\n     * @param items  An Array of items to add\r\n     */\r\n    List.prototype.pushAll = function (values) {\r\n        var _this = this;\r\n        $array.each(values, function (value) {\r\n            _this.push(value);\r\n        });\r\n    };\r\n    /**\r\n     * Copies and adds items from abother list.\r\n     *\r\n     * @param source  A list top copy items from\r\n     */\r\n    List.prototype.copyFrom = function (source) {\r\n        this.pushAll(source._values);\r\n    };\r\n    /**\r\n     * Returns the last item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    List.prototype.pop = function () {\r\n        var index = this._values.length - 1;\r\n        return index < 0 ? undefined : this.removeIndex(this._values.length - 1);\r\n    };\r\n    /**\r\n     * Returns the first item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    List.prototype.shift = function () {\r\n        return this._values.length ? this.removeIndex(0) : undefined;\r\n    };\r\n    /**\r\n     * Sets multiple items to the list.\r\n     *\r\n     * All current items are removed.\r\n     *\r\n     * @param newArray  New items\r\n     */\r\n    List.prototype.setAll = function (newArray) {\r\n        var _this = this;\r\n        // @tod if a value exists in both the new and old arrays, don't send remove/insert events\r\n        var oldArray = $array.copy(this._values);\r\n        this._values.length = 0;\r\n        $array.each(newArray, function (value) {\r\n            _this._values.push(value);\r\n        });\r\n        if (this.events.isEnabled(\"setAll\")) {\r\n            this.events.dispatchImmediately(\"setAll\", {\r\n                type: \"setAll\",\r\n                target: this,\r\n                oldArray: oldArray,\r\n                newArray: this._values // TODO make a copy ?\r\n            });\r\n        }\r\n        if (this.events.isEnabled(\"removed\")) {\r\n            $array.each(oldArray, function (x) {\r\n                _this.events.dispatchImmediately(\"removed\", {\r\n                    type: \"removed\",\r\n                    target: _this,\r\n                    oldValue: x\r\n                });\r\n            });\r\n        }\r\n        if (this.events.isEnabled(\"inserted\")) {\r\n            $array.each(this._values, function (x) {\r\n                _this.events.dispatchImmediately(\"inserted\", {\r\n                    type: \"inserted\",\r\n                    target: _this,\r\n                    newValue: x\r\n                });\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Removes all items from the list.\r\n     */\r\n    List.prototype.clear = function () {\r\n        this.setAll([]);\r\n    };\r\n    /**\r\n     * Returns a list iterator.\r\n     *\r\n     * @return Iterator\r\n     */\r\n    List.prototype.iterator = function () {\r\n        return $iter.fromArray(this._values);\r\n    };\r\n    /**\r\n     * Returns an ES6 iterator for the list.\r\n     */\r\n    List.prototype[Symbol.iterator] = function () {\r\n        var length, i;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    length = this._values.length;\r\n                    i = 0;\r\n                    _a.label = 1;\r\n                case 1:\r\n                    if (!(i < length)) return [3 /*break*/, 4];\r\n                    return [4 /*yield*/, this._values[i]];\r\n                case 2:\r\n                    _a.sent();\r\n                    _a.label = 3;\r\n                case 3:\r\n                    ++i;\r\n                    return [3 /*break*/, 1];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Calls `f` for each element in the list.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    List.prototype.each = function (f) {\r\n        $array.each(this._values, f);\r\n    };\r\n    /**\r\n     * Returns a specific range of list items, which can be iterated.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Code duplication with IndexedIterable\r\n     * @param start  Start index\r\n     * @param end    End index\r\n     * @return Range\r\n     */\r\n    List.prototype.range = function (start, end) {\r\n        if (start <= end) {\r\n            var diff = end - start;\r\n            start = Math.max(start, 0);\r\n            end = Math.min(start + diff, this._values.length);\r\n            return new IndexedIterable(this._values, start, end);\r\n        }\r\n        else {\r\n            throw new Error(\"Start index must be lower than end index\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns an iterator that has list items sorted backwards.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return List\r\n     */\r\n    List.prototype.backwards = function () {\r\n        return new IndexedIterable(this._values, this._values.length, 0);\r\n    };\r\n    return List;\r\n}());\r\nexport { List };\r\n/**\r\n * A version of a [[List]] that has a \"template\".\r\n *\r\n * A template is an instance of an object, that can be used to create new\r\n * elements in the list without actually needing to create instances for those.\r\n *\r\n * When new element is created in the list, e.g. by calling its `create()`\r\n * method, an exact copy of the element is created (including properties and\r\n * other attributes), inserted into the list and returned.\r\n */\r\nvar ListTemplate = /** @class */ (function (_super) {\r\n    __extends(ListTemplate, _super);\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param t Template object\r\n     */\r\n    function ListTemplate(t) {\r\n        var _this = _super.call(this) || this;\r\n        _this.template = t;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ListTemplate.prototype, \"template\", {\r\n        /**\r\n         * @return Template object\r\n         */\r\n        get: function () {\r\n            return this._template;\r\n        },\r\n        /**\r\n         * A \"template\" object to copy all properties from when creating new list\r\n         * items.\r\n         *\r\n         * @param v  Template object\r\n         */\r\n        set: function (v) {\r\n            v.isTemplate = true;\r\n            this._template = v;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all elements from other list.\r\n     *\r\n     * @param source  Source list\r\n     */\r\n    ListTemplate.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        $iter.each(source.iterator(), function (value) {\r\n            _this.push(value.clone());\r\n        });\r\n    };\r\n    ListTemplate.prototype.create = function (make) {\r\n        var clone = (make != null\r\n            ? new make()\r\n            : this.template.clone());\r\n        this.push(clone);\r\n        return clone;\r\n    };\r\n    /**\r\n     * Creates an exact clone of the list, including its items and template.\r\n     *\r\n     * @return New list\r\n     */\r\n    ListTemplate.prototype.clone = function () {\r\n        var out = new ListTemplate(this.template);\r\n        var values = this.values;\r\n        var length = values.length;\r\n        for (var i = 0; i < length; ++i) {\r\n            out.push(values[i].clone());\r\n        }\r\n        return out;\r\n    };\r\n    return ListTemplate;\r\n}(List));\r\nexport { ListTemplate };\r\n//# sourceMappingURL=List.js.map","/**\r\n * Functionality related simulating of dragging of elements using keyboard.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { getInteraction } from \"./Interaction\";\r\nimport { system } from \"../System\";\r\nimport * as $array from \"../utils/Array\";\r\n/**\r\n * [[InteractionKeyboardObject]] is used to simulate dragging of the `draggable`\r\n * element using keyboard arrows.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar InteractionKeyboardObject = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param io An InteractionObject\r\n     */\r\n    function InteractionKeyboardObject(io, ev) {\r\n        /**\r\n         * Indicates if this object has already been deleted. Any\r\n         * destruction/disposal code should take this into account when deciding\r\n         * wheter to run potentially costly disposal operations if they already have\r\n         * been run.\r\n         */\r\n        this._disposed = false;\r\n        /**\r\n         * Indicates direction of current horizontal movement.\r\n         *\r\n         * 0 - not moving horizontally\r\n         * 1 - moving right\r\n         * -1 - moving left\r\n         */\r\n        this.directionX = 0;\r\n        /**\r\n         * Indicates direction of current vertical movement.\r\n         *\r\n         * 0 - not moving vertically\r\n         * 1 - moving down\r\n         * -1 - moving up\r\n         */\r\n        this.directionY = 0;\r\n        this.interaction = io;\r\n        this.keyboardEvent = ev;\r\n        this._startedOn = new Date().getTime();\r\n        getInteraction().processDragStart(io);\r\n        system.animations.push(this);\r\n        this.update();\r\n    }\r\n    /**\r\n     * It's an update method which is called by the system if\r\n     * [[InteractionObject]] is used as animation.\r\n     *\r\n     * This will update coordinates of the element based on the movement\r\n     * directions.\r\n     */\r\n    InteractionKeyboardObject.prototype.update = function () {\r\n        // Init and get settings\r\n        var io = this.interaction;\r\n        var speed = getInteraction().getKeyboardOption(io, \"speed\"), accelleration = getInteraction().getKeyboardOption(io, \"accelleration\"), accellerationDelay = getInteraction().getKeyboardOption(io, \"accellerationDelay\"), shift = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        // If SHIFT key is pressed we slash speed by half and disable accelleration\r\n        if (this.keyboardEvent.shiftKey) {\r\n            speed *= 0.5;\r\n            accelleration = 1;\r\n        }\r\n        // If CTRL is pressed we increase speed by x2\r\n        else if (this.keyboardEvent.ctrlKey) {\r\n            speed *= 2;\r\n        }\r\n        // Get elapsed time\r\n        var ms = new Date().getTime() - this._startedOn;\r\n        var accelleratedMs = ms - accellerationDelay;\r\n        // Add accellerated movement\r\n        if ((accelleration > 0) && (accelleratedMs > 0)) {\r\n            var accellerationFactor = ms / accellerationDelay;\r\n            ms = accellerationDelay;\r\n            shift.x += this.directionX * (speed * accelleration * accellerationFactor * accelleratedMs);\r\n            shift.y += this.directionY * (speed * accelleration * accellerationFactor * accelleratedMs);\r\n        }\r\n        // Calculate position\r\n        shift.x += this.directionX * (speed * ms);\r\n        shift.y += this.directionY * (speed * ms);\r\n        // Simulate move on Interaction\r\n        getInteraction().handleTransformMove(io, shift, { x: 0, y: 0 }, this.keyboardEvent, true, false);\r\n    };\r\n    /**\r\n     * Returns if this object has been already been disposed.\r\n     *\r\n     * @return Is disposed?\r\n     */\r\n    InteractionKeyboardObject.prototype.isDisposed = function () {\r\n        return this._disposed;\r\n    };\r\n    /**\r\n     * Disposes this object. Removes from system animations.\r\n     */\r\n    InteractionKeyboardObject.prototype.dispose = function () {\r\n        if (!this._disposed) {\r\n            getInteraction().processDragStop(this.interaction);\r\n            $array.remove(system.animations, this);\r\n        }\r\n    };\r\n    return InteractionKeyboardObject;\r\n}());\r\nexport { InteractionKeyboardObject };\r\n//# sourceMappingURL=InteractionKeyboardObject.js.map","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","/**\r\n * ============================================================================\r\n * COMPARING FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Comparing function used for ordering.\r\n *\r\n * @ignore Exclude from docs\r\n * @param a  Number 1\r\n * @param b  Number 2\r\n * @return Result\r\n */\r\nexport function order(a, b) {\r\n    if (a === b) {\r\n        return 0;\r\n    }\r\n    else if (a < b) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n//# sourceMappingURL=Number.js.map","/**\r\n * A collection of functions for ordering.\r\n */\r\n/**\r\n * [reverse description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param a  [description]\r\n * @return [description]\r\n */\r\nexport function reverse(a) {\r\n    switch (a) {\r\n        case 0:\r\n            return 0;\r\n        case -1:\r\n            return 1;\r\n        case 1:\r\n            return -1;\r\n    }\r\n}\r\n/**\r\n * [or description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param a  Item 1\r\n * @param b  Item 2\r\n * @return [description]\r\n */\r\nexport function or(a, b) {\r\n    if (a === 0) {\r\n        return b;\r\n    }\r\n    else {\r\n        return a;\r\n    }\r\n}\r\n//# sourceMappingURL=Order.js.map","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n"],"sourceRoot":""}